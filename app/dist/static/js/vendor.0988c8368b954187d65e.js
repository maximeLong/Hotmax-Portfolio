webpackJsonp([1,0],[,function(t,e,r){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function i(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0,e.autoDetectRenderer=e.Application=e.Filter=e.SpriteMaskFilter=e.Quad=e.RenderTarget=e.ObjectRenderer=e.WebGLManager=e.Shader=e.CanvasRenderTarget=e.TextureUvs=e.VideoBaseTexture=e.BaseRenderTexture=e.RenderTexture=e.BaseTexture=e.Texture=e.Spritesheet=e.CanvasGraphicsRenderer=e.GraphicsRenderer=e.GraphicsData=e.Graphics=e.TextStyle=e.Text=e.SpriteRenderer=e.CanvasTinter=e.CanvasSpriteRenderer=e.Sprite=e.TransformBase=e.TransformStatic=e.Transform=e.Container=e.DisplayObject=e.Bounds=e.glCore=e.WebGLRenderer=e.CanvasRenderer=e.ticker=e.utils=e.settings=void 0;var o=r(2);Object.keys(o).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return o[t]}})});var a=r(4);Object.keys(a).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return a[t]}})});var s=r(6);Object.defineProperty(e,"glCore",{enumerable:!0,get:function(){return i(s).default}});var u=r(30);Object.defineProperty(e,"Bounds",{enumerable:!0,get:function(){return i(u).default}});var l=r(61);Object.defineProperty(e,"DisplayObject",{enumerable:!0,get:function(){return i(l).default}});var c=r(14);Object.defineProperty(e,"Container",{enumerable:!0,get:function(){return i(c).default}});var h=r(62);Object.defineProperty(e,"Transform",{enumerable:!0,get:function(){return i(h).default}});var f=r(63);Object.defineProperty(e,"TransformStatic",{enumerable:!0,get:function(){return i(f).default}});var d=r(31);Object.defineProperty(e,"TransformBase",{enumerable:!0,get:function(){return i(d).default}});var p=r(35);Object.defineProperty(e,"Sprite",{enumerable:!0,get:function(){return i(p).default}});var v=r(209);Object.defineProperty(e,"CanvasSpriteRenderer",{enumerable:!0,get:function(){return i(v).default}});var m=r(36);Object.defineProperty(e,"CanvasTinter",{enumerable:!0,get:function(){return i(m).default}});var g=r(211);Object.defineProperty(e,"SpriteRenderer",{enumerable:!0,get:function(){return i(g).default}});var y=r(213);Object.defineProperty(e,"Text",{enumerable:!0,get:function(){return i(y).default}});var _=r(73);Object.defineProperty(e,"TextStyle",{enumerable:!0,get:function(){return i(_).default}});var x=r(181);Object.defineProperty(e,"Graphics",{enumerable:!0,get:function(){return i(x).default}});var b=r(64);Object.defineProperty(e,"GraphicsData",{enumerable:!0,get:function(){return i(b).default}});var w=r(184);Object.defineProperty(e,"GraphicsRenderer",{enumerable:!0,get:function(){return i(w).default}});var T=r(182);Object.defineProperty(e,"CanvasGraphicsRenderer",{enumerable:!0,get:function(){return i(T).default}});var E=r(214);Object.defineProperty(e,"Spritesheet",{enumerable:!0,get:function(){return i(E).default}});var S=r(11);Object.defineProperty(e,"Texture",{enumerable:!0,get:function(){return i(S).default}});var M=r(17);Object.defineProperty(e,"BaseTexture",{enumerable:!0,get:function(){return i(M).default}});var A=r(37);Object.defineProperty(e,"RenderTexture",{enumerable:!0,get:function(){return i(A).default}});var P=r(74);Object.defineProperty(e,"BaseRenderTexture",{enumerable:!0,get:function(){return i(P).default}});var C=r(76);Object.defineProperty(e,"VideoBaseTexture",{enumerable:!0,get:function(){return i(C).default}});var O=r(75);Object.defineProperty(e,"TextureUvs",{enumerable:!0,get:function(){return i(O).default}});var R=r(68);Object.defineProperty(e,"CanvasRenderTarget",{enumerable:!0,get:function(){return i(R).default}});var D=r(13);Object.defineProperty(e,"Shader",{enumerable:!0,get:function(){return i(D).default}});var L=r(16);Object.defineProperty(e,"WebGLManager",{enumerable:!0,get:function(){return i(L).default}});var I=r(23);Object.defineProperty(e,"ObjectRenderer",{enumerable:!0,get:function(){return i(I).default}});var F=r(24);Object.defineProperty(e,"RenderTarget",{enumerable:!0,get:function(){return i(F).default}});var N=r(72);Object.defineProperty(e,"Quad",{enumerable:!0,get:function(){return i(N).default}});var k=r(71);Object.defineProperty(e,"SpriteMaskFilter",{enumerable:!0,get:function(){return i(k).default}});var U=r(70);Object.defineProperty(e,"Filter",{enumerable:!0,get:function(){return i(U).default}});var B=r(180);Object.defineProperty(e,"Application",{enumerable:!0,get:function(){return i(B).default}});var z=r(60);Object.defineProperty(e,"autoDetectRenderer",{enumerable:!0,get:function(){return z.autoDetectRenderer}});var j=r(3),G=n(j),H=r(38),X=n(H),V=r(5),W=i(V),Y=r(15),q=i(Y),Z=r(22),K=i(Z);e.settings=W.default,e.utils=G,e.ticker=X,e.CanvasRenderer=q.default,e.WebGLRenderer=K.default},function(t,e){"use strict";e.__esModule=!0;e.VERSION="4.4.0",e.PI_2=2*Math.PI,e.RAD_TO_DEG=180/Math.PI,e.DEG_TO_RAD=Math.PI/180,e.RENDERER_TYPE={UNKNOWN:0,WEBGL:1,CANVAS:2},e.BLEND_MODES={NORMAL:0,ADD:1,MULTIPLY:2,SCREEN:3,OVERLAY:4,DARKEN:5,LIGHTEN:6,COLOR_DODGE:7,COLOR_BURN:8,HARD_LIGHT:9,SOFT_LIGHT:10,DIFFERENCE:11,EXCLUSION:12,HUE:13,SATURATION:14,COLOR:15,LUMINOSITY:16},e.DRAW_MODES={POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6},e.SCALE_MODES={LINEAR:0,NEAREST:1},e.WRAP_MODES={CLAMP:0,REPEAT:1,MIRRORED_REPEAT:2},e.GC_MODES={AUTO:0,MANUAL:1},e.URL_FILE_EXTENSION=/\.(\w{3,4})(?:$|\?|#)/i,e.DATA_URI=/^\s*data:(?:([\w-]+)\/([\w+.-]+))?(?:;(charset=[\w-]+|base64))?,(.*)/i,e.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i,e.SHAPES={POLY:0,RECT:1,CIRC:2,ELIP:3,RREC:4},e.PRECISION={LOW:"lowp",MEDIUM:"mediump",HIGH:"highp"},e.TRANSFORM_MODE={STATIC:0,DYNAMIC:1},e.TEXT_GRADIENT={LINEAR_VERTICAL:0,LINEAR_HORIZONTAL:1}},function(t,e,r){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function i(t){return t&&t.__esModule?t:{default:t}}function o(){return++R}function a(t,e){return e=e||[],e[0]=(t>>16&255)/255,e[1]=(t>>8&255)/255,e[2]=(255&t)/255,e}function s(t){return t=t.toString(16),t="000000".substr(0,6-t.length)+t,"#"+t}function u(t){return(255*t[0]<<16)+(255*t[1]<<8)+(255*t[2]|0)}function l(t,e){var r=w.default.RETINA_PREFIX.exec(t);return r?parseFloat(r[1]):void 0!==e?e:1}function c(t){var e=x.DATA_URI.exec(t);if(e)return{mediaType:e[1]?e[1].toLowerCase():void 0,subType:e[2]?e[2].toLowerCase():void 0,encoding:e[3]?e[3].toLowerCase():void 0,data:e[4]}}function h(t){var e=x.URL_FILE_EXTENSION.exec(t);if(e)return e[1].toLowerCase()}function f(t){var e=x.SVG_SIZE.exec(t),r={};return e&&(r[e[1]]=Math.round(parseFloat(e[3])),r[e[5]]=Math.round(parseFloat(e[7]))),r}function d(){D=!0}function p(t){if(!D){if(navigator.userAgent.toLowerCase().indexOf("chrome")>-1){var e=["\n %c %c %c Pixi.js "+x.VERSION+" - ✰ "+t+" ✰  %c  %c  http://www.pixijs.com/  %c %c ♥%c♥%c♥ \n\n","background: #ff66a5; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff66a5; background: #030307; padding:5px 0;","background: #ff66a5; padding:5px 0;","background: #ffc3dc; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;"];window.console.log.apply(console,e)}else window.console&&window.console.log("Pixi.js "+x.VERSION+" - "+t+" - http://www.pixijs.com/");D=!0}}function v(){var t={stencil:!0,failIfMajorPerformanceCaveat:!0};try{if(!window.WebGLRenderingContext)return!1;var e=document.createElement("canvas"),r=e.getContext("webgl",t)||e.getContext("experimental-webgl",t),n=!(!r||!r.getContextAttributes().stencil);if(r){var i=r.getExtension("WEBGL_lose_context");i&&i.loseContext()}return r=null,n}catch(t){return!1}}function m(t){return 0===t?0:t<0?-1:1}function g(t,e,r){var n=t.length;if(!(e>=n||0===r)){r=e+r>n?n-e:r;for(var i=n-r,o=e;o<i;++o)t[o]=t[o+r];t.length=i}}function y(){var t=void 0;for(t in L)L[t].destroy();for(t in I)I[t].destroy()}function _(){var t=void 0;for(t in L)delete L[t];for(t in I)delete I[t]}e.__esModule=!0,e.BaseTextureCache=e.TextureCache=e.mixins=e.pluginTarget=e.EventEmitter=e.isMobile=void 0,e.uid=o,e.hex2rgb=a,e.hex2string=s,e.rgb2hex=u,e.getResolutionOfUrl=l,e.decomposeDataUri=c,e.getUrlFileExtension=h,e.getSvgSize=f,e.skipHello=d,e.sayHello=p,e.isWebGLSupported=v,e.sign=m,e.removeItems=g,e.destroyTextureCache=y,e.clearTextureCache=_;var x=r(2),b=r(5),w=i(b),T=r(8),E=i(T),S=r(220),M=i(S),A=r(219),P=n(A),C=r(28),O=n(C),R=0,D=!1;e.isMobile=O,e.EventEmitter=E.default,e.pluginTarget=M.default,e.mixins=P;var L=e.TextureCache={},I=e.BaseTextureCache={}},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var i=r(33);Object.defineProperty(e,"Point",{enumerable:!0,get:function(){return n(i).default}});var o=r(66);Object.defineProperty(e,"ObservablePoint",{enumerable:!0,get:function(){return n(o).default}});var a=r(32);Object.defineProperty(e,"Matrix",{enumerable:!0,get:function(){return n(a).default}});var s=r(65);Object.defineProperty(e,"GroupD8",{enumerable:!0,get:function(){return n(s).default}});var u=r(191);Object.defineProperty(e,"Circle",{enumerable:!0,get:function(){return n(u).default}});var l=r(192);Object.defineProperty(e,"Ellipse",{enumerable:!0,get:function(){return n(l).default}});var c=r(193);Object.defineProperty(e,"Polygon",{enumerable:!0,get:function(){return n(c).default}});var h=r(34);Object.defineProperty(e,"Rectangle",{enumerable:!0,get:function(){return n(h).default}});var f=r(194);Object.defineProperty(e,"RoundedRectangle",{enumerable:!0,get:function(){return n(f).default}})},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var i=r(218),o=n(i),a=r(216),s=n(a);e.default={TARGET_FPMS:.06,MIPMAP_TEXTURES:!0,RESOLUTION:1,FILTER_RESOLUTION:1,SPRITE_MAX_TEXTURES:(0,o.default)(32),SPRITE_BATCH_SIZE:4096,RETINA_PREFIX:/@([0-9\.]+)x/,RENDER_OPTIONS:{view:null,antialias:!1,forceFXAA:!1,autoResize:!1,transparent:!1,backgroundColor:0,clearBeforeRender:!0,preserveDrawingBuffer:!1,roundPixels:!1},TRANSFORM_MODE:0,GC_MODE:0,GC_MAX_IDLE:3600,GC_MAX_CHECK_COUNT:600,WRAP_MODE:0,SCALE_MODE:0,PRECISION_VERTEX:"highp",PRECISION_FRAGMENT:"mediump",CAN_UPLOAD_SAME_BUFFER:(0,s.default)()}},function(t,e,r){var n={createContext:r(176),setVertexAttribArrays:r(51),GLBuffer:r(172),GLFramebuffer:r(173),GLShader:r(174),GLTexture:r(50),VertexArrayObject:r(175),shader:r(177)};"undefined"!=typeof t&&t.exports&&(t.exports=n),"undefined"!=typeof window&&(window.PIXI=window.PIXI||{},window.PIXI.glCore=n)},function(t,e,r){(function(t){function r(t,e){for(var r=0,n=t.length-1;n>=0;n--){var i=t[n];"."===i?t.splice(n,1):".."===i?(t.splice(n,1),r++):r&&(t.splice(n,1),r--)}if(e)for(;r--;r)t.unshift("..");return t}function n(t,e){if(t.filter)return t.filter(e);for(var r=[],n=0;n<t.length;n++)e(t[n],n,t)&&r.push(t[n]);return r}var i=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,o=function(t){return i.exec(t).slice(1)};e.resolve=function(){for(var e="",i=!1,o=arguments.length-1;o>=-1&&!i;o--){var a=o>=0?arguments[o]:t.cwd();if("string"!=typeof a)throw new TypeError("Arguments to path.resolve must be strings");a&&(e=a+"/"+e,i="/"===a.charAt(0))}return e=r(n(e.split("/"),function(t){return!!t}),!i).join("/"),(i?"/":"")+e||"."},e.normalize=function(t){var i=e.isAbsolute(t),o="/"===a(t,-1);return t=r(n(t.split("/"),function(t){return!!t}),!i).join("/"),t||i||(t="."),t&&o&&(t+="/"),(i?"/":"")+t},e.isAbsolute=function(t){return"/"===t.charAt(0)},e.join=function(){var t=Array.prototype.slice.call(arguments,0);return e.normalize(n(t,function(t,e){if("string"!=typeof t)throw new TypeError("Arguments to path.join must be strings");return t}).join("/"))},e.relative=function(t,r){function n(t){for(var e=0;e<t.length&&""===t[e];e++);for(var r=t.length-1;r>=0&&""===t[r];r--);return e>r?[]:t.slice(e,r-e+1)}t=e.resolve(t).substr(1),r=e.resolve(r).substr(1);for(var i=n(t.split("/")),o=n(r.split("/")),a=Math.min(i.length,o.length),s=a,u=0;u<a;u++)if(i[u]!==o[u]){s=u;break}for(var l=[],u=s;u<i.length;u++)l.push("..");return l=l.concat(o.slice(s)),l.join("/")},e.sep="/",e.delimiter=":",e.dirname=function(t){var e=o(t),r=e[0],n=e[1];return r||n?(n&&(n=n.substr(0,n.length-1)),r+n):"."},e.basename=function(t,e){var r=o(t)[2];return e&&r.substr(-1*e.length)===e&&(r=r.substr(0,r.length-e.length)),r},e.extname=function(t){return o(t)[3]};var a="b"==="ab".substr(-1)?function(t,e,r){return t.substr(e,r)}:function(t,e,r){return e<0&&(e=t.length+e),t.substr(e,r)}}).call(e,r(260))},function(t,e,r){"use strict";function n(){}function i(t,e,r){this.fn=t,this.context=e,this.once=r||!1}function o(){this._events=new n,this._eventsCount=0}var a=Object.prototype.hasOwnProperty,s="~";Object.create&&(n.prototype=Object.create(null),(new n).__proto__||(s=!1)),o.prototype.eventNames=function(){var t,e,r=[];if(0===this._eventsCount)return r;for(e in t=this._events)a.call(t,e)&&r.push(s?e.slice(1):e);return Object.getOwnPropertySymbols?r.concat(Object.getOwnPropertySymbols(t)):r},o.prototype.listeners=function(t,e){var r=s?s+t:t,n=this._events[r];if(e)return!!n;if(!n)return[];if(n.fn)return[n.fn];for(var i=0,o=n.length,a=new Array(o);i<o;i++)a[i]=n[i].fn;return a},o.prototype.emit=function(t,e,r,n,i,o){var a=s?s+t:t;if(!this._events[a])return!1;var u,l,c=this._events[a],h=arguments.length;if(c.fn){switch(c.once&&this.removeListener(t,c.fn,void 0,!0),h){case 1:return c.fn.call(c.context),!0;case 2:return c.fn.call(c.context,e),!0;case 3:return c.fn.call(c.context,e,r),!0;case 4:return c.fn.call(c.context,e,r,n),!0;case 5:return c.fn.call(c.context,e,r,n,i),!0;case 6:return c.fn.call(c.context,e,r,n,i,o),!0}for(l=1,u=new Array(h-1);l<h;l++)u[l-1]=arguments[l];c.fn.apply(c.context,u)}else{var f,d=c.length;for(l=0;l<d;l++)switch(c[l].once&&this.removeListener(t,c[l].fn,void 0,!0),h){case 1:c[l].fn.call(c[l].context);break;case 2:c[l].fn.call(c[l].context,e);break;case 3:c[l].fn.call(c[l].context,e,r);break;case 4:c[l].fn.call(c[l].context,e,r,n);break;default:if(!u)for(f=1,u=new Array(h-1);f<h;f++)u[f-1]=arguments[f];c[l].fn.apply(c[l].context,u)}}return!0},o.prototype.on=function(t,e,r){var n=new i(e,r||this),o=s?s+t:t;return this._events[o]?this._events[o].fn?this._events[o]=[this._events[o],n]:this._events[o].push(n):(this._events[o]=n,this._eventsCount++),this},o.prototype.once=function(t,e,r){var n=new i(e,r||this,!0),o=s?s+t:t;return this._events[o]?this._events[o].fn?this._events[o]=[this._events[o],n]:this._events[o].push(n):(this._events[o]=n,this._eventsCount++),this},o.prototype.removeListener=function(t,e,r,i){var o=s?s+t:t;if(!this._events[o])return this;if(!e)return 0===--this._eventsCount?this._events=new n:delete this._events[o],this;var a=this._events[o];if(a.fn)a.fn!==e||i&&!a.once||r&&a.context!==r||(0===--this._eventsCount?this._events=new n:delete this._events[o]);else{for(var u=0,l=[],c=a.length;u<c;u++)(a[u].fn!==e||i&&!a[u].once||r&&a[u].context!==r)&&l.push(a[u]);l.length?this._events[o]=1===l.length?l[0]:l:0===--this._eventsCount?this._events=new n:delete this._events[o]}return this},o.prototype.removeAllListeners=function(t){var e;return t?(e=s?s+t:t,this._events[e]&&(0===--this._eventsCount?this._events=new n:delete this._events[e])):(this._events=new n,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prototype.setMaxListeners=function(){return this},o.prefixed=s,o.EventEmitter=o,t.exports=o},,,function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function s(){var t=document.createElement("canvas");t.width=10,t.height=10;var e=t.getContext("2d");return e.fillStyle="white",e.fillRect(0,0,10,10),new x(new h.default(t))}function u(t){t.destroy=function(){},t.on=function(){},t.once=function(){},t.emit=function(){}}e.__esModule=!0;var l=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),c=r(17),h=n(c),f=r(76),d=n(f),p=r(75),v=n(p),m=r(8),g=n(m),y=r(4),_=r(3),x=function(t){function e(r,n,a,s,u){i(this,e);var l=o(this,t.call(this));if(l.noFrame=!1,n||(l.noFrame=!0,n=new y.Rectangle(0,0,1,1)),r instanceof e&&(r=r.baseTexture),l.baseTexture=r,l._frame=n,l.trim=s,l.valid=!1,l.requiresUpdate=!1,l._uvs=null,l.orig=a||n,l._rotate=Number(u||0),u===!0)l._rotate=2;else if(l._rotate%2!==0)throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");return r.hasLoaded?(l.noFrame&&(n=new y.Rectangle(0,0,r.width,r.height),r.on("update",l.onBaseTextureUpdated,l)),l.frame=n):r.once("loaded",l.onBaseTextureLoaded,l),l._updateID=0,l.transform=null,l}return a(e,t),e.prototype.update=function(){this.baseTexture.update()},e.prototype.onBaseTextureLoaded=function(t){this._updateID++,this.noFrame?this.frame=new y.Rectangle(0,0,t.width,t.height):this.frame=this._frame,this.baseTexture.on("update",this.onBaseTextureUpdated,this),this.emit("update",this)},e.prototype.onBaseTextureUpdated=function(t){this._updateID++,this._frame.width=t.width,this._frame.height=t.height,this.emit("update",this)},e.prototype.destroy=function(t){this.baseTexture&&(t&&(_.TextureCache[this.baseTexture.imageUrl]&&delete _.TextureCache[this.baseTexture.imageUrl],this.baseTexture.destroy()),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture.off("loaded",this.onBaseTextureLoaded,this),this.baseTexture=null),this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,this.off("dispose",this.dispose,this),this.off("update",this.update,this)},e.prototype.clone=function(){return new e(this.baseTexture,this.frame,this.orig,this.trim,this.rotate)},e.prototype._updateUvs=function(){this._uvs||(this._uvs=new v.default),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++},e.fromImage=function(t,r,n,i){var o=_.TextureCache[t];return o||(o=new e(h.default.fromImage(t,r,n,i)),_.TextureCache[t]=o),o},e.fromFrame=function(t){var e=_.TextureCache[t];if(!e)throw new Error('The frameId "'+t+'" does not exist in the texture cache');return e},e.fromCanvas=function(t,r){return new e(h.default.fromCanvas(t,r))},e.fromVideo=function(t,r){return"string"==typeof t?e.fromVideoUrl(t,r):new e(d.default.fromVideo(t,r))},e.fromVideoUrl=function(t,r){return new e(d.default.fromUrl(t,r))},e.from=function(t){if("string"==typeof t){var r=_.TextureCache[t];if(!r){var n=null!==t.match(/\.(mp4|webm|ogg|h264|avi|mov)$/);return n?e.fromVideoUrl(t):e.fromImage(t)}return r}return t instanceof HTMLImageElement?new e(h.default.from(t)):t instanceof HTMLCanvasElement?e.fromCanvas(t):t instanceof HTMLVideoElement?e.fromVideo(t):t instanceof h.default?new e(t):t},e.fromLoader=function(t,r,n){var i=new h.default(t,null,(0,_.getResolutionOfUrl)(r)),o=new e(i);return i.imageUrl=r,n||(n=r),_.BaseTextureCache[n]=i,_.TextureCache[n]=o,n!==r&&(_.BaseTextureCache[r]=i,_.TextureCache[r]=o),o},e.addTextureToCache=function(t,e){_.TextureCache[e]=t},e.removeTextureFromCache=function(t){var e=_.TextureCache[t];return delete _.TextureCache[t],delete _.BaseTextureCache[t],e},l(e,[{key:"frame",get:function(){return this._frame},set:function(t){if(this._frame=t,this.noFrame=!1,t.x+t.width>this.baseTexture.width||t.y+t.height>this.baseTexture.height)throw new Error("Texture Error: frame does not fit inside the base Texture dimensions: "+("X: "+t.x+" + "+t.width+" > "+this.baseTexture.width+" ")+("Y: "+t.y+" + "+t.height+" > "+this.baseTexture.height));this.valid=t&&t.width&&t.height&&this.baseTexture.hasLoaded,this.trim||this.rotate||(this.orig=t),this.valid&&this._updateUvs()}},{key:"rotate",get:function(){return this._rotate},set:function(t){this._rotate=t,this.valid&&this._updateUvs()}},{key:"width",get:function(){return this.orig.width}},{key:"height",get:function(){return this.orig.height}}]),e}(g.default);e.default=x,x.EMPTY=new x(new h.default),u(x.EMPTY),x.WHITE=s(),u(x.WHITE)},,function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function s(t,e){if(t instanceof Array){if("precision"!==t[0].substring(0,9)){var r=t.slice(0);return r.unshift("precision "+e+" float;"),r}}else if("precision"!==t.substring(0,9))return"precision "+e+" float;\n"+t;return t}e.__esModule=!0;var u=r(6),l=r(5),c=n(l),h=function(t){function e(r,n,a){return i(this,e),o(this,t.call(this,r,s(n,c.default.PRECISION_VERTEX),s(a,c.default.PRECISION_FRAGMENT)))}return a(e,t),e}(u.GLShader);e.default=h},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var s=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),u=r(3),l=r(61),c=n(l),h=function(t){function e(){i(this,e);var r=o(this,t.call(this));return r.children=[],r}return a(e,t),e.prototype.onChildrenChange=function(){},e.prototype.addChild=function(t){var e=arguments.length;if(e>1)for(var r=0;r<e;r++)this.addChild(arguments[r]);else t.parent&&t.parent.removeChild(t),t.parent=this,t.transform._parentID=-1,this.children.push(t),this._boundsID++,this.onChildrenChange(this.children.length-1),t.emit("added",this);return t},e.prototype.addChildAt=function(t,e){if(e<0||e>this.children.length)throw new Error(t+"addChildAt: The index "+e+" supplied is out of bounds "+this.children.length);return t.parent&&t.parent.removeChild(t),t.parent=this,t.transform._parentID=-1,this.children.splice(e,0,t),this._boundsID++,this.onChildrenChange(e),t.emit("added",this),t},e.prototype.swapChildren=function(t,e){if(t!==e){var r=this.getChildIndex(t),n=this.getChildIndex(e);this.children[r]=e,this.children[n]=t,this.onChildrenChange(r<n?r:n)}},e.prototype.getChildIndex=function(t){var e=this.children.indexOf(t);if(e===-1)throw new Error("The supplied DisplayObject must be a child of the caller");return e},e.prototype.setChildIndex=function(t,e){if(e<0||e>=this.children.length)throw new Error("The supplied index is out of bounds");var r=this.getChildIndex(t);(0,u.removeItems)(this.children,r,1),this.children.splice(e,0,t),this.onChildrenChange(e)},e.prototype.getChildAt=function(t){if(t<0||t>=this.children.length)throw new Error("getChildAt: Index ("+t+") does not exist.");return this.children[t]},e.prototype.removeChild=function(t){var e=arguments.length;if(e>1)for(var r=0;r<e;r++)this.removeChild(arguments[r]);else{var n=this.children.indexOf(t);if(n===-1)return null;t.parent=null,t.transform._parentID=-1,(0,u.removeItems)(this.children,n,1),this._boundsID++,this.onChildrenChange(n),t.emit("removed",this)}return t},e.prototype.removeChildAt=function(t){var e=this.getChildAt(t);return e.parent=null,e.transform._parentID=-1,(0,u.removeItems)(this.children,t,1),this._boundsID++,this.onChildrenChange(t),e.emit("removed",this),e},e.prototype.removeChildren=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments[1],r=t,n="number"==typeof e?e:this.children.length,i=n-r,o=void 0;if(i>0&&i<=n){o=this.children.splice(r,i);for(var a=0;a<o.length;++a)o[a].parent=null,o[a].transform&&(o[a].transform._parentID=-1);this._boundsID++,this.onChildrenChange(t);for(var s=0;s<o.length;++s)o[s].emit("removed",this);return o}if(0===i&&0===this.children.length)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")},e.prototype.updateTransform=function(){this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(var t=0,e=this.children.length;t<e;++t){var r=this.children[t];r.visible&&r.updateTransform()}},e.prototype.calculateBounds=function(){this._bounds.clear(),this._calculateBounds();for(var t=0;t<this.children.length;t++){var e=this.children[t];e.visible&&e.renderable&&(e.calculateBounds(),e._mask?(e._mask.calculateBounds(),this._bounds.addBoundsMask(e._bounds,e._mask._bounds)):e.filterArea?this._bounds.addBoundsArea(e._bounds,e.filterArea):this._bounds.addBounds(e._bounds))}this._lastBoundsID=this._boundsID},e.prototype._calculateBounds=function(){},e.prototype.renderWebGL=function(t){if(this.visible&&!(this.worldAlpha<=0)&&this.renderable)if(this._mask||this._filters)this.renderAdvancedWebGL(t);else{this._renderWebGL(t);for(var e=0,r=this.children.length;e<r;++e)this.children[e].renderWebGL(t)}},e.prototype.renderAdvancedWebGL=function(t){t.flush();var e=this._filters,r=this._mask;if(e){this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0;for(var n=0;n<e.length;n++)e[n].enabled&&this._enabledFilters.push(e[n]);this._enabledFilters.length&&t.filterManager.pushFilter(this,this._enabledFilters)}r&&t.maskManager.pushMask(this,this._mask),this._renderWebGL(t);for(var i=0,o=this.children.length;i<o;i++)this.children[i].renderWebGL(t);t.flush(),r&&t.maskManager.popMask(this,this._mask),e&&this._enabledFilters&&this._enabledFilters.length&&t.filterManager.popFilter()},e.prototype._renderWebGL=function(t){},e.prototype._renderCanvas=function(t){},e.prototype.renderCanvas=function(t){if(this.visible&&!(this.worldAlpha<=0)&&this.renderable){this._mask&&t.maskManager.pushMask(this._mask),this._renderCanvas(t);for(var e=0,r=this.children.length;e<r;++e)this.children[e].renderCanvas(t);this._mask&&t.maskManager.popMask(t)}},e.prototype.destroy=function(e){t.prototype.destroy.call(this);var r="boolean"==typeof e?e:e&&e.children,n=this.removeChildren(0,this.children.length);if(r)for(var i=0;i<n.length;++i)n[i].destroy(e)},s(e,[{key:"width",get:function(){return this.scale.x*this.getLocalBounds().width},set:function(t){var e=this.getLocalBounds().width;0!==e?this.scale.x=t/e:this.scale.x=1,this._width=t}},{key:"height",get:function(){return this.scale.y*this.getLocalBounds().height},set:function(t){var e=this.getLocalBounds().height;0!==e?this.scale.y=t/e:this.scale.y=1,this._height=t}}]),e}(c.default);e.default=h,h.prototype.containerUpdateTransform=h.prototype.updateTransform},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var s=r(67),u=n(s),l=r(195),c=n(l),h=r(68),f=n(h),d=r(196),p=n(d),v=r(3),m=r(2),g=r(5),y=n(g),_=function(t){function e(r,n){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};i(this,e);var s=o(this,t.call(this,"Canvas",r,n,a));return s.type=m.RENDERER_TYPE.CANVAS,s.rootContext=s.view.getContext("2d",{alpha:s.transparent}),s.refresh=!0,s.maskManager=new c.default(s),s.smoothProperty="imageSmoothingEnabled",s.rootContext.imageSmoothingEnabled||(s.rootContext.webkitImageSmoothingEnabled?s.smoothProperty="webkitImageSmoothingEnabled":s.rootContext.mozImageSmoothingEnabled?s.smoothProperty="mozImageSmoothingEnabled":s.rootContext.oImageSmoothingEnabled?s.smoothProperty="oImageSmoothingEnabled":s.rootContext.msImageSmoothingEnabled&&(s.smoothProperty="msImageSmoothingEnabled")),s.initPlugins(),s.blendModes=(0,p.default)(),s._activeBlendMode=null,s.context=null,s.renderingToScreen=!1,s.resize(r,n),s}return a(e,t),e.prototype.render=function(t,e,r,n,i){if(this.view){this.renderingToScreen=!e,this.emit("prerender");var o=this.resolution;e?(e=e.baseTexture||e,e._canvasRenderTarget||(e._canvasRenderTarget=new f.default(e.width,e.height,e.resolution),e.source=e._canvasRenderTarget.canvas,e.valid=!0),this.context=e._canvasRenderTarget.context,this.resolution=e._canvasRenderTarget.resolution):this.context=this.rootContext;var a=this.context;if(e||(this._lastObjectRendered=t),!i){var s=t.parent,u=this._tempDisplayObjectParent.transform.worldTransform;n?(n.copy(u),this._tempDisplayObjectParent.transform._worldID=-1):u.identity(),t.parent=this._tempDisplayObjectParent,t.updateTransform(),t.parent=s}a.setTransform(1,0,0,1,0,0),a.globalAlpha=1,a.globalCompositeOperation=this.blendModes[m.BLEND_MODES.NORMAL],navigator.isCocoonJS&&this.view.screencanvas&&(a.fillStyle="black",a.clear()),(void 0!==r?r:this.clearBeforeRender)&&this.renderingToScreen&&(this.transparent?a.clearRect(0,0,this.width,this.height):(a.fillStyle=this._backgroundColorString,a.fillRect(0,0,this.width,this.height)));var l=this.context;this.context=a,t.renderCanvas(this),this.context=l,this.resolution=o,this.emit("postrender")}},e.prototype.clear=function(t){var e=this.context;t=t||this._backgroundColorString,!this.transparent&&t?(e.fillStyle=t,e.fillRect(0,0,this.width,this.height)):e.clearRect(0,0,this.width,this.height)},e.prototype.setBlendMode=function(t){this._activeBlendMode!==t&&(this._activeBlendMode=t,this.context.globalCompositeOperation=this.blendModes[t])},e.prototype.destroy=function(e){this.destroyPlugins(),t.prototype.destroy.call(this,e),this.context=null,this.refresh=!0,this.maskManager.destroy(),this.maskManager=null,this.smoothProperty=null},e.prototype.resize=function(e,r){t.prototype.resize.call(this,e,r),this.smoothProperty&&(this.rootContext[this.smoothProperty]=y.default.SCALE_MODE===m.SCALE_MODES.LINEAR)},e}(u.default);e.default=_,v.pluginTarget.mixin(_)},function(t,e){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var n=function(){function t(e){r(this,t),this.renderer=e,this.renderer.on("context",this.onContextChange,this)}return t.prototype.onContextChange=function(){},
t.prototype.destroy=function(){this.renderer.off("context",this.onContextChange,this),this.renderer=null},t}();e.default=n},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var s=r(3),u=r(5),l=n(u),c=r(8),h=n(c),f=r(217),d=n(f),p=r(26),v=n(p),m=function(t){function e(r,n,a){i(this,e);var u=o(this,t.call(this));return u.uid=(0,s.uid)(),u.touched=0,u.resolution=a||l.default.RESOLUTION,u.width=100,u.height=100,u.realWidth=100,u.realHeight=100,u.scaleMode=void 0!==n?n:l.default.SCALE_MODE,u.hasLoaded=!1,u.isLoading=!1,u.source=null,u.origSource=null,u.imageType=null,u.sourceScale=1,u.premultipliedAlpha=!0,u.imageUrl=null,u.isPowerOfTwo=!1,u.mipmap=l.default.MIPMAP_TEXTURES,u.wrapMode=l.default.WRAP_MODE,u._glTextures={},u._enabled=0,u._virtalBoundId=-1,r&&u.loadSource(r),u}return a(e,t),e.prototype.update=function(){"svg"!==this.imageType&&(this.realWidth=this.source.naturalWidth||this.source.videoWidth||this.source.width,this.realHeight=this.source.naturalHeight||this.source.videoHeight||this.source.height,this._updateDimensions()),this.emit("update",this)},e.prototype._updateDimensions=function(){this.width=this.realWidth/this.resolution,this.height=this.realHeight/this.resolution,this.isPowerOfTwo=v.default.isPow2(this.realWidth)&&v.default.isPow2(this.realHeight)},e.prototype.loadSource=function(t){var e=this.isLoading;this.hasLoaded=!1,this.isLoading=!1,e&&this.source&&(this.source.onload=null,this.source.onerror=null);var r=!this.source;if(this.source=t,(t.src&&t.complete||t.getContext)&&t.width&&t.height)this._updateImageType(),"svg"===this.imageType?this._loadSvgSource():this._sourceLoaded(),r&&this.emit("loaded",this);else if(!t.getContext){this.isLoading=!0;var n=this;if(t.onload=function(){if(n._updateImageType(),t.onload=null,t.onerror=null,n.isLoading)return n.isLoading=!1,n._sourceLoaded(),"svg"===n.imageType?void n._loadSvgSource():void n.emit("loaded",n)},t.onerror=function(){t.onload=null,t.onerror=null,n.isLoading&&(n.isLoading=!1,n.emit("error",n))},t.complete&&t.src){if(t.onload=null,t.onerror=null,"svg"===n.imageType)return void n._loadSvgSource();this.isLoading=!1,t.width&&t.height?(this._sourceLoaded(),e&&this.emit("loaded",this)):e&&this.emit("error",this)}}},e.prototype._updateImageType=function(){if(this.imageUrl){var t=(0,s.decomposeDataUri)(this.imageUrl),e=void 0;if(t&&"image"===t.mediaType){var r=t.subType.split("+")[0];if(e=(0,s.getUrlFileExtension)("."+r),!e)throw new Error("Invalid image type in data URI.")}else e=(0,s.getUrlFileExtension)(this.imageUrl),e||(e="png");this.imageType=e}},e.prototype._loadSvgSource=function(){if("svg"===this.imageType){var t=(0,s.decomposeDataUri)(this.imageUrl);t?this._loadSvgSourceUsingDataUri(t):this._loadSvgSourceUsingXhr()}},e.prototype._loadSvgSourceUsingDataUri=function(t){var e=void 0;if("base64"===t.encoding){if(!atob)throw new Error("Your browser doesn't support base64 conversions.");e=atob(t.data)}else e=t.data;this._loadSvgSourceUsingString(e)},e.prototype._loadSvgSourceUsingXhr=function(){var t=this,e=new XMLHttpRequest;e.onload=function(){if(e.readyState!==e.DONE||200!==e.status)throw new Error("Failed to load SVG using XHR.");t._loadSvgSourceUsingString(e.response)},e.onerror=function(){return t.emit("error",t)},e.open("GET",this.imageUrl,!0),e.send()},e.prototype._loadSvgSourceUsingString=function(t){var e=(0,s.getSvgSize)(t),r=e.width,n=e.height;if(!r||!n)throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");this.realWidth=Math.round(r*this.sourceScale),this.realHeight=Math.round(n*this.sourceScale),this._updateDimensions();var i=document.createElement("canvas");i.width=this.realWidth,i.height=this.realHeight,i._pixiId="canvas_"+(0,s.uid)(),i.getContext("2d").drawImage(this.source,0,0,r,n,0,0,this.realWidth,this.realHeight),this.origSource=this.source,this.source=i,s.BaseTextureCache[i._pixiId]=this,this.isLoading=!1,this._sourceLoaded(),this.emit("loaded",this)},e.prototype._sourceLoaded=function(){this.hasLoaded=!0,this.update()},e.prototype.destroy=function(){this.imageUrl&&(delete s.BaseTextureCache[this.imageUrl],delete s.TextureCache[this.imageUrl],this.imageUrl=null,navigator.isCocoonJS||(this.source.src="")),this.source&&this.source._pixiId&&delete s.BaseTextureCache[this.source._pixiId],this.source=null,this.dispose()},e.prototype.dispose=function(){this.emit("dispose",this)},e.prototype.updateSourceImage=function(t){this.source.src=t,this.loadSource(this.source)},e.fromImage=function(t,r,n,i){var o=s.BaseTextureCache[t];if(!o){var a=new Image;void 0===r&&0!==t.indexOf("data:")&&(a.crossOrigin=(0,d.default)(t)),o=new e(a,n),o.imageUrl=t,i&&(o.sourceScale=i),o.resolution=(0,s.getResolutionOfUrl)(t),a.src=t,s.BaseTextureCache[t]=o}return o},e.fromCanvas=function(t,r){t._pixiId||(t._pixiId="canvas_"+(0,s.uid)());var n=s.BaseTextureCache[t._pixiId];return n||(n=new e(t,r),s.BaseTextureCache[t._pixiId]=n),n},e.from=function(t,r,n){if("string"==typeof t)return e.fromImage(t,void 0,r,n);if(t instanceof HTMLImageElement){var i=t.src,o=s.BaseTextureCache[i];return o||(o=new e(t,r),o.imageUrl=i,n&&(o.sourceScale=n),o.resolution=(0,s.getResolutionOfUrl)(i),s.BaseTextureCache[i]=o),o}return t instanceof HTMLCanvasElement?e.fromCanvas(t,r):t},e}(h.default);e.default=m},function(t,e,r){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var s=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),u=r(1),l=n(u),c=new l.Point,h=new l.Polygon,f=function(t){function e(r,n,a,s,u){i(this,e);var c=o(this,t.call(this));return c._texture=null,c.uvs=a||new Float32Array([0,0,1,0,1,1,0,1]),c.vertices=n||new Float32Array([0,0,100,0,100,100,0,100]),c.indices=s||new Uint16Array([0,1,3,2]),c.dirty=0,c.indexDirty=0,c.blendMode=l.BLEND_MODES.NORMAL,c.canvasPadding=0,c.drawMode=u||e.DRAW_MODES.TRIANGLE_MESH,c.texture=r,c.shader=null,c.tintRgb=new Float32Array([1,1,1]),c._glDatas={},c.pluginName="mesh",c}return a(e,t),e.prototype._renderWebGL=function(t){t.setObjectRenderer(t.plugins[this.pluginName]),t.plugins[this.pluginName].render(this)},e.prototype._renderCanvas=function(t){t.plugins[this.pluginName].render(this)},e.prototype._onTextureUpdate=function(){},e.prototype._calculateBounds=function(){this._bounds.addVertices(this.transform,this.vertices,0,this.vertices.length)},e.prototype.containsPoint=function(t){if(!this.getBounds().contains(t.x,t.y))return!1;this.worldTransform.applyInverse(t,c);for(var r=this.vertices,n=h.points,i=this.indices,o=this.indices.length,a=this.drawMode===e.DRAW_MODES.TRIANGLES?3:1,s=0;s+2<o;s+=a){var u=2*i[s],l=2*i[s+1],f=2*i[s+2];if(n[0]=r[u],n[1]=r[u+1],n[2]=r[l],n[3]=r[l+1],n[4]=r[f],n[5]=r[f+1],h.contains(c.x,c.y))return!0}return!1},s(e,[{key:"texture",get:function(){return this._texture},set:function(t){this._texture!==t&&(this._texture=t,t&&(t.baseTexture.hasLoaded?this._onTextureUpdate():t.once("update",this._onTextureUpdate,this)))}},{key:"tint",get:function(){return l.utils.rgb2hex(this.tintRgb)},set:function(t){this.tintRgb=l.utils.hex2rgb(t,this.tintRgb)}}]),e}(l.Container);e.default=f,f.DRAW_MODES={TRIANGLE_MESH:0,TRIANGLES:1}},function(t,e,r){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function i(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var o=r(264),a=i(o),s=r(42),u=i(s),l=r(96),c=n(l),h=r(97),f=n(h);a.default.Resource=u.default,a.default.async=c,a.default.base64=f,t.exports=a.default,e.default=a.default},,function(t,e,r){"use strict";function n(t,e){var r=t.points;if(0!==r.length){var n=new o.Point(r[0],r[1]),i=new o.Point(r[r.length-2],r[r.length-1]);if(n.x===i.x&&n.y===i.y){r=r.slice(),r.pop(),r.pop(),i=new o.Point(r[r.length-2],r[r.length-1]);var s=i.x+.5*(n.x-i.x),u=i.y+.5*(n.y-i.y);r.unshift(s,u),r.push(s,u)}var l=e.points,c=e.indices,h=r.length/2,f=r.length,d=l.length/6,p=t.lineWidth/2,v=(0,a.hex2rgb)(t.lineColor),m=t.lineAlpha,g=v[0]*m,y=v[1]*m,_=v[2]*m,x=r[0],b=r[1],w=r[2],T=r[3],E=0,S=0,M=-(b-T),A=x-w,P=0,C=0,O=0,R=0,D=Math.sqrt(M*M+A*A);M/=D,A/=D,M*=p,A*=p,l.push(x-M,b-A,g,y,_,m),l.push(x+M,b+A,g,y,_,m);for(var L=1;L<h-1;++L){x=r[2*(L-1)],b=r[2*(L-1)+1],w=r[2*L],T=r[2*L+1],E=r[2*(L+1)],S=r[2*(L+1)+1],M=-(b-T),A=x-w,D=Math.sqrt(M*M+A*A),M/=D,A/=D,M*=p,A*=p,P=-(T-S),C=w-E,D=Math.sqrt(P*P+C*C),P/=D,C/=D,P*=p,C*=p;var I=-A+b-(-A+T),F=-M+w-(-M+x),N=(-M+x)*(-A+T)-(-M+w)*(-A+b),k=-C+S-(-C+T),U=-P+w-(-P+E),B=(-P+E)*(-C+T)-(-P+w)*(-C+S),z=I*U-k*F;if(Math.abs(z)<.1)z+=10.1,l.push(w-M,T-A,g,y,_,m),l.push(w+M,T+A,g,y,_,m);else{var j=(F*B-U*N)/z,G=(k*N-I*B)/z,H=(j-w)*(j-w)+(G-T)*(G-T);H>196*p*p?(O=M-P,R=A-C,D=Math.sqrt(O*O+R*R),O/=D,R/=D,O*=p,R*=p,l.push(w-O,T-R),l.push(g,y,_,m),l.push(w+O,T+R),l.push(g,y,_,m),l.push(w-O,T-R),l.push(g,y,_,m),f++):(l.push(j,G),l.push(g,y,_,m),l.push(w-(j-w),T-(G-T)),l.push(g,y,_,m))}}x=r[2*(h-2)],b=r[2*(h-2)+1],w=r[2*(h-1)],T=r[2*(h-1)+1],M=-(b-T),A=x-w,D=Math.sqrt(M*M+A*A),M/=D,A/=D,M*=p,A*=p,l.push(w-M,T-A),l.push(g,y,_,m),l.push(w+M,T+A),l.push(g,y,_,m),c.push(d);for(var X=0;X<f;++X)c.push(d++);c.push(d-1)}}function i(t,e){var r=0,n=t.points;if(0!==n.length){var i=e.points,o=n.length/2,s=(0,a.hex2rgb)(t.lineColor),u=t.lineAlpha,l=s[0]*u,c=s[1]*u,h=s[2]*u;for(r=1;r<o;r++){var f=n[2*(r-1)],d=n[2*(r-1)+1],p=n[2*r],v=n[2*r+1];i.push(f,d),i.push(l,c,h,u),i.push(p,v),i.push(l,c,h,u)}}}e.__esModule=!0,e.default=function(t,e){t.nativeLines?i(t,e):n(t,e)};var o=r(4),a=r(3)},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var s=r(67),u=n(s),l=r(203),c=n(l),h=r(204),f=n(h),d=r(202),p=n(d),v=r(24),m=n(v),g=r(23),y=n(g),_=r(198),x=n(_),b=r(17),w=n(b),T=r(197),E=n(T),S=r(199),M=n(S),A=r(207),P=n(A),C=r(208),O=n(C),R=r(3),D=r(6),L=n(D),I=r(2),F=0,N=function(t){function e(r,n){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};i(this,e);var s=o(this,t.call(this,"WebGL",r,n,a));return s.legacy=!!a.legacy,s.legacy&&(L.default.VertexArrayObject.FORCE_NATIVE=!0),s.type=I.RENDERER_TYPE.WEBGL,s.handleContextLost=s.handleContextLost.bind(s),s.handleContextRestored=s.handleContextRestored.bind(s),s.view.addEventListener("webglcontextlost",s.handleContextLost,!1),s.view.addEventListener("webglcontextrestored",s.handleContextRestored,!1),s._contextOptions={alpha:s.transparent,antialias:a.antialias,premultipliedAlpha:s.transparent&&"notMultiplied"!==s.transparent,stencil:!0,preserveDrawingBuffer:a.preserveDrawingBuffer},s._backgroundColorRgba[3]=s.transparent?0:1,s.maskManager=new c.default(s),s.stencilManager=new f.default(s),s.emptyRenderer=new y.default(s),s.currentRenderer=s.emptyRenderer,s.initPlugins(),a.context&&(0,O.default)(a.context),s.gl=a.context||L.default.createContext(s.view,s._contextOptions),s.CONTEXT_UID=F++,s.state=new M.default(s.gl),s.renderingToScreen=!0,s.boundTextures=null,s._activeShader=null,s._activeVao=null,s._activeRenderTarget=null,s._initContext(),s.filterManager=new p.default(s),s.drawModes=(0,P.default)(s.gl),s._nextTextureLocation=0,s.setBlendMode(0),s}return a(e,t),e.prototype._initContext=function(){var t=this.gl;t.isContextLost()&&t.getExtension("WEBGL_lose_context")&&t.getExtension("WEBGL_lose_context").restoreContext();var e=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS);this.boundTextures=new Array(e),this.emptyTextures=new Array(e),this.textureManager=new x.default(this),this.textureGC=new E.default(this),this.state.resetToDefault(),this.rootRenderTarget=new m.default(t,this.width,this.height,null,this.resolution,!0),this.rootRenderTarget.clearColor=this._backgroundColorRgba,this.bindRenderTarget(this.rootRenderTarget);var r=new L.default.GLTexture.fromData(t,null,1,1),n={_glTextures:{}};n._glTextures[this.CONTEXT_UID]={};for(var i=0;i<e;i++){var o=new w.default;o._glTextures[this.CONTEXT_UID]=r,this.boundTextures[i]=n,this.emptyTextures[i]=o,this.bindTexture(null,i)}this.emit("context",t),this.resize(this.screen.width,this.screen.height)},e.prototype.render=function(t,e,r,n,i){if(this.renderingToScreen=!e,this.emit("prerender"),this.gl&&!this.gl.isContextLost()){if(this._nextTextureLocation=0,e||(this._lastObjectRendered=t),!i){var o=t.parent;t.parent=this._tempDisplayObjectParent,t.updateTransform(),t.parent=o}this.bindRenderTexture(e,n),this.currentRenderer.start(),(void 0!==r?r:this.clearBeforeRender)&&this._activeRenderTarget.clear(),t.renderWebGL(this),this.currentRenderer.flush(),this.textureGC.update(),this.emit("postrender")}},e.prototype.setObjectRenderer=function(t){this.currentRenderer!==t&&(this.currentRenderer.stop(),this.currentRenderer=t,this.currentRenderer.start())},e.prototype.flush=function(){this.setObjectRenderer(this.emptyRenderer)},e.prototype.resize=function(t,e){u.default.prototype.resize.call(this,t,e),this.rootRenderTarget.resize(t,e),this._activeRenderTarget===this.rootRenderTarget&&(this.rootRenderTarget.activate(),this._activeShader&&(this._activeShader.uniforms.projectionMatrix=this.rootRenderTarget.projectionMatrix.toArray(!0)))},e.prototype.setBlendMode=function(t){this.state.setBlendMode(t)},e.prototype.clear=function(t){this._activeRenderTarget.clear(t)},e.prototype.setTransform=function(t){this._activeRenderTarget.transform=t},e.prototype.clearRenderTexture=function(t,e){var r=t.baseTexture,n=r._glRenderTargets[this.CONTEXT_UID];return n&&n.clear(e),this},e.prototype.bindRenderTexture=function(t,e){var r=void 0;if(t){var n=t.baseTexture;n._glRenderTargets[this.CONTEXT_UID]||this.textureManager.updateTexture(n,0),this.unbindTexture(n),r=n._glRenderTargets[this.CONTEXT_UID],r.setFrame(t.frame)}else r=this.rootRenderTarget;return r.transform=e,this.bindRenderTarget(r),this},e.prototype.bindRenderTarget=function(t){return t!==this._activeRenderTarget&&(this._activeRenderTarget=t,t.activate(),this._activeShader&&(this._activeShader.uniforms.projectionMatrix=t.projectionMatrix.toArray(!0)),this.stencilManager.setMaskStack(t.stencilMaskStack)),this},e.prototype.bindShader=function(t,e){return this._activeShader!==t&&(this._activeShader=t,t.bind(),e!==!1&&(t.uniforms.projectionMatrix=this._activeRenderTarget.projectionMatrix.toArray(!0))),this},e.prototype.bindTexture=function(t,e,r){if(t=t||this.emptyTextures[e],t=t.baseTexture||t,t.touched=this.textureGC.count,r)e=e||0;else{for(var n=0;n<this.boundTextures.length;n++)if(this.boundTextures[n]===t)return n;void 0===e&&(this._nextTextureLocation++,this._nextTextureLocation%=this.boundTextures.length,e=this.boundTextures.length-this._nextTextureLocation-1)}var i=this.gl,o=t._glTextures[this.CONTEXT_UID];return o?(this.boundTextures[e]=t,i.activeTexture(i.TEXTURE0+e),i.bindTexture(i.TEXTURE_2D,o.texture)):this.textureManager.updateTexture(t,e),e},e.prototype.unbindTexture=function(t){var e=this.gl;t=t.baseTexture||t;for(var r=0;r<this.boundTextures.length;r++)this.boundTextures[r]===t&&(this.boundTextures[r]=this.emptyTextures[r],e.activeTexture(e.TEXTURE0+r),e.bindTexture(e.TEXTURE_2D,this.emptyTextures[r]._glTextures[this.CONTEXT_UID].texture));return this},e.prototype.createVao=function(){return new L.default.VertexArrayObject(this.gl,this.state.attribState)},e.prototype.bindVao=function(t){return this._activeVao===t?this:(t?t.bind():this._activeVao&&this._activeVao.unbind(),this._activeVao=t,this)},e.prototype.reset=function(){return this.setObjectRenderer(this.emptyRenderer),this._activeShader=null,this._activeRenderTarget=this.rootRenderTarget,this.rootRenderTarget.activate(),this.state.resetToDefault(),this},e.prototype.handleContextLost=function(t){t.preventDefault()},e.prototype.handleContextRestored=function(){this._initContext(),this.textureManager.removeAll()},e.prototype.destroy=function(e){this.destroyPlugins(),this.view.removeEventListener("webglcontextlost",this.handleContextLost),this.view.removeEventListener("webglcontextrestored",this.handleContextRestored),this.textureManager.destroy(),t.prototype.destroy.call(this,e),this.uid=0,this.maskManager.destroy(),this.stencilManager.destroy(),this.filterManager.destroy(),this.maskManager=null,this.filterManager=null,this.textureManager=null,this.currentRenderer=null,this.handleContextLost=null,this.handleContextRestored=null,this._contextOptions=null,this.gl.useProgram(null),this.gl.getExtension("WEBGL_lose_context")&&this.gl.getExtension("WEBGL_lose_context").loseContext(),this.gl=null},e}(u.default);e.default=N,R.pluginTarget.mixin(N)},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var s=r(16),u=n(s),l=function(t){function e(){return i(this,e),o(this,t.apply(this,arguments))}return a(e,t),e.prototype.start=function(){},e.prototype.stop=function(){this.flush()},e.prototype.flush=function(){},e.prototype.render=function(t){},e}(u.default);e.default=l},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var o=r(4),a=r(2),s=r(5),u=n(s),l=r(6),c=function(){function t(e,r,n,s,c,h){i(this,t),this.gl=e,this.frameBuffer=null,this.texture=null,this.clearColor=[0,0,0,0],this.size=new o.Rectangle(0,0,1,1),this.resolution=c||u.default.RESOLUTION,this.projectionMatrix=new o.Matrix,this.transform=null,this.frame=null,this.defaultFrame=new o.Rectangle,this.destinationFrame=null,this.sourceFrame=null,this.stencilBuffer=null,this.stencilMaskStack=[],this.filterData=null,this.scaleMode=void 0!==s?s:u.default.SCALE_MODE,this.root=h,this.root?(this.frameBuffer=new l.GLFramebuffer(e,100,100),this.frameBuffer.framebuffer=null):(this.frameBuffer=l.GLFramebuffer.createRGBA(e,100,100),this.scaleMode===a.SCALE_MODES.NEAREST?this.frameBuffer.texture.enableNearestScaling():this.frameBuffer.texture.enableLinearScaling(),this.texture=this.frameBuffer.texture),this.setFrame(),this.resize(r,n)}return t.prototype.clear=function(t){var e=t||this.clearColor;this.frameBuffer.clear(e[0],e[1],e[2],e[3])},t.prototype.attachStencilBuffer=function(){this.root||this.frameBuffer.enableStencil()},t.prototype.setFrame=function(t,e){this.destinationFrame=t||this.destinationFrame||this.defaultFrame,this.sourceFrame=e||this.sourceFrame||t},t.prototype.activate=function(){var t=this.gl;this.frameBuffer.bind(),this.calculateProjection(this.destinationFrame,this.sourceFrame),this.transform&&this.projectionMatrix.append(this.transform),this.destinationFrame!==this.sourceFrame?(t.enable(t.SCISSOR_TEST),t.scissor(0|this.destinationFrame.x,0|this.destinationFrame.y,this.destinationFrame.width*this.resolution|0,this.destinationFrame.height*this.resolution|0)):t.disable(t.SCISSOR_TEST),t.viewport(0|this.destinationFrame.x,0|this.destinationFrame.y,this.destinationFrame.width*this.resolution|0,this.destinationFrame.height*this.resolution|0)},t.prototype.calculateProjection=function(t,e){var r=this.projectionMatrix;e=e||t,r.identity(),this.root?(r.a=1/t.width*2,r.d=-1/t.height*2,r.tx=-1-e.x*r.a,r.ty=1-e.y*r.d):(r.a=1/t.width*2,r.d=1/t.height*2,r.tx=-1-e.x*r.a,r.ty=-1-e.y*r.d)},t.prototype.resize=function(t,e){if(t|=0,e|=0,this.size.width!==t||this.size.height!==e){this.size.width=t,this.size.height=e,this.defaultFrame.width=t,this.defaultFrame.height=e,this.frameBuffer.resize(t*this.resolution,e*this.resolution);var r=this.frame||this.size;this.calculateProjection(r)}},t.prototype.destroy=function(){this.frameBuffer.destroy(),this.frameBuffer=null,this.texture=null},t}();e.default=c},,function(t,e){"use strict";"use restrict";function r(t){var e=32;return t&=-t,t&&e--,65535&t&&(e-=16),16711935&t&&(e-=8),252645135&t&&(e-=4),858993459&t&&(e-=2),1431655765&t&&(e-=1),e}var n=32;e.INT_BITS=n,e.INT_MAX=2147483647,e.INT_MIN=-1<<n-1,e.sign=function(t){return(t>0)-(t<0)},e.abs=function(t){var e=t>>n-1;return(t^e)-e},e.min=function(t,e){return e^(t^e)&-(t<e)},e.max=function(t,e){return t^(t^e)&-(t<e)},e.isPow2=function(t){return!(t&t-1||!t)},e.log2=function(t){var e,r;return e=(t>65535)<<4,t>>>=e,r=(t>255)<<3,t>>>=r,e|=r,r=(t>15)<<2,t>>>=r,e|=r,r=(t>3)<<1,t>>>=r,e|=r,e|t>>1},e.log10=function(t){return t>=1e9?9:t>=1e8?8:t>=1e7?7:t>=1e6?6:t>=1e5?5:t>=1e4?4:t>=1e3?3:t>=100?2:t>=10?1:0},e.popCount=function(t){return t-=t>>>1&1431655765,t=(858993459&t)+(t>>>2&858993459),16843009*(t+(t>>>4)&252645135)>>>24},e.countTrailingZeros=r,e.nextPow2=function(t){return t+=0===t,--t,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t+1},e.prevPow2=function(t){return t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t-(t>>>1)},e.parity=function(t){return t^=t>>>16,t^=t>>>8,t^=t>>>4,t&=15,27030>>>t&1};var i=new Array(256);!function(t){for(var e=0;e<256;++e){var r=e,n=e,i=7;for(r>>>=1;r;r>>>=1)n<<=1,n|=1&r,--i;t[e]=n<<i&255}}(i),e.reverse=function(t){return i[255&t]<<24|i[t>>>8&255]<<16|i[t>>>16&255]<<8|i[t>>>24&255]},e.interleave2=function(t,e){return t&=65535,t=16711935&(t|t<<8),t=252645135&(t|t<<4),t=858993459&(t|t<<2),t=1431655765&(t|t<<1),e&=65535,e=16711935&(e|e<<8),e=252645135&(e|e<<4),e=858993459&(e|e<<2),e=1431655765&(e|e<<1),t|e<<1},e.deinterleave2=function(t,e){return t=t>>>e&1431655765,t=858993459&(t|t>>>1),t=252645135&(t|t>>>2),t=16711935&(t|t>>>4),t=65535&(t|t>>>16),t<<16>>16},e.interleave3=function(t,e,r){return t&=1023,t=4278190335&(t|t<<16),t=251719695&(t|t<<8),t=3272356035&(t|t<<4),t=1227133513&(t|t<<2),e&=1023,e=4278190335&(e|e<<16),e=251719695&(e|e<<8),e=3272356035&(e|e<<4),e=1227133513&(e|e<<2),t|=e<<1,r&=1023,r=4278190335&(r|r<<16),r=251719695&(r|r<<8),r=3272356035&(r|r<<4),r=1227133513&(r|r<<2),t|r<<2},e.deinterleave3=function(t,e){return t=t>>>e&1227133513,t=3272356035&(t|t>>>2),t=251719695&(t|t>>>4),t=4278190335&(t|t>>>8),t=1023&(t|t>>>16),t<<22>>22},e.nextCombination=function(t){var e=t|t-1;return e+1|(~e&-~e)-1>>>r(t)+1}},function(t,e,r){!function(r){"use strict";function n(){}function i(t){if(!t||"object"!=typeof t)return!1;var e=M(t)||yt;return/object|function/.test(typeof e.Element)?t instanceof e.Element:1===t.nodeType&&"string"==typeof t.nodeName}function o(t){return t===yt||!(!t||!t.Window)&&t instanceof t.Window}function a(t){return!!t&&t instanceof xt}function s(t){return u(t)&&void 0!==typeof t.length&&l(t.splice)}function u(t){return!!t&&"object"==typeof t}function l(t){return"function"==typeof t}function c(t){return"number"==typeof t}function h(t){return"boolean"==typeof t}function f(t){return"string"==typeof t}function d(t){return!!f(t)&&(_t.querySelector(t),!0)}function p(t,e){for(var r in e)t[r]=e[r];return t}function v(t,e){for(var r in e){var n=!1;for(var i in Qt)if(0===r.indexOf(i)&&Qt[i].test(r)){n=!0;break}n||(t[r]=e[r])}return t}function m(t,e){t.page=t.page||{},t.page.x=e.page.x,t.page.y=e.page.y,t.client=t.client||{},t.client.x=e.client.x,t.client.y=e.client.y,t.timeStamp=e.timeStamp}function g(t,e,r){var n=e.length>1?O(e):e[0];b(n,At,r),t.page.x=At.x,t.page.y=At.y,w(n,At,r),t.client.x=At.x,t.client.y=At.y,t.timeStamp=(new Date).getTime()}function y(t,e,r){t.page.x=r.page.x-e.page.x,t.page.y=r.page.y-e.page.y,t.client.x=r.client.x-e.client.x,t.client.y=r.client.y-e.client.y,t.timeStamp=(new Date).getTime()-e.timeStamp;var n=Math.max(t.timeStamp/1e3,.001);t.page.speed=Mt(t.page.x,t.page.y)/n,t.page.vx=t.page.x/n,t.page.vy=t.page.y/n,t.client.speed=Mt(t.client.x,t.page.y)/n,t.client.vx=t.client.x/n,t.client.vy=t.client.y/n}function _(t){return t instanceof yt.Event||Ft&&yt.Touch&&t instanceof yt.Touch}function x(t,e,r){return r=r||{},t=t||"page",r.x=e[t+"X"],r.y=e[t+"Y"],r}function b(t,e){return e=e||{},Wt&&_(t)?(x("screen",t,e),e.x+=yt.scrollX,e.y+=yt.scrollY):x("page",t,e),e}function w(t,e){return e=e||{},Wt&&_(t)?x("screen",t,e):x("client",t,e),e}function T(t){return t=t||yt,{x:t.scrollX||t.document.documentElement.scrollLeft,y:t.scrollY||t.document.documentElement.scrollTop}}function E(t){return c(t.pointerId)?t.pointerId:t.identifier}function S(t){return t instanceof Tt?t.correspondingUseElement:t}function M(t){if(o(t))return t;var e=t.ownerDocument||t;return e.defaultView||e.parentWindow||yt}function A(t){var e=t instanceof bt?t.getBoundingClientRect():t.getClientRects()[0];return e&&{left:e.left,right:e.right,top:e.top,bottom:e.bottom,width:e.width||e.right-e.left,height:e.height||e.bottom-e.top}}function P(t){var e=A(t);if(!Yt&&e){var r=T(M(t));e.left+=r.x,e.right+=r.x,e.top+=r.y,e.bottom+=r.y}return e}function C(t){var e=[];return s(t)?(e[0]=t[0],e[1]=t[1]):"touchend"===t.type?1===t.touches.length?(e[0]=t.touches[0],e[1]=t.changedTouches[0]):0===t.touches.length&&(e[0]=t.changedTouches[0],e[1]=t.changedTouches[1]):(e[0]=t.touches[0],e[1]=t.touches[1]),e}function O(t){for(var e,r={pageX:0,pageY:0,clientX:0,clientY:0,screenX:0,screenY:0},n=0;n<t.length;n++)for(e in r)r[e]+=t[n][e];for(e in r)r[e]/=t.length;return r}function R(t){if(t.length||t.touches&&t.touches.length>1){var e=C(t),r=Math.min(e[0].pageX,e[1].pageX),n=Math.min(e[0].pageY,e[1].pageY),i=Math.max(e[0].pageX,e[1].pageX),o=Math.max(e[0].pageY,e[1].pageY);return{x:r,y:n,left:r,top:n,width:i-r,height:o-n}}}function D(t,e){e=e||Lt.deltaSource;var r=e+"X",n=e+"Y",i=C(t),o=i[0][r]-i[1][r],a=i[0][n]-i[1][n];return Mt(o,a)}function L(t,e,r){r=r||Lt.deltaSource;var n=r+"X",i=r+"Y",o=C(t),a=o[0][n]-o[1][n],s=o[0][i]-o[1][i],u=180*Math.atan(s/a)/Math.PI;if(c(e)){var l=u-e,h=l%360;h>315?u-=360+u/360|0:h>135?u-=180+u/360|0:h<-315?u+=360+u/360|0:h<-135&&(u+=180+u/360|0)}return u}function I(t,e){var r=t?t.options.origin:Lt.origin;return"parent"===r?r=z(e):"self"===r?r=t.getRect(e):d(r)&&(r=B(e,r)||{x:0,y:0}),l(r)&&(r=r(t&&e)),i(r)&&(r=P(r)),r.x="x"in r?r.x:r.left,r.y="y"in r?r.y:r.top,r}function F(t,e,r,n){var i=1-t;return i*i*e+2*i*t*r+t*t*n}function N(t,e,r,n,i,o,a){return{x:F(a,t,r,i),y:F(a,e,n,o)}}function k(t,e,r,n){return t/=n,-r*t*(t-2)+e}function U(t,e){for(;e;){if(e===t)return!0;e=e.parentNode}return!1}function B(t,e){for(var r=z(t);i(r);){if(pt(r,e))return r;r=z(r)}return null}function z(t){var e=t.parentNode;if(a(e)){for(;(e=e.host)&&a(e););return e}return e}function j(t,e){return t._context===e.ownerDocument||U(t._context,e)}function G(t,e,r){var n=t.options.ignoreFrom;return!(!n||!i(r))&&(f(n)?vt(r,n,e):!!i(n)&&U(n,r))}function H(t,e,r){var n=t.options.allowFrom;return!n||!!i(r)&&(f(n)?vt(r,n,e):!!i(n)&&U(n,r))}function X(t,e){if(!e)return!1;var r=e.options.drag.axis;return"xy"===t||"xy"===r||r===t}function V(t,e){var r=t.options;return/^resize/.test(e)&&(e="resize"),r[e].snap&&r[e].snap.enabled}function W(t,e){var r=t.options;return/^resize/.test(e)&&(e="resize"),r[e].restrict&&r[e].restrict.enabled}function Y(t,e){var r=t.options;return/^resize/.test(e)&&(e="resize"),r[e].autoScroll&&r[e].autoScroll.enabled}function q(t,e,r){for(var n=t.options,i=n[r.name].max,o=n[r.name].maxPerElement,a=0,s=0,u=0,l=0,c=Ot.length;l<c;l++){var h=Ot[l],f=h.prepared.name,d=h.interacting();if(d){if(a++,a>=zt)return!1;if(h.target===t){if(s+=f===r.name|0,s>=i)return!1;if(h.element===e&&(u++,f!==r.name||u>=o))return!1}}}return zt>0}function Z(t){var e,r,n,i,o,a=t[0],s=a?0:-1,u=[],l=[];for(i=1;i<t.length;i++)if(e=t[i],e&&e!==a)if(a){if(e.parentNode!==e.ownerDocument)if(a.parentNode!==e.ownerDocument){if(!u.length)for(r=a;r.parentNode&&r.parentNode!==r.ownerDocument;)u.unshift(r),r=r.parentNode;if(a instanceof Et&&e instanceof bt&&!(e instanceof wt)){if(e===a.parentNode)continue;r=e.ownerSVGElement}else r=e;for(l=[];r.parentNode!==r.ownerDocument;)l.unshift(r),r=r.parentNode;for(o=0;l[o]&&l[o]===u[o];)o++;var c=[l[o-1],l[o],u[o]];for(n=c[0].lastChild;n;){if(n===c[1]){a=e,s=i,u=[];break}if(n===c[2])break;n=n.previousSibling}}else a=e,s=i}else a=e,s=i;return s}function K(){if(this.target=null,this.element=null,this.dropTarget=null,this.dropElement=null,this.prevDropTarget=null,this.prevDropElement=null,this.prepared={name:null,axis:null,edges:null},this.matches=[],this.matchElements=[],this.inertiaStatus={active:!1,smoothEnd:!1,ending:!1,startEvent:null,upCoords:{},xe:0,ye:0,sx:0,sy:0,t0:0,vx0:0,vys:0,duration:0,resumeDx:0,resumeDy:0,lambda_v0:0,one_ve_v0:0,i:null},l(Function.prototype.bind))this.boundInertiaFrame=this.inertiaFrame.bind(this),this.boundSmoothEndFrame=this.smoothEndFrame.bind(this);else{var t=this;this.boundInertiaFrame=function(){return t.inertiaFrame()},this.boundSmoothEndFrame=function(){return t.smoothEndFrame()}}this.activeDrops={dropzones:[],elements:[],rects:[]},this.pointers=[],this.pointerIds=[],this.downTargets=[],this.downTimes=[],this.holdTimers=[],this.prevCoords={page:{x:0,y:0},client:{x:0,y:0},timeStamp:0},this.curCoords={page:{x:0,y:0},client:{x:0,y:0},timeStamp:0},this.startCoords={page:{x:0,y:0},client:{x:0,y:0},timeStamp:0},this.pointerDelta={page:{x:0,y:0,vx:0,vy:0,speed:0},client:{x:0,y:0,vx:0,vy:0,speed:0},timeStamp:0},this.downEvent=null,this.downPointer={},this._eventTarget=null,this._curEventTarget=null,this.prevEvent=null,this.tapTime=0,this.prevTap=null,this.startOffset={left:0,right:0,top:0,bottom:0},this.restrictOffset={left:0,right:0,top:0,bottom:0},this.snapOffsets=[],this.gesture={start:{x:0,y:0},startDistance:0,prevDistance:0,distance:0,scale:1,startAngle:0,prevAngle:0},this.snapStatus={x:0,y:0,dx:0,dy:0,realX:0,realY:0,snappedX:0,snappedY:0,targets:[],locked:!1,changed:!1},this.restrictStatus={dx:0,dy:0,restrictedX:0,restrictedY:0,snap:null,restricted:!1,changed:!1},this.restrictStatus.snap=this.snapStatus,this.pointerIsDown=!1,this.pointerWasMoved=!1,this.gesturing=!1,this.dragging=!1,this.resizing=!1,this.resizeAxes="xy",this.mouse=!1,
Ot.push(this)}function J(t,e,r){var n,i=0,o=Ot.length,a=/mouse/i.test(t.pointerType||e)||4===t.pointerType,s=E(t);if(/down|start/i.test(e))for(i=0;i<o;i++){n=Ot[i];var u=r;if(n.inertiaStatus.active&&n.target.options[n.prepared.name].inertia.allowResume&&n.mouse===a)for(;u;){if(u===n.element)return n;u=z(u)}}if(a||!Ft&&!Nt){for(i=0;i<o;i++)if(Ot[i].mouse&&!Ot[i].inertiaStatus.active)return Ot[i];for(i=0;i<o;i++)if(Ot[i].mouse&&(!/down/.test(e)||!Ot[i].inertiaStatus.active))return n;return n=new K,n.mouse=!0,n}for(i=0;i<o;i++)if(dt(Ot[i].pointerIds,s))return Ot[i];if(/up|end|out/i.test(e))return null;for(i=0;i<o;i++)if(n=Ot[i],(!n.prepared.name||n.target.options.gesture.enabled)&&!n.interacting()&&(a||!n.mouse))return n;return new K}function Q(t){return function(e){var r,n,i=S(e.path?e.path[0]:e.target),o=S(e.currentTarget);if(Ft&&/touch/.test(e.type))for(Bt=(new Date).getTime(),n=0;n<e.changedTouches.length;n++){var a=e.changedTouches[n];r=J(a,e.type,i),r&&(r._updateEventTargets(i,o),r[t](a,e,i,o))}else{if(!Nt&&/mouse/.test(e.type)){for(n=0;n<Ot.length;n++)if(!Ot[n].mouse&&Ot[n].pointerIsDown)return;if((new Date).getTime()-Bt<500)return}if(r=J(e,e.type,i),!r)return;r._updateEventTargets(i,o),r[t](e,e,i,o)}}}function $(t,e,r,n,i,o){var a,s,u=t.target,l=t.snapStatus,c=t.restrictStatus,h=t.pointers,f=(u&&u.options||Lt).deltaSource,d=f+"X",v=f+"Y",m=u?u.options:Lt,g=I(u,i),y="start"===n,_="end"===n,x=y?t.startCoords:t.curCoords;i=i||t.element,s=p({},x.page),a=p({},x.client),s.x-=g.x,s.y-=g.y,a.x-=g.x,a.y-=g.y;var b=m[r].snap&&m[r].snap.relativePoints;!V(u,r)||y&&b&&b.length||(this.snap={range:l.range,locked:l.locked,x:l.snappedX,y:l.snappedY,realX:l.realX,realY:l.realY,dx:l.dx,dy:l.dy},l.locked&&(s.x+=l.dx,s.y+=l.dy,a.x+=l.dx,a.y+=l.dy)),!W(u,r)||y&&m[r].restrict.elementRect||!c.restricted||(s.x+=c.dx,s.y+=c.dy,a.x+=c.dx,a.y+=c.dy,this.restrict={dx:c.dx,dy:c.dy}),this.pageX=s.x,this.pageY=s.y,this.clientX=a.x,this.clientY=a.y,this.x0=t.startCoords.page.x-g.x,this.y0=t.startCoords.page.y-g.y,this.clientX0=t.startCoords.client.x-g.x,this.clientY0=t.startCoords.client.y-g.y,this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.button=e.button,this.buttons=e.buttons,this.target=i,this.t0=t.downTimes[0],this.type=r+(n||""),this.interaction=t,this.interactable=u;var w=t.inertiaStatus;if(w.active&&(this.detail="inertia"),o&&(this.relatedTarget=o),_?"client"===f?(this.dx=a.x-t.startCoords.client.x,this.dy=a.y-t.startCoords.client.y):(this.dx=s.x-t.startCoords.page.x,this.dy=s.y-t.startCoords.page.y):y?(this.dx=0,this.dy=0):"inertiastart"===n?(this.dx=t.prevEvent.dx,this.dy=t.prevEvent.dy):"client"===f?(this.dx=a.x-t.prevEvent.clientX,this.dy=a.y-t.prevEvent.clientY):(this.dx=s.x-t.prevEvent.pageX,this.dy=s.y-t.prevEvent.pageY),t.prevEvent&&"inertia"===t.prevEvent.detail&&!w.active&&m[r].inertia&&m[r].inertia.zeroResumeDelta&&(w.resumeDx+=this.dx,w.resumeDy+=this.dy,this.dx=this.dy=0),"resize"===r&&t.resizeAxes?m.resize.square?("y"===t.resizeAxes?this.dx=this.dy:this.dy=this.dx,this.axes="xy"):(this.axes=t.resizeAxes,"x"===t.resizeAxes?this.dy=0:"y"===t.resizeAxes&&(this.dx=0)):"gesture"===r&&(this.touches=[h[0],h[1]],y?(this.distance=D(h,f),this.box=R(h),this.scale=1,this.ds=0,this.angle=L(h,void 0,f),this.da=0):_||e instanceof $?(this.distance=t.prevEvent.distance,this.box=t.prevEvent.box,this.scale=t.prevEvent.scale,this.ds=this.scale-1,this.angle=t.prevEvent.angle,this.da=this.angle-t.gesture.startAngle):(this.distance=D(h,f),this.box=R(h),this.scale=this.distance/t.gesture.startDistance,this.angle=L(h,t.gesture.prevAngle,f),this.ds=this.scale-t.gesture.prevScale,this.da=this.angle-t.gesture.prevAngle)),y)this.timeStamp=t.downTimes[0],this.dt=0,this.duration=0,this.speed=0,this.velocityX=0,this.velocityY=0;else if("inertiastart"===n)this.timeStamp=t.prevEvent.timeStamp,this.dt=t.prevEvent.dt,this.duration=t.prevEvent.duration,this.speed=t.prevEvent.speed,this.velocityX=t.prevEvent.velocityX,this.velocityY=t.prevEvent.velocityY;else if(this.timeStamp=(new Date).getTime(),this.dt=this.timeStamp-t.prevEvent.timeStamp,this.duration=this.timeStamp-t.downTimes[0],e instanceof $){var T=this[d]-t.prevEvent[d],E=this[v]-t.prevEvent[v],S=this.dt/1e3;this.speed=Mt(T,E)/S,this.velocityX=T/S,this.velocityY=E/S}else this.speed=t.pointerDelta[f].speed,this.velocityX=t.pointerDelta[f].vx,this.velocityY=t.pointerDelta[f].vy;if((_||"inertiastart"===n)&&t.prevEvent.speed>600&&this.timeStamp-t.prevEvent.timeStamp<150){var M=180*Math.atan2(t.prevEvent.velocityY,t.prevEvent.velocityX)/Math.PI,A=22.5;M<0&&(M+=360);var P=135-A<=M&&M<225+A,C=225-A<=M&&M<315+A,O=!P&&(315-A<=M||M<45+A),F=!C&&45-A<=M&&M<135+A;this.swipe={up:C,down:F,left:P,right:O,angle:M,speed:t.prevEvent.speed,velocity:{x:t.prevEvent.velocityX,y:t.prevEvent.velocityY}}}}function tt(){this.originalEvent.preventDefault()}function et(t){var e="";if("drag"===t.name&&(e=jt.drag),"resize"===t.name)if(t.axis)e=jt[t.name+t.axis];else if(t.edges){for(var r="resize",n=["top","bottom","left","right"],i=0;i<4;i++)t.edges[n[i]]&&(r+=n[i]);e=jt[r]}return e}function rt(t,e,r,n,o,a,s){if(!e)return!1;if(e===!0){var u=c(a.width)?a.width:a.right-a.left,l=c(a.height)?a.height:a.bottom-a.top;if(u<0&&("left"===t?t="right":"right"===t&&(t="left")),l<0&&("top"===t?t="bottom":"bottom"===t&&(t="top")),"left"===t)return r.x<(u>=0?a.left:a.right)+s;if("top"===t)return r.y<(l>=0?a.top:a.bottom)+s;if("right"===t)return r.x>(u>=0?a.right:a.left)-s;if("bottom"===t)return r.y>(l>=0?a.bottom:a.top)-s}return!!i(n)&&(i(e)?e===n:vt(n,e,o))}function nt(t,e,r){var n,i=this.getRect(r),o=!1,a=null,s=null,l=p({},e.curCoords.page),c=this.options;if(!i)return null;if(Gt.resize&&c.resize.enabled){var h=c.resize;if(n={left:!1,right:!1,top:!1,bottom:!1},u(h.edges)){for(var f in n)n[f]=rt(f,h.edges[f],l,e._eventTarget,r,i,h.margin||kt);n.left=n.left&&!n.right,n.top=n.top&&!n.bottom,o=n.left||n.right||n.top||n.bottom}else{var d="y"!==c.resize.axis&&l.x>i.right-kt,v="x"!==c.resize.axis&&l.y>i.bottom-kt;o=d||v,s=(d?"x":"")+(v?"y":"")}}return a=o?"resize":Gt.drag&&c.drag.enabled?"drag":null,Gt.gesture&&e.pointerIds.length>=2&&!e.dragging&&!e.resizing&&(a="gesture"),a?{name:a,axis:s,edges:n}:null}function it(t,e){if(!u(t))return null;var r=t.name,n=e.options;return("resize"===r&&n.resize.enabled||"drag"===r&&n.drag.enabled||"gesture"===r&&n.gesture.enabled)&&Gt[r]?("resize"!==r&&"resizeyx"!==r||(r="resizexy"),t):null}function ot(t,e){var r={},n=Dt[t.type],o=S(t.path?t.path[0]:t.target),a=o;e=!!e;for(var s in t)r[s]=t[s];for(r.originalEvent=t,r.preventDefault=tt;i(a);){for(var u=0;u<n.selectors.length;u++){var l=n.selectors[u],c=n.contexts[u];if(pt(a,l)&&U(c,o)&&U(c,a)){var h=n.listeners[u];r.currentTarget=a;for(var f=0;f<h.length;f++)h[f][1]===e&&h[f][0](r)}}a=z(a)}}function at(t){return ot.call(this,t,!0)}function st(t,e){return Ct.get(t,e)||new ut(t,e)}function ut(t,e){this._element=t,this._iEvents=this._iEvents||{};var r;if(d(t)){this.selector=t;var n=e&&e.context;r=n?M(n):yt,n&&(r.Node?n instanceof r.Node:i(n)||n===r.document)&&(this._context=n)}else r=M(t),i(t,r)&&(St?(Jt.add(this._element,mt.down,$t.pointerDown),Jt.add(this._element,mt.move,$t.pointerHover)):(Jt.add(this._element,"mousedown",$t.pointerDown),Jt.add(this._element,"mousemove",$t.pointerHover),Jt.add(this._element,"touchstart",$t.pointerDown),Jt.add(this._element,"touchmove",$t.pointerHover)));this._doc=r.document,dt(Pt,this._doc)||ht(this._doc),Ct.push(this),this.set(e)}function lt(t,e){var r=!1;return function(){return r||(yt.console.warn(e),r=!0),t.apply(this,arguments)}}function ct(t){for(var e=0;e<Ot.length;e++)Ot[e].pointerEnd(t,t)}function ht(t){if(!dt(Pt,t)){var e=t.defaultView||t.parentWindow;for(var r in Dt)Jt.add(t,r,ot),Jt.add(t,r,at,!0);St?(mt=St===e.MSPointerEvent?{up:"MSPointerUp",down:"MSPointerDown",over:"mouseover",out:"mouseout",move:"MSPointerMove",cancel:"MSPointerCancel"}:{up:"pointerup",down:"pointerdown",over:"pointerover",out:"pointerout",move:"pointermove",cancel:"pointercancel"},Jt.add(t,mt.down,$t.selectorDown),Jt.add(t,mt.move,$t.pointerMove),Jt.add(t,mt.over,$t.pointerOver),Jt.add(t,mt.out,$t.pointerOut),Jt.add(t,mt.up,$t.pointerUp),Jt.add(t,mt.cancel,$t.pointerCancel),Jt.add(t,mt.move,$t.autoScrollMove)):(Jt.add(t,"mousedown",$t.selectorDown),Jt.add(t,"mousemove",$t.pointerMove),Jt.add(t,"mouseup",$t.pointerUp),Jt.add(t,"mouseover",$t.pointerOver),Jt.add(t,"mouseout",$t.pointerOut),Jt.add(t,"touchstart",$t.selectorDown),Jt.add(t,"touchmove",$t.pointerMove),Jt.add(t,"touchend",$t.pointerUp),Jt.add(t,"touchcancel",$t.pointerCancel),Jt.add(t,"mousemove",$t.autoScrollMove),Jt.add(t,"touchmove",$t.autoScrollMove)),Jt.add(e,"blur",ct);try{if(e.frameElement){var n=e.frameElement.ownerDocument,i=n.defaultView;Jt.add(n,"mouseup",$t.pointerEnd),Jt.add(n,"touchend",$t.pointerEnd),Jt.add(n,"touchcancel",$t.pointerEnd),Jt.add(n,"pointerup",$t.pointerEnd),Jt.add(n,"MSPointerUp",$t.pointerEnd),Jt.add(i,"blur",ct)}}catch(t){st.windowParentError=t}Jt.add(t,"dragstart",function(t){for(var e=0;e<Ot.length;e++){var r=Ot[e];if(r.element&&(r.element===t.target||U(r.element,t.target)))return void r.checkAndPreventDefault(t,r.target,r.element)}}),Jt.useAttachEvent&&(Jt.add(t,"selectstart",function(t){var e=Ot[0];e.currentAction()&&e.checkAndPreventDefault(t)}),Jt.add(t,"dblclick",Q("ie8Dblclick"))),Pt.push(t)}}function ft(t,e){for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}function dt(t,e){return ft(t,e)!==-1}function pt(t,e,n){return gt?gt(t,e,n):(yt!==r&&(e=e.replace(/\/deep\//g," ")),t[qt](e))}function vt(t,e,r){for(;i(t);){if(pt(t,e))return!0;if(t=z(t),t===r)return pt(t,e)}return!1}if(r){var mt,gt,yt=function(){var t=r.document.createTextNode("");return t.ownerDocument!==r.document&&"function"==typeof r.wrap&&r.wrap(t)===t?r.wrap(r):r}(),_t=yt.document,xt=yt.DocumentFragment||n,bt=yt.SVGElement||n,wt=yt.SVGSVGElement||n,Tt=yt.SVGElementInstance||n,Et=yt.HTMLElement||yt.Element,St=yt.PointerEvent||yt.MSPointerEvent,Mt=Math.hypot||function(t,e){return Math.sqrt(t*t+e*e)},At={},Pt=[],Ct=[],Ot=[],Rt=!1,Dt={},Lt={base:{accept:null,actionChecker:null,styleCursor:!0,preventDefault:"auto",origin:{x:0,y:0},deltaSource:"page",allowFrom:null,ignoreFrom:null,_context:_t,dropChecker:null},drag:{enabled:!1,manualStart:!0,max:1/0,maxPerElement:1,snap:null,restrict:null,inertia:null,autoScroll:null,axis:"xy"},drop:{enabled:!1,accept:null,overlap:"pointer"},resize:{enabled:!1,manualStart:!1,max:1/0,maxPerElement:1,snap:null,restrict:null,inertia:null,autoScroll:null,square:!1,preserveAspectRatio:!1,axis:"xy",margin:NaN,edges:null,invert:"none"},gesture:{manualStart:!1,enabled:!1,max:1/0,maxPerElement:1,restrict:null},perAction:{manualStart:!1,max:1/0,maxPerElement:1,snap:{enabled:!1,endOnly:!1,range:1/0,targets:null,offsets:null,relativePoints:null},restrict:{enabled:!1,endOnly:!1},autoScroll:{enabled:!1,container:null,margin:60,speed:300},inertia:{enabled:!1,resistance:10,minSpeed:100,endSpeed:10,allowResume:!0,zeroResumeDelta:!0,smoothEndDuration:300}},_holdDuration:600},It={interaction:null,i:null,x:0,y:0,scroll:function(){var t,e,r,n,i=It.interaction.target.options[It.interaction.prepared.name].autoScroll,a=i.container||M(It.interaction.element),s=(new Date).getTime(),u=(s-It.prevTimeX)/1e3,l=(s-It.prevTimeY)/1e3;i.velocity?(t=i.velocity.x,e=i.velocity.y):t=e=i.speed,r=t*u,n=e*l,(r>=1||n>=1)&&(o(a)?a.scrollBy(It.x*r,It.y*n):a&&(a.scrollLeft+=It.x*r,a.scrollTop+=It.y*n),r>=1&&(It.prevTimeX=s),n>=1&&(It.prevTimeY=s)),It.isScrolling&&(Kt(It.i),It.i=Zt(It.scroll))},isScrolling:!1,prevTimeX:0,prevTimeY:0,start:function(t){It.isScrolling=!0,Kt(It.i),It.interaction=t,It.prevTimeX=(new Date).getTime(),It.prevTimeY=(new Date).getTime(),It.i=Zt(It.scroll)},stop:function(){It.isScrolling=!1,Kt(It.i)}},Ft="ontouchstart"in yt||yt.DocumentTouch&&_t instanceof yt.DocumentTouch,Nt=!!St,kt=Ft||Nt?20:10,Ut=1,Bt=0,zt=1/0,jt=_t.all&&!yt.atob?{drag:"move",resizex:"e-resize",resizey:"s-resize",resizexy:"se-resize",resizetop:"n-resize",resizeleft:"w-resize",resizebottom:"s-resize",resizeright:"e-resize",resizetopleft:"se-resize",resizebottomright:"se-resize",resizetopright:"ne-resize",resizebottomleft:"ne-resize",gesture:""}:{drag:"move",resizex:"ew-resize",resizey:"ns-resize",resizexy:"nwse-resize",resizetop:"ns-resize",resizeleft:"ew-resize",resizebottom:"ns-resize",resizeright:"ew-resize",resizetopleft:"nwse-resize",resizebottomright:"nwse-resize",resizetopright:"nesw-resize",resizebottomleft:"nesw-resize",gesture:""},Gt={drag:!0,resize:!0,gesture:!0},Ht="onmousewheel"in _t?"mousewheel":"wheel",Xt=["dragstart","dragmove","draginertiastart","dragend","dragenter","dragleave","dropactivate","dropdeactivate","dropmove","drop","resizestart","resizemove","resizeinertiastart","resizeend","gesturestart","gesturemove","gestureinertiastart","gestureend","down","move","up","cancel","tap","doubletap","hold"],Vt={},Wt="Opera"==navigator.appName&&Ft&&navigator.userAgent.match("Presto"),Yt=/iP(hone|od|ad)/.test(navigator.platform)&&/OS 7[^\d]/.test(navigator.appVersion),qt="matches"in Element.prototype?"matches":"webkitMatchesSelector"in Element.prototype?"webkitMatchesSelector":"mozMatchesSelector"in Element.prototype?"mozMatchesSelector":"oMatchesSelector"in Element.prototype?"oMatchesSelector":"msMatchesSelector",Zt=r.requestAnimationFrame,Kt=r.cancelAnimationFrame,Jt=function(){function t(t,e,s,f){var d=ft(l,t),p=c[d];if(p||(p={events:{},typeCount:0},d=l.push(t)-1,c.push(p),h.push(o?{supplied:[],wrapped:[],useCount:[]}:null)),p.events[e]||(p.events[e]=[],p.typeCount++),!dt(p.events[e],s)){var v;if(o){var m=h[d],g=ft(m.supplied,s),y=m.wrapped[g]||function(e){e.immediatePropagationStopped||(e.target=e.srcElement,e.currentTarget=t,e.preventDefault=e.preventDefault||r,e.stopPropagation=e.stopPropagation||n,e.stopImmediatePropagation=e.stopImmediatePropagation||i,/mouse|click/.test(e.type)&&(e.pageX=e.clientX+M(t).document.documentElement.scrollLeft,e.pageY=e.clientY+M(t).document.documentElement.scrollTop),s(e))};v=t[a](u+e,y,Boolean(f)),g===-1?(m.supplied.push(s),m.wrapped.push(y),m.useCount.push(1)):m.useCount[g]++}else v=t[a](e,s,f||!1);return p.events[e].push(s),v}}function e(t,r,n,i){var a,f,d,p=ft(l,t),v=c[p],m=n;if(v&&v.events)if(o&&(f=h[p],d=ft(f.supplied,n),m=f.wrapped[d]),"all"!==r){if(v.events[r]){var g=v.events[r].length;if("all"===n){for(a=0;a<g;a++)e(t,r,v.events[r][a],Boolean(i));return}for(a=0;a<g;a++)if(v.events[r][a]===n){t[s](u+r,m,i||!1),v.events[r].splice(a,1),o&&f&&(f.useCount[d]--,0===f.useCount[d]&&(f.supplied.splice(d,1),f.wrapped.splice(d,1),f.useCount.splice(d,1)));break}v.events[r]&&0===v.events[r].length&&(v.events[r]=null,v.typeCount--)}v.typeCount||(c.splice(p,1),l.splice(p,1),h.splice(p,1))}else for(r in v.events)v.events.hasOwnProperty(r)&&e(t,r,"all")}function r(){this.returnValue=!1}function n(){this.cancelBubble=!0}function i(){this.cancelBubble=!0,this.immediatePropagationStopped=!0}var o="attachEvent"in yt&&!("addEventListener"in yt),a=o?"attachEvent":"addEventListener",s=o?"detachEvent":"removeEventListener",u=o?"on":"",l=[],c=[],h=[];return{add:t,remove:e,useAttachEvent:o,_elements:l,_targets:c,_attachedListeners:h}}(),Qt={webkit:/(Movement[XY]|Radius[XY]|RotationAngle|Force)$/};K.prototype={getPageXY:function(t,e){return b(t,e,this)},getClientXY:function(t,e){return w(t,e,this)},setEventXY:function(t,e){return g(t,e,this)},pointerOver:function(t,e,r){function n(t,e){t&&j(t,r)&&!G(t,r,r)&&H(t,r,r)&&pt(r,e)&&(i.push(t),o.push(r))}if(!this.prepared.name&&this.mouse){var i=[],o=[],a=this.element;this.addPointer(t),!this.target||!G(this.target,this.element,r)&&H(this.target,this.element,r)||(this.target=null,this.element=null,this.matches=[],this.matchElements=[]);var s=Ct.get(r),u=s&&!G(s,r,r)&&H(s,r,r)&&it(s.getAction(t,e,this,r),s);u&&!q(s,r,u)&&(u=null),u?(this.target=s,this.element=r,this.matches=[],this.matchElements=[]):(Ct.forEachSelector(n),this.validateSelector(t,e,i,o)?(this.matches=i,this.matchElements=o,this.pointerHover(t,e,this.matches,this.matchElements),Jt.add(r,St?mt.move:"mousemove",$t.pointerHover)):this.target&&(U(a,r)?(this.pointerHover(t,e,this.matches,this.matchElements),Jt.add(this.element,St?mt.move:"mousemove",$t.pointerHover)):(this.target=null,this.element=null,this.matches=[],this.matchElements=[])))}},pointerHover:function(t,e,r,n,i,o){var a=this.target;if(!this.prepared.name&&this.mouse){var s;this.setEventXY(this.curCoords,[t]),i?s=this.validateSelector(t,e,i,o):a&&(s=it(a.getAction(this.pointers[0],e,this,this.element),this.target)),a&&a.options.styleCursor&&(s?a._doc.documentElement.style.cursor=et(s):a._doc.documentElement.style.cursor="")}else this.prepared.name&&this.checkAndPreventDefault(e,a,this.element)},pointerOut:function(t,e,r){this.prepared.name||(Ct.get(r)||Jt.remove(r,St?mt.move:"mousemove",$t.pointerHover),this.target&&this.target.options.styleCursor&&!this.interacting()&&(this.target._doc.documentElement.style.cursor=""))},selectorDown:function(t,e,r,n){function o(t,e,n){var i=gt?n.querySelectorAll(e):void 0;j(t,l)&&!G(t,l,r)&&H(t,l,r)&&pt(l,e,i)&&(s.matches.push(t),s.matchElements.push(l))}var a,s=this,u=Jt.useAttachEvent?p({},e):e,l=r,c=this.addPointer(t);if(this.holdTimers[c]=setTimeout(function(){s.pointerHold(Jt.useAttachEvent?u:t,u,r,n)},Lt._holdDuration),this.pointerIsDown=!0,this.inertiaStatus.active&&this.target.selector)for(;i(l);){if(l===this.element&&it(this.target.getAction(t,e,this,this.element),this.target).name===this.prepared.name)return Kt(this.inertiaStatus.i),this.inertiaStatus.active=!1,void this.collectEventTargets(t,e,r,"down");l=z(l)}if(this.interacting())return void this.collectEventTargets(t,e,r,"down");for(this.setEventXY(this.curCoords,[t]),this.downEvent=e;i(l)&&!a;)this.matches=[],this.matchElements=[],Ct.forEachSelector(o),a=this.validateSelector(t,e,this.matches,this.matchElements),l=z(l);return a?(this.prepared.name=a.name,this.prepared.axis=a.axis,this.prepared.edges=a.edges,this.collectEventTargets(t,e,r,"down"),this.pointerDown(t,e,r,n,a)):(this.downTimes[c]=(new Date).getTime(),this.downTargets[c]=r,v(this.downPointer,t),m(this.prevCoords,this.curCoords),this.pointerWasMoved=!1,void this.collectEventTargets(t,e,r,"down"))},pointerDown:function(t,e,r,n,i){if(!i&&!this.inertiaStatus.active&&this.pointerWasMoved&&this.prepared.name)return void this.checkAndPreventDefault(e,this.target,this.element);this.pointerIsDown=!0,this.downEvent=e;var o,a=this.addPointer(t);if(this.pointerIds.length>1&&this.target._element===this.element){var s=it(i||this.target.getAction(t,e,this,this.element),this.target);q(this.target,this.element,s)&&(o=s),this.prepared.name=null}else if(!this.prepared.name){var u=Ct.get(n);u&&!G(u,n,r)&&H(u,n,r)&&(o=it(i||u.getAction(t,e,this,n),u,r))&&q(u,n,o)&&(this.target=u,this.element=n)}var l=this.target,c=l&&l.options;if(!l||!i&&this.prepared.name)this.inertiaStatus.active&&n===this.element&&it(l.getAction(t,e,this,this.element),l).name===this.prepared.name&&(Kt(this.inertiaStatus.i),this.inertiaStatus.active=!1,this.checkAndPreventDefault(e,l,this.element));else{if(o=o||it(i||l.getAction(t,e,this,n),l,this.element),this.setEventXY(this.startCoords,this.pointers),!o)return;c.styleCursor&&(l._doc.documentElement.style.cursor=et(o)),this.resizeAxes="resize"===o.name?o.axis:null,"gesture"===o&&this.pointerIds.length<2&&(o=null),this.prepared.name=o.name,this.prepared.axis=o.axis,this.prepared.edges=o.edges,this.snapStatus.snappedX=this.snapStatus.snappedY=this.restrictStatus.restrictedX=this.restrictStatus.restrictedY=NaN,this.downTimes[a]=(new Date).getTime(),this.downTargets[a]=r,v(this.downPointer,t),m(this.prevCoords,this.startCoords),this.pointerWasMoved=!1,this.checkAndPreventDefault(e,l,this.element)}},setModifications:function(t,e){var r=this.target,n=!0,i=V(r,this.prepared.name)&&(!r.options[this.prepared.name].snap.endOnly||e),o=W(r,this.prepared.name)&&(!r.options[this.prepared.name].restrict.endOnly||e);return i?this.setSnapping(t):this.snapStatus.locked=!1,o?this.setRestriction(t):this.restrictStatus.restricted=!1,i&&this.snapStatus.locked&&!this.snapStatus.changed?n=o&&this.restrictStatus.restricted&&this.restrictStatus.changed:o&&this.restrictStatus.restricted&&!this.restrictStatus.changed&&(n=!1),n},setStartOffsets:function(t,e,r){var n,i,o=e.getRect(r),a=I(e,r),s=e.options[this.prepared.name].snap,u=e.options[this.prepared.name].restrict;o?(this.startOffset.left=this.startCoords.page.x-o.left,this.startOffset.top=this.startCoords.page.y-o.top,this.startOffset.right=o.right-this.startCoords.page.x,this.startOffset.bottom=o.bottom-this.startCoords.page.y,n="width"in o?o.width:o.right-o.left,i="height"in o?o.height:o.bottom-o.top):this.startOffset.left=this.startOffset.top=this.startOffset.right=this.startOffset.bottom=0,this.snapOffsets.splice(0);var l=s&&"startCoords"===s.offset?{x:this.startCoords.page.x-a.x,y:this.startCoords.page.y-a.y}:s&&s.offset||{x:0,y:0};if(o&&s&&s.relativePoints&&s.relativePoints.length)for(var c=0;c<s.relativePoints.length;c++)this.snapOffsets.push({x:this.startOffset.left-n*s.relativePoints[c].x+l.x,y:this.startOffset.top-i*s.relativePoints[c].y+l.y});else this.snapOffsets.push(l);o&&u.elementRect?(this.restrictOffset.left=this.startOffset.left-n*u.elementRect.left,this.restrictOffset.top=this.startOffset.top-i*u.elementRect.top,this.restrictOffset.right=this.startOffset.right-n*(1-u.elementRect.right),this.restrictOffset.bottom=this.startOffset.bottom-i*(1-u.elementRect.bottom)):this.restrictOffset.left=this.restrictOffset.top=this.restrictOffset.right=this.restrictOffset.bottom=0},start:function(t,e,r){this.interacting()||!this.pointerIsDown||this.pointerIds.length<("gesture"===t.name?2:1)||(ft(Ot,this)===-1&&Ot.push(this),this.prepared.name||this.setEventXY(this.startCoords),this.prepared.name=t.name,this.prepared.axis=t.axis,this.prepared.edges=t.edges,this.target=e,this.element=r,this.setStartOffsets(t.name,e,r),this.setModifications(this.startCoords.page),this.prevEvent=this[this.prepared.name+"Start"](this.downEvent))},pointerMove:function(t,e,r,n,o){if(this.inertiaStatus.active){var a=this.inertiaStatus.upCoords.page,s=this.inertiaStatus.upCoords.client,u={pageX:a.x+this.inertiaStatus.sx,pageY:a.y+this.inertiaStatus.sy,clientX:s.x+this.inertiaStatus.sx,clientY:s.y+this.inertiaStatus.sy};this.setEventXY(this.curCoords,[u])}else this.recordPointer(t),this.setEventXY(this.curCoords,this.pointers);var l,c,h=this.curCoords.page.x===this.prevCoords.page.x&&this.curCoords.page.y===this.prevCoords.page.y&&this.curCoords.client.x===this.prevCoords.client.x&&this.curCoords.client.y===this.prevCoords.client.y,f=this.mouse?0:ft(this.pointerIds,E(t));if(this.pointerIsDown&&!this.pointerWasMoved&&(l=this.curCoords.client.x-this.startCoords.client.x,c=this.curCoords.client.y-this.startCoords.client.y,this.pointerWasMoved=Mt(l,c)>Ut),h||this.pointerIsDown&&!this.pointerWasMoved||(this.pointerIsDown&&clearTimeout(this.holdTimers[f]),this.collectEventTargets(t,e,r,"move")),this.pointerIsDown){if(h&&this.pointerWasMoved&&!o)return void this.checkAndPreventDefault(e,this.target,this.element);if(y(this.pointerDelta,this.prevCoords,this.curCoords),this.prepared.name){if(this.pointerWasMoved&&(!this.inertiaStatus.active||t instanceof $&&/inertiastart/.test(t.type))){if(!this.interacting()&&(y(this.pointerDelta,this.prevCoords,this.curCoords),"drag"===this.prepared.name)){var d=Math.abs(l),p=Math.abs(c),v=this.target.options.drag.axis,g=d>p?"x":d<p?"y":"xy";if("xy"!==g&&"xy"!==v&&v!==g){this.prepared.name=null;for(var _=r;i(_);){var x=Ct.get(_);if(x&&x!==this.target&&!x.options.drag.manualStart&&"drag"===x.getAction(this.downPointer,this.downEvent,this,_).name&&X(g,x)){this.prepared.name="drag",this.target=x,this.element=_;break}_=z(_)}if(!this.prepared.name){var b=this,w=function(t,e,n){var i=gt?n.querySelectorAll(e):void 0;if(t!==b.target)return j(t,r)&&!t.options.drag.manualStart&&!G(t,_,r)&&H(t,_,r)&&pt(_,e,i)&&"drag"===t.getAction(b.downPointer,b.downEvent,b,_).name&&X(g,t)&&q(t,_,"drag")?t:void 0};for(_=r;i(_);){var T=Ct.forEachSelector(w);if(T){this.prepared.name="drag",this.target=T,this.element=_;break}_=z(_)}}}}var S=!!this.prepared.name&&!this.interacting();if(S&&(this.target.options[this.prepared.name].manualStart||!q(this.target,this.element,this.prepared)))return void this.stop(e);if(this.prepared.name&&this.target){S&&this.start(this.prepared,this.target,this.element);var M=this.setModifications(this.curCoords.page,o);(M||S)&&(this.prevEvent=this[this.prepared.name+"Move"](e)),this.checkAndPreventDefault(e,this.target,this.element)}}m(this.prevCoords,this.curCoords),(this.dragging||this.resizing)&&this.autoScrollMove(t)}}},dragStart:function(t){var e=new $(this,t,"drag","start",this.element);this.dragging=!0,this.target.fire(e),this.activeDrops.dropzones=[],this.activeDrops.elements=[],this.activeDrops.rects=[],this.dynamicDrop||this.setActiveDrops(this.element);var r=this.getDropEvents(t,e);return r.activate&&this.fireActiveDrops(r.activate),e},dragMove:function(t){var e=this.target,r=new $(this,t,"drag","move",this.element),n=this.element,i=this.getDrop(r,t,n);this.dropTarget=i.dropzone,this.dropElement=i.element;var o=this.getDropEvents(t,r);return e.fire(r),o.leave&&this.prevDropTarget.fire(o.leave),o.enter&&this.dropTarget.fire(o.enter),o.move&&this.dropTarget.fire(o.move),this.prevDropTarget=this.dropTarget,this.prevDropElement=this.dropElement,r},resizeStart:function(t){var e=new $(this,t,"resize","start",this.element);if(this.prepared.edges){var r=this.target.getRect(this.element);if(this.target.options.resize.square||this.target.options.resize.preserveAspectRatio){var n=p({},this.prepared.edges);n.top=n.top||n.left&&!n.bottom,n.left=n.left||n.top&&!n.right,n.bottom=n.bottom||n.right&&!n.top,n.right=n.right||n.bottom&&!n.left,this.prepared._linkedEdges=n}else this.prepared._linkedEdges=null;this.target.options.resize.preserveAspectRatio&&(this.resizeStartAspectRatio=r.width/r.height),this.resizeRects={start:r,current:p({},r),restricted:p({},r),previous:p({},r),delta:{left:0,right:0,width:0,top:0,bottom:0,height:0}},e.rect=this.resizeRects.restricted,e.deltaRect=this.resizeRects.delta}return this.target.fire(e),this.resizing=!0,e},resizeMove:function(t){var e=new $(this,t,"resize","move",this.element),r=this.prepared.edges,n=this.target.options.resize.invert,i="reposition"===n||"negate"===n;if(r){var o=e.dx,a=e.dy,s=this.resizeRects.start,u=this.resizeRects.current,l=this.resizeRects.restricted,c=this.resizeRects.delta,h=p(this.resizeRects.previous,l),f=r;if(this.target.options.resize.preserveAspectRatio){var d=this.resizeStartAspectRatio;r=this.prepared._linkedEdges,f.left&&f.bottom||f.right&&f.top?a=-o/d:f.left||f.right?a=o/d:(f.top||f.bottom)&&(o=a*d)}else this.target.options.resize.square&&(r=this.prepared._linkedEdges,f.left&&f.bottom||f.right&&f.top?a=-o:f.left||f.right?a=o:(f.top||f.bottom)&&(o=a));if(r.top&&(u.top+=a),r.bottom&&(u.bottom+=a),r.left&&(u.left+=o),r.right&&(u.right+=o),i){if(p(l,u),"reposition"===n){var v;l.top>l.bottom&&(v=l.top,l.top=l.bottom,l.bottom=v),l.left>l.right&&(v=l.left,l.left=l.right,l.right=v)}}else l.top=Math.min(u.top,s.bottom),l.bottom=Math.max(u.bottom,s.top),l.left=Math.min(u.left,s.right),l.right=Math.max(u.right,s.left);l.width=l.right-l.left,l.height=l.bottom-l.top;for(var m in l)c[m]=l[m]-h[m];e.edges=this.prepared.edges,e.rect=l,e.deltaRect=c}return this.target.fire(e),e},gestureStart:function(t){var e=new $(this,t,"gesture","start",this.element);return e.ds=0,this.gesture.startDistance=this.gesture.prevDistance=e.distance,this.gesture.startAngle=this.gesture.prevAngle=e.angle,this.gesture.scale=1,this.gesturing=!0,this.target.fire(e),e},gestureMove:function(t){if(!this.pointerIds.length)return this.prevEvent;var e;return e=new $(this,t,"gesture","move",this.element),e.ds=e.scale-this.gesture.scale,this.target.fire(e),this.gesture.prevAngle=e.angle,this.gesture.prevDistance=e.distance,e.scale===1/0||null===e.scale||void 0===e.scale||isNaN(e.scale)||(this.gesture.scale=e.scale),e},pointerHold:function(t,e,r){this.collectEventTargets(t,e,r,"hold")},pointerUp:function(t,e,r,n){var i=this.mouse?0:ft(this.pointerIds,E(t));clearTimeout(this.holdTimers[i]),this.collectEventTargets(t,e,r,"up"),this.collectEventTargets(t,e,r,"tap"),this.pointerEnd(t,e,r,n),this.removePointer(t)},pointerCancel:function(t,e,r,n){var i=this.mouse?0:ft(this.pointerIds,E(t));clearTimeout(this.holdTimers[i]),this.collectEventTargets(t,e,r,"cancel"),this.pointerEnd(t,e,r,n),this.removePointer(t)},ie8Dblclick:function(t,e,r){this.prevTap&&e.clientX===this.prevTap.clientX&&e.clientY===this.prevTap.clientY&&r===this.prevTap.target&&(this.downTargets[0]=r,this.downTimes[0]=(new Date).getTime(),this.collectEventTargets(t,e,r,"tap"))},pointerEnd:function(t,e,r,n){var i,o=this.target,a=o&&o.options,s=a&&this.prepared.name&&a[this.prepared.name].inertia,u=this.inertiaStatus;if(this.interacting()){if(u.active&&!u.ending)return;var l,c,h=(new Date).getTime(),f=!1,d=!1,v=!1,g=V(o,this.prepared.name)&&a[this.prepared.name].snap.endOnly,y=W(o,this.prepared.name)&&a[this.prepared.name].restrict.endOnly,_=0,x=0;if(l=this.dragging?"x"===a.drag.axis?Math.abs(this.pointerDelta.client.vx):"y"===a.drag.axis?Math.abs(this.pointerDelta.client.vy):this.pointerDelta.client.speed:this.pointerDelta.client.speed,f=s&&s.enabled&&"gesture"!==this.prepared.name&&e!==u.startEvent,d=f&&h-this.curCoords.timeStamp<50&&l>s.minSpeed&&l>s.endSpeed,f&&!d&&(g||y)){var b={};b.snap=b.restrict=b,g&&(this.setSnapping(this.curCoords.page,b),b.locked&&(_+=b.dx,x+=b.dy)),y&&(this.setRestriction(this.curCoords.page,b),b.restricted&&(_+=b.dx,x+=b.dy)),(_||x)&&(v=!0)}if(d||v){if(m(u.upCoords,this.curCoords),this.pointers[0]=u.startEvent=c=new $(this,e,this.prepared.name,"inertiastart",this.element),u.t0=h,o.fire(u.startEvent),d){u.vx0=this.pointerDelta.client.vx,u.vy0=this.pointerDelta.client.vy,u.v0=l,this.calcInertia(u);var w,T=p({},this.curCoords.page),E=I(o,this.element);if(T.x=T.x+u.xe-E.x,T.y=T.y+u.ye-E.y,w={useStatusXY:!0,x:T.x,y:T.y,dx:0,dy:0,snap:null},w.snap=w,_=x=0,g){var S=this.setSnapping(this.curCoords.page,w);S.locked&&(_+=S.dx,x+=S.dy)}if(y){var M=this.setRestriction(this.curCoords.page,w);M.restricted&&(_+=M.dx,x+=M.dy)}u.modifiedXe+=_,u.modifiedYe+=x,u.i=Zt(this.boundInertiaFrame)}else u.smoothEnd=!0,u.xe=_,u.ye=x,u.sx=u.sy=0,u.i=Zt(this.boundSmoothEndFrame);return void(u.active=!0)}(g||y)&&this.pointerMove(t,e,r,n,!0)}if(this.dragging){i=new $(this,e,"drag","end",this.element);var A=this.element,P=this.getDrop(i,e,A);this.dropTarget=P.dropzone,this.dropElement=P.element;var C=this.getDropEvents(e,i);C.leave&&this.prevDropTarget.fire(C.leave),C.enter&&this.dropTarget.fire(C.enter),C.drop&&this.dropTarget.fire(C.drop),C.deactivate&&this.fireActiveDrops(C.deactivate),o.fire(i)}else this.resizing?(i=new $(this,e,"resize","end",this.element),o.fire(i)):this.gesturing&&(i=new $(this,e,"gesture","end",this.element),o.fire(i));this.stop(e)},collectDrops:function(t){var e,r=[],n=[];for(t=t||this.element,e=0;e<Ct.length;e++)if(Ct[e].options.drop.enabled){var o=Ct[e],a=o.options.drop.accept;if(!(i(a)&&a!==t||f(a)&&!pt(t,a)))for(var s=o.selector?o._context.querySelectorAll(o.selector):[o._element],u=0,l=s.length;u<l;u++){var c=s[u];c!==t&&(r.push(o),n.push(c))}}return{dropzones:r,elements:n}},fireActiveDrops:function(t){var e,r,n,i;for(e=0;e<this.activeDrops.dropzones.length;e++)r=this.activeDrops.dropzones[e],n=this.activeDrops.elements[e],n!==i&&(t.target=n,r.fire(t)),i=n},setActiveDrops:function(t){var e=this.collectDrops(t,!0);this.activeDrops.dropzones=e.dropzones,this.activeDrops.elements=e.elements,this.activeDrops.rects=[];for(var r=0;r<this.activeDrops.dropzones.length;r++)this.activeDrops.rects[r]=this.activeDrops.dropzones[r].getRect(this.activeDrops.elements[r])},getDrop:function(t,e,r){var n=[];Rt&&this.setActiveDrops(r);for(var i=0;i<this.activeDrops.dropzones.length;i++){
var o=this.activeDrops.dropzones[i],a=this.activeDrops.elements[i],s=this.activeDrops.rects[i];n.push(o.dropCheck(t,e,this.target,r,a,s)?a:null)}var u=Z(n),l=this.activeDrops.dropzones[u]||null,c=this.activeDrops.elements[u]||null;return{dropzone:l,element:c}},getDropEvents:function(t,e){var r={enter:null,leave:null,activate:null,deactivate:null,move:null,drop:null};return this.dropElement!==this.prevDropElement&&(this.prevDropTarget&&(r.leave={target:this.prevDropElement,dropzone:this.prevDropTarget,relatedTarget:e.target,draggable:e.interactable,dragEvent:e,interaction:this,timeStamp:e.timeStamp,type:"dragleave"},e.dragLeave=this.prevDropElement,e.prevDropzone=this.prevDropTarget),this.dropTarget&&(r.enter={target:this.dropElement,dropzone:this.dropTarget,relatedTarget:e.target,draggable:e.interactable,dragEvent:e,interaction:this,timeStamp:e.timeStamp,type:"dragenter"},e.dragEnter=this.dropElement,e.dropzone=this.dropTarget)),"dragend"===e.type&&this.dropTarget&&(r.drop={target:this.dropElement,dropzone:this.dropTarget,relatedTarget:e.target,draggable:e.interactable,dragEvent:e,interaction:this,timeStamp:e.timeStamp,type:"drop"},e.dropzone=this.dropTarget),"dragstart"===e.type&&(r.activate={target:null,dropzone:null,relatedTarget:e.target,draggable:e.interactable,dragEvent:e,interaction:this,timeStamp:e.timeStamp,type:"dropactivate"}),"dragend"===e.type&&(r.deactivate={target:null,dropzone:null,relatedTarget:e.target,draggable:e.interactable,dragEvent:e,interaction:this,timeStamp:e.timeStamp,type:"dropdeactivate"}),"dragmove"===e.type&&this.dropTarget&&(r.move={target:this.dropElement,dropzone:this.dropTarget,relatedTarget:e.target,draggable:e.interactable,dragEvent:e,interaction:this,dragmove:e,timeStamp:e.timeStamp,type:"dropmove"},e.dropzone=this.dropTarget),r},currentAction:function(){return this.dragging&&"drag"||this.resizing&&"resize"||this.gesturing&&"gesture"||null},interacting:function(){return this.dragging||this.resizing||this.gesturing},clearTargets:function(){this.target=this.element=null,this.dropTarget=this.dropElement=this.prevDropTarget=this.prevDropElement=null},stop:function(t){if(this.interacting()){It.stop(),this.matches=[],this.matchElements=[];var e=this.target;e.options.styleCursor&&(e._doc.documentElement.style.cursor=""),t&&l(t.preventDefault)&&this.checkAndPreventDefault(t,e,this.element),this.dragging&&(this.activeDrops.dropzones=this.activeDrops.elements=this.activeDrops.rects=null)}this.clearTargets(),this.pointerIsDown=this.snapStatus.locked=this.dragging=this.resizing=this.gesturing=!1,this.prepared.name=this.prevEvent=null,this.inertiaStatus.resumeDx=this.inertiaStatus.resumeDy=0;for(var r=0;r<this.pointers.length;r++)ft(this.pointerIds,E(this.pointers[r]))===-1&&this.pointers.splice(r,1)},inertiaFrame:function(){var t=this.inertiaStatus,e=this.target.options[this.prepared.name].inertia,r=e.resistance,n=(new Date).getTime()/1e3-t.t0;if(n<t.te){var i=1-(Math.exp(-r*n)-t.lambda_v0)/t.one_ve_v0;if(t.modifiedXe===t.xe&&t.modifiedYe===t.ye)t.sx=t.xe*i,t.sy=t.ye*i;else{var o=N(0,0,t.xe,t.ye,t.modifiedXe,t.modifiedYe,i);t.sx=o.x,t.sy=o.y}this.pointerMove(t.startEvent,t.startEvent),t.i=Zt(this.boundInertiaFrame)}else t.ending=!0,t.sx=t.modifiedXe,t.sy=t.modifiedYe,this.pointerMove(t.startEvent,t.startEvent),this.pointerEnd(t.startEvent,t.startEvent),t.active=t.ending=!1},smoothEndFrame:function(){var t=this.inertiaStatus,e=(new Date).getTime()-t.t0,r=this.target.options[this.prepared.name].inertia.smoothEndDuration;e<r?(t.sx=k(e,0,t.xe,r),t.sy=k(e,0,t.ye,r),this.pointerMove(t.startEvent,t.startEvent),t.i=Zt(this.boundSmoothEndFrame)):(t.ending=!0,t.sx=t.xe,t.sy=t.ye,this.pointerMove(t.startEvent,t.startEvent),this.pointerEnd(t.startEvent,t.startEvent),t.smoothEnd=t.active=t.ending=!1)},addPointer:function(t){var e=E(t),r=this.mouse?0:ft(this.pointerIds,e);return r===-1&&(r=this.pointerIds.length),this.pointerIds[r]=e,this.pointers[r]=t,r},removePointer:function(t){var e=E(t),r=this.mouse?0:ft(this.pointerIds,e);r!==-1&&(this.pointers.splice(r,1),this.pointerIds.splice(r,1),this.downTargets.splice(r,1),this.downTimes.splice(r,1),this.holdTimers.splice(r,1))},recordPointer:function(t){var e=this.mouse?0:ft(this.pointerIds,E(t));e!==-1&&(this.pointers[e]=t)},collectEventTargets:function(t,e,r,n){function o(t,e,o){var a=gt?o.querySelectorAll(e):void 0;t._iEvents[n]&&i(l)&&j(t,l)&&!G(t,l,r)&&H(t,l,r)&&pt(l,e,a)&&(s.push(t),u.push(l))}var a=this.mouse?0:ft(this.pointerIds,E(t));if("tap"!==n||!this.pointerWasMoved&&this.downTargets[a]&&this.downTargets[a]===r){for(var s=[],u=[],l=r;l;)st.isSet(l)&&st(l)._iEvents[n]&&(s.push(st(l)),u.push(l)),Ct.forEachSelector(o),l=z(l);(s.length||"tap"===n)&&this.firePointers(t,e,r,s,u,n)}},firePointers:function(t,e,r,n,i,o){var a,s,u,l=this.mouse?0:ft(this.pointerIds,E(t)),c={};for("doubletap"===o?c=t:(v(c,e),e!==t&&v(c,t),c.preventDefault=tt,c.stopPropagation=$.prototype.stopPropagation,c.stopImmediatePropagation=$.prototype.stopImmediatePropagation,c.interaction=this,c.timeStamp=(new Date).getTime(),c.originalEvent=e,c.originalPointer=t,c.type=o,c.pointerId=E(t),c.pointerType=this.mouse?"mouse":Nt?f(t.pointerType)?t.pointerType:[,,"touch","pen","mouse"][t.pointerType]:"touch"),"tap"===o&&(c.dt=c.timeStamp-this.downTimes[l],s=c.timeStamp-this.tapTime,u=!!(this.prevTap&&"doubletap"!==this.prevTap.type&&this.prevTap.target===c.target&&s<500),c.double=u,this.tapTime=c.timeStamp),a=0;a<n.length&&(c.currentTarget=i[a],c.interactable=n[a],n[a].fire(c),!(c.immediatePropagationStopped||c.propagationStopped&&i[a+1]!==c.currentTarget));a++);if(u){var h={};p(h,c),h.dt=s,h.type="doubletap",this.collectEventTargets(h,e,r,"doubletap"),this.prevTap=h}else"tap"===o&&(this.prevTap=c)},validateSelector:function(t,e,r,n){for(var i=0,o=r.length;i<o;i++){var a=r[i],s=n[i],u=it(a.getAction(t,e,this,s),a);if(u&&q(a,s,u))return this.target=a,this.element=s,u}},setSnapping:function(t,e){var r,n,i,o=this.target.options[this.prepared.name].snap,a=[];if(e=e||this.snapStatus,e.useStatusXY)n={x:e.x,y:e.y};else{var s=I(this.target,this.element);n=p({},t),n.x-=s.x,n.y-=s.y}e.realX=n.x,e.realY=n.y,n.x=n.x-this.inertiaStatus.resumeDx,n.y=n.y-this.inertiaStatus.resumeDy;for(var u=o.targets?o.targets.length:0,h=0;h<this.snapOffsets.length;h++){var f={x:n.x-this.snapOffsets[h].x,y:n.y-this.snapOffsets[h].y};for(i=0;i<u;i++)r=l(o.targets[i])?o.targets[i](f.x,f.y,this):o.targets[i],r&&a.push({x:c(r.x)?r.x+this.snapOffsets[h].x:f.x,y:c(r.y)?r.y+this.snapOffsets[h].y:f.y,range:c(r.range)?r.range:o.range})}var d={target:null,inRange:!1,distance:0,range:0,dx:0,dy:0};for(i=0,u=a.length;i<u;i++){r=a[i];var v=r.range,m=r.x-n.x,g=r.y-n.y,y=Mt(m,g),_=y<=v;v===1/0&&d.inRange&&d.range!==1/0&&(_=!1),d.target&&!(_?d.inRange&&v!==1/0?y/v<d.distance/d.range:v===1/0&&d.range!==1/0||y<d.distance:!d.inRange&&y<d.distance)||(v===1/0&&(_=!0),d.target=r,d.distance=y,d.range=v,d.inRange=_,d.dx=m,d.dy=g,e.range=v)}var x;return d.target?(x=e.snappedX!==d.target.x||e.snappedY!==d.target.y,e.snappedX=d.target.x,e.snappedY=d.target.y):(x=!0,e.snappedX=NaN,e.snappedY=NaN),e.dx=d.dx,e.dy=d.dy,e.changed=x||d.inRange&&!e.locked,e.locked=d.inRange,e},setRestriction:function(t,e){var r,n=this.target,o=n&&n.options[this.prepared.name].restrict,a=o&&o.restriction;if(!a)return e;e=e||this.restrictStatus,r=r=e.useStatusXY?{x:e.x,y:e.y}:p({},t),e.snap&&e.snap.locked&&(r.x+=e.snap.dx||0,r.y+=e.snap.dy||0),r.x-=this.inertiaStatus.resumeDx,r.y-=this.inertiaStatus.resumeDy,e.dx=0,e.dy=0,e.restricted=!1;var s,u,c;return f(a)&&(a="parent"===a?z(this.element):"self"===a?n.getRect(this.element):B(this.element,a),!a)?e:(l(a)&&(a=a(r.x,r.y,this.element)),i(a)&&(a=P(a)),s=a,a?"x"in a&&"y"in a?(u=Math.max(Math.min(s.x+s.width-this.restrictOffset.right,r.x),s.x+this.restrictOffset.left),c=Math.max(Math.min(s.y+s.height-this.restrictOffset.bottom,r.y),s.y+this.restrictOffset.top)):(u=Math.max(Math.min(s.right-this.restrictOffset.right,r.x),s.left+this.restrictOffset.left),c=Math.max(Math.min(s.bottom-this.restrictOffset.bottom,r.y),s.top+this.restrictOffset.top)):(u=r.x,c=r.y),e.dx=u-r.x,e.dy=c-r.y,e.changed=e.restrictedX!==u||e.restrictedY!==c,e.restricted=!(!e.dx&&!e.dy),e.restrictedX=u,e.restrictedY=c,e)},checkAndPreventDefault:function(t,e,r){if(e=e||this.target){var n=e.options,i=n.preventDefault;if("auto"===i&&r&&!/^(input|select|textarea)$/i.test(t.target.nodeName)){if(/down|start/i.test(t.type)&&"drag"===this.prepared.name&&"xy"!==n.drag.axis)return;if(n[this.prepared.name]&&n[this.prepared.name].manualStart&&!this.interacting())return;return void t.preventDefault()}return"always"===i?void t.preventDefault():void 0}},calcInertia:function(t){var e=this.target.options[this.prepared.name].inertia,r=e.resistance,n=-Math.log(e.endSpeed/t.v0)/r;t.x0=this.prevEvent.pageX,t.y0=this.prevEvent.pageY,t.t0=t.startEvent.timeStamp/1e3,t.sx=t.sy=0,t.modifiedXe=t.xe=(t.vx0-n)/r,t.modifiedYe=t.ye=(t.vy0-n)/r,t.te=n,t.lambda_v0=r/t.v0,t.one_ve_v0=1-e.endSpeed/t.v0},autoScrollMove:function(t){if(this.interacting()&&Y(this.target,this.prepared.name)){if(this.inertiaStatus.active)return void(It.x=It.y=0);var e,r,n,i,a=this.target.options[this.prepared.name].autoScroll,s=a.container||M(this.element);if(o(s))i=t.clientX<It.margin,e=t.clientY<It.margin,r=t.clientX>s.innerWidth-It.margin,n=t.clientY>s.innerHeight-It.margin;else{var u=A(s);i=t.clientX<u.left+It.margin,e=t.clientY<u.top+It.margin,r=t.clientX>u.right-It.margin,n=t.clientY>u.bottom-It.margin}It.x=r?1:i?-1:0,It.y=n?1:e?-1:0,It.isScrolling||(It.margin=a.margin,It.speed=a.speed,It.start(this))}},_updateEventTargets:function(t,e){this._eventTarget=t,this._curEventTarget=e}},$.prototype={preventDefault:n,stopImmediatePropagation:function(){this.immediatePropagationStopped=this.propagationStopped=!0},stopPropagation:function(){this.propagationStopped=!0}};for(var $t={},te=["dragStart","dragMove","resizeStart","resizeMove","gestureStart","gestureMove","pointerOver","pointerOut","pointerHover","selectorDown","pointerDown","pointerMove","pointerUp","pointerCancel","pointerEnd","addPointer","removePointer","recordPointer","autoScrollMove"],ee=0,re=te.length;ee<re;ee++){var ne=te[ee];$t[ne]=Q(ne)}Ct.indexOfElement=function(t,e){e=e||_t;for(var r=0;r<this.length;r++){var n=this[r];if(n.selector===t&&n._context===e||!n.selector&&n._element===t)return r}return-1},Ct.get=function(t,e){return this[this.indexOfElement(t,e&&e.context)]},Ct.forEachSelector=function(t){for(var e=0;e<this.length;e++){var r=this[e];if(r.selector){var n=t(r,r.selector,r._context,e,this);if(void 0!==n)return n}}},ut.prototype={setOnEvents:function(t,e){return"drop"===t?(l(e.ondrop)&&(this.ondrop=e.ondrop),l(e.ondropactivate)&&(this.ondropactivate=e.ondropactivate),l(e.ondropdeactivate)&&(this.ondropdeactivate=e.ondropdeactivate),l(e.ondragenter)&&(this.ondragenter=e.ondragenter),l(e.ondragleave)&&(this.ondragleave=e.ondragleave),l(e.ondropmove)&&(this.ondropmove=e.ondropmove)):(t="on"+t,l(e.onstart)&&(this[t+"start"]=e.onstart),l(e.onmove)&&(this[t+"move"]=e.onmove),l(e.onend)&&(this[t+"end"]=e.onend),l(e.oninertiastart)&&(this[t+"inertiastart"]=e.oninertiastart)),this},draggable:function(t){return u(t)?(this.options.drag.enabled=t.enabled!==!1,this.setPerAction("drag",t),this.setOnEvents("drag",t),/^x$|^y$|^xy$/.test(t.axis)?this.options.drag.axis=t.axis:null===t.axis&&delete this.options.drag.axis,this):h(t)?(this.options.drag.enabled=t,this):this.options.drag},setPerAction:function(t,e){for(var r in e)r in Lt[t]&&(u(e[r])?(this.options[t][r]=p(this.options[t][r]||{},e[r]),u(Lt.perAction[r])&&"enabled"in Lt.perAction[r]&&(this.options[t][r].enabled=e[r].enabled!==!1)):h(e[r])&&u(Lt.perAction[r])?this.options[t][r].enabled=e[r]:void 0!==e[r]&&(this.options[t][r]=e[r]))},dropzone:function(t){return u(t)?(this.options.drop.enabled=t.enabled!==!1,this.setOnEvents("drop",t),/^(pointer|center)$/.test(t.overlap)?this.options.drop.overlap=t.overlap:c(t.overlap)&&(this.options.drop.overlap=Math.max(Math.min(1,t.overlap),0)),"accept"in t&&(this.options.drop.accept=t.accept),"checker"in t&&(this.options.drop.checker=t.checker),this):h(t)?(this.options.drop.enabled=t,this):this.options.drop},dropCheck:function(t,e,r,n,i,o){var a=!1;if(!(o=o||this.getRect(i)))return!!this.options.drop.checker&&this.options.drop.checker(t,e,a,this,i,r,n);var s=this.options.drop.overlap;if("pointer"===s){var u,l,h=b(t),f=I(r,n);h.x+=f.x,h.y+=f.y,u=h.x>o.left&&h.x<o.right,l=h.y>o.top&&h.y<o.bottom,a=u&&l}var d=r.getRect(n);if("center"===s){var p=d.left+d.width/2,v=d.top+d.height/2;a=p>=o.left&&p<=o.right&&v>=o.top&&v<=o.bottom}if(c(s)){var m=Math.max(0,Math.min(o.right,d.right)-Math.max(o.left,d.left))*Math.max(0,Math.min(o.bottom,d.bottom)-Math.max(o.top,d.top)),g=m/(d.width*d.height);a=g>=s}return this.options.drop.checker&&(a=this.options.drop.checker(t,e,a,this,i,r,n)),a},dropChecker:function(t){return l(t)?(this.options.drop.checker=t,this):null===t?(delete this.options.getRect,this):this.options.drop.checker},accept:function(t){return i(t)?(this.options.drop.accept=t,this):d(t)?(this.options.drop.accept=t,this):null===t?(delete this.options.drop.accept,this):this.options.drop.accept},resizable:function(t){return u(t)?(this.options.resize.enabled=t.enabled!==!1,this.setPerAction("resize",t),this.setOnEvents("resize",t),/^x$|^y$|^xy$/.test(t.axis)?this.options.resize.axis=t.axis:null===t.axis&&(this.options.resize.axis=Lt.resize.axis),h(t.preserveAspectRatio)?this.options.resize.preserveAspectRatio=t.preserveAspectRatio:h(t.square)&&(this.options.resize.square=t.square),this):h(t)?(this.options.resize.enabled=t,this):this.options.resize},squareResize:function(t){return h(t)?(this.options.resize.square=t,this):null===t?(delete this.options.resize.square,this):this.options.resize.square},gesturable:function(t){return u(t)?(this.options.gesture.enabled=t.enabled!==!1,this.setPerAction("gesture",t),this.setOnEvents("gesture",t),this):h(t)?(this.options.gesture.enabled=t,this):this.options.gesture},autoScroll:function(t){return u(t)?t=p({actions:["drag","resize"]},t):h(t)&&(t={actions:["drag","resize"],enabled:t}),this.setOptions("autoScroll",t)},snap:function(t){var e=this.setOptions("snap",t);return e===this?this:e.drag},setOptions:function(t,e){var r,n=e&&s(e.actions)?e.actions:["drag"];if(u(e)||h(e)){for(r=0;r<n.length;r++){var i=/resize/.test(n[r])?"resize":n[r];if(u(this.options[i])){var o=this.options[i][t];u(e)?(p(o,e),o.enabled=e.enabled!==!1,"snap"===t&&("grid"===o.mode?o.targets=[st.createSnapGrid(p({offset:o.gridOffset||{x:0,y:0}},o.grid||{}))]:"anchor"===o.mode?o.targets=o.anchors:"path"===o.mode&&(o.targets=o.paths),"elementOrigin"in e&&(o.relativePoints=[e.elementOrigin]))):h(e)&&(o.enabled=e)}}return this}var a={},l=["drag","resize","gesture"];for(r=0;r<l.length;r++)t in Lt[l[r]]&&(a[l[r]]=this.options[l[r]][t]);return a},inertia:function(t){var e=this.setOptions("inertia",t);return e===this?this:e.drag},getAction:function(t,e,r,n){var i=this.defaultActionChecker(t,r,n);return this.options.actionChecker?this.options.actionChecker(t,e,i,this,n,r):i},defaultActionChecker:nt,actionChecker:function(t){return l(t)?(this.options.actionChecker=t,this):null===t?(delete this.options.actionChecker,this):this.options.actionChecker},getRect:function(t){return t=t||this._element,this.selector&&!i(t)&&(t=this._context.querySelector(this.selector)),P(t)},rectChecker:function(t){return l(t)?(this.getRect=t,this):null===t?(delete this.options.getRect,this):this.getRect},styleCursor:function(t){return h(t)?(this.options.styleCursor=t,this):null===t?(delete this.options.styleCursor,this):this.options.styleCursor},preventDefault:function(t){return/^(always|never|auto)$/.test(t)?(this.options.preventDefault=t,this):h(t)?(this.options.preventDefault=t?"always":"never",this):this.options.preventDefault},origin:function(t){return d(t)?(this.options.origin=t,this):u(t)?(this.options.origin=t,this):this.options.origin},deltaSource:function(t){return"page"===t||"client"===t?(this.options.deltaSource=t,this):this.options.deltaSource},restrict:function(t){if(!u(t))return this.setOptions("restrict",t);for(var e,r=["drag","resize","gesture"],n=0;n<r.length;n++){var i=r[n];if(i in t){var o=p({actions:[i],restriction:t[i]},t);e=this.setOptions("restrict",o)}}return e},context:function(){return this._context},_context:_t,ignoreFrom:function(t){return d(t)?(this.options.ignoreFrom=t,this):i(t)?(this.options.ignoreFrom=t,this):this.options.ignoreFrom},allowFrom:function(t){return d(t)?(this.options.allowFrom=t,this):i(t)?(this.options.allowFrom=t,this):this.options.allowFrom},element:function(){return this._element},fire:function(t){if(!t||!t.type||!dt(Xt,t.type))return this;var e,r,n,i="on"+t.type,o="";if(t.type in this._iEvents)for(e=this._iEvents[t.type],r=0,n=e.length;r<n&&!t.immediatePropagationStopped;r++)o=e[r].name,e[r](t);if(l(this[i])&&(o=this[i].name,this[i](t)),t.type in Vt&&(e=Vt[t.type]))for(r=0,n=e.length;r<n&&!t.immediatePropagationStopped;r++)o=e[r].name,e[r](t);return this},on:function(t,e,r){var n;if(f(t)&&t.search(" ")!==-1&&(t=t.trim().split(/ +/)),s(t)){for(n=0;n<t.length;n++)this.on(t[n],e,r);return this}if(u(t)){for(var i in t)this.on(i,t[i],e);return this}if("wheel"===t&&(t=Ht),r=!!r,dt(Xt,t))t in this._iEvents?this._iEvents[t].push(e):this._iEvents[t]=[e];else if(this.selector){if(!Dt[t])for(Dt[t]={selectors:[],contexts:[],listeners:[]},n=0;n<Pt.length;n++)Jt.add(Pt[n],t,ot),Jt.add(Pt[n],t,at,!0);var o,a=Dt[t];for(o=a.selectors.length-1;o>=0&&(a.selectors[o]!==this.selector||a.contexts[o]!==this._context);o--);o===-1&&(o=a.selectors.length,a.selectors.push(this.selector),a.contexts.push(this._context),a.listeners.push([])),a.listeners[o].push([e,r])}else Jt.add(this._element,t,e,r);return this},off:function(t,e,r){var n;if(f(t)&&t.search(" ")!==-1&&(t=t.trim().split(/ +/)),s(t)){for(n=0;n<t.length;n++)this.off(t[n],e,r);return this}if(u(t)){for(var i in t)this.off(i,t[i],e);return this}var o,a=-1;if(r=!!r,"wheel"===t&&(t=Ht),dt(Xt,t))o=this._iEvents[t],o&&(a=ft(o,e))!==-1&&this._iEvents[t].splice(a,1);else if(this.selector){var l=Dt[t],c=!1;if(!l)return this;for(a=l.selectors.length-1;a>=0;a--)if(l.selectors[a]===this.selector&&l.contexts[a]===this._context){var h=l.listeners[a];for(n=h.length-1;n>=0;n--){var d=h[n][0],p=h[n][1];if(d===e&&p===r){h.splice(n,1),h.length||(l.selectors.splice(a,1),l.contexts.splice(a,1),l.listeners.splice(a,1),Jt.remove(this._context,t,ot),Jt.remove(this._context,t,at,!0),l.selectors.length||(Dt[t]=null)),c=!0;break}}if(c)break}}else Jt.remove(this._element,t,e,r);return this},set:function(t){u(t)||(t={}),this.options=p({},Lt.base);var e,r=["drag","drop","resize","gesture"],n=["draggable","dropzone","resizable","gesturable"],i=p(p({},Lt.perAction),t[o]||{});for(e=0;e<r.length;e++){var o=r[e];this.options[o]=p({},Lt[o]),this.setPerAction(o,i),this[n[e]](t[o])}var a=["accept","actionChecker","allowFrom","deltaSource","dropChecker","ignoreFrom","origin","preventDefault","rectChecker","styleCursor"];for(e=0,re=a.length;e<re;e++){var s=a[e];this.options[s]=Lt.base[s],s in t&&this[s](t[s])}return this},unset:function(){if(Jt.remove(this._element,"all"),f(this.selector))for(var t in Dt)for(var e=Dt[t],r=0;r<e.selectors.length;r++){e.selectors[r]===this.selector&&e.contexts[r]===this._context&&(e.selectors.splice(r,1),e.contexts.splice(r,1),e.listeners.splice(r,1),e.selectors.length||(Dt[t]=null)),Jt.remove(this._context,t,ot),Jt.remove(this._context,t,at,!0);break}else Jt.remove(this,"all"),this.options.styleCursor&&(this._element.style.cursor="");return this.dropzone(!1),Ct.splice(ft(Ct,this),1),st}},ut.prototype.snap=lt(ut.prototype.snap,"Interactable#snap is deprecated. See the new documentation for snapping at http://interactjs.io/docs/snapping"),ut.prototype.restrict=lt(ut.prototype.restrict,"Interactable#restrict is deprecated. See the new documentation for resticting at http://interactjs.io/docs/restriction"),ut.prototype.inertia=lt(ut.prototype.inertia,"Interactable#inertia is deprecated. See the new documentation for inertia at http://interactjs.io/docs/inertia"),ut.prototype.autoScroll=lt(ut.prototype.autoScroll,"Interactable#autoScroll is deprecated. See the new documentation for autoScroll at http://interactjs.io/docs/#autoscroll"),ut.prototype.squareResize=lt(ut.prototype.squareResize,"Interactable#squareResize is deprecated. See http://interactjs.io/docs/#resize-square"),ut.prototype.accept=lt(ut.prototype.accept,"Interactable#accept is deprecated. use Interactable#dropzone({ accept: target }) instead"),ut.prototype.dropChecker=lt(ut.prototype.dropChecker,"Interactable#dropChecker is deprecated. use Interactable#dropzone({ dropChecker: checkerFunction }) instead"),ut.prototype.context=lt(ut.prototype.context,"Interactable#context as a method is deprecated. It will soon be a DOM Node instead"),st.isSet=function(t,e){return Ct.indexOfElement(t,e&&e.context)!==-1},st.on=function(t,e,r){if(f(t)&&t.search(" ")!==-1&&(t=t.trim().split(/ +/)),s(t)){for(var n=0;n<t.length;n++)st.on(t[n],e,r);return st}if(u(t)){for(var i in t)st.on(i,t[i],e);return st}return dt(Xt,t)?Vt[t]?Vt[t].push(e):Vt[t]=[e]:Jt.add(_t,t,e,r),st},st.off=function(t,e,r){if(f(t)&&t.search(" ")!==-1&&(t=t.trim().split(/ +/)),s(t)){for(var n=0;n<t.length;n++)st.off(t[n],e,r);return st}if(u(t)){for(var i in t)st.off(i,t[i],e);return st}if(dt(Xt,t)){var o;t in Vt&&(o=ft(Vt[t],e))!==-1&&Vt[t].splice(o,1)}else Jt.remove(_t,t,e,r);return st},st.enableDragging=lt(function(t){return null!==t&&void 0!==t?(Gt.drag=t,st):Gt.drag},"interact.enableDragging is deprecated and will soon be removed."),st.enableResizing=lt(function(t){return null!==t&&void 0!==t?(Gt.resize=t,st):Gt.resize},"interact.enableResizing is deprecated and will soon be removed."),st.enableGesturing=lt(function(t){return null!==t&&void 0!==t?(Gt.gesture=t,st):Gt.gesture},"interact.enableGesturing is deprecated and will soon be removed."),st.eventTypes=Xt,st.debug=function(){var t=Ot[0]||new K;return{interactions:Ot,target:t.target,dragging:t.dragging,resizing:t.resizing,gesturing:t.gesturing,prepared:t.prepared,matches:t.matches,matchElements:t.matchElements,prevCoords:t.prevCoords,startCoords:t.startCoords,pointerIds:t.pointerIds,pointers:t.pointers,addPointer:$t.addPointer,removePointer:$t.removePointer,recordPointer:$t.recordPointer,snap:t.snapStatus,restrict:t.restrictStatus,inertia:t.inertiaStatus,downTime:t.downTimes[0],downEvent:t.downEvent,downPointer:t.downPointer,prevEvent:t.prevEvent,Interactable:ut,interactables:Ct,pointerIsDown:t.pointerIsDown,defaultOptions:Lt,defaultActionChecker:nt,actionCursors:jt,dragMove:$t.dragMove,resizeMove:$t.resizeMove,gestureMove:$t.gestureMove,pointerUp:$t.pointerUp,pointerDown:$t.pointerDown,pointerMove:$t.pointerMove,pointerHover:$t.pointerHover,eventTypes:Xt,events:Jt,globalEvents:Vt,delegatedEvents:Dt,prefixedPropREs:Qt}},st.getPointerAverage=O,st.getTouchBBox=R,st.getTouchDistance=D,st.getTouchAngle=L,st.getElementRect=P,st.getElementClientRect=A,st.matchesSelector=pt,st.closest=B,st.margin=lt(function(t){return c(t)?(kt=t,st):kt},"interact.margin is deprecated. Use interact(target).resizable({ margin: number }); instead."),st.supportsTouch=function(){return Ft},st.supportsPointerEvent=function(){return Nt},st.stop=function(t){for(var e=Ot.length-1;e>=0;e--)Ot[e].stop(t);return st},st.dynamicDrop=function(t){return h(t)?(Rt=t,st):Rt},st.pointerMoveTolerance=function(t){return c(t)?(Ut=t,this):Ut},st.maxInteractions=function(t){return c(t)?(zt=t,this):zt},st.createSnapGrid=function(t){return function(e,r){var n=0,i=0;u(t.offset)&&(n=t.offset.x,i=t.offset.y);var o=Math.round((e-n)/t.x),a=Math.round((r-i)/t.y),s=o*t.x+n,l=a*t.y+i;return{x:s,y:l,range:t.range}}},ht(_t),qt in Element.prototype&&l(Element.prototype[qt])||(gt=function(t,e,r){r=r||t.parentNode.querySelectorAll(e);for(var n=0,i=r.length;n<i;n++)if(r[n]===t)return!0;return!1}),function(){for(var t=0,e=["ms","moz","webkit","o"],n=0;n<e.length&&!r.requestAnimationFrame;++n)Zt=r[e[n]+"RequestAnimationFrame"],Kt=r[e[n]+"CancelAnimationFrame"]||r[e[n]+"CancelRequestAnimationFrame"];Zt||(Zt=function(e){var r=(new Date).getTime(),n=Math.max(0,16-(r-t)),i=setTimeout(function(){e(r+n)},n);return t=r+n,i}),Kt||(Kt=function(t){clearTimeout(t)})}(),"undefined"!=typeof t&&t.exports&&(e=t.exports=st),e.interact=st}}("undefined"==typeof window?void 0:window)},function(t,e,r){var n,i,o;/**
	 * isMobile.js v0.4.0
	 *
	 * A simple library to detect Apple phones and tablets,
	 * Android phones and tablets, other mobile devices (like blackberry, mini-opera and windows phone),
	 * and any kind of seven inch device, via user agent sniffing.
	 *
	 * @author: Kai Mallea (kmallea@gmail.com)
	 *
	 * @license: http://creativecommons.org/publicdomain/zero/1.0/
	 */
!function(r){var a=/iPhone/i,s=/iPod/i,u=/iPad/i,l=/(?=.*\bAndroid\b)(?=.*\bMobile\b)/i,c=/Android/i,h=/(?=.*\bAndroid\b)(?=.*\bSD4930UR\b)/i,f=/(?=.*\bAndroid\b)(?=.*\b(?:KFOT|KFTT|KFJWI|KFJWA|KFSOWI|KFTHWI|KFTHWA|KFAPWI|KFAPWA|KFARWI|KFASWI|KFSAWI|KFSAWA)\b)/i,d=/IEMobile/i,p=/(?=.*\bWindows\b)(?=.*\bARM\b)/i,v=/BlackBerry/i,m=/BB10/i,g=/Opera Mini/i,y=/(CriOS|Chrome)(?=.*\bMobile\b)/i,_=/(?=.*\bFirefox\b)(?=.*\bMobile\b)/i,x=new RegExp("(?:Nexus 7|BNTV250|Kindle Fire|Silk|GT-P1000)","i"),b=function(t,e){return t.test(e)},w=function(t){var e=t||navigator.userAgent,r=e.split("[FBAN");if("undefined"!=typeof r[1]&&(e=r[0]),r=e.split("Twitter"),"undefined"!=typeof r[1]&&(e=r[0]),this.apple={phone:b(a,e),ipod:b(s,e),tablet:!b(a,e)&&b(u,e),device:b(a,e)||b(s,e)||b(u,e)},this.amazon={phone:b(h,e),tablet:!b(h,e)&&b(f,e),device:b(h,e)||b(f,e)},this.android={phone:b(h,e)||b(l,e),tablet:!b(h,e)&&!b(l,e)&&(b(f,e)||b(c,e)),device:b(h,e)||b(f,e)||b(l,e)||b(c,e)},this.windows={phone:b(d,e),tablet:b(p,e),device:b(d,e)||b(p,e)},this.other={blackberry:b(v,e),blackberry10:b(m,e),opera:b(g,e),firefox:b(_,e),chrome:b(y,e),device:b(v,e)||b(m,e)||b(g,e)||b(_,e)||b(y,e)},this.seven_inch=b(x,e),this.any=this.apple.device||this.android.device||this.windows.device||this.other.device||this.seven_inch,this.phone=this.apple.phone||this.android.phone||this.windows.phone,this.tablet=this.apple.tablet||this.android.tablet||this.windows.tablet,"undefined"==typeof window)return this},T=function(){var t=new w;return t.Class=w,t};"undefined"!=typeof t&&t.exports&&"undefined"==typeof window?t.exports=w:"undefined"!=typeof t&&t.exports&&"undefined"!=typeof window?t.exports=T():(i=[],n=r.isMobile=T(),o="function"==typeof n?n.apply(e,i):n,!(void 0!==o&&(t.exports=o)))}(this)},function(t,e){var r=function(t,e){if(!n){var r=Object.keys(i);n={};for(var o=0;o<r.length;++o){var a=r[o];n[t[a]]=i[a]}}return n[e]},n=null,i={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D"};t.exports=r},function(t,e,r){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var i=r(4),o=function(){function t(){n(this,t),this.minX=1/0,this.minY=1/0,this.maxX=-(1/0),this.maxY=-(1/0),this.rect=null}return t.prototype.isEmpty=function(){return this.minX>this.maxX||this.minY>this.maxY},t.prototype.clear=function(){this.updateID++,this.minX=1/0,this.minY=1/0,this.maxX=-(1/0),this.maxY=-(1/0)},t.prototype.getRectangle=function(t){return this.minX>this.maxX||this.minY>this.maxY?i.Rectangle.EMPTY:(t=t||new i.Rectangle(0,0,1,1),t.x=this.minX,t.y=this.minY,t.width=this.maxX-this.minX,t.height=this.maxY-this.minY,t)},t.prototype.addPoint=function(t){this.minX=Math.min(this.minX,t.x),this.maxX=Math.max(this.maxX,t.x),this.minY=Math.min(this.minY,t.y),this.maxY=Math.max(this.maxY,t.y)},t.prototype.addQuad=function(t){var e=this.minX,r=this.minY,n=this.maxX,i=this.maxY,o=t[0],a=t[1];e=o<e?o:e,r=a<r?a:r,n=o>n?o:n,i=a>i?a:i,o=t[2],a=t[3],e=o<e?o:e,r=a<r?a:r,n=o>n?o:n,i=a>i?a:i,o=t[4],a=t[5],e=o<e?o:e,r=a<r?a:r,n=o>n?o:n,i=a>i?a:i,o=t[6],a=t[7],e=o<e?o:e,r=a<r?a:r,n=o>n?o:n,i=a>i?a:i,this.minX=e,this.minY=r,this.maxX=n,this.maxY=i},t.prototype.addFrame=function(t,e,r,n,i){var o=t.worldTransform,a=o.a,s=o.b,u=o.c,l=o.d,c=o.tx,h=o.ty,f=this.minX,d=this.minY,p=this.maxX,v=this.maxY,m=a*e+u*r+c,g=s*e+l*r+h;f=m<f?m:f,d=g<d?g:d,p=m>p?m:p,v=g>v?g:v,m=a*n+u*r+c,g=s*n+l*r+h,f=m<f?m:f,d=g<d?g:d,p=m>p?m:p,v=g>v?g:v,m=a*e+u*i+c,g=s*e+l*i+h,f=m<f?m:f,d=g<d?g:d,p=m>p?m:p,v=g>v?g:v,m=a*n+u*i+c,g=s*n+l*i+h,f=m<f?m:f,d=g<d?g:d,p=m>p?m:p,v=g>v?g:v,this.minX=f,this.minY=d,this.maxX=p,this.maxY=v},t.prototype.addVertices=function(t,e,r,n){for(var i=t.worldTransform,o=i.a,a=i.b,s=i.c,u=i.d,l=i.tx,c=i.ty,h=this.minX,f=this.minY,d=this.maxX,p=this.maxY,v=r;v<n;v+=2){var m=e[v],g=e[v+1],y=o*m+s*g+l,_=u*g+a*m+c;h=y<h?y:h,f=_<f?_:f,d=y>d?y:d,p=_>p?_:p}this.minX=h,this.minY=f,this.maxX=d,this.maxY=p},t.prototype.addBounds=function(t){var e=this.minX,r=this.minY,n=this.maxX,i=this.maxY;this.minX=t.minX<e?t.minX:e,this.minY=t.minY<r?t.minY:r,this.maxX=t.maxX>n?t.maxX:n,this.maxY=t.maxY>i?t.maxY:i},t.prototype.addBoundsMask=function(t,e){var r=t.minX>e.minX?t.minX:e.minX,n=t.minY>e.minY?t.minY:e.minY,i=t.maxX<e.maxX?t.maxX:e.maxX,o=t.maxY<e.maxY?t.maxY:e.maxY;if(r<=i&&n<=o){var a=this.minX,s=this.minY,u=this.maxX,l=this.maxY;this.minX=r<a?r:a,this.minY=n<s?n:s,this.maxX=i>u?i:u,this.maxY=o>l?o:l}},t.prototype.addBoundsArea=function(t,e){var r=t.minX>e.x?t.minX:e.x,n=t.minY>e.y?t.minY:e.y,i=t.maxX<e.x+e.width?t.maxX:e.x+e.width,o=t.maxY<e.y+e.height?t.maxY:e.y+e.height;if(r<=i&&n<=o){var a=this.minX,s=this.minY,u=this.maxX,l=this.maxY;this.minX=r<a?r:a,this.minY=n<s?n:s,this.maxX=i>u?i:u,this.maxY=o>l?o:l}},t}();e.default=o},function(t,e,r){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var i=r(4),o=function(){function t(){n(this,t),this.worldTransform=new i.Matrix,this.localTransform=new i.Matrix,this._worldID=0,this._parentID=0}return t.prototype.updateLocalTransform=function(){},t.prototype.updateTransform=function(t){var e=t.worldTransform,r=this.worldTransform,n=this.localTransform;r.a=n.a*e.a+n.b*e.c,r.b=n.a*e.b+n.b*e.d,r.c=n.c*e.a+n.d*e.c,r.d=n.c*e.b+n.d*e.d,r.tx=n.tx*e.a+n.ty*e.c+e.tx,r.ty=n.tx*e.b+n.ty*e.d+e.ty,this._worldID++},t}();e.default=o,o.prototype.updateWorldTransform=o.prototype.updateTransform,o.IDENTITY=new o},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var o=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),a=r(33),s=n(a),u=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;i(this,t),this.a=e,this.b=r,this.c=n,this.d=o,this.tx=a,this.ty=s,this.array=null}return t.prototype.fromArray=function(t){this.a=t[0],this.b=t[1],this.c=t[3],this.d=t[4],this.tx=t[2],this.ty=t[5]},t.prototype.set=function(t,e,r,n,i,o){return this.a=t,this.b=e,this.c=r,this.d=n,this.tx=i,this.ty=o,this},t.prototype.toArray=function(t,e){this.array||(this.array=new Float32Array(9));var r=e||this.array;return t?(r[0]=this.a,r[1]=this.b,r[2]=0,r[3]=this.c,r[4]=this.d,r[5]=0,r[6]=this.tx,r[7]=this.ty,r[8]=1):(r[0]=this.a,r[1]=this.c,r[2]=this.tx,r[3]=this.b,r[4]=this.d,r[5]=this.ty,r[6]=0,r[7]=0,r[8]=1),r},t.prototype.apply=function(t,e){e=e||new s.default;var r=t.x,n=t.y;return e.x=this.a*r+this.c*n+this.tx,e.y=this.b*r+this.d*n+this.ty,e},t.prototype.applyInverse=function(t,e){e=e||new s.default;var r=1/(this.a*this.d+this.c*-this.b),n=t.x,i=t.y;return e.x=this.d*r*n+-this.c*r*i+(this.ty*this.c-this.tx*this.d)*r,e.y=this.a*r*i+-this.b*r*n+(-this.ty*this.a+this.tx*this.b)*r,e},t.prototype.translate=function(t,e){return this.tx+=t,this.ty+=e,this},t.prototype.scale=function(t,e){return this.a*=t,this.d*=e,this.c*=t,this.b*=e,this.tx*=t,this.ty*=e,this},t.prototype.rotate=function(t){var e=Math.cos(t),r=Math.sin(t),n=this.a,i=this.c,o=this.tx;return this.a=n*e-this.b*r,this.b=n*r+this.b*e,this.c=i*e-this.d*r,this.d=i*r+this.d*e,this.tx=o*e-this.ty*r,this.ty=o*r+this.ty*e,this},t.prototype.append=function(t){var e=this.a,r=this.b,n=this.c,i=this.d;return this.a=t.a*e+t.b*n,this.b=t.a*r+t.b*i,this.c=t.c*e+t.d*n,this.d=t.c*r+t.d*i,this.tx=t.tx*e+t.ty*n+this.tx,this.ty=t.tx*r+t.ty*i+this.ty,this},t.prototype.setTransform=function(t,e,r,n,i,o,a,s,u){var l=Math.sin(a),c=Math.cos(a),h=Math.cos(u),f=Math.sin(u),d=-Math.sin(s),p=Math.cos(s),v=c*i,m=l*i,g=-l*o,y=c*o;return this.a=h*v+f*g,this.b=h*m+f*y,this.c=d*v+p*g,this.d=d*m+p*y,this.tx=t+(r*v+n*g),this.ty=e+(r*m+n*y),this},t.prototype.prepend=function(t){var e=this.tx;if(1!==t.a||0!==t.b||0!==t.c||1!==t.d){var r=this.a,n=this.c;this.a=r*t.a+this.b*t.c,this.b=r*t.b+this.b*t.d,this.c=n*t.a+this.d*t.c,this.d=n*t.b+this.d*t.d}return this.tx=e*t.a+this.ty*t.c+t.tx,this.ty=e*t.b+this.ty*t.d+t.ty,this},t.prototype.decompose=function(t){var e=this.a,r=this.b,n=this.c,i=this.d,o=-Math.atan2(-n,i),a=Math.atan2(r,e),s=Math.abs(o+a);return s<1e-5?(t.rotation=a,e<0&&i>=0&&(t.rotation+=t.rotation<=0?Math.PI:-Math.PI),t.skew.x=t.skew.y=0):(t.skew.x=o,t.skew.y=a),t.scale.x=Math.sqrt(e*e+r*r),t.scale.y=Math.sqrt(n*n+i*i),t.position.x=this.tx,t.position.y=this.ty,t},t.prototype.invert=function(){var t=this.a,e=this.b,r=this.c,n=this.d,i=this.tx,o=t*n-e*r;return this.a=n/o,this.b=-e/o,this.c=-r/o,this.d=t/o,this.tx=(r*this.ty-n*i)/o,this.ty=-(t*this.ty-e*i)/o,this},t.prototype.identity=function(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this},t.prototype.clone=function(){var e=new t;return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e},t.prototype.copy=function(t){return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t},o(t,null,[{key:"IDENTITY",get:function(){return new t}},{key:"TEMP_MATRIX",get:function(){return new t}}]),t}();e.default=u},function(t,e){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var n=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;r(this,t),this.x=e,this.y=n}return t.prototype.clone=function(){return new t(this.x,this.y)},t.prototype.copy=function(t){this.set(t.x,t.y)},t.prototype.equals=function(t){return t.x===this.x&&t.y===this.y},t.prototype.set=function(t,e){this.x=t||0,this.y=e||(0!==e?this.x:0)},t}();e.default=n},function(t,e,r){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var i=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),o=r(2),a=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;n(this,t),this.x=e,this.y=r,this.width=i,this.height=a,this.type=o.SHAPES.RECT}return t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height)},t.prototype.copy=function(t){return this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height,this},t.prototype.contains=function(t,e){return!(this.width<=0||this.height<=0)&&(t>=this.x&&t<this.x+this.width&&e>=this.y&&e<this.y+this.height)},t.prototype.pad=function(t,e){t=t||0,e=e||(0!==e?t:0),this.x-=t,this.y-=e,this.width+=2*t,this.height+=2*e},t.prototype.fit=function(t){this.x<t.x&&(this.width+=this.x,this.width<0&&(this.width=0),this.x=t.x),this.y<t.y&&(this.height+=this.y,this.height<0&&(this.height=0),this.y=t.y),this.x+this.width>t.x+t.width&&(this.width=t.width-this.x,this.width<0&&(this.width=0)),this.y+this.height>t.y+t.height&&(this.height=t.height-this.y,this.height<0&&(this.height=0))},t.prototype.enlarge=function(t){var e=Math.min(this.x,t.x),r=Math.max(this.x+this.width,t.x+t.width),n=Math.min(this.y,t.y),i=Math.max(this.y+this.height,t.y+t.height);this.x=e,this.width=r-e,this.y=n,this.height=i-n},i(t,[{key:"left",get:function(){return this.x}},{key:"right",get:function(){return this.x+this.width}},{key:"top",get:function(){return this.y}},{key:"bottom",get:function(){return this.y+this.height}}],[{key:"EMPTY",get:function(){return new t(0,0,0,0)}}]),t}();e.default=a},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var s=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),u=r(4),l=r(3),c=r(2),h=r(11),f=n(h),d=r(14),p=n(d),v=new u.Point,m=function(t){function e(r){i(this,e);var n=o(this,t.call(this));return n._anchor=new u.ObservablePoint(n._onAnchorUpdate,n),n._texture=null,n._width=0,n._height=0,n._tint=null,n._tintRGB=null,n.tint=16777215,n.blendMode=c.BLEND_MODES.NORMAL,n.shader=null,n.cachedTint=16777215,n.texture=r||f.default.EMPTY,n.vertexData=new Float32Array(8),n.vertexTrimmedData=null,n._transformID=-1,n._textureID=-1,n._transformTrimmedID=-1,n._textureTrimmedID=-1,n.pluginName="sprite",n}return a(e,t),e.prototype._onTextureUpdate=function(){this._textureID=-1,this._textureTrimmedID=-1,this._width&&(this.scale.x=(0,l.sign)(this.scale.x)*this._width/this.texture.orig.width),this._height&&(this.scale.y=(0,l.sign)(this.scale.y)*this._height/this.texture.orig.height)},e.prototype._onAnchorUpdate=function(){this._transformID=-1,this._transformTrimmedID=-1},e.prototype.calculateVertices=function(){if(this._transformID!==this.transform._worldID||this._textureID!==this._texture._updateID){this._transformID=this.transform._worldID,this._textureID=this._texture._updateID;var t=this._texture,e=this.transform.worldTransform,r=e.a,n=e.b,i=e.c,o=e.d,a=e.tx,s=e.ty,u=this.vertexData,l=t.trim,c=t.orig,h=this._anchor,f=0,d=0,p=0,v=0;l?(d=l.x-h._x*c.width,f=d+l.width,v=l.y-h._y*c.height,p=v+l.height):(d=-h._x*c.width,f=d+c.width,v=-h._y*c.height,p=v+c.height),u[0]=r*d+i*v+a,u[1]=o*v+n*d+s,u[2]=r*f+i*v+a,u[3]=o*v+n*f+s,u[4]=r*f+i*p+a,u[5]=o*p+n*f+s,u[6]=r*d+i*p+a,u[7]=o*p+n*d+s}},e.prototype.calculateTrimmedVertices=function(){if(this.vertexTrimmedData){if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return}else this.vertexTrimmedData=new Float32Array(8);this._transformTrimmedID=this.transform._worldID,this._textureTrimmedID=this._texture._updateID;var t=this._texture,e=this.vertexTrimmedData,r=t.orig,n=this._anchor,i=this.transform.worldTransform,o=i.a,a=i.b,s=i.c,u=i.d,l=i.tx,c=i.ty,h=-n._x*r.width,f=h+r.width,d=-n._y*r.height,p=d+r.height;e[0]=o*h+s*d+l,e[1]=u*d+a*h+c,e[2]=o*f+s*d+l,e[3]=u*d+a*f+c,e[4]=o*f+s*p+l,e[5]=u*p+a*f+c,e[6]=o*h+s*p+l,e[7]=u*p+a*h+c},e.prototype._renderWebGL=function(t){this.calculateVertices(),t.setObjectRenderer(t.plugins[this.pluginName]),t.plugins[this.pluginName].render(this)},e.prototype._renderCanvas=function(t){t.plugins[this.pluginName].render(this)},e.prototype._calculateBounds=function(){var t=this._texture.trim,e=this._texture.orig;!t||t.width===e.width&&t.height===e.height?(this.calculateVertices(),this._bounds.addQuad(this.vertexData)):(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData))},e.prototype.getLocalBounds=function(e){return 0===this.children.length?(this._bounds.minX=this._texture.orig.width*-this._anchor._x,this._bounds.minY=this._texture.orig.height*-this._anchor._y,this._bounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._bounds.maxY=this._texture.orig.height*(1-this._anchor._x),e||(this._localBoundsRect||(this._localBoundsRect=new u.Rectangle),e=this._localBoundsRect),this._bounds.getRectangle(e)):t.prototype.getLocalBounds.call(this,e)},e.prototype.containsPoint=function(t){this.worldTransform.applyInverse(t,v);var e=this._texture.orig.width,r=this._texture.orig.height,n=-e*this.anchor.x,i=0;return v.x>n&&v.x<n+e&&(i=-r*this.anchor.y,v.y>i&&v.y<i+r)},e.prototype.destroy=function(e){t.prototype.destroy.call(this,e),this._anchor=null;var r="boolean"==typeof e?e:e&&e.texture;if(r){var n="boolean"==typeof e?e:e&&e.baseTexture;this._texture.destroy(!!n)}this._texture=null,this.shader=null},e.from=function(t){return new e(f.default.from(t))},e.fromFrame=function(t){var r=l.TextureCache[t];if(!r)throw new Error('The frameId "'+t+'" does not exist in the texture cache');return new e(r)},e.fromImage=function(t,r,n){return new e(f.default.fromImage(t,r,n))},s(e,[{key:"width",get:function(){return Math.abs(this.scale.x)*this._texture.orig.width},set:function(t){var e=(0,l.sign)(this.scale.x)||1;this.scale.x=e*t/this._texture.orig.width,this._width=t}},{key:"height",get:function(){return Math.abs(this.scale.y)*this._texture.orig.height},set:function(t){var e=(0,l.sign)(this.scale.y)||1;this.scale.y=e*t/this._texture.orig.height,this._height=t}},{key:"anchor",get:function(){return this._anchor},set:function(t){this._anchor.copy(t)}},{key:"tint",get:function(){return this._tint},set:function(t){this._tint=t,this._tintRGB=(t>>16)+(65280&t)+((255&t)<<16)}},{key:"texture",get:function(){return this._texture},set:function(t){this._texture!==t&&(this._texture=t,this.cachedTint=16777215,this._textureID=-1,this._textureTrimmedID=-1,t&&(t.baseTexture.hasLoaded?this._onTextureUpdate():t.once("update",this._onTextureUpdate,this)))}}]),e}(p.default);e.default=m},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var i=r(3),o=r(69),a=n(o),s={getTintedTexture:function(t,e){var r=t.texture;e=s.roundColor(e);var n="#"+("00000"+(0|e).toString(16)).substr(-6);if(r.tintCache=r.tintCache||{},r.tintCache[n])return r.tintCache[n];var i=s.canvas||document.createElement("canvas");if(s.tintMethod(r,e,i),s.convertTintToImage){var o=new Image;o.src=i.toDataURL(),r.tintCache[n]=o}else r.tintCache[n]=i,s.canvas=null;return i},tintWithMultiply:function(t,e,r){var n=r.getContext("2d"),i=t._frame.clone(),o=t.baseTexture.resolution;i.x*=o,i.y*=o,i.width*=o,i.height*=o,r.width=Math.ceil(i.width),r.height=Math.ceil(i.height),n.fillStyle="#"+("00000"+(0|e).toString(16)).substr(-6),n.fillRect(0,0,i.width,i.height),n.globalCompositeOperation="multiply",n.drawImage(t.baseTexture.source,i.x,i.y,i.width,i.height,0,0,i.width,i.height),n.globalCompositeOperation="destination-atop",n.drawImage(t.baseTexture.source,i.x,i.y,i.width,i.height,0,0,i.width,i.height)},tintWithOverlay:function(t,e,r){var n=r.getContext("2d"),i=t._frame.clone(),o=t.baseTexture.resolution;i.x*=o,i.y*=o,i.width*=o,i.height*=o,r.width=Math.ceil(i.width),r.height=Math.ceil(i.height),n.globalCompositeOperation="copy",n.fillStyle="#"+("00000"+(0|e).toString(16)).substr(-6),n.fillRect(0,0,i.width,i.height),n.globalCompositeOperation="destination-atop",n.drawImage(t.baseTexture.source,i.x,i.y,i.width,i.height,0,0,i.width,i.height)},tintWithPerPixel:function(t,e,r){var n=r.getContext("2d"),o=t._frame.clone(),a=t.baseTexture.resolution;o.x*=a,o.y*=a,o.width*=a,o.height*=a,r.width=Math.ceil(o.width),r.height=Math.ceil(o.height),n.globalCompositeOperation="copy",n.drawImage(t.baseTexture.source,o.x,o.y,o.width,o.height,0,0,o.width,o.height);for(var s=(0,i.hex2rgb)(e),u=s[0],l=s[1],c=s[2],h=n.getImageData(0,0,o.width,o.height),f=h.data,d=0;d<f.length;d+=4)f[d+0]*=u,f[d+1]*=l,f[d+2]*=c;n.putImageData(h,0,0)},roundColor:function(t){var e=s.cacheStepsPerColorChannel,r=(0,i.hex2rgb)(t);return r[0]=Math.min(255,r[0]/e*e),r[1]=Math.min(255,r[1]/e*e),r[2]=Math.min(255,r[2]/e*e),(0,i.rgb2hex)(r)},cacheStepsPerColorChannel:8,convertTintToImage:!1,canUseMultiply:(0,a.default)(),tintMethod:0};s.tintMethod=s.canUseMultiply?s.tintWithMultiply:s.tintWithPerPixel,e.default=s},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var s=r(74),u=n(s),l=r(11),c=n(l),h=function(t){function e(r,n){i(this,e);var a=null;if(!(r instanceof u.default)){var s=arguments[1],l=arguments[2],c=arguments[3],h=arguments[4];console.warn("Please use RenderTexture.create("+s+", "+l+") instead of the ctor directly."),a=arguments[0],n=null,r=new u.default(s,l,c,h)}var f=o(this,t.call(this,r,n));return f.legacyRenderer=a,f.valid=!0,f._updateUvs(),f}return a(e,t),e.prototype.resize=function(t,e,r){this.valid=t>0&&e>0,this._frame.width=this.orig.width=t,this._frame.height=this.orig.height=e,r||this.baseTexture.resize(t,e),this._updateUvs()},e.create=function(t,r,n,i){return new e(new u.default(t,r,n,i))},e}(c.default);e.default=h},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0,e.Ticker=e.shared=void 0;var i=r(215),o=n(i),a=new o.default;a.autoStart=!0,e.shared=a,e.Ticker=o.default},function(t,e){"use strict";function r(t){for(var e=6*t,r=new Uint16Array(e),n=0,i=0;n<e;n+=6,i+=4)r[n+0]=i+0,r[n+1]=i+1,r[n+2]=i+2,r[n+3]=i+0,r[n+4]=i+2,r[n+5]=i+3;return r}e.__esModule=!0,e.default=r},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0,e.BitmapText=e.TilingSpriteRenderer=e.TilingSprite=e.AnimatedSprite=e.TextureTransform=void 0;var i=r(77);Object.defineProperty(e,"TextureTransform",{enumerable:!0,get:function(){return n(i).default}});var o=r(226);Object.defineProperty(e,"AnimatedSprite",{enumerable:!0,get:function(){return n(o).default}});var a=r(228);Object.defineProperty(e,"TilingSprite",{enumerable:!0,get:function(){return n(a).default}});var s=r(232);Object.defineProperty(e,"TilingSpriteRenderer",{enumerable:!0,get:function(){return n(s).default}});var u=r(227);Object.defineProperty(e,"BitmapText",{enumerable:!0,get:function(){return n(u).default}}),r(229),r(230),r(231)},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){return e instanceof h.Text&&(e.updateText(!0),!0)}function s(t,e){if(e instanceof h.TextStyle){var r=h.Text.getFontStyle(e);return h.Text.fontPropertiesCache[r]||h.Text.calculateFontProperties(r),!0}return!1}function u(t,e){if(t instanceof h.Text){e.indexOf(t.style)===-1&&e.push(t.style),e.indexOf(t)===-1&&e.push(t);var r=t._texture.baseTexture;return e.indexOf(r)===-1&&e.push(r),!0}return!1}function l(t,e){return t instanceof h.TextStyle&&(e.indexOf(t)===-1&&e.push(t),!0)}e.__esModule=!0;var c=r(1),h=i(c),f=r(95),d=n(f),p=h.ticker.shared;h.settings.UPLOADS_PER_FRAME=4;var v=function(){function t(e){var r=this;o(this,t),this.limiter=new d.default(h.settings.UPLOADS_PER_FRAME),this.renderer=e,this.uploadHookHelper=null,this.queue=[],this.addHooks=[],this.uploadHooks=[],this.completes=[],this.ticking=!1,this.delayedTick=function(){r.queue&&r.prepareItems()},this.register(u,a),this.register(l,s)}return t.prototype.upload=function(t,e){"function"==typeof t&&(e=t,t=null),t&&this.add(t),this.queue.length?(e&&this.completes.push(e),this.ticking||(this.ticking=!0,p.addOnce(this.tick,this))):e&&e()},t.prototype.tick=function(){setTimeout(this.delayedTick,0)},t.prototype.prepareItems=function(){for(this.limiter.beginFrame();this.queue.length&&this.limiter.allowedToUpload();){for(var t=this.queue[0],e=!1,r=0,n=this.uploadHooks.length;r<n;r++)if(this.uploadHooks[r](this.uploadHookHelper,t)){this.queue.shift(),e=!0;break}e||this.queue.shift()}if(this.queue.length)p.addOnce(this.tick,this);else{this.ticking=!1;var i=this.completes.slice(0);this.completes.length=0;for(var o=0,a=i.length;o<a;o++)i[o]()}},t.prototype.register=function(t,e){return t&&this.addHooks.push(t),e&&this.uploadHooks.push(e),this},t.prototype.add=function(t){for(var e=0,r=this.addHooks.length;e<r&&!this.addHooks[e](t,this.queue);e++);if(t instanceof h.Container)for(var n=t.children.length-1;n>=0;n--)this.add(t.children[n]);return this},t.prototype.destroy=function(){this.ticking&&p.remove(this.tick,this),this.ticking=!1,this.addHooks=null,this.uploadHooks=null,this.renderer=null,this.completes=null,this.queue=null,this.limiter=null,this.uploadHookHelper=null},t}();e.default=v},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(){}function a(t,e,r){e&&0===e.indexOf(".")&&(e=e.substring(1)),e&&(t[e]=r)}function s(t){return t.toString().replace("object ","")}e.__esModule=!0;var u=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),l=r(49),c=n(l),h=r(48),f=n(h),d=!(!window.XDomainRequest||"withCredentials"in new XMLHttpRequest),p=null,v=0,m=200,g=204,y=1223,_=2,x=function(){function t(e,r,n){if(i(this,t),"string"!=typeof e||"string"!=typeof r)throw new Error("Both name and url are required for constructing a resource.");n=n||{},this._flags=0,this._setFlag(t.STATUS_FLAGS.DATA_URL,0===r.indexOf("data:")),this.name=e,this.url=r,this.extension=this._getExtension(),this.data=null,this.crossOrigin=n.crossOrigin===!0?"anonymous":n.crossOrigin,this.loadType=n.loadType||this._determineLoadType(),this.xhrType=n.xhrType,this.metadata=n.metadata||{},this.error=null,this.xhr=null,this.children=[],this.type=t.TYPE.UNKNOWN,this.progressChunk=0,this._dequeue=o,this._onLoadBinding=null,this._boundComplete=this.complete.bind(this),this._boundOnError=this._onError.bind(this),this._boundOnProgress=this._onProgress.bind(this),this._boundXhrOnError=this._xhrOnError.bind(this),this._boundXhrOnAbort=this._xhrOnAbort.bind(this),this._boundXhrOnLoad=this._xhrOnLoad.bind(this),this._boundXdrOnTimeout=this._xdrOnTimeout.bind(this),this.onStart=new f.default,this.onProgress=new f.default,this.onComplete=new f.default,this.onAfterMiddleware=new f.default}return t.setExtensionLoadType=function(e,r){a(t._loadTypeMap,e,r)},t.setExtensionXhrType=function(e,r){a(t._xhrTypeMap,e,r)},t.prototype.complete=function(){if(this.data&&this.data.removeEventListener&&(this.data.removeEventListener("error",this._boundOnError,!1),this.data.removeEventListener("load",this._boundComplete,!1),this.data.removeEventListener("progress",this._boundOnProgress,!1),this.data.removeEventListener("canplaythrough",this._boundComplete,!1)),this.xhr&&(this.xhr.removeEventListener?(this.xhr.removeEventListener("error",this._boundXhrOnError,!1),this.xhr.removeEventListener("abort",this._boundXhrOnAbort,!1),this.xhr.removeEventListener("progress",this._boundOnProgress,!1),this.xhr.removeEventListener("load",this._boundXhrOnLoad,!1)):(this.xhr.onerror=null,this.xhr.ontimeout=null,this.xhr.onprogress=null,this.xhr.onload=null)),this.isComplete)throw new Error("Complete called again for an already completed resource.");this._setFlag(t.STATUS_FLAGS.COMPLETE,!0),this._setFlag(t.STATUS_FLAGS.LOADING,!1),this.onComplete.dispatch(this)},t.prototype.abort=function(e){if(!this.error){if(this.error=new Error(e),this.xhr)this.xhr.abort();else if(this.xdr)this.xdr.abort();else if(this.data)if(this.data.src)this.data.src=t.EMPTY_GIF;else for(;this.data.firstChild;)this.data.removeChild(this.data.firstChild);this.complete()}},t.prototype.load=function(e){var r=this;if(!this.isLoading){if(this.isComplete)return void(e&&setTimeout(function(){return e(r)},1));switch(e&&this.onComplete.once(e),this._setFlag(t.STATUS_FLAGS.LOADING,!0),this.onStart.dispatch(this),this.crossOrigin!==!1&&"string"==typeof this.crossOrigin||(this.crossOrigin=this._determineCrossOrigin(this.url)),this.loadType){case t.LOAD_TYPE.IMAGE:this.type=t.TYPE.IMAGE,this._loadElement("image");break;case t.LOAD_TYPE.AUDIO:this.type=t.TYPE.AUDIO,this._loadSourceElement("audio");break;case t.LOAD_TYPE.VIDEO:this.type=t.TYPE.VIDEO,this._loadSourceElement("video");break;case t.LOAD_TYPE.XHR:default:d&&this.crossOrigin?this._loadXdr():this._loadXhr()}}},t.prototype._hasFlag=function(t){return!!(this._flags&t)},t.prototype._setFlag=function(t,e){this._flags=e?this._flags|t:this._flags&~t},t.prototype._loadElement=function(t){this.metadata.loadElement?this.data=this.metadata.loadElement:"image"===t&&"undefined"!=typeof window.Image?this.data=new Image:this.data=document.createElement(t),this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),this.metadata.skipSource||(this.data.src=this.url),this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1)},t.prototype._loadSourceElement=function(t){if(this.metadata.loadElement?this.data=this.metadata.loadElement:"audio"===t&&"undefined"!=typeof window.Audio?this.data=new Audio:this.data=document.createElement(t),null===this.data)return void this.abort("Unsupported element: "+t);if(!this.metadata.skipSource)if(navigator.isCocoonJS)this.data.src=Array.isArray(this.url)?this.url[0]:this.url;else if(Array.isArray(this.url))for(var e=0;e<this.url.length;++e)this.data.appendChild(this._createSource(t,this.url[e]));else this.data.appendChild(this._createSource(t,this.url));this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.data.addEventListener("canplaythrough",this._boundComplete,!1),this.data.load()},t.prototype._loadXhr=function(){"string"!=typeof this.xhrType&&(this.xhrType=this._determineXhrType());var e=this.xhr=new XMLHttpRequest;e.open("GET",this.url,!0),this.xhrType===t.XHR_RESPONSE_TYPE.JSON||this.xhrType===t.XHR_RESPONSE_TYPE.DOCUMENT?e.responseType=t.XHR_RESPONSE_TYPE.TEXT:e.responseType=this.xhrType,e.addEventListener("error",this._boundXhrOnError,!1),e.addEventListener("abort",this._boundXhrOnAbort,!1),e.addEventListener("progress",this._boundOnProgress,!1),e.addEventListener("load",this._boundXhrOnLoad,!1),e.send()},t.prototype._loadXdr=function(){"string"!=typeof this.xhrType&&(this.xhrType=this._determineXhrType());var t=this.xhr=new XDomainRequest;t.timeout=5e3,t.onerror=this._boundXhrOnError,t.ontimeout=this._boundXdrOnTimeout,t.onprogress=this._boundOnProgress,t.onload=this._boundXhrOnLoad,t.open("GET",this.url,!0),setTimeout(function(){return t.send()},1)},t.prototype._createSource=function(t,e,r){r||(r=t+"/"+e.substr(e.lastIndexOf(".")+1));var n=document.createElement("source");return n.src=e,n.type=r,n},t.prototype._onError=function(t){this.abort("Failed to load element using: "+t.target.nodeName)},t.prototype._onProgress=function(t){t&&t.lengthComputable&&this.onProgress.dispatch(this,t.loaded/t.total)},t.prototype._xhrOnError=function(){var t=this.xhr;this.abort(s(t)+" Request failed. Status: "+t.status+', text: "'+t.statusText+'"');
},t.prototype._xhrOnAbort=function(){this.abort(s(this.xhr)+" Request was aborted by the user.")},t.prototype._xdrOnTimeout=function(){this.abort(s(this.xhr)+" Request timed out.")},t.prototype._xhrOnLoad=function(){var e=this.xhr,r="",n="undefined"==typeof e.status?m:e.status;""!==e.responseType&&"text"!==e.responseType&&"undefined"!=typeof e.responseType||(r=e.responseText),n===v&&r.length>0?n=m:n===y&&(n=g);var i=n/100|0;if(i!==_)return void this.abort("["+e.status+"] "+e.statusText+": "+e.responseURL);if(this.xhrType===t.XHR_RESPONSE_TYPE.TEXT)this.data=r,this.type=t.TYPE.TEXT;else if(this.xhrType===t.XHR_RESPONSE_TYPE.JSON)try{this.data=JSON.parse(r),this.type=t.TYPE.JSON}catch(t){return void this.abort("Error trying to parse loaded json: "+t)}else if(this.xhrType===t.XHR_RESPONSE_TYPE.DOCUMENT)try{if(window.DOMParser){var o=new DOMParser;this.data=o.parseFromString(r,"text/xml")}else{var a=document.createElement("div");a.innerHTML=r,this.data=a}this.type=t.TYPE.XML}catch(t){return void this.abort("Error trying to parse loaded xml: "+t)}else this.data=e.response||r;this.complete()},t.prototype._determineCrossOrigin=function(t,e){if(0===t.indexOf("data:"))return"";e=e||window.location,p||(p=document.createElement("a")),p.href=t,t=(0,c.default)(p.href,{strictMode:!0});var r=!t.port&&""===e.port||t.port===e.port,n=t.protocol?t.protocol+":":"";return t.host===e.hostname&&r&&n===e.protocol?"":"anonymous"},t.prototype._determineXhrType=function(){return t._xhrTypeMap[this.extension]||t.XHR_RESPONSE_TYPE.TEXT},t.prototype._determineLoadType=function(){return t._loadTypeMap[this.extension]||t.LOAD_TYPE.XHR},t.prototype._getExtension=function(){var t=this.url,e="";if(this.isDataUrl){var r=t.indexOf("/");e=t.substring(r+1,t.indexOf(";",r))}else{var n=t.indexOf("?");n!==-1&&(t=t.substring(0,n)),e=t.substring(t.lastIndexOf(".")+1)}return e.toLowerCase()},t.prototype._getMimeFromXhrType=function(e){switch(e){case t.XHR_RESPONSE_TYPE.BUFFER:return"application/octet-binary";case t.XHR_RESPONSE_TYPE.BLOB:return"application/blob";case t.XHR_RESPONSE_TYPE.DOCUMENT:return"application/xml";case t.XHR_RESPONSE_TYPE.JSON:return"application/json";case t.XHR_RESPONSE_TYPE.DEFAULT:case t.XHR_RESPONSE_TYPE.TEXT:default:return"text/plain"}},u(t,[{key:"isDataUrl",get:function(){return this._hasFlag(t.STATUS_FLAGS.DATA_URL)}},{key:"isComplete",get:function(){return this._hasFlag(t.STATUS_FLAGS.COMPLETE)}},{key:"isLoading",get:function(){return this._hasFlag(t.STATUS_FLAGS.LOADING)}}]),t}();e.default=x,x.STATUS_FLAGS={NONE:0,DATA_URL:1,COMPLETE:2,LOADING:4},x.TYPE={UNKNOWN:0,JSON:1,XML:2,IMAGE:3,AUDIO:4,VIDEO:5,TEXT:6},x.LOAD_TYPE={XHR:1,IMAGE:2,AUDIO:3,VIDEO:4},x.XHR_RESPONSE_TYPE={DEFAULT:"text",BUFFER:"arraybuffer",BLOB:"blob",DOCUMENT:"document",JSON:"json",TEXT:"text"},x._loadTypeMap={gif:x.LOAD_TYPE.IMAGE,png:x.LOAD_TYPE.IMAGE,bmp:x.LOAD_TYPE.IMAGE,jpg:x.LOAD_TYPE.IMAGE,jpeg:x.LOAD_TYPE.IMAGE,tif:x.LOAD_TYPE.IMAGE,tiff:x.LOAD_TYPE.IMAGE,webp:x.LOAD_TYPE.IMAGE,tga:x.LOAD_TYPE.IMAGE,svg:x.LOAD_TYPE.IMAGE,"svg+xml":x.LOAD_TYPE.IMAGE,mp3:x.LOAD_TYPE.AUDIO,ogg:x.LOAD_TYPE.AUDIO,wav:x.LOAD_TYPE.AUDIO,mp4:x.LOAD_TYPE.VIDEO,webm:x.LOAD_TYPE.VIDEO},x._xhrTypeMap={xhtml:x.XHR_RESPONSE_TYPE.DOCUMENT,html:x.XHR_RESPONSE_TYPE.DOCUMENT,htm:x.XHR_RESPONSE_TYPE.DOCUMENT,xml:x.XHR_RESPONSE_TYPE.DOCUMENT,tmx:x.XHR_RESPONSE_TYPE.DOCUMENT,svg:x.XHR_RESPONSE_TYPE.DOCUMENT,tsx:x.XHR_RESPONSE_TYPE.DOCUMENT,gif:x.XHR_RESPONSE_TYPE.BLOB,png:x.XHR_RESPONSE_TYPE.BLOB,bmp:x.XHR_RESPONSE_TYPE.BLOB,jpg:x.XHR_RESPONSE_TYPE.BLOB,jpeg:x.XHR_RESPONSE_TYPE.BLOB,tif:x.XHR_RESPONSE_TYPE.BLOB,tiff:x.XHR_RESPONSE_TYPE.BLOB,webp:x.XHR_RESPONSE_TYPE.BLOB,tga:x.XHR_RESPONSE_TYPE.BLOB,json:x.XHR_RESPONSE_TYPE.JSON,text:x.XHR_RESPONSE_TYPE.TEXT,txt:x.XHR_RESPONSE_TYPE.TEXT,ttf:x.XHR_RESPONSE_TYPE.BUFFER,otf:x.XHR_RESPONSE_TYPE.BUFFER},x.EMPTY_GIF="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw=="},,function(t,e,r){/**
	 * vuex v2.3.0
	 * (c) 2017 Evan You
	 * @license MIT
	 */
!function(e,r){t.exports=r()}(this,function(){"use strict";function t(t){w&&(t._devtoolHook=w,w.emit("vuex:init",t),w.on("vuex:travel-to-state",function(e){t.replaceState(e)}),t.subscribe(function(t,e){w.emit("vuex:mutation",t,e)}))}function e(t,e){Object.keys(t).forEach(function(r){return e(t[r],r)})}function r(t){return null!==t&&"object"==typeof t}function n(t){return t&&"function"==typeof t.then}function i(t,e){if(!t)throw new Error("[vuex] "+e)}function o(t,e){if(t.update(e),e.modules)for(var r in e.modules){if(!t.getChild(r))return void console.warn("[vuex] trying to add a new module '"+r+"' on hot reloading, manual reload is needed");o(t.getChild(r),e.modules[r])}}function a(t,e){t._actions=Object.create(null),t._mutations=Object.create(null),t._wrappedGetters=Object.create(null),t._modulesNamespaceMap=Object.create(null);var r=t.state;u(t,r,[],t._modules.root,!0),s(t,r,e)}function s(t,r,n){var i=t._vm;t.getters={};var o=t._wrappedGetters,a={};e(o,function(e,r){a[r]=function(){return e(t)},Object.defineProperty(t.getters,r,{get:function(){return t._vm[r]},enumerable:!0})});var s=M.config.silent;M.config.silent=!0,t._vm=new M({data:{$$state:r},computed:a}),M.config.silent=s,t.strict&&p(t),i&&(n&&t._withCommit(function(){i._data.$$state=null}),M.nextTick(function(){return i.$destroy()}))}function u(t,e,r,n,i){var o=!r.length,a=t._modules.getNamespace(r);if(n.namespaced&&(t._modulesNamespaceMap[a]=n),!o&&!i){var s=v(e,r.slice(0,-1)),c=r[r.length-1];t._withCommit(function(){M.set(s,c,n.state)})}var p=n.context=l(t,a,r);n.forEachMutation(function(e,r){var n=a+r;h(t,n,e,p)}),n.forEachAction(function(e,r){var n=a+r;f(t,n,e,p)}),n.forEachGetter(function(e,r){var n=a+r;d(t,n,e,p)}),n.forEachChild(function(n,o){u(t,e,r.concat(o),n,i)})}function l(t,e,r){var n=""===e,i={dispatch:n?t.dispatch:function(r,n,i){var o=m(r,n,i),a=o.payload,s=o.options,u=o.type;return s&&s.root||(u=e+u,t._actions[u])?t.dispatch(u,a):void console.error("[vuex] unknown local action type: "+o.type+", global type: "+u)},commit:n?t.commit:function(r,n,i){var o=m(r,n,i),a=o.payload,s=o.options,u=o.type;return s&&s.root||(u=e+u,t._mutations[u])?void t.commit(u,a,s):void console.error("[vuex] unknown local mutation type: "+o.type+", global type: "+u)}};return Object.defineProperties(i,{getters:{get:n?function(){return t.getters}:function(){return c(t,e)}},state:{get:function(){return v(t.state,r)}}}),i}function c(t,e){var r={},n=e.length;return Object.keys(t.getters).forEach(function(i){if(i.slice(0,n)===e){var o=i.slice(n);Object.defineProperty(r,o,{get:function(){return t.getters[i]},enumerable:!0})}}),r}function h(t,e,r,n){var i=t._mutations[e]||(t._mutations[e]=[]);i.push(function(t){r(n.state,t)})}function f(t,e,r,i){var o=t._actions[e]||(t._actions[e]=[]);o.push(function(e,o){var a=r({dispatch:i.dispatch,commit:i.commit,getters:i.getters,state:i.state,rootGetters:t.getters,rootState:t.state},e,o);return n(a)||(a=Promise.resolve(a)),t._devtoolHook?a.catch(function(e){throw t._devtoolHook.emit("vuex:error",e),e}):a})}function d(t,e,r,n){return t._wrappedGetters[e]?void console.error("[vuex] duplicate getter key: "+e):void(t._wrappedGetters[e]=function(t){return r(n.state,n.getters,t.state,t.getters)})}function p(t){t._vm.$watch(function(){return this._data.$$state},function(){i(t._committing,"Do not mutate vuex store state outside mutation handlers.")},{deep:!0,sync:!0})}function v(t,e){return e.length?e.reduce(function(t,e){return t[e]},t):t}function m(t,e,n){return r(t)&&t.type&&(n=e,e=t,t=t.type),i("string"==typeof t,"Expects string as the type, but found "+typeof t+"."),{type:t,payload:e,options:n}}function g(t){return M?void console.error("[vuex] already installed. Vue.use(Vuex) should be called only once."):(M=t,void b(M))}function y(t){return Array.isArray(t)?t.map(function(t){return{key:t,val:t}}):Object.keys(t).map(function(e){return{key:e,val:t[e]}})}function _(t){return function(e,r){return"string"!=typeof e?(r=e,e=""):"/"!==e.charAt(e.length-1)&&(e+="/"),t(e,r)}}function x(t,e,r){var n=t._modulesNamespaceMap[r];return n||console.error("[vuex] module namespace not found in "+e+"(): "+r),n}var b=function(t){function e(){var t=this.$options;t.store?this.$store=t.store:t.parent&&t.parent.$store&&(this.$store=t.parent.$store)}var r=Number(t.version.split(".")[0]);if(r>=2){var n=t.config._lifecycleHooks.indexOf("init")>-1;t.mixin(n?{init:e}:{beforeCreate:e})}else{var i=t.prototype._init;t.prototype._init=function(t){void 0===t&&(t={}),t.init=t.init?[e].concat(t.init):e,i.call(this,t)}}},w="undefined"!=typeof window&&window.__VUE_DEVTOOLS_GLOBAL_HOOK__,T=function(t,e){this.runtime=e,this._children=Object.create(null),this._rawModule=t;var r=t.state;this.state=("function"==typeof r?r():r)||{}},E={namespaced:{}};E.namespaced.get=function(){return!!this._rawModule.namespaced},T.prototype.addChild=function(t,e){this._children[t]=e},T.prototype.removeChild=function(t){delete this._children[t]},T.prototype.getChild=function(t){return this._children[t]},T.prototype.update=function(t){this._rawModule.namespaced=t.namespaced,t.actions&&(this._rawModule.actions=t.actions),t.mutations&&(this._rawModule.mutations=t.mutations),t.getters&&(this._rawModule.getters=t.getters)},T.prototype.forEachChild=function(t){e(this._children,t)},T.prototype.forEachGetter=function(t){this._rawModule.getters&&e(this._rawModule.getters,t)},T.prototype.forEachAction=function(t){this._rawModule.actions&&e(this._rawModule.actions,t)},T.prototype.forEachMutation=function(t){this._rawModule.mutations&&e(this._rawModule.mutations,t)},Object.defineProperties(T.prototype,E);var S=function(t){var r=this;this.root=new T(t,!1),t.modules&&e(t.modules,function(t,e){r.register([e],t,!1)})};S.prototype.get=function(t){return t.reduce(function(t,e){return t.getChild(e)},this.root)},S.prototype.getNamespace=function(t){var e=this.root;return t.reduce(function(t,r){return e=e.getChild(r),t+(e.namespaced?r+"/":"")},"")},S.prototype.update=function(t){o(this.root,t)},S.prototype.register=function(t,r,n){var i=this;void 0===n&&(n=!0);var o=this.get(t.slice(0,-1)),a=new T(r,n);o.addChild(t[t.length-1],a),r.modules&&e(r.modules,function(e,r){i.register(t.concat(r),e,n)})},S.prototype.unregister=function(t){var e=this.get(t.slice(0,-1)),r=t[t.length-1];e.getChild(r).runtime&&e.removeChild(r)};var M,A=function(e){var r=this;void 0===e&&(e={}),i(M,"must call Vue.use(Vuex) before creating a store instance."),i("undefined"!=typeof Promise,"vuex requires a Promise polyfill in this browser.");var n=e.state;void 0===n&&(n={});var o=e.plugins;void 0===o&&(o=[]);var a=e.strict;void 0===a&&(a=!1),this._committing=!1,this._actions=Object.create(null),this._mutations=Object.create(null),this._wrappedGetters=Object.create(null),this._modules=new S(e),this._modulesNamespaceMap=Object.create(null),this._subscribers=[],this._watcherVM=new M;var l=this,c=this,h=c.dispatch,f=c.commit;this.dispatch=function(t,e){return h.call(l,t,e)},this.commit=function(t,e,r){return f.call(l,t,e,r)},this.strict=a,u(this,n,[],this._modules.root),s(this,n),o.concat(t).forEach(function(t){return t(r)})},P={state:{}};P.state.get=function(){return this._vm._data.$$state},P.state.set=function(t){i(!1,"Use store.replaceState() to explicit replace store state.")},A.prototype.commit=function(t,e,r){var n=this,i=m(t,e,r),o=i.type,a=i.payload,s=i.options,u={type:o,payload:a},l=this._mutations[o];return l?(this._withCommit(function(){l.forEach(function(t){t(a)})}),this._subscribers.forEach(function(t){return t(u,n.state)}),void(s&&s.silent&&console.warn("[vuex] mutation type: "+o+". Silent option has been removed. Use the filter functionality in the vue-devtools"))):void console.error("[vuex] unknown mutation type: "+o)},A.prototype.dispatch=function(t,e){var r=m(t,e),n=r.type,i=r.payload,o=this._actions[n];return o?o.length>1?Promise.all(o.map(function(t){return t(i)})):o[0](i):void console.error("[vuex] unknown action type: "+n)},A.prototype.subscribe=function(t){var e=this._subscribers;return e.indexOf(t)<0&&e.push(t),function(){var r=e.indexOf(t);r>-1&&e.splice(r,1)}},A.prototype.watch=function(t,e,r){var n=this;return i("function"==typeof t,"store.watch only accepts a function."),this._watcherVM.$watch(function(){return t(n.state,n.getters)},e,r)},A.prototype.replaceState=function(t){var e=this;this._withCommit(function(){e._vm._data.$$state=t})},A.prototype.registerModule=function(t,e){"string"==typeof t&&(t=[t]),i(Array.isArray(t),"module path must be a string or an Array."),this._modules.register(t,e),u(this,this.state,t,this._modules.get(t)),s(this,this.state)},A.prototype.unregisterModule=function(t){var e=this;"string"==typeof t&&(t=[t]),i(Array.isArray(t),"module path must be a string or an Array."),this._modules.unregister(t),this._withCommit(function(){var r=v(e.state,t.slice(0,-1));M.delete(r,t[t.length-1])}),a(this)},A.prototype.hotUpdate=function(t){this._modules.update(t),a(this,!0)},A.prototype._withCommit=function(t){var e=this._committing;this._committing=!0,t(),this._committing=e},Object.defineProperties(A.prototype,P),"undefined"!=typeof window&&window.Vue&&g(window.Vue);var C=_(function(t,e){var r={};return y(e).forEach(function(e){var n=e.key,i=e.val;r[n]=function(){var e=this.$store.state,r=this.$store.getters;if(t){var n=x(this.$store,"mapState",t);if(!n)return;e=n.context.state,r=n.context.getters}return"function"==typeof i?i.call(this,e,r):e[i]},r[n].vuex=!0}),r}),O=_(function(t,e){var r={};return y(e).forEach(function(e){var n=e.key,i=e.val;i=t+i,r[n]=function(){for(var e=[],r=arguments.length;r--;)e[r]=arguments[r];if(!t||x(this.$store,"mapMutations",t))return this.$store.commit.apply(this.$store,[i].concat(e))}}),r}),R=_(function(t,e){var r={};return y(e).forEach(function(e){var n=e.key,i=e.val;i=t+i,r[n]=function(){if(!t||x(this.$store,"mapGetters",t))return i in this.$store.getters?this.$store.getters[i]:void console.error("[vuex] unknown getter: "+i)},r[n].vuex=!0}),r}),D=_(function(t,e){var r={};return y(e).forEach(function(e){var n=e.key,i=e.val;i=t+i,r[n]=function(){for(var e=[],r=arguments.length;r--;)e[r]=arguments[r];if(!t||x(this.$store,"mapActions",t))return this.$store.dispatch.apply(this.$store,[i].concat(e))}}),r}),L={Store:A,install:g,version:"2.3.0",mapState:C,mapMutations:O,mapGetters:R,mapActions:D};return L})},,function(t,e){"use strict";function r(t,e,r){r=r||2;var i=e&&e.length,a=i?e[0]*r:t.length,s=n(t,0,a,r,!0),u=[];if(!s)return u;var l,h,f,d,p,v,m;if(i&&(s=c(t,e,s,r)),t.length>80*r){l=f=t[0],h=d=t[1];for(var g=r;g<a;g+=r)p=t[g],v=t[g+1],p<l&&(l=p),v<h&&(h=v),p>f&&(f=p),v>d&&(d=v);m=Math.max(f-l,d-h)}return o(s,u,r,l,h,m),u}function n(t,e,r,n,i){var o,a;if(i===O(t,e,r,n)>0)for(o=e;o<r;o+=n)a=A(o,t[o],t[o+1],a);else for(o=r-n;o>=e;o-=n)a=A(o,t[o],t[o+1],a);return a&&b(a,a.next)&&(P(a),a=a.next),a}function i(t,e){if(!t)return t;e||(e=t);var r,n=t;do if(r=!1,n.steiner||!b(n,n.next)&&0!==x(n.prev,n,n.next))n=n.next;else{if(P(n),n=e=n.prev,n===n.next)return null;r=!0}while(r||n!==e);return e}function o(t,e,r,n,c,h,f){if(t){!f&&h&&p(t,n,c,h);for(var d,v,m=t;t.prev!==t.next;)if(d=t.prev,v=t.next,h?s(t,n,c,h):a(t))e.push(d.i/r),e.push(t.i/r),e.push(v.i/r),P(t),t=v.next,m=v.next;else if(t=v,t===m){f?1===f?(t=u(t,e,r),o(t,e,r,n,c,h,2)):2===f&&l(t,e,r,n,c,h):o(i(t),e,r,n,c,h,1);break}}}function a(t){var e=t.prev,r=t,n=t.next;if(x(e,r,n)>=0)return!1;for(var i=t.next.next;i!==t.prev;){if(y(e.x,e.y,r.x,r.y,n.x,n.y,i.x,i.y)&&x(i.prev,i,i.next)>=0)return!1;i=i.next}return!0}function s(t,e,r,n){var i=t.prev,o=t,a=t.next;if(x(i,o,a)>=0)return!1;for(var s=i.x<o.x?i.x<a.x?i.x:a.x:o.x<a.x?o.x:a.x,u=i.y<o.y?i.y<a.y?i.y:a.y:o.y<a.y?o.y:a.y,l=i.x>o.x?i.x>a.x?i.x:a.x:o.x>a.x?o.x:a.x,c=i.y>o.y?i.y>a.y?i.y:a.y:o.y>a.y?o.y:a.y,h=m(s,u,e,r,n),f=m(l,c,e,r,n),d=t.nextZ;d&&d.z<=f;){if(d!==t.prev&&d!==t.next&&y(i.x,i.y,o.x,o.y,a.x,a.y,d.x,d.y)&&x(d.prev,d,d.next)>=0)return!1;d=d.nextZ}for(d=t.prevZ;d&&d.z>=h;){if(d!==t.prev&&d!==t.next&&y(i.x,i.y,o.x,o.y,a.x,a.y,d.x,d.y)&&x(d.prev,d,d.next)>=0)return!1;d=d.prevZ}return!0}function u(t,e,r){var n=t;do{var i=n.prev,o=n.next.next;!b(i,o)&&w(i,n,n.next,o)&&E(i,o)&&E(o,i)&&(e.push(i.i/r),e.push(n.i/r),e.push(o.i/r),P(n),P(n.next),n=t=o),n=n.next}while(n!==t);return n}function l(t,e,r,n,a,s){var u=t;do{for(var l=u.next.next;l!==u.prev;){if(u.i!==l.i&&_(u,l)){var c=M(u,l);return u=i(u,u.next),c=i(c,c.next),o(u,e,r,n,a,s),void o(c,e,r,n,a,s)}l=l.next}u=u.next}while(u!==t)}function c(t,e,r,o){var a,s,u,l,c,d=[];for(a=0,s=e.length;a<s;a++)u=e[a]*o,l=a<s-1?e[a+1]*o:t.length,c=n(t,u,l,o,!1),c===c.next&&(c.steiner=!0),d.push(g(c));for(d.sort(h),a=0;a<d.length;a++)f(d[a],r),r=i(r,r.next);return r}function h(t,e){return t.x-e.x}function f(t,e){if(e=d(t,e)){var r=M(e,t);i(r,r.next)}}function d(t,e){var r,n=e,i=t.x,o=t.y,a=-(1/0);do{if(o<=n.y&&o>=n.next.y){var s=n.x+(o-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(s<=i&&s>a){if(a=s,s===i){if(o===n.y)return n;if(o===n.next.y)return n.next}r=n.x<n.next.x?n:n.next}}n=n.next}while(n!==e);if(!r)return null;if(i===a)return r.prev;var u,l=r,c=r.x,h=r.y,f=1/0;for(n=r.next;n!==l;)i>=n.x&&n.x>=c&&y(o<h?i:a,o,c,h,o<h?a:i,o,n.x,n.y)&&(u=Math.abs(o-n.y)/(i-n.x),(u<f||u===f&&n.x>r.x)&&E(n,t)&&(r=n,f=u)),n=n.next;return r}function p(t,e,r,n){var i=t;do null===i.z&&(i.z=m(i.x,i.y,e,r,n)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==t);i.prevZ.nextZ=null,i.prevZ=null,v(i)}function v(t){var e,r,n,i,o,a,s,u,l=1;do{for(r=t,t=null,o=null,a=0;r;){for(a++,n=r,s=0,e=0;e<l&&(s++,n=n.nextZ,n);e++);for(u=l;s>0||u>0&&n;)0===s?(i=n,n=n.nextZ,u--):0!==u&&n?r.z<=n.z?(i=r,r=r.nextZ,s--):(i=n,n=n.nextZ,u--):(i=r,r=r.nextZ,s--),o?o.nextZ=i:t=i,i.prevZ=o,o=i;r=n}o.nextZ=null,l*=2}while(a>1);return t}function m(t,e,r,n,i){return t=32767*(t-r)/i,e=32767*(e-n)/i,t=16711935&(t|t<<8),t=252645135&(t|t<<4),t=858993459&(t|t<<2),t=1431655765&(t|t<<1),e=16711935&(e|e<<8),e=252645135&(e|e<<4),e=858993459&(e|e<<2),e=1431655765&(e|e<<1),t|e<<1}function g(t){var e=t,r=t;do e.x<r.x&&(r=e),e=e.next;while(e!==t);return r}function y(t,e,r,n,i,o,a,s){return(i-a)*(e-s)-(t-a)*(o-s)>=0&&(t-a)*(n-s)-(r-a)*(e-s)>=0&&(r-a)*(o-s)-(i-a)*(n-s)>=0}function _(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!T(t,e)&&E(t,e)&&E(e,t)&&S(t,e)}function x(t,e,r){return(e.y-t.y)*(r.x-e.x)-(e.x-t.x)*(r.y-e.y)}function b(t,e){return t.x===e.x&&t.y===e.y}function w(t,e,r,n){return!!(b(t,e)&&b(r,n)||b(t,n)&&b(r,e))||x(t,e,r)>0!=x(t,e,n)>0&&x(r,n,t)>0!=x(r,n,e)>0}function T(t,e){var r=t;do{if(r.i!==t.i&&r.next.i!==t.i&&r.i!==e.i&&r.next.i!==e.i&&w(r,r.next,t,e))return!0;r=r.next}while(r!==t);return!1}function E(t,e){return x(t.prev,t,t.next)<0?x(t,e,t.next)>=0&&x(t,t.prev,e)>=0:x(t,e,t.prev)<0||x(t,t.next,e)<0}function S(t,e){var r=t,n=!1,i=(t.x+e.x)/2,o=(t.y+e.y)/2;do r.y>o!=r.next.y>o&&i<(r.next.x-r.x)*(o-r.y)/(r.next.y-r.y)+r.x&&(n=!n),r=r.next;while(r!==t);return n}function M(t,e){var r=new C(t.i,t.x,t.y),n=new C(e.i,e.x,e.y),i=t.next,o=e.prev;return t.next=e,e.prev=t,r.next=i,i.prev=r,n.next=r,r.prev=n,o.next=n,n.prev=o,n}function A(t,e,r,n){var i=new C(t,e,r);return n?(i.next=n.next,i.prev=n,n.next.prev=i,n.next=i):(i.prev=i,i.next=i),i}function P(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function C(t,e,r){this.i=t,this.x=e,this.y=r,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function O(t,e,r,n){for(var i=0,o=e,a=r-n;o<r;o+=n)i+=(t[a]-t[o])*(t[o+1]+t[a+1]),a=o;return i}t.exports=r,r.deviation=function(t,e,r,n){var i=e&&e.length,o=i?e[0]*r:t.length,a=Math.abs(O(t,0,o,r));if(i)for(var s=0,u=e.length;s<u;s++){var l=e[s]*r,c=s<u-1?e[s+1]*r:t.length;a-=Math.abs(O(t,l,c,r))}var h=0;for(s=0;s<n.length;s+=3){var f=n[s]*r,d=n[s+1]*r,p=n[s+2]*r;h+=Math.abs((t[f]-t[p])*(t[d+1]-t[f+1])-(t[f]-t[d])*(t[p+1]-t[f+1]))}return 0===a&&0===h?0:Math.abs((h-a)/a)},r.flatten=function(t){for(var e=t[0][0].length,r={vertices:[],holes:[],dimensions:e},n=0,i=0;i<t.length;i++){for(var o=0;o<t[i].length;o++)for(var a=0;a<e;a++)r.vertices.push(t[i][o][a]);i>0&&(n+=t[i-1].length,r.holes.push(n))}return r}},function(t,e,r){var n;(function(t,i){(function(){function o(t,e){return t.set(e[0],e[1]),t}function a(t,e){return t.add(e),t}function s(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}function u(t,e,r,n){for(var i=-1,o=null==t?0:t.length;++i<o;){var a=t[i];e(n,a,r(a),t)}return n}function l(t,e){for(var r=-1,n=null==t?0:t.length;++r<n&&e(t[r],r,t)!==!1;);return t}function c(t,e){for(var r=null==t?0:t.length;r--&&e(t[r],r,t)!==!1;);return t}function h(t,e){for(var r=-1,n=null==t?0:t.length;++r<n;)if(!e(t[r],r,t))return!1;return!0}function f(t,e){for(var r=-1,n=null==t?0:t.length,i=0,o=[];++r<n;){var a=t[r];e(a,r,t)&&(o[i++]=a)}return o}function d(t,e){var r=null==t?0:t.length;return!!r&&E(t,e,0)>-1}function p(t,e,r){for(var n=-1,i=null==t?0:t.length;++n<i;)if(r(e,t[n]))return!0;return!1}function v(t,e){for(var r=-1,n=null==t?0:t.length,i=Array(n);++r<n;)i[r]=e(t[r],r,t);return i}function m(t,e){for(var r=-1,n=e.length,i=t.length;++r<n;)t[i+r]=e[r];return t}function g(t,e,r,n){var i=-1,o=null==t?0:t.length;for(n&&o&&(r=t[++i]);++i<o;)r=e(r,t[i],i,t);return r}function y(t,e,r,n){var i=null==t?0:t.length;for(n&&i&&(r=t[--i]);i--;)r=e(r,t[i],i,t);return r}function _(t,e){for(var r=-1,n=null==t?0:t.length;++r<n;)if(e(t[r],r,t))return!0;return!1}function x(t){return t.split("")}function b(t){return t.match(He)||[]}function w(t,e,r){var n;return r(t,function(t,r,i){if(e(t,r,i))return n=r,!1}),n}function T(t,e,r,n){for(var i=t.length,o=r+(n?1:-1);n?o--:++o<i;)if(e(t[o],o,t))return o;return-1}function E(t,e,r){return e===e?J(t,e,r):T(t,M,r)}function S(t,e,r,n){for(var i=r-1,o=t.length;++i<o;)if(n(t[i],e))return i;return-1}function M(t){return t!==t}function A(t,e){var r=null==t?0:t.length;return r?D(t,e)/r:kt}function P(t){return function(e){return null==e?it:e[t]}}function C(t){return function(e){return null==t?it:t[e]}}function O(t,e,r,n,i){return i(t,function(t,i,o){r=n?(n=!1,t):e(r,t,i,o)}),r}function R(t,e){var r=t.length;for(t.sort(e);r--;)t[r]=t[r].value;return t}function D(t,e){for(var r,n=-1,i=t.length;++n<i;){var o=e(t[n]);o!==it&&(r=r===it?o:r+o)}return r}function L(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}function I(t,e){return v(e,function(e){return[e,t[e]]})}function F(t){return function(e){return t(e)}}function N(t,e){return v(e,function(e){return t[e]})}function k(t,e){return t.has(e)}function U(t,e){for(var r=-1,n=t.length;++r<n&&E(e,t[r],0)>-1;);return r}function B(t,e){for(var r=t.length;r--&&E(e,t[r],0)>-1;);return r}function z(t,e){for(var r=t.length,n=0;r--;)t[r]===e&&++n;return n}function j(t){return"\\"+en[t]}function G(t,e){return null==t?it:t[e]}function H(t){return Wr.test(t)}function X(t){return Yr.test(t)}function V(t){for(var e,r=[];!(e=t.next()).done;)r.push(e.value);return r}function W(t){var e=-1,r=Array(t.size);return t.forEach(function(t,n){r[++e]=[n,t]}),r}function Y(t,e){return function(r){return t(e(r))}}function q(t,e){for(var r=-1,n=t.length,i=0,o=[];++r<n;){var a=t[r];a!==e&&a!==ht||(t[r]=ht,o[i++]=r)}return o}function Z(t){var e=-1,r=Array(t.size);return t.forEach(function(t){r[++e]=t}),r}function K(t){var e=-1,r=Array(t.size);return t.forEach(function(t){r[++e]=[t,t]}),r}function J(t,e,r){for(var n=r-1,i=t.length;++n<i;)if(t[n]===e)return n;return-1}function Q(t,e,r){for(var n=r+1;n--;)if(t[n]===e)return n;return n}function $(t){return H(t)?et(t):_n(t)}function tt(t){return H(t)?rt(t):x(t)}function et(t){for(var e=Xr.lastIndex=0;Xr.test(t);)++e;return e}function rt(t){return t.match(Xr)||[]}function nt(t){return t.match(Vr)||[]}var it,ot="4.17.2",at=200,st="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",ut="Expected a function",lt="__lodash_hash_undefined__",ct=500,ht="__lodash_placeholder__",ft=1,dt=2,pt=4,vt=1,mt=2,gt=1,yt=2,_t=4,xt=8,bt=16,wt=32,Tt=64,Et=128,St=256,Mt=512,At=30,Pt="...",Ct=800,Ot=16,Rt=1,Dt=2,Lt=3,It=1/0,Ft=9007199254740991,Nt=1.7976931348623157e308,kt=NaN,Ut=4294967295,Bt=Ut-1,zt=Ut>>>1,jt=[["ary",Et],["bind",gt],["bindKey",yt],["curry",xt],["curryRight",bt],["flip",Mt],["partial",wt],["partialRight",Tt],["rearg",St]],Gt="[object Arguments]",Ht="[object Array]",Xt="[object AsyncFunction]",Vt="[object Boolean]",Wt="[object Date]",Yt="[object DOMException]",qt="[object Error]",Zt="[object Function]",Kt="[object GeneratorFunction]",Jt="[object Map]",Qt="[object Number]",$t="[object Null]",te="[object Object]",ee="[object Promise]",re="[object Proxy]",ne="[object RegExp]",ie="[object Set]",oe="[object String]",ae="[object Symbol]",se="[object Undefined]",ue="[object WeakMap]",le="[object WeakSet]",ce="[object ArrayBuffer]",he="[object DataView]",fe="[object Float32Array]",de="[object Float64Array]",pe="[object Int8Array]",ve="[object Int16Array]",me="[object Int32Array]",ge="[object Uint8Array]",ye="[object Uint8ClampedArray]",_e="[object Uint16Array]",xe="[object Uint32Array]",be=/\b__p \+= '';/g,we=/\b(__p \+=) '' \+/g,Te=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Ee=/&(?:amp|lt|gt|quot|#39);/g,Se=/[&<>"']/g,Me=RegExp(Ee.source),Ae=RegExp(Se.source),Pe=/<%-([\s\S]+?)%>/g,Ce=/<%([\s\S]+?)%>/g,Oe=/<%=([\s\S]+?)%>/g,Re=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,De=/^\w*$/,Le=/^\./,Ie=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Fe=/[\\^$.*+?()[\]{}|]/g,Ne=RegExp(Fe.source),ke=/^\s+|\s+$/g,Ue=/^\s+/,Be=/\s+$/,ze=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,je=/\{\n\/\* \[wrapped with (.+)\] \*/,Ge=/,? & /,He=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Xe=/\\(\\)?/g,Ve=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,We=/\w*$/,Ye=/^[-+]0x[0-9a-f]+$/i,qe=/^0b[01]+$/i,Ze=/^\[object .+?Constructor\]$/,Ke=/^0o[0-7]+$/i,Je=/^(?:0|[1-9]\d*)$/,Qe=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,$e=/($^)/,tr=/['\n\r\u2028\u2029\\]/g,er="\\ud800-\\udfff",rr="\\u0300-\\u036f",nr="\\ufe20-\\ufe2f",ir="\\u20d0-\\u20ff",or=rr+nr+ir,ar="\\u2700-\\u27bf",sr="a-z\\xdf-\\xf6\\xf8-\\xff",ur="\\xac\\xb1\\xd7\\xf7",lr="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",cr="\\u2000-\\u206f",hr=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",fr="A-Z\\xc0-\\xd6\\xd8-\\xde",dr="\\ufe0e\\ufe0f",pr=ur+lr+cr+hr,vr="['’]",mr="["+er+"]",gr="["+pr+"]",yr="["+or+"]",_r="\\d+",xr="["+ar+"]",br="["+sr+"]",wr="[^"+er+pr+_r+ar+sr+fr+"]",Tr="\\ud83c[\\udffb-\\udfff]",Er="(?:"+yr+"|"+Tr+")",Sr="[^"+er+"]",Mr="(?:\\ud83c[\\udde6-\\uddff]){2}",Ar="[\\ud800-\\udbff][\\udc00-\\udfff]",Pr="["+fr+"]",Cr="\\u200d",Or="(?:"+br+"|"+wr+")",Rr="(?:"+Pr+"|"+wr+")",Dr="(?:"+vr+"(?:d|ll|m|re|s|t|ve))?",Lr="(?:"+vr+"(?:D|LL|M|RE|S|T|VE))?",Ir=Er+"?",Fr="["+dr+"]?",Nr="(?:"+Cr+"(?:"+[Sr,Mr,Ar].join("|")+")"+Fr+Ir+")*",kr="\\d*(?:(?:1st|2nd|3rd|(?![123])\\dth)\\b)",Ur="\\d*(?:(?:1ST|2ND|3RD|(?![123])\\dTH)\\b)",Br=Fr+Ir+Nr,zr="(?:"+[xr,Mr,Ar].join("|")+")"+Br,jr="(?:"+[Sr+yr+"?",yr,Mr,Ar,mr].join("|")+")",Gr=RegExp(vr,"g"),Hr=RegExp(yr,"g"),Xr=RegExp(Tr+"(?="+Tr+")|"+jr+Br,"g"),Vr=RegExp([Pr+"?"+br+"+"+Dr+"(?="+[gr,Pr,"$"].join("|")+")",Rr+"+"+Lr+"(?="+[gr,Pr+Or,"$"].join("|")+")",Pr+"?"+Or+"+"+Dr,Pr+"+"+Lr,Ur,kr,_r,zr].join("|"),"g"),Wr=RegExp("["+Cr+er+or+dr+"]"),Yr=/[a-z][A-Z]|[A-Z]{2,}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,qr=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Zr=-1,Kr={};Kr[fe]=Kr[de]=Kr[pe]=Kr[ve]=Kr[me]=Kr[ge]=Kr[ye]=Kr[_e]=Kr[xe]=!0,Kr[Gt]=Kr[Ht]=Kr[ce]=Kr[Vt]=Kr[he]=Kr[Wt]=Kr[qt]=Kr[Zt]=Kr[Jt]=Kr[Qt]=Kr[te]=Kr[ne]=Kr[ie]=Kr[oe]=Kr[ue]=!1;var Jr={};Jr[Gt]=Jr[Ht]=Jr[ce]=Jr[he]=Jr[Vt]=Jr[Wt]=Jr[fe]=Jr[de]=Jr[pe]=Jr[ve]=Jr[me]=Jr[Jt]=Jr[Qt]=Jr[te]=Jr[ne]=Jr[ie]=Jr[oe]=Jr[ae]=Jr[ge]=Jr[ye]=Jr[_e]=Jr[xe]=!0,Jr[qt]=Jr[Zt]=Jr[ue]=!1;var Qr={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"},$r={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},tn={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},en={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},rn=parseFloat,nn=parseInt,on="object"==typeof t&&t&&t.Object===Object&&t,an="object"==typeof self&&self&&self.Object===Object&&self,sn=on||an||Function("return this")(),un="object"==typeof e&&e&&!e.nodeType&&e,ln=un&&"object"==typeof i&&i&&!i.nodeType&&i,cn=ln&&ln.exports===un,hn=cn&&on.process,fn=function(){try{return hn&&hn.binding&&hn.binding("util")}catch(t){}}(),dn=fn&&fn.isArrayBuffer,pn=fn&&fn.isDate,vn=fn&&fn.isMap,mn=fn&&fn.isRegExp,gn=fn&&fn.isSet,yn=fn&&fn.isTypedArray,_n=P("length"),xn=C(Qr),bn=C($r),wn=C(tn),Tn=function t(e){function r(t){if(uu(t)&&!xf(t)&&!(t instanceof x)){if(t instanceof i)return t;if(_c.call(t,"__wrapped__"))return oa(t)}return new i(t)}function n(){}function i(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=it}function x(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Ut,this.__views__=[]}function C(){var t=new x(this.__wrapped__);return t.__actions__=ji(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=ji(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=ji(this.__views__),t}function J(){if(this.__filtered__){var t=new x(this);t.__dir__=-1,t.__filtered__=!0}else t=this.clone(),t.__dir__*=-1;return t}function et(){var t=this.__wrapped__.value(),e=this.__dir__,r=xf(t),n=e<0,i=r?t.length:0,o=Po(0,i,this.__views__),a=o.start,s=o.end,u=s-a,l=n?s:a-1,c=this.__iteratees__,h=c.length,f=0,d=Zc(u,this.__takeCount__);if(!r||i<at||i==u&&d==u)return wi(t,this.__actions__);var p=[];t:for(;u--&&f<d;){l+=e;for(var v=-1,m=t[l];++v<h;){var g=c[v],y=g.iteratee,_=g.type,x=y(m);if(_==Dt)m=x;else if(!x){if(_==Rt)continue t;break t}}p[f++]=m}return p}function rt(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function He(){this.__data__=oh?oh(null):{},this.size=0}function er(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}function rr(t){var e=this.__data__;if(oh){var r=e[t];return r===lt?it:r}return _c.call(e,t)?e[t]:it}function nr(t){var e=this.__data__;return oh?e[t]!==it:_c.call(e,t)}function ir(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=oh&&e===it?lt:e,this}function or(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function ar(){this.__data__=[],this.size=0}function sr(t){var e=this.__data__,r=Lr(e,t);if(r<0)return!1;var n=e.length-1;return r==n?e.pop():Lc.call(e,r,1),--this.size,!0}function ur(t){var e=this.__data__,r=Lr(e,t);return r<0?it:e[r][1]}function lr(t){return Lr(this.__data__,t)>-1}function cr(t,e){var r=this.__data__,n=Lr(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this}function hr(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function fr(){this.size=0,this.__data__={hash:new rt,map:new(eh||or),string:new rt}}function dr(t){var e=Eo(this,t).delete(t);return this.size-=e?1:0,e}function pr(t){return Eo(this,t).get(t)}function vr(t){return Eo(this,t).has(t)}function mr(t,e){var r=Eo(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this}function gr(t){var e=-1,r=null==t?0:t.length;for(this.__data__=new hr;++e<r;)this.add(t[e])}function yr(t){return this.__data__.set(t,lt),this}function _r(t){return this.__data__.has(t)}function xr(t){var e=this.__data__=new or(t);this.size=e.size}function br(){this.__data__=new or,this.size=0}function wr(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r}function Tr(t){return this.__data__.get(t)}function Er(t){return this.__data__.has(t)}function Sr(t,e){var r=this.__data__;if(r instanceof or){var n=r.__data__;if(!eh||n.length<at-1)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new hr(n)}return r.set(t,e),this.size=r.size,this}function Mr(t,e){var r=xf(t),n=!r&&_f(t),i=!r&&!n&&wf(t),o=!r&&!n&&!i&&Af(t),a=r||n||i||o,s=a?L(t.length,fc):[],u=s.length;for(var l in t)!e&&!_c.call(t,l)||a&&("length"==l||i&&("offset"==l||"parent"==l)||o&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||No(l,u))||s.push(l);return s}function Ar(t){var e=t.length;return e?t[ni(0,e-1)]:it}function Pr(t,e){return ea(ji(t),Br(e,0,t.length))}function Cr(t){return ea(ji(t))}function Or(t,e,r,n){return t===it||qs(t,mc[r])&&!_c.call(n,r)?e:t}function Rr(t,e,r){(r===it||qs(t[e],r))&&(r!==it||e in t)||kr(t,e,r)}function Dr(t,e,r){var n=t[e];_c.call(t,e)&&qs(n,r)&&(r!==it||e in t)||kr(t,e,r)}function Lr(t,e){for(var r=t.length;r--;)if(qs(t[r][0],e))return r;return-1}function Ir(t,e,r,n){return gh(t,function(t,i,o){e(n,t,r(t),o)}),n}function Fr(t,e){return t&&Gi(e,Hu(e),t)}function Nr(t,e){return t&&Gi(e,Xu(e),t)}function kr(t,e,r){"__proto__"==e&&kc?kc(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}function Ur(t,e){for(var r=-1,n=e.length,i=oc(n),o=null==t;++r<n;)i[r]=o?it:zu(t,e[r]);return i}function Br(t,e,r){return t===t&&(r!==it&&(t=t<=r?t:r),e!==it&&(t=t>=e?t:e)),t}function zr(t,e,r,n,i,o){var a,s=e&ft,u=e&dt,c=e&pt;if(r&&(a=i?r(t,n,i,o):r(t)),a!==it)return a;if(!su(t))return t;var h=xf(t);if(h){if(a=Ro(t),!s)return ji(t,a)}else{var f=Ch(t),d=f==Zt||f==Kt;if(wf(t))return Ci(t,s);if(f==te||f==Gt||d&&!i){if(a=u||d?{}:Do(t),!s)return u?Xi(t,Nr(a,t)):Hi(t,Fr(a,t))}else{if(!Jr[f])return i?t:{};a=Lo(t,f,zr,s)}}o||(o=new xr);var p=o.get(t);if(p)return p;o.set(t,a);var v=c?u?xo:_o:u?Xu:Hu,m=h?it:v(t);return l(m||t,function(n,i){m&&(i=n,n=t[i]),Dr(a,i,zr(n,e,r,i,t,o))}),a}function jr(t){var e=Hu(t);return function(r){return Xr(r,t,e)}}function Xr(t,e,r){var n=r.length;if(null==t)return!n;for(t=cc(t);n--;){var i=r[n],o=e[i],a=t[i];if(a===it&&!(i in t)||!o(a))return!1}return!0}function Vr(t,e,r){if("function"!=typeof t)throw new dc(ut);return Dh(function(){t.apply(it,r)},e)}function Wr(t,e,r,n){var i=-1,o=d,a=!0,s=t.length,u=[],l=e.length;if(!s)return u;r&&(e=v(e,F(r))),n?(o=p,a=!1):e.length>=at&&(o=k,a=!1,e=new gr(e));t:for(;++i<s;){var c=t[i],h=null==r?c:r(c);if(c=n||0!==c?c:0,a&&h===h){for(var f=l;f--;)if(e[f]===h)continue t;u.push(c)}else o(e,h,n)||u.push(c)}return u;
}function Yr(t,e){var r=!0;return gh(t,function(t,n,i){return r=!!e(t,n,i)}),r}function Qr(t,e,r){for(var n=-1,i=t.length;++n<i;){var o=t[n],a=e(o);if(null!=a&&(s===it?a===a&&!_u(a):r(a,s)))var s=a,u=o}return u}function $r(t,e,r,n){var i=t.length;for(r=Su(r),r<0&&(r=-r>i?0:i+r),n=n===it||n>i?i:Su(n),n<0&&(n+=i),n=r>n?0:Mu(n);r<n;)t[r++]=e;return t}function tn(t,e){var r=[];return gh(t,function(t,n,i){e(t,n,i)&&r.push(t)}),r}function en(t,e,r,n,i){var o=-1,a=t.length;for(r||(r=Fo),i||(i=[]);++o<a;){var s=t[o];e>0&&r(s)?e>1?en(s,e-1,r,n,i):m(i,s):n||(i[i.length]=s)}return i}function on(t,e){return t&&_h(t,e,Hu)}function an(t,e){return t&&xh(t,e,Hu)}function un(t,e){return f(e,function(e){return iu(t[e])})}function ln(t,e){e=Ai(e,t);for(var r=0,n=e.length;null!=t&&r<n;)t=t[ra(e[r++])];return r&&r==n?t:it}function hn(t,e,r){var n=e(t);return xf(t)?n:m(n,r(t))}function fn(t){return null==t?t===it?se:$t:(t=cc(t),Nc&&Nc in t?Ao(t):Zo(t))}function _n(t,e){return t>e}function Tn(t,e){return null!=t&&_c.call(t,e)}function Sn(t,e){return null!=t&&e in cc(t)}function Mn(t,e,r){return t>=Zc(e,r)&&t<qc(e,r)}function An(t,e,r){for(var n=r?p:d,i=t[0].length,o=t.length,a=o,s=oc(o),u=1/0,l=[];a--;){var c=t[a];a&&e&&(c=v(c,F(e))),u=Zc(c.length,u),s[a]=!r&&(e||i>=120&&c.length>=120)?new gr(a&&c):it}c=t[0];var h=-1,f=s[0];t:for(;++h<i&&l.length<u;){var m=c[h],g=e?e(m):m;if(m=r||0!==m?m:0,!(f?k(f,g):n(l,g,r))){for(a=o;--a;){var y=s[a];if(!(y?k(y,g):n(t[a],g,r)))continue t}f&&f.push(g),l.push(m)}}return l}function Pn(t,e,r,n){return on(t,function(t,i,o){e(n,r(t),i,o)}),n}function Cn(t,e,r){e=Ai(e,t),t=Jo(t,e);var n=null==t?t:t[ra(Ea(e))];return null==n?it:s(n,t,r)}function On(t){return uu(t)&&fn(t)==Gt}function Rn(t){return uu(t)&&fn(t)==ce}function Dn(t){return uu(t)&&fn(t)==Wt}function Ln(t,e,r,n,i){return t===e||(null==t||null==e||!su(t)&&!uu(e)?t!==t&&e!==e:In(t,e,r,n,Ln,i))}function In(t,e,r,n,i,o){var a=xf(t),s=xf(e),u=Ht,l=Ht;a||(u=Ch(t),u=u==Gt?te:u),s||(l=Ch(e),l=l==Gt?te:l);var c=u==te,h=l==te,f=u==l;if(f&&wf(t)){if(!wf(e))return!1;a=!0,c=!1}if(f&&!c)return o||(o=new xr),a||Af(t)?vo(t,e,r,n,i,o):mo(t,e,u,r,n,i,o);if(!(r&vt)){var d=c&&_c.call(t,"__wrapped__"),p=h&&_c.call(e,"__wrapped__");if(d||p){var v=d?t.value():t,m=p?e.value():e;return o||(o=new xr),i(v,m,r,n,o)}}return!!f&&(o||(o=new xr),go(t,e,r,n,i,o))}function Fn(t){return uu(t)&&Ch(t)==Jt}function Nn(t,e,r,n){var i=r.length,o=i,a=!n;if(null==t)return!o;for(t=cc(t);i--;){var s=r[i];if(a&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++i<o;){s=r[i];var u=s[0],l=t[u],c=s[1];if(a&&s[2]){if(l===it&&!(u in t))return!1}else{var h=new xr;if(n)var f=n(l,c,u,t,e,h);if(!(f===it?Ln(c,l,vt|mt,n,h):f))return!1}}return!0}function kn(t){if(!su(t)||jo(t))return!1;var e=iu(t)?Sc:Ze;return e.test(na(t))}function Un(t){return uu(t)&&fn(t)==ne}function Bn(t){return uu(t)&&Ch(t)==ie}function zn(t){return uu(t)&&au(t.length)&&!!Kr[fn(t)]}function jn(t){return"function"==typeof t?t:null==t?Ll:"object"==typeof t?xf(t)?Yn(t[0],t[1]):Wn(t):jl(t)}function Gn(t){if(!Go(t))return Yc(t);var e=[];for(var r in cc(t))_c.call(t,r)&&"constructor"!=r&&e.push(r);return e}function Hn(t){if(!su(t))return qo(t);var e=Go(t),r=[];for(var n in t)("constructor"!=n||!e&&_c.call(t,n))&&r.push(n);return r}function Xn(t,e){return t<e}function Vn(t,e){var r=-1,n=Zs(t)?oc(t.length):[];return gh(t,function(t,i,o){n[++r]=e(t,i,o)}),n}function Wn(t){var e=So(t);return 1==e.length&&e[0][2]?Xo(e[0][0],e[0][1]):function(r){return r===t||Nn(r,t,e)}}function Yn(t,e){return Uo(t)&&Ho(e)?Xo(ra(t),e):function(r){var n=zu(r,t);return n===it&&n===e?Gu(r,t):Ln(e,n,vt|mt)}}function qn(t,e,r,n,i){t!==e&&_h(e,function(o,a){if(su(o))i||(i=new xr),Zn(t,e,a,r,qn,n,i);else{var s=n?n(t[a],o,a+"",t,e,i):it;s===it&&(s=o),Rr(t,a,s)}},Xu)}function Zn(t,e,r,n,i,o,a){var s=t[r],u=e[r],l=a.get(u);if(l)return void Rr(t,r,l);var c=o?o(s,u,r+"",t,e,a):it,h=c===it;if(h){var f=xf(u),d=!f&&wf(u),p=!f&&!d&&Af(u);c=u,f||d||p?xf(s)?c=s:Ks(s)?c=ji(s):d?(h=!1,c=Ci(u,!0)):p?(h=!1,c=Ni(u,!0)):c=[]:mu(u)||_f(u)?(c=s,_f(s)?c=Pu(s):(!su(s)||n&&iu(s))&&(c=Do(u))):h=!1}h&&(a.set(u,c),i(c,u,n,o,a),a.delete(u)),Rr(t,r,c)}function Kn(t,e){var r=t.length;if(r)return e+=e<0?r:0,No(e,r)?t[e]:it}function Jn(t,e,r){var n=-1;e=v(e.length?e:[Ll],F(To()));var i=Vn(t,function(t,r,i){var o=v(e,function(e){return e(t)});return{criteria:o,index:++n,value:t}});return R(i,function(t,e){return Ui(t,e,r)})}function Qn(t,e){return t=cc(t),$n(t,e,function(e,r){return Gu(t,r)})}function $n(t,e,r){for(var n=-1,i=e.length,o={};++n<i;){var a=e[n],s=ln(t,a);r(s,a)&&li(o,Ai(a,t),s)}return o}function ti(t){return function(e){return ln(e,t)}}function ei(t,e,r,n){var i=n?S:E,o=-1,a=e.length,s=t;for(t===e&&(e=ji(e)),r&&(s=v(t,F(r)));++o<a;)for(var u=0,l=e[o],c=r?r(l):l;(u=i(s,c,u,n))>-1;)s!==t&&Lc.call(s,u,1),Lc.call(t,u,1);return t}function ri(t,e){for(var r=t?e.length:0,n=r-1;r--;){var i=e[r];if(r==n||i!==o){var o=i;No(i)?Lc.call(t,i,1):_i(t,i)}}return t}function ni(t,e){return t+Gc(Qc()*(e-t+1))}function ii(t,e,r,n){for(var i=-1,o=qc(jc((e-t)/(r||1)),0),a=oc(o);o--;)a[n?o:++i]=t,t+=r;return a}function oi(t,e){var r="";if(!t||e<1||e>Ft)return r;do e%2&&(r+=t),e=Gc(e/2),e&&(t+=t);while(e);return r}function ai(t,e){return Lh(Ko(t,e,Ll),t+"")}function si(t){return Ar(rl(t))}function ui(t,e){var r=rl(t);return ea(r,Br(e,0,r.length))}function li(t,e,r,n){if(!su(t))return t;e=Ai(e,t);for(var i=-1,o=e.length,a=o-1,s=t;null!=s&&++i<o;){var u=ra(e[i]),l=r;if(i!=a){var c=s[u];l=n?n(c,u,s):it,l===it&&(l=su(c)?c:No(e[i+1])?[]:{})}Dr(s,u,l),s=s[u]}return t}function ci(t){return ea(rl(t))}function hi(t,e,r){var n=-1,i=t.length;e<0&&(e=-e>i?0:i+e),r=r>i?i:r,r<0&&(r+=i),i=e>r?0:r-e>>>0,e>>>=0;for(var o=oc(i);++n<i;)o[n]=t[n+e];return o}function fi(t,e){var r;return gh(t,function(t,n,i){return r=e(t,n,i),!r}),!!r}function di(t,e,r){var n=0,i=null==t?n:t.length;if("number"==typeof e&&e===e&&i<=zt){for(;n<i;){var o=n+i>>>1,a=t[o];null!==a&&!_u(a)&&(r?a<=e:a<e)?n=o+1:i=o}return i}return pi(t,e,Ll,r)}function pi(t,e,r,n){e=r(e);for(var i=0,o=null==t?0:t.length,a=e!==e,s=null===e,u=_u(e),l=e===it;i<o;){var c=Gc((i+o)/2),h=r(t[c]),f=h!==it,d=null===h,p=h===h,v=_u(h);if(a)var m=n||p;else m=l?p&&(n||f):s?p&&f&&(n||!d):u?p&&f&&!d&&(n||!v):!d&&!v&&(n?h<=e:h<e);m?i=c+1:o=c}return Zc(o,Bt)}function vi(t,e){for(var r=-1,n=t.length,i=0,o=[];++r<n;){var a=t[r],s=e?e(a):a;if(!r||!qs(s,u)){var u=s;o[i++]=0===a?0:a}}return o}function mi(t){return"number"==typeof t?t:_u(t)?kt:+t}function gi(t){if("string"==typeof t)return t;if(xf(t))return v(t,gi)+"";if(_u(t))return vh?vh.call(t):"";var e=t+"";return"0"==e&&1/t==-It?"-0":e}function yi(t,e,r){var n=-1,i=d,o=t.length,a=!0,s=[],u=s;if(r)a=!1,i=p;else if(o>=at){var l=e?null:Sh(t);if(l)return Z(l);a=!1,i=k,u=new gr}else u=e?[]:s;t:for(;++n<o;){var c=t[n],h=e?e(c):c;if(c=r||0!==c?c:0,a&&h===h){for(var f=u.length;f--;)if(u[f]===h)continue t;e&&u.push(h),s.push(c)}else i(u,h,r)||(u!==s&&u.push(h),s.push(c))}return s}function _i(t,e){return e=Ai(e,t),t=Jo(t,e),null==t||delete t[ra(Ea(e))]}function xi(t,e,r,n){return li(t,e,r(ln(t,e)),n)}function bi(t,e,r,n){for(var i=t.length,o=n?i:-1;(n?o--:++o<i)&&e(t[o],o,t););return r?hi(t,n?0:o,n?o+1:i):hi(t,n?o+1:0,n?i:o)}function wi(t,e){var r=t;return r instanceof x&&(r=r.value()),g(e,function(t,e){return e.func.apply(e.thisArg,m([t],e.args))},r)}function Ti(t,e,r){var n=t.length;if(n<2)return n?yi(t[0]):[];for(var i=-1,o=oc(n);++i<n;)for(var a=t[i],s=-1;++s<n;)s!=i&&(o[i]=Wr(o[i]||a,t[s],e,r));return yi(en(o,1),e,r)}function Ei(t,e,r){for(var n=-1,i=t.length,o=e.length,a={};++n<i;){var s=n<o?e[n]:it;r(a,t[n],s)}return a}function Si(t){return Ks(t)?t:[]}function Mi(t){return"function"==typeof t?t:Ll}function Ai(t,e){return xf(t)?t:Uo(t,e)?[t]:Ih(Ou(t))}function Pi(t,e,r){var n=t.length;return r=r===it?n:r,!e&&r>=n?t:hi(t,e,r)}function Ci(t,e){if(e)return t.slice();var r=t.length,n=Cc?Cc(r):new t.constructor(r);return t.copy(n),n}function Oi(t){var e=new t.constructor(t.byteLength);return new Pc(e).set(new Pc(t)),e}function Ri(t,e){var r=e?Oi(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.byteLength)}function Di(t,e,r){var n=e?r(W(t),ft):W(t);return g(n,o,new t.constructor)}function Li(t){var e=new t.constructor(t.source,We.exec(t));return e.lastIndex=t.lastIndex,e}function Ii(t,e,r){var n=e?r(Z(t),ft):Z(t);return g(n,a,new t.constructor)}function Fi(t){return ph?cc(ph.call(t)):{}}function Ni(t,e){var r=e?Oi(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.length)}function ki(t,e){if(t!==e){var r=t!==it,n=null===t,i=t===t,o=_u(t),a=e!==it,s=null===e,u=e===e,l=_u(e);if(!s&&!l&&!o&&t>e||o&&a&&u&&!s&&!l||n&&a&&u||!r&&u||!i)return 1;if(!n&&!o&&!l&&t<e||l&&r&&i&&!n&&!o||s&&r&&i||!a&&i||!u)return-1}return 0}function Ui(t,e,r){for(var n=-1,i=t.criteria,o=e.criteria,a=i.length,s=r.length;++n<a;){var u=ki(i[n],o[n]);if(u){if(n>=s)return u;var l=r[n];return u*("desc"==l?-1:1)}}return t.index-e.index}function Bi(t,e,r,n){for(var i=-1,o=t.length,a=r.length,s=-1,u=e.length,l=qc(o-a,0),c=oc(u+l),h=!n;++s<u;)c[s]=e[s];for(;++i<a;)(h||i<o)&&(c[r[i]]=t[i]);for(;l--;)c[s++]=t[i++];return c}function zi(t,e,r,n){for(var i=-1,o=t.length,a=-1,s=r.length,u=-1,l=e.length,c=qc(o-s,0),h=oc(c+l),f=!n;++i<c;)h[i]=t[i];for(var d=i;++u<l;)h[d+u]=e[u];for(;++a<s;)(f||i<o)&&(h[d+r[a]]=t[i++]);return h}function ji(t,e){var r=-1,n=t.length;for(e||(e=oc(n));++r<n;)e[r]=t[r];return e}function Gi(t,e,r,n){var i=!r;r||(r={});for(var o=-1,a=e.length;++o<a;){var s=e[o],u=n?n(r[s],t[s],s,r,t):it;u===it&&(u=t[s]),i?kr(r,s,u):Dr(r,s,u)}return r}function Hi(t,e){return Gi(t,Ah(t),e)}function Xi(t,e){return Gi(t,Ph(t),e)}function Vi(t,e){return function(r,n){var i=xf(r)?u:Ir,o=e?e():{};return i(r,t,To(n,2),o)}}function Wi(t){return ai(function(e,r){var n=-1,i=r.length,o=i>1?r[i-1]:it,a=i>2?r[2]:it;for(o=t.length>3&&"function"==typeof o?(i--,o):it,a&&ko(r[0],r[1],a)&&(o=i<3?it:o,i=1),e=cc(e);++n<i;){var s=r[n];s&&t(e,s,n,o)}return e})}function Yi(t,e){return function(r,n){if(null==r)return r;if(!Zs(r))return t(r,n);for(var i=r.length,o=e?i:-1,a=cc(r);(e?o--:++o<i)&&n(a[o],o,a)!==!1;);return r}}function qi(t){return function(e,r,n){for(var i=-1,o=cc(e),a=n(e),s=a.length;s--;){var u=a[t?s:++i];if(r(o[u],u,o)===!1)break}return e}}function Zi(t,e,r){function n(){var e=this&&this!==sn&&this instanceof n?o:t;return e.apply(i?r:this,arguments)}var i=e&gt,o=Qi(t);return n}function Ki(t){return function(e){e=Ou(e);var r=H(e)?tt(e):it,n=r?r[0]:e.charAt(0),i=r?Pi(r,1).join(""):e.slice(1);return n[t]()+i}}function Ji(t){return function(e){return g(Pl(ul(e).replace(Gr,"")),t,"")}}function Qi(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var r=mh(t.prototype),n=t.apply(r,e);return su(n)?n:r}}function $i(t,e,r){function n(){for(var o=arguments.length,a=oc(o),u=o,l=wo(n);u--;)a[u]=arguments[u];var c=o<3&&a[0]!==l&&a[o-1]!==l?[]:q(a,l);if(o-=c.length,o<r)return co(t,e,ro,n.placeholder,it,a,c,it,it,r-o);var h=this&&this!==sn&&this instanceof n?i:t;return s(h,this,a)}var i=Qi(t);return n}function to(t){return function(e,r,n){var i=cc(e);if(!Zs(e)){var o=To(r,3);e=Hu(e),r=function(t){return o(i[t],t,i)}}var a=t(e,r,n);return a>-1?i[o?e[a]:a]:it}}function eo(t){return yo(function(e){var r=e.length,n=r,o=i.prototype.thru;for(t&&e.reverse();n--;){var a=e[n];if("function"!=typeof a)throw new dc(ut);if(o&&!s&&"wrapper"==bo(a))var s=new i([],!0)}for(n=s?n:r;++n<r;){a=e[n];var u=bo(a),l="wrapper"==u?Mh(a):it;s=l&&zo(l[0])&&l[1]==(Et|xt|wt|St)&&!l[4].length&&1==l[9]?s[bo(l[0])].apply(s,l[3]):1==a.length&&zo(a)?s[u]():s.thru(a)}return function(){var t=arguments,n=t[0];if(s&&1==t.length&&xf(n)&&n.length>=at)return s.plant(n).value();for(var i=0,o=r?e[i].apply(this,t):n;++i<r;)o=e[i].call(this,o);return o}})}function ro(t,e,r,n,i,o,a,s,u,l){function c(){for(var g=arguments.length,y=oc(g),_=g;_--;)y[_]=arguments[_];if(p)var x=wo(c),b=z(y,x);if(n&&(y=Bi(y,n,i,p)),o&&(y=zi(y,o,a,p)),g-=b,p&&g<l){var w=q(y,x);return co(t,e,ro,c.placeholder,r,y,w,s,u,l-g)}var T=f?r:this,E=d?T[t]:t;return g=y.length,s?y=Qo(y,s):v&&g>1&&y.reverse(),h&&u<g&&(y.length=u),this&&this!==sn&&this instanceof c&&(E=m||Qi(E)),E.apply(T,y)}var h=e&Et,f=e&gt,d=e&yt,p=e&(xt|bt),v=e&Mt,m=d?it:Qi(t);return c}function no(t,e){return function(r,n){return Pn(r,t,e(n),{})}}function io(t,e){return function(r,n){var i;if(r===it&&n===it)return e;if(r!==it&&(i=r),n!==it){if(i===it)return n;"string"==typeof r||"string"==typeof n?(r=gi(r),n=gi(n)):(r=mi(r),n=mi(n)),i=t(r,n)}return i}}function oo(t){return yo(function(e){return e=v(e,F(To())),ai(function(r){var n=this;return t(e,function(t){return s(t,n,r)})})})}function ao(t,e){e=e===it?" ":gi(e);var r=e.length;if(r<2)return r?oi(e,t):e;var n=oi(e,jc(t/$(e)));return H(e)?Pi(tt(n),0,t).join(""):n.slice(0,t)}function so(t,e,r,n){function i(){for(var e=-1,u=arguments.length,l=-1,c=n.length,h=oc(c+u),f=this&&this!==sn&&this instanceof i?a:t;++l<c;)h[l]=n[l];for(;u--;)h[l++]=arguments[++e];return s(f,o?r:this,h)}var o=e&gt,a=Qi(t);return i}function uo(t){return function(e,r,n){return n&&"number"!=typeof n&&ko(e,r,n)&&(r=n=it),e=Eu(e),r===it?(r=e,e=0):r=Eu(r),n=n===it?e<r?1:-1:Eu(n),ii(e,r,n,t)}}function lo(t){return function(e,r){return"string"==typeof e&&"string"==typeof r||(e=Au(e),r=Au(r)),t(e,r)}}function co(t,e,r,n,i,o,a,s,u,l){var c=e&xt,h=c?a:it,f=c?it:a,d=c?o:it,p=c?it:o;e|=c?wt:Tt,e&=~(c?Tt:wt),e&_t||(e&=~(gt|yt));var v=[t,e,i,d,h,p,f,s,u,l],m=r.apply(it,v);return zo(t)&&Rh(m,v),m.placeholder=n,$o(m,t,e)}function ho(t){var e=lc[t];return function(t,r){if(t=Au(t),r=Zc(Su(r),292)){var n=(Ou(t)+"e").split("e"),i=e(n[0]+"e"+(+n[1]+r));return n=(Ou(i)+"e").split("e"),+(n[0]+"e"+(+n[1]-r))}return e(t)}}function fo(t){return function(e){var r=Ch(e);return r==Jt?W(e):r==ie?K(e):I(e,t(e))}}function po(t,e,r,n,i,o,a,s){var u=e&yt;if(!u&&"function"!=typeof t)throw new dc(ut);var l=n?n.length:0;if(l||(e&=~(wt|Tt),n=i=it),a=a===it?a:qc(Su(a),0),s=s===it?s:Su(s),l-=i?i.length:0,e&Tt){var c=n,h=i;n=i=it}var f=u?it:Mh(t),d=[t,e,r,n,i,c,h,o,a,s];if(f&&Wo(d,f),t=d[0],e=d[1],r=d[2],n=d[3],i=d[4],s=d[9]=null==d[9]?u?0:t.length:qc(d[9]-l,0),!s&&e&(xt|bt)&&(e&=~(xt|bt)),e&&e!=gt)p=e==xt||e==bt?$i(t,e,s):e!=wt&&e!=(gt|wt)||i.length?ro.apply(it,d):so(t,e,r,n);else var p=Zi(t,e,r);var v=f?bh:Rh;return $o(v(p,d),t,e)}function vo(t,e,r,n,i,o){var a=r&vt,s=t.length,u=e.length;if(s!=u&&!(a&&u>s))return!1;var l=o.get(t);if(l&&o.get(e))return l==e;var c=-1,h=!0,f=r&mt?new gr:it;for(o.set(t,e),o.set(e,t);++c<s;){var d=t[c],p=e[c];if(n)var v=a?n(p,d,c,e,t,o):n(d,p,c,t,e,o);if(v!==it){if(v)continue;h=!1;break}if(f){if(!_(e,function(t,e){if(!k(f,e)&&(d===t||i(d,t,r,n,o)))return f.push(e)})){h=!1;break}}else if(d!==p&&!i(d,p,r,n,o)){h=!1;break}}return o.delete(t),o.delete(e),h}function mo(t,e,r,n,i,o,a){switch(r){case he:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case ce:return!(t.byteLength!=e.byteLength||!o(new Pc(t),new Pc(e)));case Vt:case Wt:case Qt:return qs(+t,+e);case qt:return t.name==e.name&&t.message==e.message;case ne:case oe:return t==e+"";case Jt:var s=W;case ie:var u=n&vt;if(s||(s=Z),t.size!=e.size&&!u)return!1;var l=a.get(t);if(l)return l==e;n|=mt,a.set(t,e);var c=vo(s(t),s(e),n,i,o,a);return a.delete(t),c;case ae:if(ph)return ph.call(t)==ph.call(e)}return!1}function go(t,e,r,n,i,o){var a=r&vt,s=Hu(t),u=s.length,l=Hu(e),c=l.length;if(u!=c&&!a)return!1;for(var h=u;h--;){var f=s[h];if(!(a?f in e:_c.call(e,f)))return!1}var d=o.get(t);if(d&&o.get(e))return d==e;var p=!0;o.set(t,e),o.set(e,t);for(var v=a;++h<u;){f=s[h];var m=t[f],g=e[f];if(n)var y=a?n(g,m,f,e,t,o):n(m,g,f,t,e,o);if(!(y===it?m===g||i(m,g,r,n,o):y)){p=!1;break}v||(v="constructor"==f)}if(p&&!v){var _=t.constructor,x=e.constructor;_!=x&&"constructor"in t&&"constructor"in e&&!("function"==typeof _&&_ instanceof _&&"function"==typeof x&&x instanceof x)&&(p=!1)}return o.delete(t),o.delete(e),p}function yo(t){return Lh(Ko(t,it,ma),t+"")}function _o(t){return hn(t,Hu,Ah)}function xo(t){return hn(t,Xu,Ph)}function bo(t){for(var e=t.name+"",r=sh[e],n=_c.call(sh,e)?r.length:0;n--;){var i=r[n],o=i.func;if(null==o||o==t)return i.name}return e}function wo(t){var e=_c.call(r,"placeholder")?r:t;return e.placeholder}function To(){var t=r.iteratee||Il;return t=t===Il?jn:t,arguments.length?t(arguments[0],arguments[1]):t}function Eo(t,e){var r=t.__data__;return Bo(e)?r["string"==typeof e?"string":"hash"]:r.map}function So(t){for(var e=Hu(t),r=e.length;r--;){var n=e[r],i=t[n];e[r]=[n,i,Ho(i)]}return e}function Mo(t,e){var r=G(t,e);return kn(r)?r:it}function Ao(t){var e=_c.call(t,Nc),r=t[Nc];try{t[Nc]=it;var n=!0}catch(t){}var i=wc.call(t);return n&&(e?t[Nc]=r:delete t[Nc]),i}function Po(t,e,r){for(var n=-1,i=r.length;++n<i;){var o=r[n],a=o.size;switch(o.type){case"drop":t+=a;break;case"dropRight":e-=a;break;case"take":e=Zc(e,t+a);break;case"takeRight":t=qc(t,e-a)}}return{start:t,end:e}}function Co(t){var e=t.match(je);return e?e[1].split(Ge):[]}function Oo(t,e,r){e=Ai(e,t);for(var n=-1,i=e.length,o=!1;++n<i;){var a=ra(e[n]);if(!(o=null!=t&&r(t,a)))break;t=t[a]}return o||++n!=i?o:(i=null==t?0:t.length,!!i&&au(i)&&No(a,i)&&(xf(t)||_f(t)))}function Ro(t){var e=t.length,r=t.constructor(e);return e&&"string"==typeof t[0]&&_c.call(t,"index")&&(r.index=t.index,r.input=t.input),r}function Do(t){return"function"!=typeof t.constructor||Go(t)?{}:mh(Oc(t))}function Lo(t,e,r,n){var i=t.constructor;switch(e){case ce:return Oi(t);case Vt:case Wt:return new i(+t);case he:return Ri(t,n);case fe:case de:case pe:case ve:case me:case ge:case ye:case _e:case xe:return Ni(t,n);case Jt:return Di(t,n,r);case Qt:case oe:return new i(t);case ne:return Li(t);case ie:return Ii(t,n,r);case ae:return Fi(t)}}function Io(t,e){var r=e.length;if(!r)return t;var n=r-1;return e[n]=(r>1?"& ":"")+e[n],e=e.join(r>2?", ":" "),t.replace(ze,"{\n/* [wrapped with "+e+"] */\n")}function Fo(t){return xf(t)||_f(t)||!!(Ic&&t&&t[Ic])}function No(t,e){return e=null==e?Ft:e,!!e&&("number"==typeof t||Je.test(t))&&t>-1&&t%1==0&&t<e}function ko(t,e,r){if(!su(r))return!1;var n=typeof e;return!!("number"==n?Zs(r)&&No(e,r.length):"string"==n&&e in r)&&qs(r[e],t)}function Uo(t,e){if(xf(t))return!1;var r=typeof t;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=t&&!_u(t))||(De.test(t)||!Re.test(t)||null!=e&&t in cc(e))}function Bo(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}function zo(t){var e=bo(t),n=r[e];if("function"!=typeof n||!(e in x.prototype))return!1;if(t===n)return!0;var i=Mh(n);return!!i&&t===i[0]}function jo(t){return!!bc&&bc in t}function Go(t){var e=t&&t.constructor,r="function"==typeof e&&e.prototype||mc;return t===r}function Ho(t){return t===t&&!su(t)}function Xo(t,e){return function(r){return null!=r&&(r[t]===e&&(e!==it||t in cc(r)))}}function Vo(t){var e=Is(t,function(t){return r.size===ct&&r.clear(),t}),r=e.cache;return e}function Wo(t,e){var r=t[1],n=e[1],i=r|n,o=i<(gt|yt|Et),a=n==Et&&r==xt||n==Et&&r==St&&t[7].length<=e[8]||n==(Et|St)&&e[7].length<=e[8]&&r==xt;if(!o&&!a)return t;n&gt&&(t[2]=e[2],i|=r&gt?0:_t);var s=e[3];if(s){var u=t[3];t[3]=u?Bi(u,s,e[4]):s,t[4]=u?q(t[3],ht):e[4]}return s=e[5],s&&(u=t[5],t[5]=u?zi(u,s,e[6]):s,t[6]=u?q(t[5],ht):e[6]),s=e[7],s&&(t[7]=s),n&Et&&(t[8]=null==t[8]?e[8]:Zc(t[8],e[8])),null==t[9]&&(t[9]=e[9]),t[0]=e[0],t[1]=i,t}function Yo(t,e,r,n,i,o){return su(t)&&su(e)&&(o.set(e,t),qn(t,e,it,Yo,o),o.delete(e)),t}function qo(t){var e=[];if(null!=t)for(var r in cc(t))e.push(r);return e}function Zo(t){return wc.call(t)}function Ko(t,e,r){return e=qc(e===it?t.length-1:e,0),function(){for(var n=arguments,i=-1,o=qc(n.length-e,0),a=oc(o);++i<o;)a[i]=n[e+i];i=-1;for(var u=oc(e+1);++i<e;)u[i]=n[i];return u[e]=r(a),s(t,this,u)}}function Jo(t,e){return e.length<2?t:ln(t,hi(e,0,-1))}function Qo(t,e){for(var r=t.length,n=Zc(e.length,r),i=ji(t);n--;){var o=e[n];t[n]=No(o,r)?i[o]:it}return t}function $o(t,e,r){var n=e+"";return Lh(t,Io(n,ia(Co(n),r)))}function ta(t){var e=0,r=0;return function(){var n=Kc(),i=Ot-(n-r);if(r=n,i>0){if(++e>=Ct)return arguments[0]}else e=0;return t.apply(it,arguments)}}function ea(t,e){var r=-1,n=t.length,i=n-1;for(e=e===it?n:e;++r<e;){var o=ni(r,i),a=t[o];t[o]=t[r],t[r]=a}return t.length=e,t}function ra(t){if("string"==typeof t||_u(t))return t;var e=t+"";return"0"==e&&1/t==-It?"-0":e}function na(t){if(null!=t){try{return yc.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function ia(t,e){return l(jt,function(r){var n="_."+r[0];e&r[1]&&!d(t,n)&&t.push(n)}),t.sort()}function oa(t){if(t instanceof x)return t.clone();var e=new i(t.__wrapped__,t.__chain__);return e.__actions__=ji(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}function aa(t,e,r){e=(r?ko(t,e,r):e===it)?1:qc(Su(e),0);var n=null==t?0:t.length;if(!n||e<1)return[];for(var i=0,o=0,a=oc(jc(n/e));i<n;)a[o++]=hi(t,i,i+=e);return a}function sa(t){for(var e=-1,r=null==t?0:t.length,n=0,i=[];++e<r;){var o=t[e];o&&(i[n++]=o)}return i}function ua(){var t=arguments.length;if(!t)return[];for(var e=oc(t-1),r=arguments[0],n=t;n--;)e[n-1]=arguments[n];return m(xf(r)?ji(r):[r],en(e,1))}function la(t,e,r){var n=null==t?0:t.length;return n?(e=r||e===it?1:Su(e),hi(t,e<0?0:e,n)):[]}function ca(t,e,r){var n=null==t?0:t.length;return n?(e=r||e===it?1:Su(e),e=n-e,hi(t,0,e<0?0:e)):[]}function ha(t,e){return t&&t.length?bi(t,To(e,3),!0,!0):[]}function fa(t,e){return t&&t.length?bi(t,To(e,3),!0):[]}function da(t,e,r,n){var i=null==t?0:t.length;return i?(r&&"number"!=typeof r&&ko(t,e,r)&&(r=0,n=i),$r(t,e,r,n)):[]}function pa(t,e,r){var n=null==t?0:t.length;if(!n)return-1;var i=null==r?0:Su(r);return i<0&&(i=qc(n+i,0)),T(t,To(e,3),i)}function va(t,e,r){var n=null==t?0:t.length;if(!n)return-1;var i=n-1;return r!==it&&(i=Su(r),i=r<0?qc(n+i,0):Zc(i,n-1)),T(t,To(e,3),i,!0)}function ma(t){var e=null==t?0:t.length;return e?en(t,1):[]}function ga(t){var e=null==t?0:t.length;return e?en(t,It):[]}function ya(t,e){var r=null==t?0:t.length;return r?(e=e===it?1:Su(e),en(t,e)):[]}function _a(t){for(var e=-1,r=null==t?0:t.length,n={};++e<r;){var i=t[e];n[i[0]]=i[1]}return n}function xa(t){return t&&t.length?t[0]:it}function ba(t,e,r){var n=null==t?0:t.length;if(!n)return-1;var i=null==r?0:Su(r);return i<0&&(i=qc(n+i,0)),E(t,e,i)}function wa(t){var e=null==t?0:t.length;return e?hi(t,0,-1):[]}function Ta(t,e){return null==t?"":Wc.call(t,e)}function Ea(t){var e=null==t?0:t.length;return e?t[e-1]:it}function Sa(t,e,r){var n=null==t?0:t.length;if(!n)return-1;var i=n;return r!==it&&(i=Su(r),i=i<0?qc(n+i,0):Zc(i,n-1)),e===e?Q(t,e,i):T(t,M,i,!0)}function Ma(t,e){return t&&t.length?Kn(t,Su(e)):it}function Aa(t,e){return t&&t.length&&e&&e.length?ei(t,e):t}function Pa(t,e,r){return t&&t.length&&e&&e.length?ei(t,e,To(r,2)):t}function Ca(t,e,r){return t&&t.length&&e&&e.length?ei(t,e,it,r):t}function Oa(t,e){var r=[];if(!t||!t.length)return r;var n=-1,i=[],o=t.length;for(e=To(e,3);++n<o;){var a=t[n];e(a,n,t)&&(r.push(a),i.push(n))}return ri(t,i),r}function Ra(t){return null==t?t:$c.call(t)}function Da(t,e,r){var n=null==t?0:t.length;return n?(r&&"number"!=typeof r&&ko(t,e,r)?(e=0,r=n):(e=null==e?0:Su(e),r=r===it?n:Su(r)),hi(t,e,r)):[]}function La(t,e){return di(t,e)}function Ia(t,e,r){return pi(t,e,To(r,2))}function Fa(t,e){var r=null==t?0:t.length;if(r){var n=di(t,e);if(n<r&&qs(t[n],e))return n}return-1}function Na(t,e){return di(t,e,!0)}function ka(t,e,r){return pi(t,e,To(r,2),!0)}function Ua(t,e){var r=null==t?0:t.length;if(r){var n=di(t,e,!0)-1;if(qs(t[n],e))return n}return-1}function Ba(t){return t&&t.length?vi(t):[]}function za(t,e){return t&&t.length?vi(t,To(e,2)):[]}function ja(t){var e=null==t?0:t.length;return e?hi(t,1,e):[]}function Ga(t,e,r){return t&&t.length?(e=r||e===it?1:Su(e),hi(t,0,e<0?0:e)):[]}function Ha(t,e,r){var n=null==t?0:t.length;return n?(e=r||e===it?1:Su(e),e=n-e,hi(t,e<0?0:e,n)):[]}function Xa(t,e){return t&&t.length?bi(t,To(e,3),!1,!0):[]}function Va(t,e){return t&&t.length?bi(t,To(e,3)):[]}function Wa(t){return t&&t.length?yi(t):[]}function Ya(t,e){return t&&t.length?yi(t,To(e,2)):[]}function qa(t,e){return e="function"==typeof e?e:it,t&&t.length?yi(t,it,e):[]}function Za(t){if(!t||!t.length)return[];var e=0;return t=f(t,function(t){if(Ks(t))return e=qc(t.length,e),!0}),L(e,function(e){return v(t,P(e))})}function Ka(t,e){if(!t||!t.length)return[];var r=Za(t);return null==e?r:v(r,function(t){return s(e,it,t)})}function Ja(t,e){return Ei(t||[],e||[],Dr)}function Qa(t,e){return Ei(t||[],e||[],li)}function $a(t){var e=r(t);return e.__chain__=!0,e}function ts(t,e){return e(t),t}function es(t,e){return e(t)}function rs(){return $a(this)}function ns(){return new i(this.value(),this.__chain__)}function is(){this.__values__===it&&(this.__values__=Tu(this.value()));var t=this.__index__>=this.__values__.length,e=t?it:this.__values__[this.__index__++];return{done:t,value:e}}function os(){return this}function as(t){for(var e,r=this;r instanceof n;){var i=oa(r);i.__index__=0,i.__values__=it,e?o.__wrapped__=i:e=i;var o=i;r=r.__wrapped__}return o.__wrapped__=t,e}function ss(){var t=this.__wrapped__;if(t instanceof x){var e=t;return this.__actions__.length&&(e=new x(this)),e=e.reverse(),e.__actions__.push({func:es,args:[Ra],thisArg:it}),new i(e,this.__chain__)}return this.thru(Ra)}function us(){return wi(this.__wrapped__,this.__actions__)}function ls(t,e,r){var n=xf(t)?h:Yr;return r&&ko(t,e,r)&&(e=it),n(t,To(e,3))}function cs(t,e){var r=xf(t)?f:tn;return r(t,To(e,3))}function hs(t,e){return en(gs(t,e),1)}function fs(t,e){return en(gs(t,e),It)}function ds(t,e,r){return r=r===it?1:Su(r),en(gs(t,e),r)}function ps(t,e){var r=xf(t)?l:gh;return r(t,To(e,3))}function vs(t,e){var r=xf(t)?c:yh;return r(t,To(e,3))}function ms(t,e,r,n){t=Zs(t)?t:rl(t),r=r&&!n?Su(r):0;var i=t.length;return r<0&&(r=qc(i+r,0)),yu(t)?r<=i&&t.indexOf(e,r)>-1:!!i&&E(t,e,r)>-1}function gs(t,e){var r=xf(t)?v:Vn;return r(t,To(e,3))}function ys(t,e,r,n){return null==t?[]:(xf(e)||(e=null==e?[]:[e]),r=n?it:r,xf(r)||(r=null==r?[]:[r]),Jn(t,e,r))}function _s(t,e,r){var n=xf(t)?g:O,i=arguments.length<3;return n(t,To(e,4),r,i,gh)}function xs(t,e,r){var n=xf(t)?y:O,i=arguments.length<3;return n(t,To(e,4),r,i,yh)}function bs(t,e){var r=xf(t)?f:tn;return r(t,Fs(To(e,3)))}function ws(t){var e=xf(t)?Ar:si;return e(t)}function Ts(t,e,r){e=(r?ko(t,e,r):e===it)?1:Su(e);var n=xf(t)?Pr:ui;return n(t,e)}function Es(t){var e=xf(t)?Cr:ci;return e(t)}function Ss(t){if(null==t)return 0;if(Zs(t))return yu(t)?$(t):t.length;var e=Ch(t);return e==Jt||e==ie?t.size:Gn(t).length}function Ms(t,e,r){var n=xf(t)?_:fi;return r&&ko(t,e,r)&&(e=it),n(t,To(e,3))}function As(t,e){if("function"!=typeof e)throw new dc(ut);return t=Su(t),function(){if(--t<1)return e.apply(this,arguments)}}function Ps(t,e,r){return e=r?it:e,e=t&&null==e?t.length:e,po(t,Et,it,it,it,it,e)}function Cs(t,e){var r;if("function"!=typeof e)throw new dc(ut);return t=Su(t),function(){return--t>0&&(r=e.apply(this,arguments)),t<=1&&(e=it),r}}function Os(t,e,r){e=r?it:e;var n=po(t,xt,it,it,it,it,it,e);return n.placeholder=Os.placeholder,n}function Rs(t,e,r){e=r?it:e;var n=po(t,bt,it,it,it,it,it,e);return n.placeholder=Rs.placeholder,n}function Ds(t,e,r){function n(e){var r=f,n=d;return f=d=it,y=e,v=t.apply(n,r)}function i(t){return y=t,m=Dh(s,e),_?n(t):v}function o(t){var r=t-g,n=t-y,i=e-r;return x?Zc(i,p-n):i}function a(t){var r=t-g,n=t-y;return g===it||r>=e||r<0||x&&n>=p}function s(){var t=uf();return a(t)?u(t):void(m=Dh(s,o(t)))}function u(t){return m=it,b&&f?n(t):(f=d=it,v)}function l(){m!==it&&Eh(m),y=0,f=g=d=m=it}function c(){return m===it?v:u(uf())}function h(){var t=uf(),r=a(t);if(f=arguments,d=this,g=t,r){if(m===it)return i(g);if(x)return m=Dh(s,e),n(g)}return m===it&&(m=Dh(s,e)),v}var f,d,p,v,m,g,y=0,_=!1,x=!1,b=!0;if("function"!=typeof t)throw new dc(ut);return e=Au(e)||0,su(r)&&(_=!!r.leading,x="maxWait"in r,p=x?qc(Au(r.maxWait)||0,e):p,b="trailing"in r?!!r.trailing:b),h.cancel=l,h.flush=c,h}function Ls(t){return po(t,Mt)}function Is(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new dc(ut);var r=function(){var n=arguments,i=e?e.apply(this,n):n[0],o=r.cache;if(o.has(i))return o.get(i);var a=t.apply(this,n);return r.cache=o.set(i,a)||o,a};return r.cache=new(Is.Cache||hr),r}function Fs(t){if("function"!=typeof t)throw new dc(ut);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}function Ns(t){return Cs(2,t)}function ks(t,e){if("function"!=typeof t)throw new dc(ut);return e=e===it?e:Su(e),ai(t,e)}function Us(t,e){if("function"!=typeof t)throw new dc(ut);return e=e===it?0:qc(Su(e),0),ai(function(r){var n=r[e],i=Pi(r,0,e);return n&&m(i,n),s(t,this,i)})}function Bs(t,e,r){var n=!0,i=!0;if("function"!=typeof t)throw new dc(ut);return su(r)&&(n="leading"in r?!!r.leading:n,i="trailing"in r?!!r.trailing:i),Ds(t,e,{leading:n,maxWait:e,trailing:i})}function zs(t){return Ps(t,1)}function js(t,e){return pf(Mi(e),t)}function Gs(){if(!arguments.length)return[];var t=arguments[0];return xf(t)?t:[t]}function Hs(t){return zr(t,pt)}function Xs(t,e){return e="function"==typeof e?e:it,zr(t,pt,e)}function Vs(t){return zr(t,ft|pt)}function Ws(t,e){return e="function"==typeof e?e:it,zr(t,ft|pt,e)}function Ys(t,e){return null==e||Xr(t,e,Hu(e))}function qs(t,e){return t===e||t!==t&&e!==e}function Zs(t){return null!=t&&au(t.length)&&!iu(t)}function Ks(t){return uu(t)&&Zs(t)}function Js(t){return t===!0||t===!1||uu(t)&&fn(t)==Vt}function Qs(t){return uu(t)&&1===t.nodeType&&!mu(t)}function $s(t){if(null==t)return!0;if(Zs(t)&&(xf(t)||"string"==typeof t||"function"==typeof t.splice||wf(t)||Af(t)||_f(t)))return!t.length;var e=Ch(t);if(e==Jt||e==ie)return!t.size;if(Go(t))return!Gn(t).length;for(var r in t)if(_c.call(t,r))return!1;return!0}function tu(t,e){return Ln(t,e)}function eu(t,e,r){r="function"==typeof r?r:it;var n=r?r(t,e):it;return n===it?Ln(t,e,it,r):!!n}function ru(t){if(!uu(t))return!1;var e=fn(t);return e==qt||e==Yt||"string"==typeof t.message&&"string"==typeof t.name&&!mu(t)}function nu(t){return"number"==typeof t&&Vc(t)}function iu(t){if(!su(t))return!1;var e=fn(t);return e==Zt||e==Kt||e==Xt||e==re}function ou(t){return"number"==typeof t&&t==Su(t)}function au(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=Ft}function su(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function uu(t){return null!=t&&"object"==typeof t}function lu(t,e){return t===e||Nn(t,e,So(e))}function cu(t,e,r){return r="function"==typeof r?r:it,Nn(t,e,So(e),r)}function hu(t){return vu(t)&&t!=+t}function fu(t){if(Oh(t))throw new sc(st);return kn(t)}function du(t){return null===t}function pu(t){return null==t}function vu(t){return"number"==typeof t||uu(t)&&fn(t)==Qt}function mu(t){if(!uu(t)||fn(t)!=te)return!1;var e=Oc(t);if(null===e)return!0;var r=_c.call(e,"constructor")&&e.constructor;return"function"==typeof r&&r instanceof r&&yc.call(r)==Tc}function gu(t){return ou(t)&&t>=-Ft&&t<=Ft}function yu(t){return"string"==typeof t||!xf(t)&&uu(t)&&fn(t)==oe}function _u(t){return"symbol"==typeof t||uu(t)&&fn(t)==ae}function xu(t){return t===it}function bu(t){return uu(t)&&Ch(t)==ue}function wu(t){return uu(t)&&fn(t)==le}function Tu(t){if(!t)return[];if(Zs(t))return yu(t)?tt(t):ji(t);if(Fc&&t[Fc])return V(t[Fc]());var e=Ch(t),r=e==Jt?W:e==ie?Z:rl;return r(t)}function Eu(t){if(!t)return 0===t?t:0;if(t=Au(t),t===It||t===-It){var e=t<0?-1:1;return e*Nt}return t===t?t:0}function Su(t){var e=Eu(t),r=e%1;return e===e?r?e-r:e:0}function Mu(t){return t?Br(Su(t),0,Ut):0}function Au(t){if("number"==typeof t)return t;if(_u(t))return kt;if(su(t)){
var e="function"==typeof t.valueOf?t.valueOf():t;t=su(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(ke,"");var r=qe.test(t);return r||Ke.test(t)?nn(t.slice(2),r?2:8):Ye.test(t)?kt:+t}function Pu(t){return Gi(t,Xu(t))}function Cu(t){return Br(Su(t),-Ft,Ft)}function Ou(t){return null==t?"":gi(t)}function Ru(t,e){var r=mh(t);return null==e?r:Fr(r,e)}function Du(t,e){return w(t,To(e,3),on)}function Lu(t,e){return w(t,To(e,3),an)}function Iu(t,e){return null==t?t:_h(t,To(e,3),Xu)}function Fu(t,e){return null==t?t:xh(t,To(e,3),Xu)}function Nu(t,e){return t&&on(t,To(e,3))}function ku(t,e){return t&&an(t,To(e,3))}function Uu(t){return null==t?[]:un(t,Hu(t))}function Bu(t){return null==t?[]:un(t,Xu(t))}function zu(t,e,r){var n=null==t?it:ln(t,e);return n===it?r:n}function ju(t,e){return null!=t&&Oo(t,e,Tn)}function Gu(t,e){return null!=t&&Oo(t,e,Sn)}function Hu(t){return Zs(t)?Mr(t):Gn(t)}function Xu(t){return Zs(t)?Mr(t,!0):Hn(t)}function Vu(t,e){var r={};return e=To(e,3),on(t,function(t,n,i){kr(r,e(t,n,i),t)}),r}function Wu(t,e){var r={};return e=To(e,3),on(t,function(t,n,i){kr(r,n,e(t,n,i))}),r}function Yu(t,e){return qu(t,Fs(To(e)))}function qu(t,e){if(null==t)return{};var r=v(xo(t),function(t){return[t]});return e=To(e),$n(t,r,function(t,r){return e(t,r[0])})}function Zu(t,e,r){e=Ai(e,t);var n=-1,i=e.length;for(i||(i=1,t=it);++n<i;){var o=null==t?it:t[ra(e[n])];o===it&&(n=i,o=r),t=iu(o)?o.call(t):o}return t}function Ku(t,e,r){return null==t?t:li(t,e,r)}function Ju(t,e,r,n){return n="function"==typeof n?n:it,null==t?t:li(t,e,r,n)}function Qu(t,e,r){var n=xf(t),i=n||wf(t)||Af(t);if(e=To(e,4),null==r){var o=t&&t.constructor;r=i?n?new o:[]:su(t)&&iu(o)?mh(Oc(t)):{}}return(i?l:on)(t,function(t,n,i){return e(r,t,n,i)}),r}function $u(t,e){return null==t||_i(t,e)}function tl(t,e,r){return null==t?t:xi(t,e,Mi(r))}function el(t,e,r,n){return n="function"==typeof n?n:it,null==t?t:xi(t,e,Mi(r),n)}function rl(t){return null==t?[]:N(t,Hu(t))}function nl(t){return null==t?[]:N(t,Xu(t))}function il(t,e,r){return r===it&&(r=e,e=it),r!==it&&(r=Au(r),r=r===r?r:0),e!==it&&(e=Au(e),e=e===e?e:0),Br(Au(t),e,r)}function ol(t,e,r){return e=Eu(e),r===it?(r=e,e=0):r=Eu(r),t=Au(t),Mn(t,e,r)}function al(t,e,r){if(r&&"boolean"!=typeof r&&ko(t,e,r)&&(e=r=it),r===it&&("boolean"==typeof e?(r=e,e=it):"boolean"==typeof t&&(r=t,t=it)),t===it&&e===it?(t=0,e=1):(t=Eu(t),e===it?(e=t,t=0):e=Eu(e)),t>e){var n=t;t=e,e=n}if(r||t%1||e%1){var i=Qc();return Zc(t+i*(e-t+rn("1e-"+((i+"").length-1))),e)}return ni(t,e)}function sl(t){return $f(Ou(t).toLowerCase())}function ul(t){return t=Ou(t),t&&t.replace(Qe,xn).replace(Hr,"")}function ll(t,e,r){t=Ou(t),e=gi(e);var n=t.length;r=r===it?n:Br(Su(r),0,n);var i=r;return r-=e.length,r>=0&&t.slice(r,i)==e}function cl(t){return t=Ou(t),t&&Ae.test(t)?t.replace(Se,bn):t}function hl(t){return t=Ou(t),t&&Ne.test(t)?t.replace(Fe,"\\$&"):t}function fl(t,e,r){t=Ou(t),e=Su(e);var n=e?$(t):0;if(!e||n>=e)return t;var i=(e-n)/2;return ao(Gc(i),r)+t+ao(jc(i),r)}function dl(t,e,r){t=Ou(t),e=Su(e);var n=e?$(t):0;return e&&n<e?t+ao(e-n,r):t}function pl(t,e,r){t=Ou(t),e=Su(e);var n=e?$(t):0;return e&&n<e?ao(e-n,r)+t:t}function vl(t,e,r){return r||null==e?e=0:e&&(e=+e),Jc(Ou(t).replace(Ue,""),e||0)}function ml(t,e,r){return e=(r?ko(t,e,r):e===it)?1:Su(e),oi(Ou(t),e)}function gl(){var t=arguments,e=Ou(t[0]);return t.length<3?e:e.replace(t[1],t[2])}function yl(t,e,r){return r&&"number"!=typeof r&&ko(t,e,r)&&(e=r=it),(r=r===it?Ut:r>>>0)?(t=Ou(t),t&&("string"==typeof e||null!=e&&!Sf(e))&&(e=gi(e),!e&&H(t))?Pi(tt(t),0,r):t.split(e,r)):[]}function _l(t,e,r){return t=Ou(t),r=Br(Su(r),0,t.length),e=gi(e),t.slice(r,r+e.length)==e}function xl(t,e,n){var i=r.templateSettings;n&&ko(t,e,n)&&(e=it),t=Ou(t),e=Df({},e,i,Or);var o,a,s=Df({},e.imports,i.imports,Or),u=Hu(s),l=N(s,u),c=0,h=e.interpolate||$e,f="__p += '",d=hc((e.escape||$e).source+"|"+h.source+"|"+(h===Oe?Ve:$e).source+"|"+(e.evaluate||$e).source+"|$","g"),p="//# sourceURL="+("sourceURL"in e?e.sourceURL:"lodash.templateSources["+ ++Zr+"]")+"\n";t.replace(d,function(e,r,n,i,s,u){return n||(n=i),f+=t.slice(c,u).replace(tr,j),r&&(o=!0,f+="' +\n__e("+r+") +\n'"),s&&(a=!0,f+="';\n"+s+";\n__p += '"),n&&(f+="' +\n((__t = ("+n+")) == null ? '' : __t) +\n'"),c=u+e.length,e}),f+="';\n";var v=e.variable;v||(f="with (obj) {\n"+f+"\n}\n"),f=(a?f.replace(be,""):f).replace(we,"$1").replace(Te,"$1;"),f="function("+(v||"obj")+") {\n"+(v?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(a?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+f+"return __p\n}";var m=td(function(){return uc(u,p+"return "+f).apply(it,l)});if(m.source=f,ru(m))throw m;return m}function bl(t){return Ou(t).toLowerCase()}function wl(t){return Ou(t).toUpperCase()}function Tl(t,e,r){if(t=Ou(t),t&&(r||e===it))return t.replace(ke,"");if(!t||!(e=gi(e)))return t;var n=tt(t),i=tt(e),o=U(n,i),a=B(n,i)+1;return Pi(n,o,a).join("")}function El(t,e,r){if(t=Ou(t),t&&(r||e===it))return t.replace(Be,"");if(!t||!(e=gi(e)))return t;var n=tt(t),i=B(n,tt(e))+1;return Pi(n,0,i).join("")}function Sl(t,e,r){if(t=Ou(t),t&&(r||e===it))return t.replace(Ue,"");if(!t||!(e=gi(e)))return t;var n=tt(t),i=U(n,tt(e));return Pi(n,i).join("")}function Ml(t,e){var r=At,n=Pt;if(su(e)){var i="separator"in e?e.separator:i;r="length"in e?Su(e.length):r,n="omission"in e?gi(e.omission):n}t=Ou(t);var o=t.length;if(H(t)){var a=tt(t);o=a.length}if(r>=o)return t;var s=r-$(n);if(s<1)return n;var u=a?Pi(a,0,s).join(""):t.slice(0,s);if(i===it)return u+n;if(a&&(s+=u.length-s),Sf(i)){if(t.slice(s).search(i)){var l,c=u;for(i.global||(i=hc(i.source,Ou(We.exec(i))+"g")),i.lastIndex=0;l=i.exec(c);)var h=l.index;u=u.slice(0,h===it?s:h)}}else if(t.indexOf(gi(i),s)!=s){var f=u.lastIndexOf(i);f>-1&&(u=u.slice(0,f))}return u+n}function Al(t){return t=Ou(t),t&&Me.test(t)?t.replace(Ee,wn):t}function Pl(t,e,r){return t=Ou(t),e=r?it:e,e===it?X(t)?nt(t):b(t):t.match(e)||[]}function Cl(t){var e=null==t?0:t.length,r=To();return t=e?v(t,function(t){if("function"!=typeof t[1])throw new dc(ut);return[r(t[0]),t[1]]}):[],ai(function(r){for(var n=-1;++n<e;){var i=t[n];if(s(i[0],this,r))return s(i[1],this,r)}})}function Ol(t){return jr(zr(t,ft))}function Rl(t){return function(){return t}}function Dl(t,e){return null==t||t!==t?e:t}function Ll(t){return t}function Il(t){return jn("function"==typeof t?t:zr(t,ft))}function Fl(t){return Wn(zr(t,ft))}function Nl(t,e){return Yn(t,zr(e,ft))}function kl(t,e,r){var n=Hu(e),i=un(e,n);null!=r||su(e)&&(i.length||!n.length)||(r=e,e=t,t=this,i=un(e,Hu(e)));var o=!(su(r)&&"chain"in r&&!r.chain),a=iu(t);return l(i,function(r){var n=e[r];t[r]=n,a&&(t.prototype[r]=function(){var e=this.__chain__;if(o||e){var r=t(this.__wrapped__),i=r.__actions__=ji(this.__actions__);return i.push({func:n,args:arguments,thisArg:t}),r.__chain__=e,r}return n.apply(t,m([this.value()],arguments))})}),t}function Ul(){return sn._===this&&(sn._=Ec),this}function Bl(){}function zl(t){return t=Su(t),ai(function(e){return Kn(e,t)})}function jl(t){return Uo(t)?P(ra(t)):ti(t)}function Gl(t){return function(e){return null==t?it:ln(t,e)}}function Hl(){return[]}function Xl(){return!1}function Vl(){return{}}function Wl(){return""}function Yl(){return!0}function ql(t,e){if(t=Su(t),t<1||t>Ft)return[];var r=Ut,n=Zc(t,Ut);e=To(e),t-=Ut;for(var i=L(n,e);++r<t;)e(r);return i}function Zl(t){return xf(t)?v(t,ra):_u(t)?[t]:ji(Ih(Ou(t)))}function Kl(t){var e=++xc;return Ou(t)+e}function Jl(t){return t&&t.length?Qr(t,Ll,_n):it}function Ql(t,e){return t&&t.length?Qr(t,To(e,2),_n):it}function $l(t){return A(t,Ll)}function tc(t,e){return A(t,To(e,2))}function ec(t){return t&&t.length?Qr(t,Ll,Xn):it}function rc(t,e){return t&&t.length?Qr(t,To(e,2),Xn):it}function nc(t){return t&&t.length?D(t,Ll):0}function ic(t,e){return t&&t.length?D(t,To(e,2)):0}e=null==e?sn:En.defaults(sn.Object(),e,En.pick(sn,qr));var oc=e.Array,ac=e.Date,sc=e.Error,uc=e.Function,lc=e.Math,cc=e.Object,hc=e.RegExp,fc=e.String,dc=e.TypeError,pc=oc.prototype,vc=uc.prototype,mc=cc.prototype,gc=e["__core-js_shared__"],yc=vc.toString,_c=mc.hasOwnProperty,xc=0,bc=function(){var t=/[^.]+$/.exec(gc&&gc.keys&&gc.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),wc=mc.toString,Tc=yc.call(cc),Ec=sn._,Sc=hc("^"+yc.call(_c).replace(Fe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Mc=cn?e.Buffer:it,Ac=e.Symbol,Pc=e.Uint8Array,Cc=Mc?Mc.allocUnsafe:it,Oc=Y(cc.getPrototypeOf,cc),Rc=cc.create,Dc=mc.propertyIsEnumerable,Lc=pc.splice,Ic=Ac?Ac.isConcatSpreadable:it,Fc=Ac?Ac.iterator:it,Nc=Ac?Ac.toStringTag:it,kc=function(){try{var t=Mo(cc,"defineProperty");return t({},"",{}),t}catch(t){}}(),Uc=e.clearTimeout!==sn.clearTimeout&&e.clearTimeout,Bc=ac&&ac.now!==sn.Date.now&&ac.now,zc=e.setTimeout!==sn.setTimeout&&e.setTimeout,jc=lc.ceil,Gc=lc.floor,Hc=cc.getOwnPropertySymbols,Xc=Mc?Mc.isBuffer:it,Vc=e.isFinite,Wc=pc.join,Yc=Y(cc.keys,cc),qc=lc.max,Zc=lc.min,Kc=ac.now,Jc=e.parseInt,Qc=lc.random,$c=pc.reverse,th=Mo(e,"DataView"),eh=Mo(e,"Map"),rh=Mo(e,"Promise"),nh=Mo(e,"Set"),ih=Mo(e,"WeakMap"),oh=Mo(cc,"create"),ah=ih&&new ih,sh={},uh=na(th),lh=na(eh),ch=na(rh),hh=na(nh),fh=na(ih),dh=Ac?Ac.prototype:it,ph=dh?dh.valueOf:it,vh=dh?dh.toString:it,mh=function(){function t(){}return function(e){if(!su(e))return{};if(Rc)return Rc(e);t.prototype=e;var r=new t;return t.prototype=it,r}}();r.templateSettings={escape:Pe,evaluate:Ce,interpolate:Oe,variable:"",imports:{_:r}},r.prototype=n.prototype,r.prototype.constructor=r,i.prototype=mh(n.prototype),i.prototype.constructor=i,x.prototype=mh(n.prototype),x.prototype.constructor=x,rt.prototype.clear=He,rt.prototype.delete=er,rt.prototype.get=rr,rt.prototype.has=nr,rt.prototype.set=ir,or.prototype.clear=ar,or.prototype.delete=sr,or.prototype.get=ur,or.prototype.has=lr,or.prototype.set=cr,hr.prototype.clear=fr,hr.prototype.delete=dr,hr.prototype.get=pr,hr.prototype.has=vr,hr.prototype.set=mr,gr.prototype.add=gr.prototype.push=yr,gr.prototype.has=_r,xr.prototype.clear=br,xr.prototype.delete=wr,xr.prototype.get=Tr,xr.prototype.has=Er,xr.prototype.set=Sr;var gh=Yi(on),yh=Yi(an,!0),_h=qi(),xh=qi(!0),bh=ah?function(t,e){return ah.set(t,e),t}:Ll,wh=kc?function(t,e){return kc(t,"toString",{configurable:!0,enumerable:!1,value:Rl(e),writable:!0})}:Ll,Th=ai,Eh=Uc||function(t){return sn.clearTimeout(t)},Sh=nh&&1/Z(new nh([,-0]))[1]==It?function(t){return new nh(t)}:Bl,Mh=ah?function(t){return ah.get(t)}:Bl,Ah=Hc?Y(Hc,cc):Hl,Ph=Hc?function(t){for(var e=[];t;)m(e,Ah(t)),t=Oc(t);return e}:Hl,Ch=fn;(th&&Ch(new th(new ArrayBuffer(1)))!=he||eh&&Ch(new eh)!=Jt||rh&&Ch(rh.resolve())!=ee||nh&&Ch(new nh)!=ie||ih&&Ch(new ih)!=ue)&&(Ch=function(t){var e=fn(t),r=e==te?t.constructor:it,n=r?na(r):"";if(n)switch(n){case uh:return he;case lh:return Jt;case ch:return ee;case hh:return ie;case fh:return ue}return e});var Oh=gc?iu:Xl,Rh=ta(bh),Dh=zc||function(t,e){return sn.setTimeout(t,e)},Lh=ta(wh),Ih=Vo(function(t){var e=[];return Le.test(t)&&e.push(""),t.replace(Ie,function(t,r,n,i){e.push(n?i.replace(Xe,"$1"):r||t)}),e}),Fh=ai(function(t,e){return Ks(t)?Wr(t,en(e,1,Ks,!0)):[]}),Nh=ai(function(t,e){var r=Ea(e);return Ks(r)&&(r=it),Ks(t)?Wr(t,en(e,1,Ks,!0),To(r,2)):[]}),kh=ai(function(t,e){var r=Ea(e);return Ks(r)&&(r=it),Ks(t)?Wr(t,en(e,1,Ks,!0),it,r):[]}),Uh=ai(function(t){var e=v(t,Si);return e.length&&e[0]===t[0]?An(e):[]}),Bh=ai(function(t){var e=Ea(t),r=v(t,Si);return e===Ea(r)?e=it:r.pop(),r.length&&r[0]===t[0]?An(r,To(e,2)):[]}),zh=ai(function(t){var e=Ea(t),r=v(t,Si);return e="function"==typeof e?e:it,e&&r.pop(),r.length&&r[0]===t[0]?An(r,it,e):[]}),jh=ai(Aa),Gh=yo(function(t,e){var r=null==t?0:t.length,n=Ur(t,e);return ri(t,v(e,function(t){return No(t,r)?+t:t}).sort(ki)),n}),Hh=ai(function(t){return yi(en(t,1,Ks,!0))}),Xh=ai(function(t){var e=Ea(t);return Ks(e)&&(e=it),yi(en(t,1,Ks,!0),To(e,2))}),Vh=ai(function(t){var e=Ea(t);return e="function"==typeof e?e:it,yi(en(t,1,Ks,!0),it,e)}),Wh=ai(function(t,e){return Ks(t)?Wr(t,e):[]}),Yh=ai(function(t){return Ti(f(t,Ks))}),qh=ai(function(t){var e=Ea(t);return Ks(e)&&(e=it),Ti(f(t,Ks),To(e,2))}),Zh=ai(function(t){var e=Ea(t);return e="function"==typeof e?e:it,Ti(f(t,Ks),it,e)}),Kh=ai(Za),Jh=ai(function(t){var e=t.length,r=e>1?t[e-1]:it;return r="function"==typeof r?(t.pop(),r):it,Ka(t,r)}),Qh=yo(function(t){var e=t.length,r=e?t[0]:0,n=this.__wrapped__,o=function(e){return Ur(e,t)};return!(e>1||this.__actions__.length)&&n instanceof x&&No(r)?(n=n.slice(r,+r+(e?1:0)),n.__actions__.push({func:es,args:[o],thisArg:it}),new i(n,this.__chain__).thru(function(t){return e&&!t.length&&t.push(it),t})):this.thru(o)}),$h=Vi(function(t,e,r){_c.call(t,r)?++t[r]:kr(t,r,1)}),tf=to(pa),ef=to(va),rf=Vi(function(t,e,r){_c.call(t,r)?t[r].push(e):kr(t,r,[e])}),nf=ai(function(t,e,r){var n=-1,i="function"==typeof e,o=Zs(t)?oc(t.length):[];return gh(t,function(t){o[++n]=i?s(e,t,r):Cn(t,e,r)}),o}),of=Vi(function(t,e,r){kr(t,r,e)}),af=Vi(function(t,e,r){t[r?0:1].push(e)},function(){return[[],[]]}),sf=ai(function(t,e){if(null==t)return[];var r=e.length;return r>1&&ko(t,e[0],e[1])?e=[]:r>2&&ko(e[0],e[1],e[2])&&(e=[e[0]]),Jn(t,en(e,1),[])}),uf=Bc||function(){return sn.Date.now()},lf=ai(function(t,e,r){var n=gt;if(r.length){var i=q(r,wo(lf));n|=wt}return po(t,n,e,r,i)}),cf=ai(function(t,e,r){var n=gt|yt;if(r.length){var i=q(r,wo(cf));n|=wt}return po(e,n,t,r,i)}),hf=ai(function(t,e){return Vr(t,1,e)}),ff=ai(function(t,e,r){return Vr(t,Au(e)||0,r)});Is.Cache=hr;var df=Th(function(t,e){e=1==e.length&&xf(e[0])?v(e[0],F(To())):v(en(e,1),F(To()));var r=e.length;return ai(function(n){for(var i=-1,o=Zc(n.length,r);++i<o;)n[i]=e[i].call(this,n[i]);return s(t,this,n)})}),pf=ai(function(t,e){var r=q(e,wo(pf));return po(t,wt,it,e,r)}),vf=ai(function(t,e){var r=q(e,wo(vf));return po(t,Tt,it,e,r)}),mf=yo(function(t,e){return po(t,St,it,it,it,e)}),gf=lo(_n),yf=lo(function(t,e){return t>=e}),_f=On(function(){return arguments}())?On:function(t){return uu(t)&&_c.call(t,"callee")&&!Dc.call(t,"callee")},xf=oc.isArray,bf=dn?F(dn):Rn,wf=Xc||Xl,Tf=pn?F(pn):Dn,Ef=vn?F(vn):Fn,Sf=mn?F(mn):Un,Mf=gn?F(gn):Bn,Af=yn?F(yn):zn,Pf=lo(Xn),Cf=lo(function(t,e){return t<=e}),Of=Wi(function(t,e){if(Go(e)||Zs(e))return void Gi(e,Hu(e),t);for(var r in e)_c.call(e,r)&&Dr(t,r,e[r])}),Rf=Wi(function(t,e){Gi(e,Xu(e),t)}),Df=Wi(function(t,e,r,n){Gi(e,Xu(e),t,n)}),Lf=Wi(function(t,e,r,n){Gi(e,Hu(e),t,n)}),If=yo(Ur),Ff=ai(function(t){return t.push(it,Or),s(Df,it,t)}),Nf=ai(function(t){return t.push(it,Yo),s(jf,it,t)}),kf=no(function(t,e,r){t[e]=r},Rl(Ll)),Uf=no(function(t,e,r){_c.call(t,e)?t[e].push(r):t[e]=[r]},To),Bf=ai(Cn),zf=Wi(function(t,e,r){qn(t,e,r)}),jf=Wi(function(t,e,r,n){qn(t,e,r,n)}),Gf=yo(function(t,e){var r={};if(null==t)return r;var n=!1;e=v(e,function(e){return e=Ai(e,t),n||(n=e.length>1),e}),Gi(t,xo(t),r),n&&(r=zr(r,ft|dt|pt));for(var i=e.length;i--;)_i(r,e[i]);return r}),Hf=yo(function(t,e){return null==t?{}:Qn(t,e)}),Xf=fo(Hu),Vf=fo(Xu),Wf=Ji(function(t,e,r){return e=e.toLowerCase(),t+(r?sl(e):e)}),Yf=Ji(function(t,e,r){return t+(r?"-":"")+e.toLowerCase()}),qf=Ji(function(t,e,r){return t+(r?" ":"")+e.toLowerCase()}),Zf=Ki("toLowerCase"),Kf=Ji(function(t,e,r){return t+(r?"_":"")+e.toLowerCase()}),Jf=Ji(function(t,e,r){return t+(r?" ":"")+$f(e)}),Qf=Ji(function(t,e,r){return t+(r?" ":"")+e.toUpperCase()}),$f=Ki("toUpperCase"),td=ai(function(t,e){try{return s(t,it,e)}catch(t){return ru(t)?t:new sc(t)}}),ed=yo(function(t,e){return l(e,function(e){e=ra(e),kr(t,e,lf(t[e],t))}),t}),rd=eo(),nd=eo(!0),id=ai(function(t,e){return function(r){return Cn(r,t,e)}}),od=ai(function(t,e){return function(r){return Cn(t,r,e)}}),ad=oo(v),sd=oo(h),ud=oo(_),ld=uo(),cd=uo(!0),hd=io(function(t,e){return t+e},0),fd=ho("ceil"),dd=io(function(t,e){return t/e},1),pd=ho("floor"),vd=io(function(t,e){return t*e},1),md=ho("round"),gd=io(function(t,e){return t-e},0);return r.after=As,r.ary=Ps,r.assign=Of,r.assignIn=Rf,r.assignInWith=Df,r.assignWith=Lf,r.at=If,r.before=Cs,r.bind=lf,r.bindAll=ed,r.bindKey=cf,r.castArray=Gs,r.chain=$a,r.chunk=aa,r.compact=sa,r.concat=ua,r.cond=Cl,r.conforms=Ol,r.constant=Rl,r.countBy=$h,r.create=Ru,r.curry=Os,r.curryRight=Rs,r.debounce=Ds,r.defaults=Ff,r.defaultsDeep=Nf,r.defer=hf,r.delay=ff,r.difference=Fh,r.differenceBy=Nh,r.differenceWith=kh,r.drop=la,r.dropRight=ca,r.dropRightWhile=ha,r.dropWhile=fa,r.fill=da,r.filter=cs,r.flatMap=hs,r.flatMapDeep=fs,r.flatMapDepth=ds,r.flatten=ma,r.flattenDeep=ga,r.flattenDepth=ya,r.flip=Ls,r.flow=rd,r.flowRight=nd,r.fromPairs=_a,r.functions=Uu,r.functionsIn=Bu,r.groupBy=rf,r.initial=wa,r.intersection=Uh,r.intersectionBy=Bh,r.intersectionWith=zh,r.invert=kf,r.invertBy=Uf,r.invokeMap=nf,r.iteratee=Il,r.keyBy=of,r.keys=Hu,r.keysIn=Xu,r.map=gs,r.mapKeys=Vu,r.mapValues=Wu,r.matches=Fl,r.matchesProperty=Nl,r.memoize=Is,r.merge=zf,r.mergeWith=jf,r.method=id,r.methodOf=od,r.mixin=kl,r.negate=Fs,r.nthArg=zl,r.omit=Gf,r.omitBy=Yu,r.once=Ns,r.orderBy=ys,r.over=ad,r.overArgs=df,r.overEvery=sd,r.overSome=ud,r.partial=pf,r.partialRight=vf,r.partition=af,r.pick=Hf,r.pickBy=qu,r.property=jl,r.propertyOf=Gl,r.pull=jh,r.pullAll=Aa,r.pullAllBy=Pa,r.pullAllWith=Ca,r.pullAt=Gh,r.range=ld,r.rangeRight=cd,r.rearg=mf,r.reject=bs,r.remove=Oa,r.rest=ks,r.reverse=Ra,r.sampleSize=Ts,r.set=Ku,r.setWith=Ju,r.shuffle=Es,r.slice=Da,r.sortBy=sf,r.sortedUniq=Ba,r.sortedUniqBy=za,r.split=yl,r.spread=Us,r.tail=ja,r.take=Ga,r.takeRight=Ha,r.takeRightWhile=Xa,r.takeWhile=Va,r.tap=ts,r.throttle=Bs,r.thru=es,r.toArray=Tu,r.toPairs=Xf,r.toPairsIn=Vf,r.toPath=Zl,r.toPlainObject=Pu,r.transform=Qu,r.unary=zs,r.union=Hh,r.unionBy=Xh,r.unionWith=Vh,r.uniq=Wa,r.uniqBy=Ya,r.uniqWith=qa,r.unset=$u,r.unzip=Za,r.unzipWith=Ka,r.update=tl,r.updateWith=el,r.values=rl,r.valuesIn=nl,r.without=Wh,r.words=Pl,r.wrap=js,r.xor=Yh,r.xorBy=qh,r.xorWith=Zh,r.zip=Kh,r.zipObject=Ja,r.zipObjectDeep=Qa,r.zipWith=Jh,r.entries=Xf,r.entriesIn=Vf,r.extend=Rf,r.extendWith=Df,kl(r,r),r.add=hd,r.attempt=td,r.camelCase=Wf,r.capitalize=sl,r.ceil=fd,r.clamp=il,r.clone=Hs,r.cloneDeep=Vs,r.cloneDeepWith=Ws,r.cloneWith=Xs,r.conformsTo=Ys,r.deburr=ul,r.defaultTo=Dl,r.divide=dd,r.endsWith=ll,r.eq=qs,r.escape=cl,r.escapeRegExp=hl,r.every=ls,r.find=tf,r.findIndex=pa,r.findKey=Du,r.findLast=ef,r.findLastIndex=va,r.findLastKey=Lu,r.floor=pd,r.forEach=ps,r.forEachRight=vs,r.forIn=Iu,r.forInRight=Fu,r.forOwn=Nu,r.forOwnRight=ku,r.get=zu,r.gt=gf,r.gte=yf,r.has=ju,r.hasIn=Gu,r.head=xa,r.identity=Ll,r.includes=ms,r.indexOf=ba,r.inRange=ol,r.invoke=Bf,r.isArguments=_f,r.isArray=xf,r.isArrayBuffer=bf,r.isArrayLike=Zs,r.isArrayLikeObject=Ks,r.isBoolean=Js,r.isBuffer=wf,r.isDate=Tf,r.isElement=Qs,r.isEmpty=$s,r.isEqual=tu,r.isEqualWith=eu,r.isError=ru,r.isFinite=nu,r.isFunction=iu,r.isInteger=ou,r.isLength=au,r.isMap=Ef,r.isMatch=lu,r.isMatchWith=cu,r.isNaN=hu,r.isNative=fu,r.isNil=pu,r.isNull=du,r.isNumber=vu,r.isObject=su,r.isObjectLike=uu,r.isPlainObject=mu,r.isRegExp=Sf,r.isSafeInteger=gu,r.isSet=Mf,r.isString=yu,r.isSymbol=_u,r.isTypedArray=Af,r.isUndefined=xu,r.isWeakMap=bu,r.isWeakSet=wu,r.join=Ta,r.kebabCase=Yf,r.last=Ea,r.lastIndexOf=Sa,r.lowerCase=qf,r.lowerFirst=Zf,r.lt=Pf,r.lte=Cf,r.max=Jl,r.maxBy=Ql,r.mean=$l,r.meanBy=tc,r.min=ec,r.minBy=rc,r.stubArray=Hl,r.stubFalse=Xl,r.stubObject=Vl,r.stubString=Wl,r.stubTrue=Yl,r.multiply=vd,r.nth=Ma,r.noConflict=Ul,r.noop=Bl,r.now=uf,r.pad=fl,r.padEnd=dl,r.padStart=pl,r.parseInt=vl,r.random=al,r.reduce=_s,r.reduceRight=xs,r.repeat=ml,r.replace=gl,r.result=Zu,r.round=md,r.runInContext=t,r.sample=ws,r.size=Ss,r.snakeCase=Kf,r.some=Ms,r.sortedIndex=La,r.sortedIndexBy=Ia,r.sortedIndexOf=Fa,r.sortedLastIndex=Na,r.sortedLastIndexBy=ka,r.sortedLastIndexOf=Ua,r.startCase=Jf,r.startsWith=_l,r.subtract=gd,r.sum=nc,r.sumBy=ic,r.template=xl,r.times=ql,r.toFinite=Eu,r.toInteger=Su,r.toLength=Mu,r.toLower=bl,r.toNumber=Au,r.toSafeInteger=Cu,r.toString=Ou,r.toUpper=wl,r.trim=Tl,r.trimEnd=El,r.trimStart=Sl,r.truncate=Ml,r.unescape=Al,r.uniqueId=Kl,r.upperCase=Qf,r.upperFirst=$f,r.each=ps,r.eachRight=vs,r.first=xa,kl(r,function(){var t={};return on(r,function(e,n){_c.call(r.prototype,n)||(t[n]=e)}),t}(),{chain:!1}),r.VERSION=ot,l(["bind","bindKey","curry","curryRight","partial","partialRight"],function(t){r[t].placeholder=r}),l(["drop","take"],function(t,e){x.prototype[t]=function(r){var n=this.__filtered__;if(n&&!e)return new x(this);r=r===it?1:qc(Su(r),0);var i=this.clone();return n?i.__takeCount__=Zc(r,i.__takeCount__):i.__views__.push({size:Zc(r,Ut),type:t+(i.__dir__<0?"Right":"")}),i},x.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}}),l(["filter","map","takeWhile"],function(t,e){var r=e+1,n=r==Rt||r==Lt;x.prototype[t]=function(t){var e=this.clone();return e.__iteratees__.push({iteratee:To(t,3),type:r}),e.__filtered__=e.__filtered__||n,e}}),l(["head","last"],function(t,e){var r="take"+(e?"Right":"");x.prototype[t]=function(){return this[r](1).value()[0]}}),l(["initial","tail"],function(t,e){var r="drop"+(e?"":"Right");x.prototype[t]=function(){return this.__filtered__?new x(this):this[r](1)}}),x.prototype.compact=function(){return this.filter(Ll)},x.prototype.find=function(t){return this.filter(t).head()},x.prototype.findLast=function(t){return this.reverse().find(t)},x.prototype.invokeMap=ai(function(t,e){return"function"==typeof t?new x(this):this.map(function(r){return Cn(r,t,e)})}),x.prototype.reject=function(t){return this.filter(Fs(To(t)))},x.prototype.slice=function(t,e){t=Su(t);var r=this;return r.__filtered__&&(t>0||e<0)?new x(r):(t<0?r=r.takeRight(-t):t&&(r=r.drop(t)),e!==it&&(e=Su(e),r=e<0?r.dropRight(-e):r.take(e-t)),r)},x.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},x.prototype.toArray=function(){return this.take(Ut)},on(x.prototype,function(t,e){var n=/^(?:filter|find|map|reject)|While$/.test(e),o=/^(?:head|last)$/.test(e),a=r[o?"take"+("last"==e?"Right":""):e],s=o||/^find/.test(e);a&&(r.prototype[e]=function(){var e=this.__wrapped__,u=o?[1]:arguments,l=e instanceof x,c=u[0],h=l||xf(e),f=function(t){var e=a.apply(r,m([t],u));return o&&d?e[0]:e};h&&n&&"function"==typeof c&&1!=c.length&&(l=h=!1);var d=this.__chain__,p=!!this.__actions__.length,v=s&&!d,g=l&&!p;if(!s&&h){e=g?e:new x(this);var y=t.apply(e,u);return y.__actions__.push({func:es,args:[f],thisArg:it}),new i(y,d)}return v&&g?t.apply(this,u):(y=this.thru(f),v?o?y.value()[0]:y.value():y)})}),l(["pop","push","shift","sort","splice","unshift"],function(t){var e=pc[t],n=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",i=/^(?:pop|shift)$/.test(t);r.prototype[t]=function(){var t=arguments;if(i&&!this.__chain__){var r=this.value();return e.apply(xf(r)?r:[],t)}return this[n](function(r){return e.apply(xf(r)?r:[],t)})}}),on(x.prototype,function(t,e){var n=r[e];if(n){var i=n.name+"",o=sh[i]||(sh[i]=[]);o.push({name:e,func:n})}}),sh[ro(it,yt).name]=[{name:"wrapper",func:it}],x.prototype.clone=C,x.prototype.reverse=J,x.prototype.value=et,r.prototype.at=Qh,r.prototype.chain=rs,r.prototype.commit=ns,r.prototype.next=is,r.prototype.plant=as,r.prototype.reverse=ss,r.prototype.toJSON=r.prototype.valueOf=r.prototype.value=us,r.prototype.first=r.prototype.head,Fc&&(r.prototype[Fc]=os),r},En=Tn();sn._=En,n=function(){return En}.call(e,r,e,i),!(n!==it&&(i.exports=n))}).call(this)}).call(e,function(){return this}(),r(109)(t))},function(t,e){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e){return t._head?(t._tail._next=e,e._prev=t._tail,t._tail=e):(t._head=e,t._tail=e),e._owner=t,e}Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),o=function(){function t(e,n,i){void 0===n&&(n=!1),r(this,t),this._fn=e,this._once=n,this._thisArg=i,this._next=this._prev=this._owner=null}return i(t,[{key:"detach",value:function(){return null!==this._owner&&(this._owner.detach(this),!0)}}]),t}(),a=function(){function t(){r(this,t),this._head=this._tail=void 0}return i(t,[{key:"handlers",value:function(){var t=!(arguments.length<=0||void 0===arguments[0])&&arguments[0],e=this._head;if(t)return!!e;for(var r=[];e;)r.push(e),e=e._next;return r}},{key:"has",value:function(t){if(!(t instanceof o))throw new Error("MiniSignal#has(): First arg must be a MiniSignalBinding object.");return t._owner===this}},{key:"dispatch",value:function(){var t=this._head;if(!t)return!1;for(;t;)t._once&&this.detach(t),t._fn.apply(t._thisArg,arguments),t=t._next;return!0}},{key:"add",value:function(t){var e=arguments.length<=1||void 0===arguments[1]?null:arguments[1];if("function"!=typeof t)throw new Error("MiniSignal#add(): First arg must be a Function.");return n(this,new o(t,!1,e))}},{key:"once",value:function(t){var e=arguments.length<=1||void 0===arguments[1]?null:arguments[1];if("function"!=typeof t)throw new Error("MiniSignal#once(): First arg must be a Function.");return n(this,new o(t,!0,e))}},{key:"detach",value:function(t){if(!(t instanceof o))throw new Error("MiniSignal#detach(): First arg must be a MiniSignalBinding object.");return t._owner!==this?this:(t._prev&&(t._prev._next=t._next),t._next&&(t._next._prev=t._prev),t===this._head?(this._head=t._next,null===t._next&&(this._tail=null)):t===this._tail&&(this._tail=t._prev,this._tail._next=null),t._owner=null,this)}},{key:"detachAll",value:function(){var t=this._head;if(!t)return this;for(this._head=this._tail=null;t;)t._owner=null,t=t._next;return this}}]),t}();a.MiniSignalBinding=o,e.default=a,t.exports=e.default},function(t,e){"use strict";t.exports=function(t,e){e=e||{};for(var r={key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}},n=r.parser[e.strictMode?"strict":"loose"].exec(t),i={},o=14;o--;)i[r.key[o]]=n[o]||"";return i[r.q.name]={},i[r.key[12]].replace(r.q.parser,function(t,e,n){e&&(i[r.q.name][e]=n)}),i}},function(t,e){var r=function(t,e,r,n,i){this.gl=t,this.texture=t.createTexture(),this.mipmap=!1,this.premultiplyAlpha=!1,this.width=e||-1,this.height=r||-1,this.format=n||t.RGBA,this.type=i||t.UNSIGNED_BYTE};r.prototype.upload=function(t){this.bind();var e=this.gl;e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,this.premultiplyAlpha);var r=t.videoWidth||t.width,n=t.videoHeight||t.height;n!==this.height||r!==this.width?e.texImage2D(e.TEXTURE_2D,0,this.format,this.format,this.type,t):e.texSubImage2D(e.TEXTURE_2D,0,0,0,this.format,this.type,t),this.width=r,this.height=n};var n=!1;r.prototype.uploadData=function(t,e,r){this.bind();var i=this.gl;if(t instanceof Float32Array){if(!n){var o=i.getExtension("OES_texture_float");if(!o)throw new Error("floating point textures not available");n=!0}this.type=i.FLOAT}else this.type=this.type||i.UNSIGNED_BYTE;i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,this.premultiplyAlpha),e!==this.width||r!==this.height?i.texImage2D(i.TEXTURE_2D,0,this.format,e,r,0,this.format,this.type,t||null):i.texSubImage2D(i.TEXTURE_2D,0,0,0,e,r,this.format,this.type,t||null),this.width=e,this.height=r},r.prototype.bind=function(t){var e=this.gl;void 0!==t&&e.activeTexture(e.TEXTURE0+t),e.bindTexture(e.TEXTURE_2D,this.texture)},r.prototype.unbind=function(){var t=this.gl;t.bindTexture(t.TEXTURE_2D,null)},r.prototype.minFilter=function(t){var e=this.gl;this.bind(),this.mipmap?e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,t?e.LINEAR_MIPMAP_LINEAR:e.NEAREST_MIPMAP_NEAREST):e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,t?e.LINEAR:e.NEAREST)},r.prototype.magFilter=function(t){var e=this.gl;this.bind(),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,t?e.LINEAR:e.NEAREST)},r.prototype.enableMipmap=function(){var t=this.gl;this.bind(),this.mipmap=!0,t.generateMipmap(t.TEXTURE_2D)},r.prototype.enableLinearScaling=function(){this.minFilter(!0),this.magFilter(!0)},r.prototype.enableNearestScaling=function(){this.minFilter(!1),this.magFilter(!1)},r.prototype.enableWrapClamp=function(){var t=this.gl;this.bind(),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE)},r.prototype.enableWrapRepeat=function(){var t=this.gl;this.bind(),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.REPEAT),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.REPEAT)},r.prototype.enableWrapMirrorRepeat=function(){var t=this.gl;this.bind(),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.MIRRORED_REPEAT),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.MIRRORED_REPEAT)},r.prototype.destroy=function(){var t=this.gl;t.deleteTexture(this.texture)},r.fromSource=function(t,e,n){var i=new r(t);return i.premultiplyAlpha=n||!1,i.upload(e),i},r.fromData=function(t,e,n,i){var o=new r(t);return o.uploadData(e,n,i),o},t.exports=r},function(t,e){var r=function(t,e,r){var n;if(r){var i=r.tempAttribState,o=r.attribState;for(n=0;n<i.length;n++)i[n]=!1;for(n=0;n<e.length;n++)i[e[n].attribute.location]=!0;for(n=0;n<o.length;n++)o[n]!==i[n]&&(o[n]=i[n],r.attribState[n]?t.enableVertexAttribArray(n):t.disableVertexAttribArray(n))}else for(n=0;n<e.length;n++){var a=e[n];t.enableVertexAttribArray(a.attribute.location)}};t.exports=r},function(t,e){var r=function(t,e,r,i){var o=n(t,t.VERTEX_SHADER,e),a=n(t,t.FRAGMENT_SHADER,r),s=t.createProgram();if(t.attachShader(s,o),t.attachShader(s,a),i)for(var u in i)t.bindAttribLocation(s,i[u],u);return t.linkProgram(s),t.getProgramParameter(s,t.LINK_STATUS)||(console.error("Pixi.js Error: Could not initialize shader."),console.error("gl.VALIDATE_STATUS",t.getProgramParameter(s,t.VALIDATE_STATUS)),console.error("gl.getError()",t.getError()),""!==t.getProgramInfoLog(s)&&console.warn("Pixi.js Warning: gl.getProgramInfoLog()",t.getProgramInfoLog(s)),t.deleteProgram(s),s=null),t.deleteShader(o),t.deleteShader(a),s},n=function(t,e,r){var n=t.createShader(e);return t.shaderSource(n,r),t.compileShader(n),t.getShaderParameter(n,t.COMPILE_STATUS)?n:(console.log(t.getShaderInfoLog(n)),null)};t.exports=r},function(t,e){var r=function(t,e){switch(t){case"float":return 0;case"vec2":return new Float32Array(2*e);case"vec3":return new Float32Array(3*e);case"vec4":return new Float32Array(4*e);case"int":case"sampler2D":return 0;case"ivec2":return new Int32Array(2*e);case"ivec3":return new Int32Array(3*e);case"ivec4":return new Int32Array(4*e);case"bool":return!1;case"bvec2":return n(2*e);case"bvec3":return n(3*e);case"bvec4":return n(4*e);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}},n=function(t){for(var e=new Array(t),r=0;r<e.length;r++)e[r]=!1;return e};t.exports=r},function(t,e,r){var n=r(29),i=r(57),o=function(t,e){for(var r={},o=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES),s=0;s<o;s++){var u=t.getActiveAttrib(e,s),l=n(t,u.type);r[u.name]={type:l,size:i(l),location:t.getAttribLocation(e,u.name),pointer:a}}return r},a=function(t,e,r,n){gl.vertexAttribPointer(this.location,this.size,t||gl.FLOAT,e||!1,r||0,n||0)};t.exports=o},function(t,e,r){var n=r(29),i=r(53),o=function(t,e){for(var r={},o=t.getProgramParameter(e,t.ACTIVE_UNIFORMS),a=0;a<o;a++){var s=t.getActiveUniform(e,a),u=s.name.replace(/\[.*?\]/,""),l=n(t,s.type);r[u]={type:l,size:s.size,location:t.getUniformLocation(e,u),value:i(l,s.size)}}return r};t.exports=o},function(t,e){var r=function(t,e){var r={data:{}};r.gl=t;for(var a=Object.keys(e),s=0;s<a.length;s++){var u=a[s],l=u.split("."),c=l[l.length-1],h=o(l,r),f=e[u];
h.data[c]=f,h.gl=t,Object.defineProperty(h,c,{get:n(c),set:i(c,f)})}return r},n=function(t){var e=a.replace("%%",t);return new Function(e)},i=function(t,e){var r,n=s.replace(/%%/g,t);return r=1===e.size?u[e.type]:l[e.type],r&&(n+="\nthis.gl."+r+";"),new Function("value",n)},o=function(t,e){for(var r=e,n=0;n<t.length-1;n++){var i=r[t[n]]||{data:{}};r[t[n]]=i,r=i}return r},a=["return this.data.%%.value;"].join("\n"),s=["this.data.%%.value = value;","var location = this.data.%%.location;"].join("\n"),u={float:"uniform1f(location, value)",vec2:"uniform2f(location, value[0], value[1])",vec3:"uniform3f(location, value[0], value[1], value[2])",vec4:"uniform4f(location, value[0], value[1], value[2], value[3])",int:"uniform1i(location, value)",ivec2:"uniform2i(location, value[0], value[1])",ivec3:"uniform3i(location, value[0], value[1], value[2])",ivec4:"uniform4i(location, value[0], value[1], value[2], value[3])",bool:"uniform1i(location, value)",bvec2:"uniform2i(location, value[0], value[1])",bvec3:"uniform3i(location, value[0], value[1], value[2])",bvec4:"uniform4i(location, value[0], value[1], value[2], value[3])",mat2:"uniformMatrix2fv(location, false, value)",mat3:"uniformMatrix3fv(location, false, value)",mat4:"uniformMatrix4fv(location, false, value)",sampler2D:"uniform1i(location, value)"},l={float:"uniform1fv(location, value)",vec2:"uniform2fv(location, value)",vec3:"uniform3fv(location, value)",vec4:"uniform4fv(location, value)",int:"uniform1iv(location, value)",ivec2:"uniform2iv(location, value)",ivec3:"uniform3iv(location, value)",ivec4:"uniform4iv(location, value)",bool:"uniform1iv(location, value)",bvec2:"uniform2iv(location, value)",bvec3:"uniform3iv(location, value)",bvec4:"uniform4iv(location, value)",sampler2D:"uniform1iv(location, value)"};t.exports=r},function(t,e){var r=function(t){return n[t]},n={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};t.exports=r},function(t,e){var r=function(t,e){return"precision"!==t.substring(0,9)?"precision "+e+" float;\n"+t:t};t.exports=r},function(t,e){"use strict";e.__esModule=!0,e.default={accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:!1}},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function o(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:800,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:600,r=arguments[2],n=arguments[3];return!n&&s.isWebGLSupported()?new h.default(t,e,r):new l.default(t,e,r)}e.__esModule=!0,e.autoDetectRenderer=o;var a=r(3),s=i(a),u=r(15),l=n(u),c=r(22),h=n(c)},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var s=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),u=r(8),l=n(u),c=r(2),h=r(5),f=n(h),d=r(63),p=n(d),v=r(62),m=n(v),g=r(30),y=n(g),_=r(4),x=function(t){function e(){i(this,e);var r=o(this,t.call(this)),n=f.default.TRANSFORM_MODE===c.TRANSFORM_MODE.STATIC?p.default:m.default;return r.tempDisplayObjectParent=null,r.transform=new n,r.alpha=1,r.visible=!0,r.renderable=!0,r.parent=null,r.worldAlpha=1,r.filterArea=null,r._filters=null,r._enabledFilters=null,r._bounds=new y.default,r._boundsID=0,r._lastBoundsID=-1,r._boundsRect=null,r._localBoundsRect=null,r._mask=null,r}return a(e,t),e.prototype.updateTransform=function(){this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha,this._bounds.updateID++},e.prototype._recursivePostUpdateTransform=function(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)},e.prototype.getBounds=function(t,e){return t||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._boundsID!==this._lastBoundsID&&this.calculateBounds(),e||(this._boundsRect||(this._boundsRect=new _.Rectangle),e=this._boundsRect),this._bounds.getRectangle(e)},e.prototype.getLocalBounds=function(t){var e=this.transform,r=this.parent;this.parent=null,this.transform=this._tempDisplayObjectParent.transform,t||(this._localBoundsRect||(this._localBoundsRect=new _.Rectangle),t=this._localBoundsRect);var n=this.getBounds(!1,t);return this.parent=r,this.transform=e,n},e.prototype.toGlobal=function(t,e){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return r||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(t,e)},e.prototype.toLocal=function(t,e,r,n){return e&&(t=e.toGlobal(t,r,n)),n||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(t,r)},e.prototype.renderWebGL=function(t){},e.prototype.renderCanvas=function(t){},e.prototype.setParent=function(t){if(!t||!t.addChild)throw new Error("setParent: Argument must be a Container");return t.addChild(this),t},e.prototype.setTransform=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,u=arguments.length>8&&void 0!==arguments[8]?arguments[8]:0;return this.position.x=t,this.position.y=e,this.scale.x=r?r:1,this.scale.y=n?n:1,this.rotation=i,this.skew.x=o,this.skew.y=a,this.pivot.x=s,this.pivot.y=u,this},e.prototype.destroy=function(){this.removeAllListeners(),this.parent&&this.parent.removeChild(this),this.transform=null,this.parent=null,this._bounds=null,this._currentBounds=null,this._mask=null,this.filterArea=null,this.interactive=!1,this.interactiveChildren=!1},s(e,[{key:"_tempDisplayObjectParent",get:function(){return null===this.tempDisplayObjectParent&&(this.tempDisplayObjectParent=new e),this.tempDisplayObjectParent}},{key:"x",get:function(){return this.position.x},set:function(t){this.transform.position.x=t}},{key:"y",get:function(){return this.position.y},set:function(t){this.transform.position.y=t}},{key:"worldTransform",get:function(){return this.transform.worldTransform}},{key:"localTransform",get:function(){return this.transform.localTransform}},{key:"position",get:function(){return this.transform.position},set:function(t){this.transform.position.copy(t)}},{key:"scale",get:function(){return this.transform.scale},set:function(t){this.transform.scale.copy(t)}},{key:"pivot",get:function(){return this.transform.pivot},set:function(t){this.transform.pivot.copy(t)}},{key:"skew",get:function(){return this.transform.skew},set:function(t){this.transform.skew.copy(t)}},{key:"rotation",get:function(){return this.transform.rotation},set:function(t){this.transform.rotation=t}},{key:"worldVisible",get:function(){var t=this;do{if(!t.visible)return!1;t=t.parent}while(t);return!0}},{key:"mask",get:function(){return this._mask},set:function(t){this._mask&&(this._mask.renderable=!0),this._mask=t,this._mask&&(this._mask.renderable=!1)}},{key:"filters",get:function(){return this._filters&&this._filters.slice()},set:function(t){this._filters=t&&t.slice()}}]),e}(l.default);e.default=x,x.prototype.displayObjectUpdateTransform=x.prototype.updateTransform},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var s=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),u=r(4),l=r(31),c=n(l),h=function(t){function e(){i(this,e);var r=o(this,t.call(this));return r.position=new u.Point(0,0),r.scale=new u.Point(1,1),r.skew=new u.ObservablePoint(r.updateSkew,r,0,0),r.pivot=new u.Point(0,0),r._rotation=0,r._cx=1,r._sx=0,r._cy=0,r._sy=1,r}return a(e,t),e.prototype.updateSkew=function(){this._cx=Math.cos(this._rotation+this.skew._y),this._sx=Math.sin(this._rotation+this.skew._y),this._cy=-Math.sin(this._rotation-this.skew._x),this._sy=Math.cos(this._rotation-this.skew._x)},e.prototype.updateLocalTransform=function(){var t=this.localTransform;t.a=this._cx*this.scale.x,t.b=this._sx*this.scale.x,t.c=this._cy*this.scale.y,t.d=this._sy*this.scale.y,t.tx=this.position.x-(this.pivot.x*t.a+this.pivot.y*t.c),t.ty=this.position.y-(this.pivot.x*t.b+this.pivot.y*t.d)},e.prototype.updateTransform=function(t){var e=this.localTransform;e.a=this._cx*this.scale.x,e.b=this._sx*this.scale.x,e.c=this._cy*this.scale.y,e.d=this._sy*this.scale.y,e.tx=this.position.x-(this.pivot.x*e.a+this.pivot.y*e.c),e.ty=this.position.y-(this.pivot.x*e.b+this.pivot.y*e.d);var r=t.worldTransform,n=this.worldTransform;n.a=e.a*r.a+e.b*r.c,n.b=e.a*r.b+e.b*r.d,n.c=e.c*r.a+e.d*r.c,n.d=e.c*r.b+e.d*r.d,n.tx=e.tx*r.a+e.ty*r.c+r.tx,n.ty=e.tx*r.b+e.ty*r.d+r.ty,this._worldID++},e.prototype.setFromMatrix=function(t){t.decompose(this)},s(e,[{key:"rotation",get:function(){return this._rotation},set:function(t){this._rotation=t,this.updateSkew()}}]),e}(c.default);e.default=h},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var s=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),u=r(4),l=r(31),c=n(l),h=function(t){function e(){i(this,e);var r=o(this,t.call(this));return r.position=new u.ObservablePoint(r.onChange,r,0,0),r.scale=new u.ObservablePoint(r.onChange,r,1,1),r.pivot=new u.ObservablePoint(r.onChange,r,0,0),r.skew=new u.ObservablePoint(r.updateSkew,r,0,0),r._rotation=0,r._cx=1,r._sx=0,r._cy=0,r._sy=1,r._localID=0,r._currentLocalID=0,r}return a(e,t),e.prototype.onChange=function(){this._localID++},e.prototype.updateSkew=function(){this._cx=Math.cos(this._rotation+this.skew._y),this._sx=Math.sin(this._rotation+this.skew._y),this._cy=-Math.sin(this._rotation-this.skew._x),this._sy=Math.cos(this._rotation-this.skew._x),this._localID++},e.prototype.updateLocalTransform=function(){var t=this.localTransform;this._localID!==this._currentLocalID&&(t.a=this._cx*this.scale._x,t.b=this._sx*this.scale._x,t.c=this._cy*this.scale._y,t.d=this._sy*this.scale._y,t.tx=this.position._x-(this.pivot._x*t.a+this.pivot._y*t.c),t.ty=this.position._y-(this.pivot._x*t.b+this.pivot._y*t.d),this._currentLocalID=this._localID,this._parentID=-1)},e.prototype.updateTransform=function(t){var e=this.localTransform;if(this._localID!==this._currentLocalID&&(e.a=this._cx*this.scale._x,e.b=this._sx*this.scale._x,e.c=this._cy*this.scale._y,e.d=this._sy*this.scale._y,e.tx=this.position._x-(this.pivot._x*e.a+this.pivot._y*e.c),e.ty=this.position._y-(this.pivot._x*e.b+this.pivot._y*e.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==t._worldID){var r=t.worldTransform,n=this.worldTransform;n.a=e.a*r.a+e.b*r.c,n.b=e.a*r.b+e.b*r.d,n.c=e.c*r.a+e.d*r.c,n.d=e.c*r.b+e.d*r.d,n.tx=e.tx*r.a+e.ty*r.c+r.tx,n.ty=e.tx*r.b+e.ty*r.d+r.ty,this._parentID=t._worldID,this._worldID++}},e.prototype.setFromMatrix=function(t){t.decompose(this),this._localID++},s(e,[{key:"rotation",get:function(){return this._rotation},set:function(t){this._rotation=t,this.updateSkew()}}]),e}(c.default);e.default=h},function(t,e){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var n=function(){function t(e,n,i,o,a,s,u,l){r(this,t),this.lineWidth=e,this.nativeLines=u,this.lineColor=n,this.lineAlpha=i,this._lineTint=n,this.fillColor=o,this.fillAlpha=a,this._fillTint=o,this.fill=s,this.holes=[],this.shape=l,this.type=l.type}return t.prototype.clone=function(){return new t(this.lineWidth,this.lineColor,this.lineAlpha,this.fillColor,this.fillAlpha,this.fill,this.nativeLines,this.shape)},t.prototype.addHole=function(t){this.holes.push(t)},t.prototype.destroy=function(){this.shape=null,this.holes=null},t}();e.default=n},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(t){return t<0?-1:t>0?1:0}function o(){for(var t=0;t<16;t++){var e=[];d.push(e);for(var r=0;r<16;r++)for(var n=i(u[t]*u[r]+c[t]*l[r]),o=i(l[t]*u[r]+h[t]*l[r]),a=i(u[t]*c[r]+c[t]*h[r]),p=i(l[t]*c[r]+h[t]*h[r]),v=0;v<16;v++)if(u[v]===n&&l[v]===o&&c[v]===a&&h[v]===p){e.push(v);break}}for(var m=0;m<16;m++){var g=new s.default;g.set(u[m],l[m],c[m],h[m],0,0),f.push(g)}}e.__esModule=!0;var a=r(32),s=n(a),u=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],l=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],c=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],h=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],f=[],d=[];o();var p={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MIRROR_HORIZONTAL:12,uX:function(t){return u[t]},uY:function(t){return l[t]},vX:function(t){return c[t]},vY:function(t){return h[t]},inv:function(t){return 8&t?15&t:7&-t},add:function(t,e){return d[t][e]},sub:function(t,e){return d[t][p.inv(e)]},rotate180:function(t){return 4^t},isSwapWidthHeight:function(t){return 2===(3&t)},byDirection:function(t,e){return 2*Math.abs(t)<=Math.abs(e)?e>=0?p.S:p.N:2*Math.abs(e)<=Math.abs(t)?t>0?p.E:p.W:e>0?t>0?p.SE:p.SW:t>0?p.NE:p.NW},matrixAppendRotationInv:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=f[p.inv(e)];i.tx=r,i.ty=n,t.append(i)}};e.default=p},function(t,e){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=function(){function t(e,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;r(this,t),this._x=i,this._y=o,this.cb=e,this.scope=n}return t.prototype.set=function(t,e){var r=t||0,n=e||(0!==e?r:0);this._x===r&&this._y===n||(this._x=r,this._y=n,this.cb.call(this.scope))},t.prototype.copy=function(t){this._x===t.x&&this._y===t.y||(this._x=t.x,this._y=t.y,this.cb.call(this.scope))},n(t,[{key:"x",get:function(){return this._x},set:function(t){this._x!==t&&(this._x=t,this.cb.call(this.scope))}},{key:"y",get:function(){return this._y},set:function(t){this._y!==t&&(this._y=t,this.cb.call(this.scope))}}]),t}();e.default=i},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var s=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),u=r(3),l=r(4),c=r(2),h=r(5),f=n(h),d=r(14),p=n(d),v=r(37),m=n(v),g=r(8),y=n(g),_=new l.Matrix,x=function(t){function e(r,n,a,s){i(this,e);var h=o(this,t.call(this));if((0,u.sayHello)(r),s)for(var d in f.default.RENDER_OPTIONS)"undefined"==typeof s[d]&&(s[d]=f.default.RENDER_OPTIONS[d]);else s=f.default.RENDER_OPTIONS;return h.type=c.RENDERER_TYPE.UNKNOWN,h.screen=new l.Rectangle(0,0,n||800,a||600),h.view=s.view||document.createElement("canvas"),h.resolution=s.resolution||f.default.RESOLUTION,h.transparent=s.transparent,h.autoResize=s.autoResize||!1,h.blendModes=null,h.preserveDrawingBuffer=s.preserveDrawingBuffer,h.clearBeforeRender=s.clearBeforeRender,h.roundPixels=s.roundPixels,h._backgroundColor=0,h._backgroundColorRgba=[0,0,0,0],h._backgroundColorString="#000000",h.backgroundColor=s.backgroundColor||h._backgroundColor,h._tempDisplayObjectParent=new p.default,h._lastObjectRendered=h._tempDisplayObjectParent,h}return a(e,t),e.prototype.resize=function(t,e){this.screen.width=t,this.screen.height=e,this.view.width=t*this.resolution,this.view.height=e*this.resolution,this.autoResize&&(this.view.style.width=t+"px",this.view.style.height=e+"px")},e.prototype.generateTexture=function(t,e,r){var n=t.getLocalBounds(),i=m.default.create(0|n.width,0|n.height,e,r);return _.tx=-n.x,_.ty=-n.y,this.render(t,i,!1,_,!0),i},e.prototype.destroy=function(t){t&&this.view.parentNode&&this.view.parentNode.removeChild(this.view),this.type=c.RENDERER_TYPE.UNKNOWN,this.view=null,this.screen=null,this.resolution=0,this.transparent=!1,this.autoResize=!1,this.blendModes=null,this.preserveDrawingBuffer=!1,this.clearBeforeRender=!1,this.roundPixels=!1,this._backgroundColor=0,this._backgroundColorRgba=null,this._backgroundColorString=null,this.backgroundColor=0,this._tempDisplayObjectParent=null,this._lastObjectRendered=null},s(e,[{key:"width",get:function(){return this.view.width}},{key:"height",get:function(){return this.view.height}},{key:"backgroundColor",get:function(){return this._backgroundColor},set:function(t){this._backgroundColor=t,this._backgroundColorString=(0,u.hex2string)(t),(0,u.hex2rgb)(t,this._backgroundColorRgba)}}]),e}(y.default);e.default=x},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var o=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),a=r(5),s=n(a),u=function(){function t(e,r,n){i(this,t),this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.resolution=n||s.default.RESOLUTION,this.resize(e,r)}return t.prototype.clear=function(){this.context.setTransform(1,0,0,1,0,0),this.context.clearRect(0,0,this.canvas.width,this.canvas.height)},t.prototype.resize=function(t,e){this.canvas.width=t*this.resolution,this.canvas.height=e*this.resolution},t.prototype.destroy=function(){this.context=null,this.canvas=null},o(t,[{key:"width",get:function(){return this.canvas.width},set:function(t){this.canvas.width=t}},{key:"height",get:function(){return this.canvas.height},set:function(t){this.canvas.height=t}}]),t}();e.default=u},function(t,e){"use strict";function r(t){var e=document.createElement("canvas");e.width=6,e.height=1;var r=e.getContext("2d");return r.fillStyle=t,r.fillRect(0,0,6,1),e}function n(){if("undefined"==typeof document)return!1;var t=r("#ff00ff"),e=r("#ffff00"),n=document.createElement("canvas");n.width=6,n.height=1;var i=n.getContext("2d");i.globalCompositeOperation="multiply",i.drawImage(t,0,0),i.drawImage(e,2,0);var o=i.getImageData(2,0,1,1);if(!o)return!1;var a=o.data;return 255===a[0]&&0===a[1]&&0===a[2]}e.__esModule=!0,e.default=n},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var o=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),a=r(200),s=n(a),u=r(3),l=r(2),c=r(5),h=n(c),f={},d=function(){function t(e,r,n){i(this,t),this.vertexSrc=e||t.defaultVertexSrc,this.fragmentSrc=r||t.defaultFragmentSrc,this.blendMode=l.BLEND_MODES.NORMAL,this.uniformData=n||(0,s.default)(this.vertexSrc,this.fragmentSrc,"projectionMatrix|uSampler"),this.uniforms={};for(var o in this.uniformData)this.uniforms[o]=this.uniformData[o].value;this.glShaders={},f[this.vertexSrc+this.fragmentSrc]||(f[this.vertexSrc+this.fragmentSrc]=(0,u.uid)()),this.glShaderKey=f[this.vertexSrc+this.fragmentSrc],this.padding=4,this.resolution=h.default.RESOLUTION,this.enabled=!0}return t.prototype.apply=function(t,e,r,n,i){t.applyFilter(this,e,r,n)},o(t,null,[{key:"defaultVertexSrc",get:function(){return["attribute vec2 aVertexPosition;","attribute vec2 aTextureCoord;","uniform mat3 projectionMatrix;","uniform mat3 filterMatrix;","varying vec2 vTextureCoord;","varying vec2 vFilterCoord;","void main(void){","   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);","   vFilterCoord = ( filterMatrix * vec3( aTextureCoord, 1.0)  ).xy;","   vTextureCoord = aTextureCoord ;","}"].join("\n")}},{key:"defaultFragmentSrc",get:function(){return["varying vec2 vTextureCoord;","varying vec2 vFilterCoord;","uniform sampler2D uSampler;","uniform sampler2D filterSampler;","void main(void){","   vec4 masky = texture2D(filterSampler, vFilterCoord);","   vec4 sample = texture2D(uSampler, vTextureCoord);","   vec4 color;","   if(mod(vFilterCoord.x, 1.0) > 0.5)","   {","     color = vec4(1.0, 0.0, 0.0, 1.0);","   }","   else","   {","     color = vec4(0.0, 1.0, 0.0, 1.0);","   }","   gl_FragColor = mix(sample, masky, 0.5);","   gl_FragColor *= sample.a;","}"].join("\n")}}]),t}();e.default=d},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var s=r(70),u=n(s),l=r(4),c=(r(7),function(t){function e(r){i(this,e);var n=new l.Matrix,a=o(this,t.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 otherMatrix;\n\nvarying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n}\n","varying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform float alpha;\nuniform sampler2D mask;\n\nvoid main(void)\n{\n    // check clip! this will stop the mask bleeding out from the edges\n    vec2 text = abs( vMaskCoord - 0.5 );\n    text = step(0.5, text);\n\n    float clip = 1.0 - max(text.y, text.x);\n    vec4 original = texture2D(uSampler, vTextureCoord);\n    vec4 masky = texture2D(mask, vMaskCoord);\n\n    original *= (masky.r * masky.a * alpha * clip);\n\n    gl_FragColor = original;\n}\n"));return r.renderable=!1,a.maskSprite=r,a.maskMatrix=n,a}return a(e,t),e.prototype.apply=function(t,e,r){var n=this.maskSprite;this.uniforms.mask=n._texture,this.uniforms.otherMatrix=t.calculateSpriteMatrix(this.maskMatrix,n),this.uniforms.alpha=n.worldAlpha,t.applyFilter(this,e,r)},e}(u.default));e.default=c},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var o=r(6),a=n(o),s=r(39),u=n(s),l=function(){function t(e,r){i(this,t),this.gl=e,this.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),this.uvs=new Float32Array([0,0,1,0,1,1,0,1]),this.interleaved=new Float32Array(16);for(var n=0;n<4;n++)this.interleaved[4*n]=this.vertices[2*n],this.interleaved[4*n+1]=this.vertices[2*n+1],this.interleaved[4*n+2]=this.uvs[2*n],this.interleaved[4*n+3]=this.uvs[2*n+1];this.indices=(0,u.default)(1),this.vertexBuffer=a.default.GLBuffer.createVertexBuffer(e,this.interleaved,e.STATIC_DRAW),this.indexBuffer=a.default.GLBuffer.createIndexBuffer(e,this.indices,e.STATIC_DRAW),this.vao=new a.default.VertexArrayObject(e,r)}return t.prototype.initVao=function(t){this.vao.clear().addIndex(this.indexBuffer).addAttribute(this.vertexBuffer,t.attributes.aVertexPosition,this.gl.FLOAT,!1,16,0).addAttribute(this.vertexBuffer,t.attributes.aTextureCoord,this.gl.FLOAT,!1,16,8)},t.prototype.map=function(t,e){var r=0,n=0;return this.uvs[0]=r,this.uvs[1]=n,this.uvs[2]=r+e.width/t.width,this.uvs[3]=n,this.uvs[4]=r+e.width/t.width,this.uvs[5]=n+e.height/t.height,this.uvs[6]=r,this.uvs[7]=n+e.height/t.height,r=e.x,n=e.y,this.vertices[0]=r,this.vertices[1]=n,this.vertices[2]=r+e.width,this.vertices[3]=n,this.vertices[4]=r+e.width,this.vertices[5]=n+e.height,this.vertices[6]=r,this.vertices[7]=n+e.height,this},t.prototype.upload=function(){for(var t=0;t<4;t++)this.interleaved[4*t]=this.vertices[2*t],this.interleaved[4*t+1]=this.vertices[2*t+1],this.interleaved[4*t+2]=this.uvs[2*t],this.interleaved[4*t+3]=this.uvs[2*t+1];return this.vertexBuffer.upload(this.interleaved),this},t.prototype.destroy=function(){var t=this.gl;t.deleteBuffer(this.vertexBuffer),t.deleteBuffer(this.indexBuffer)},t}();e.default=l},function(t,e,r){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t){return"number"==typeof t?(0,l.hex2string)(t):("string"==typeof t&&0===t.indexOf("0x")&&(t=t.replace("0x","#")),t)}function o(t){if(Array.isArray(t)){for(var e=0;e<t.length;++e)t[e]=i(t[e]);return t}return i(t)}function a(t,e){if(!Array.isArray(t)||!Array.isArray(e))return!1;if(t.length!==e.length)return!1;for(var r=0;r<t.length;++r)if(t[r]!==e[r])return!1;return!0}e.__esModule=!0;var s=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),u=r(2),l=r(3),c={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"#000000",dropShadowDistance:5,fill:"black",fillGradientType:u.TEXT_GRADIENT.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",trim:!1,wordWrap:!1,wordWrapWidth:100},h=function(){function t(e){n(this,t),this.styleID=0,Object.assign(this,c,e)}return t.prototype.clone=function(){var e={};for(var r in c)e[r]=this[r];return new t(e)},t.prototype.reset=function(){Object.assign(this,c)},s(t,[{key:"align",get:function(){return this._align},set:function(t){this._align!==t&&(this._align=t,this.styleID++)}},{key:"breakWords",get:function(){return this._breakWords},set:function(t){this._breakWords!==t&&(this._breakWords=t,this.styleID++)}},{key:"dropShadow",get:function(){return this._dropShadow},set:function(t){this._dropShadow!==t&&(this._dropShadow=t,this.styleID++)}},{key:"dropShadowAlpha",get:function(){return this._dropShadowAlpha},set:function(t){this._dropShadowAlpha!==t&&(this._dropShadowAlpha=t,this.styleID++)}},{key:"dropShadowAngle",get:function(){return this._dropShadowAngle},set:function(t){this._dropShadowAngle!==t&&(this._dropShadowAngle=t,this.styleID++)}},{key:"dropShadowBlur",get:function(){return this._dropShadowBlur},set:function(t){this._dropShadowBlur!==t&&(this._dropShadowBlur=t,this.styleID++)}},{key:"dropShadowColor",get:function(){return this._dropShadowColor},set:function(t){var e=o(t);this._dropShadowColor!==e&&(this._dropShadowColor=e,this.styleID++)}},{key:"dropShadowDistance",get:function(){return this._dropShadowDistance},set:function(t){this._dropShadowDistance!==t&&(this._dropShadowDistance=t,this.styleID++)}},{key:"fill",get:function(){return this._fill},set:function(t){var e=o(t);this._fill!==e&&(this._fill=e,this.styleID++)}},{key:"fillGradientType",get:function(){return this._fillGradientType},set:function(t){this._fillGradientType!==t&&(this._fillGradientType=t,this.styleID++)}},{key:"fillGradientStops",get:function(){return this._fillGradientStops},set:function(t){a(this._fillGradientStops,t)||(this._fillGradientStops=t,this.styleID++)}},{key:"fontFamily",get:function(){return this._fontFamily},set:function(t){this.fontFamily!==t&&(this._fontFamily=t,this.styleID++)}},{key:"fontSize",get:function(){return this._fontSize},set:function(t){this._fontSize!==t&&(this._fontSize=t,this.styleID++)}},{key:"fontStyle",get:function(){return this._fontStyle},set:function(t){this._fontStyle!==t&&(this._fontStyle=t,this.styleID++)}},{key:"fontVariant",get:function(){return this._fontVariant},set:function(t){this._fontVariant!==t&&(this._fontVariant=t,this.styleID++)}},{key:"fontWeight",get:function(){return this._fontWeight},set:function(t){this._fontWeight!==t&&(this._fontWeight=t,this.styleID++)}},{key:"letterSpacing",get:function(){return this._letterSpacing},set:function(t){this._letterSpacing!==t&&(this._letterSpacing=t,this.styleID++)}},{key:"lineHeight",get:function(){
return this._lineHeight},set:function(t){this._lineHeight!==t&&(this._lineHeight=t,this.styleID++)}},{key:"lineJoin",get:function(){return this._lineJoin},set:function(t){this._lineJoin!==t&&(this._lineJoin=t,this.styleID++)}},{key:"miterLimit",get:function(){return this._miterLimit},set:function(t){this._miterLimit!==t&&(this._miterLimit=t,this.styleID++)}},{key:"padding",get:function(){return this._padding},set:function(t){this._padding!==t&&(this._padding=t,this.styleID++)}},{key:"stroke",get:function(){return this._stroke},set:function(t){var e=o(t);this._stroke!==e&&(this._stroke=e,this.styleID++)}},{key:"strokeThickness",get:function(){return this._strokeThickness},set:function(t){this._strokeThickness!==t&&(this._strokeThickness=t,this.styleID++)}},{key:"textBaseline",get:function(){return this._textBaseline},set:function(t){this._textBaseline!==t&&(this._textBaseline=t,this.styleID++)}},{key:"trim",get:function(){return this._trim},set:function(t){this._trim!==t&&(this._trim=t,this.styleID++)}},{key:"wordWrap",get:function(){return this._wordWrap},set:function(t){this._wordWrap!==t&&(this._wordWrap=t,this.styleID++)}},{key:"wordWrapWidth",get:function(){return this._wordWrapWidth},set:function(t){this._wordWrapWidth!==t&&(this._wordWrapWidth=t,this.styleID++)}}]),t}();e.default=h},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var s=r(17),u=n(s),l=r(5),c=n(l),h=function(t){function e(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,a=arguments[2],s=arguments[3];i(this,e);var u=o(this,t.call(this,null,a));return u.resolution=s||c.default.RESOLUTION,u.width=r,u.height=n,u.realWidth=u.width*u.resolution,u.realHeight=u.height*u.resolution,u.scaleMode=void 0!==a?a:c.default.SCALE_MODE,u.hasLoaded=!0,u._glRenderTargets={},u._canvasRenderTarget=null,u.valid=!1,u}return a(e,t),e.prototype.resize=function(t,e){t===this.width&&e===this.height||(this.valid=t>0&&e>0,this.width=t,this.height=e,this.realWidth=this.width*this.resolution,this.realHeight=this.height*this.resolution,this.valid&&this.emit("update",this))},e.prototype.destroy=function(){t.prototype.destroy.call(this,!0),this.renderer=null},e}(u.default);e.default=h},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var o=r(65),a=n(o),s=function(){function t(){i(this,t),this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsUint32=new Uint32Array(4)}return t.prototype.set=function(t,e,r){var n=e.width,i=e.height;if(r){var o=t.width/2/n,s=t.height/2/i,u=t.x/n+o,l=t.y/i+s;r=a.default.add(r,a.default.NW),this.x0=u+o*a.default.uX(r),this.y0=l+s*a.default.uY(r),r=a.default.add(r,2),this.x1=u+o*a.default.uX(r),this.y1=l+s*a.default.uY(r),r=a.default.add(r,2),this.x2=u+o*a.default.uX(r),this.y2=l+s*a.default.uY(r),r=a.default.add(r,2),this.x3=u+o*a.default.uX(r),this.y3=l+s*a.default.uY(r)}else this.x0=t.x/n,this.y0=t.y/i,this.x1=(t.x+t.width)/n,this.y1=t.y/i,this.x2=(t.x+t.width)/n,this.y2=(t.y+t.height)/i,this.x3=t.x/n,this.y3=(t.y+t.height)/i;this.uvsUint32[0]=(65535*this.y0&65535)<<16|65535*this.x0&65535,this.uvsUint32[1]=(65535*this.y1&65535)<<16|65535*this.x1&65535,this.uvsUint32[2]=(65535*this.y2&65535)<<16|65535*this.x2&65535,this.uvsUint32[3]=(65535*this.y3&65535)<<16|65535*this.x3&65535},t}();e.default=s},function(t,e,r){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function i(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function u(t,e){e||(e="video/"+t.substr(t.lastIndexOf(".")+1));var r=document.createElement("source");return r.src=t,r.type=e,r}e.__esModule=!0;var l=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),c=r(17),h=i(c),f=r(3),d=r(38),p=n(d),v=function(t){function e(r,n){if(o(this,e),!r)throw new Error("No video source element specified.");(r.readyState===r.HAVE_ENOUGH_DATA||r.readyState===r.HAVE_FUTURE_DATA)&&r.width&&r.height&&(r.complete=!0);var i=a(this,t.call(this,r,n));return i.width=r.videoWidth,i.height=r.videoHeight,i._autoUpdate=!0,i._isAutoUpdating=!1,i.autoPlay=!0,i.update=i.update.bind(i),i._onCanPlay=i._onCanPlay.bind(i),r.addEventListener("play",i._onPlayStart.bind(i)),r.addEventListener("pause",i._onPlayStop.bind(i)),i.hasLoaded=!1,i.__loaded=!1,i._isSourceReady()?i._onCanPlay():(r.addEventListener("canplay",i._onCanPlay),r.addEventListener("canplaythrough",i._onCanPlay)),i}return s(e,t),e.prototype._isSourcePlaying=function(){var t=this.source;return t.currentTime>0&&t.paused===!1&&t.ended===!1&&t.readyState>2},e.prototype._isSourceReady=function(){return 3===this.source.readyState||4===this.source.readyState},e.prototype._onPlayStart=function(){this.hasLoaded||this._onCanPlay(),!this._isAutoUpdating&&this.autoUpdate&&(p.shared.add(this.update,this),this._isAutoUpdating=!0)},e.prototype._onPlayStop=function(){this._isAutoUpdating&&(p.shared.remove(this.update,this),this._isAutoUpdating=!1)},e.prototype._onCanPlay=function(){this.hasLoaded=!0,this.source&&(this.source.removeEventListener("canplay",this._onCanPlay),this.source.removeEventListener("canplaythrough",this._onCanPlay),this.width=this.source.videoWidth,this.height=this.source.videoHeight,this.__loaded||(this.__loaded=!0,this.emit("loaded",this)),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&this.source.play())},e.prototype.destroy=function(){this._isAutoUpdating&&p.shared.remove(this.update,this),this.source&&this.source._pixiId&&(delete f.BaseTextureCache[this.source._pixiId],delete this.source._pixiId),t.prototype.destroy.call(this)},e.fromVideo=function(t,r){t._pixiId||(t._pixiId="video_"+(0,f.uid)());var n=f.BaseTextureCache[t._pixiId];return n||(n=new e(t,r),f.BaseTextureCache[t._pixiId]=n),n},e.fromUrl=function(t,r){var n=document.createElement("video");if(n.setAttribute("webkit-playsinline",""),n.setAttribute("playsinline",""),Array.isArray(t))for(var i=0;i<t.length;++i)n.appendChild(u(t[i].src||t[i],t[i].mime));else n.appendChild(u(t.src||t,t.mime));return n.load(),e.fromVideo(n,r)},l(e,[{key:"autoUpdate",get:function(){return this._autoUpdate},set:function(t){t!==this._autoUpdate&&(this._autoUpdate=t,!this._autoUpdate&&this._isAutoUpdating?(p.shared.remove(this.update,this),this._isAutoUpdating=!1):this._autoUpdate&&!this._isAutoUpdating&&(p.shared.add(this.update,this),this._isAutoUpdating=!0))}}]),e}(h.default);e.default=v,v.fromUrls=v.fromUrl},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var o=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),a=r(32),s=n(a),u=new s.default,l=function(){function t(e,r){i(this,t),this._texture=e,this.mapCoord=new s.default,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._lastTextureID=-1,this.clampOffset=0,this.clampMargin="undefined"==typeof r?.5:r}return t.prototype.update=function(t){var e=this._texture;if(e&&e.valid&&(t||this._lastTextureID!==e._updateID)){this._lastTextureID=e._updateID;var r=e._uvs;this.mapCoord.set(r.x1-r.x0,r.y1-r.y0,r.x3-r.x0,r.y3-r.y0,r.x0,r.y0);var n=e.orig,i=e.trim;i&&(u.set(n.width/i.width,0,0,n.height/i.height,-i.x/i.width,-i.y/i.height),this.mapCoord.append(u));var o=e.baseTexture,a=this.uClampFrame,s=this.clampMargin/o.resolution,l=this.clampOffset;a[0]=(e._frame.x+s+l)/o.width,a[1]=(e._frame.y+s+l)/o.height,a[2]=(e._frame.x+e._frame.width-s+l)/o.width,a[3]=(e._frame.y+e._frame.height-s+l)/o.height,this.uClampOffset[0]=l/o.realWidth,this.uClampOffset[1]=l/o.realHeight}},o(t,[{key:"texture",get:function(){return this._texture},set:function(t){this._texture=t,this._lastTextureID=-1}}]),t}();e.default=l},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var u=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),l=r(1),c=i(l),h=r(81),f=n(h),d=r(80),p=n(d),v=r(82),m=n(v),g=function(t){function e(r,n,i,s){o(this,e),s=s||5;var u=(0,f.default)(s,!0),l=(0,p.default)(s),h=a(this,t.call(this,u,l));return h.resolution=i||c.settings.RESOLUTION,h._quality=0,h.quality=n||4,h.strength=r||8,h.firstRun=!0,h}return s(e,t),e.prototype.apply=function(t,e,r,n){if(this.firstRun){var i=t.renderer.gl,o=(0,m.default)(i);this.vertexSrc=(0,f.default)(o,!0),this.fragmentSrc=(0,p.default)(o),this.firstRun=!1}if(this.uniforms.strength=1/r.size.width*(r.size.width/e.size.width),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,1===this.passes)t.applyFilter(this,e,r,n);else{for(var a=t.getRenderTarget(!0),s=e,u=a,l=0;l<this.passes-1;l++){t.applyFilter(this,s,u,!0);var c=u;u=s,s=c}t.applyFilter(this,s,r,n),t.returnRenderTarget(a)}},u(e,[{key:"blur",get:function(){return this.strength},set:function(t){this.padding=2*Math.abs(t),this.strength=t}},{key:"quality",get:function(){return this._quality},set:function(t){this._quality=t,this.passes=t}}]),e}(c.Filter);e.default=g},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var u=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),l=r(1),c=i(l),h=r(81),f=n(h),d=r(80),p=n(d),v=r(82),m=n(v),g=function(t){function e(r,n,i,s){o(this,e),s=s||5;var u=(0,f.default)(s,!1),l=(0,p.default)(s),h=a(this,t.call(this,u,l));return h.resolution=i||c.settings.RESOLUTION,h._quality=0,h.quality=n||4,h.strength=r||8,h.firstRun=!0,h}return s(e,t),e.prototype.apply=function(t,e,r,n){if(this.firstRun){var i=t.renderer.gl,o=(0,m.default)(i);this.vertexSrc=(0,f.default)(o,!1),this.fragmentSrc=(0,p.default)(o),this.firstRun=!1}if(this.uniforms.strength=1/r.size.height*(r.size.height/e.size.height),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,1===this.passes)t.applyFilter(this,e,r,n);else{for(var a=t.getRenderTarget(!0),s=e,u=a,l=0;l<this.passes-1;l++){t.applyFilter(this,s,u,!0);var c=u;u=s,s=c}t.applyFilter(this,s,r,n),t.returnRenderTarget(a)}},u(e,[{key:"blur",get:function(){return this.strength},set:function(t){this.padding=2*Math.abs(t),this.strength=t}},{key:"quality",get:function(){return this._quality},set:function(t){this._quality=t,this.passes=t}}]),e}(c.Filter);e.default=g},function(t,e){"use strict";function r(t){for(var e=n[t],r=e.length,o=i,a="",s="gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;",u=void 0,l=0;l<t;l++){var c=s.replace("%index%",l);u=l,l>=r&&(u=t-l-1),c=c.replace("%value%",e[u]),a+=c,a+="\n"}return o=o.replace("%blur%",a),o=o.replace("%size%",t)}e.__esModule=!0,e.default=r;var n={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[489e-6,.002403,.009246,.02784,.065602,.120999,.174697,.197448]},i=["varying vec2 vBlurTexCoords[%size%];","uniform sampler2D uSampler;","void main(void)","{","    gl_FragColor = vec4(0.0);","    %blur%","}"].join("\n")},function(t,e){"use strict";function r(t,e){var r=Math.ceil(t/2),i=n,o="",a=void 0;a=e?"vBlurTexCoords[%index%] = aTextureCoord + vec2(%sampleIndex% * strength, 0.0);":"vBlurTexCoords[%index%] = aTextureCoord + vec2(0.0, %sampleIndex% * strength);";for(var s=0;s<t;s++){var u=a.replace("%index%",s);u=u.replace("%sampleIndex%",s-(r-1)+".0"),o+=u,o+="\n"}return i=i.replace("%blur%",o),i=i.replace("%size%",t)}e.__esModule=!0,e.default=r;var n=["attribute vec2 aVertexPosition;","attribute vec2 aTextureCoord;","uniform float strength;","uniform mat3 projectionMatrix;","varying vec2 vBlurTexCoords[%size%];","void main(void)","{","gl_Position = vec4((projectionMatrix * vec3((aVertexPosition), 1.0)).xy, 0.0, 1.0);","%blur%","}"].join("\n")},function(t,e){"use strict";function r(t){for(var e=t.getParameter(t.MAX_VARYING_VECTORS),r=15;r>e;)r-=2;return r}e.__esModule=!0,e.default=r},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var i=r(236);Object.defineProperty(e,"FXAAFilter",{enumerable:!0,get:function(){return n(i).default}});var o=r(237);Object.defineProperty(e,"NoiseFilter",{enumerable:!0,get:function(){return n(o).default}});var a=r(235);Object.defineProperty(e,"DisplacementFilter",{enumerable:!0,get:function(){return n(a).default}});var s=r(233);Object.defineProperty(e,"BlurFilter",{enumerable:!0,get:function(){return n(s).default}});var u=r(78);Object.defineProperty(e,"BlurXFilter",{enumerable:!0,get:function(){return n(u).default}});var l=r(79);Object.defineProperty(e,"BlurYFilter",{enumerable:!0,get:function(){return n(l).default}});var c=r(234);Object.defineProperty(e,"ColorMatrixFilter",{enumerable:!0,get:function(){return n(c).default}});var h=r(238);Object.defineProperty(e,"VoidFilter",{enumerable:!0,get:function(){return n(h).default}})},function(t,e,r){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var o=r(1),a=n(o),s=function(){function t(){i(this,t),this.global=new a.Point,this.target=null,this.originalEvent=null,this.identifier=null}return t.prototype.getLocalPosition=function(t,e,r){return t.worldTransform.applyInverse(r||this.global,e)},t}();e.default=s},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var i=r(84);Object.defineProperty(e,"InteractionData",{enumerable:!0,get:function(){return n(i).default}});var o=r(241);Object.defineProperty(e,"InteractionManager",{enumerable:!0,get:function(){return n(o).default}});var a=r(86);Object.defineProperty(e,"interactiveTarget",{enumerable:!0,get:function(){return n(a).default}})},function(t,e){"use strict";e.__esModule=!0,e.default={interactive:!1,interactiveChildren:!0,hitArea:null,get buttonMode(){return"pointer"===this.cursor},set buttonMode(t){t?this.cursor="pointer":"pointer"===this.cursor&&(this.cursor=null)},cursor:null,get trackedPointers(){return void 0===this._trackedPointers&&(this._trackedPointers={}),this._trackedPointers},_trackedPointers:void 0}},function(t,e,r){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function i(t,e){t.bitmapFont=l.BitmapText.registerFont(t.data,e)}e.__esModule=!0,e.parse=i,e.default=function(){return function(t,e){if(!t.data||t.type!==u.Resource.TYPE.XML)return void e();if(0===t.data.getElementsByTagName("page").length||0===t.data.getElementsByTagName("info").length||null===t.data.getElementsByTagName("info")[0].getAttribute("face"))return void e();var r=t.isDataUrl?"":a.dirname(t.url);t.isDataUrl&&("."===r&&(r=""),this.baseUrl&&r&&("/"===this.baseUrl.charAt(this.baseUrl.length-1)&&(r+="/"),r=r.replace(this.baseUrl,""))),r&&"/"!==r.charAt(r.length-1)&&(r+="/");var n=r+t.data.getElementsByTagName("page")[0].getAttribute("file");if(s.utils.TextureCache[n])i(t,s.utils.TextureCache[n]),e();else{var o={crossOrigin:t.crossOrigin,loadType:u.Resource.LOAD_TYPE.IMAGE,metadata:t.metadata.imageMetadata,parentResource:t};this.add(t.name+"_image",n,o,function(r){i(t,r.texture),e()})}}};var o=r(7),a=n(o),s=r(1),u=r(19),l=r(40)},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var i=r(243);Object.defineProperty(e,"Loader",{enumerable:!0,get:function(){return n(i).default}});var o=r(87);Object.defineProperty(e,"bitmapFontParser",{enumerable:!0,get:function(){return n(o).default}}),Object.defineProperty(e,"parseBitmapFontData",{enumerable:!0,get:function(){return o.parse}});var a=r(89);Object.defineProperty(e,"spritesheetParser",{enumerable:!0,get:function(){return n(a).default}});var s=r(90);Object.defineProperty(e,"textureParser",{enumerable:!0,get:function(){return n(s).default}});var u=r(19);Object.defineProperty(e,"Resource",{enumerable:!0,get:function(){return u.Resource}})},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0,e.default=function(){return function(t,e){var r=void 0,n=t.name+"_image";if(!t.data||t.type!==i.Resource.TYPE.JSON||!t.data.frames||this.resources[n])return void e();var o={crossOrigin:t.crossOrigin,loadType:i.Resource.LOAD_TYPE.IMAGE,metadata:t.metadata.imageMetadata,parentResource:t};r=t.isDataUrl?t.data.meta.image:a.default.dirname(t.url.replace(this.baseUrl,""))+"/"+t.data.meta.image,this.add(n,r,o,function(r){var n=new s.Spritesheet(r.texture.baseTexture,t.data,t.url);n.parse(function(){t.spritesheet=n,t.textures=n.textures,e()})})}};var i=r(19),o=r(7),a=n(o),s=r(1)},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0,e.default=function(){return function(t,e){t.data&&t.type===i.Resource.TYPE.IMAGE&&(t.texture=a.default.fromLoader(t.data,t.url,t.name)),e()}};var i=r(19),o=r(11),a=n(o)},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var s=r(18),u=n(s),l=function(t){function e(r,n,a){i(this,e);var s=o(this,t.call(this,r));return s._ready=!0,s.verticesX=n||10,s.verticesY=a||10,s.drawMode=u.default.DRAW_MODES.TRIANGLES,s.refresh(),s}return a(e,t),e.prototype.refresh=function(){for(var t=this.verticesX*this.verticesY,e=[],r=[],n=[],i=[],o=this.texture,a=this.verticesX-1,s=this.verticesY-1,u=o.width/a,l=o.height/s,c=0;c<t;c++)if(o._uvs){var h=c%this.verticesX,f=c/this.verticesX|0;e.push(h*u,f*l),n.push(o._uvs.x0+(o._uvs.x1-o._uvs.x0)*(h/(this.verticesX-1)),o._uvs.y0+(o._uvs.y3-o._uvs.y0)*(f/(this.verticesY-1)))}else n.push(0);for(var d=a*s,p=0;p<d;p++){var v=p%a,m=p/a|0,g=m*this.verticesX+v,y=m*this.verticesX+v+1,_=(m+1)*this.verticesX+v,x=(m+1)*this.verticesX+v+1;i.push(g,y,_),i.push(y,x,_)}this.vertices=new Float32Array(e),this.uvs=new Float32Array(n),this.colors=new Float32Array(r),this.indices=new Uint16Array(i),this.indexDirty=!0},e.prototype._onTextureUpdate=function(){u.default.prototype._onTextureUpdate.call(this),this._ready&&this.refresh()},e}(u.default);e.default=l},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var i=r(18);Object.defineProperty(e,"Mesh",{enumerable:!0,get:function(){return n(i).default}});var o=r(247);Object.defineProperty(e,"MeshRenderer",{enumerable:!0,get:function(){return n(o).default}});var a=r(246);Object.defineProperty(e,"CanvasMeshRenderer",{enumerable:!0,get:function(){return n(a).default}});var s=r(91);Object.defineProperty(e,"Plane",{enumerable:!0,get:function(){return n(s).default}});var u=r(244);Object.defineProperty(e,"NineSlicePlane",{enumerable:!0,get:function(){return n(u).default}});var l=r(245);Object.defineProperty(e,"Rope",{enumerable:!0,get:function(){return n(l).default}})},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var i=r(248);Object.defineProperty(e,"ParticleContainer",{enumerable:!0,get:function(){return n(i).default}});var o=r(250);Object.defineProperty(e,"ParticleRenderer",{enumerable:!0,get:function(){return n(o).default}})},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var i=r(258);Object.defineProperty(e,"webgl",{enumerable:!0,get:function(){return n(i).default}});var o=r(256);Object.defineProperty(e,"canvas",{enumerable:!0,get:function(){return n(o).default}});var a=r(41);Object.defineProperty(e,"BasePrepare",{enumerable:!0,get:function(){return n(a).default}});var s=r(95);Object.defineProperty(e,"CountLimiter",{enumerable:!0,get:function(){return n(s).default}});var u=r(257);Object.defineProperty(e,"TimeLimiter",{enumerable:!0,get:function(){return n(u).default}})},function(t,e){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var n=function(){function t(e){r(this,t),this.maxItemsPerFrame=e,this.itemsLeft=0}return t.prototype.beginFrame=function(){this.itemsLeft=this.maxItemsPerFrame},t.prototype.allowedToUpload=function(){return this.itemsLeft-- >0},t}();e.default=n},function(t,e){"use strict";function r(){}function n(t,e,r){var n=0,i=t.length;!function o(a){return a||n===i?void(r&&r(a)):void e(t[n++],o)}()}function i(t){return function(){if(null===t)throw new Error("Callback was already called.");var e=t;t=null,e.apply(this,arguments)}}function o(t,e){function n(t,e,n){if(null!=n&&"function"!=typeof n)throw new Error("task callback must be a function");if(s.started=!0,null==t&&s.idle())return void setTimeout(function(){return s.drain()},1);var i={data:t,callback:"function"==typeof n?n:r};e?s._tasks.unshift(i):s._tasks.push(i),setTimeout(function(){return s.process()},1)}function o(t){return function(){a-=1,t.callback.apply(t,arguments),null!=arguments[0]&&s.error(arguments[0],t.data),a<=s.concurrency-s.buffer&&s.unsaturated(),s.idle()&&s.drain(),s.process()}}if(null==e)e=1;else if(0===e)throw new Error("Concurrency must not be zero");var a=0,s={_tasks:[],concurrency:e,saturated:r,unsaturated:r,buffer:e/4,empty:r,drain:r,error:r,started:!1,paused:!1,push:function(t,e){n(t,!1,e)},kill:function(){a=0,s.drain=r,s.started=!1,s._tasks=[]},unshift:function(t,e){n(t,!0,e)},process:function(){for(;!s.paused&&a<s.concurrency&&s._tasks.length;){var e=s._tasks.shift();0===s._tasks.length&&s.empty(),a+=1,a===s.concurrency&&s.saturated(),t(e.data,i(o(e)))}},length:function(){return s._tasks.length},running:function(){return a},idle:function(){return s._tasks.length+a===0},pause:function(){s.paused!==!0&&(s.paused=!0)},resume:function(){if(s.paused!==!1){s.paused=!1;for(var t=1;t<=s.concurrency;t++)s.process()}}};return s}e.__esModule=!0,e.eachSeries=n,e.queue=o},function(t,e){"use strict";function r(t){for(var e="",r=0;r<t.length;){for(var i=[0,0,0],o=[0,0,0,0],a=0;a<i.length;++a)r<t.length?i[a]=255&t.charCodeAt(r++):i[a]=0;o[0]=i[0]>>2,o[1]=(3&i[0])<<4|i[1]>>4,o[2]=(15&i[1])<<2|i[2]>>6,o[3]=63&i[2];var s=r-(t.length-1);switch(s){case 2:o[3]=64,o[2]=64;break;case 1:o[3]=64}for(var u=0;u<o.length;++u)e+=n.charAt(o[u])}return e}e.__esModule=!0,e.encodeBinary=r;var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="},function(t,e,r){!function(t,r){r(e)}(this,function(t){"use strict";function e(){}function r(t,e){this.x=t||0,this.y=e||0}function n(t,e,o,a,s,u,l,c,h,f){Object.defineProperty(this,"id",{value:i()}),this.uuid=ka.generateUUID(),this.name="",this.sourceFile="",this.image=void 0!==t?t:n.DEFAULT_IMAGE,this.mipmaps=[],this.mapping=void 0!==e?e:n.DEFAULT_MAPPING,this.wrapS=void 0!==o?o:Oo,this.wrapT=void 0!==a?a:Oo,this.magFilter=void 0!==s?s:No,this.minFilter=void 0!==u?u:Uo,this.anisotropy=void 0!==h?h:1,this.format=void 0!==l?l:ta,this.type=void 0!==c?c:zo,this.offset=new r(0,0),this.repeat=new r(1,1),this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=void 0!==f?f:Aa,this.version=0,this.onUpdate=null}function i(){return Ua++}function o(t,e,r,n){this.x=t||0,this.y=e||0,this.z=r||0,this.w=void 0!==n?n:1}function a(t,e,r){this.uuid=ka.generateUUID(),this.width=t,this.height=e,this.scissor=new o(0,0,t,e),this.scissorTest=!1,this.viewport=new o(0,0,t,e),r=r||{},void 0===r.minFilter&&(r.minFilter=No),this.texture=new n(void 0,void 0,r.wrapS,r.wrapT,r.magFilter,r.minFilter,r.format,r.type,r.anisotropy,r.encoding),this.depthBuffer=void 0===r.depthBuffer||r.depthBuffer,this.stencilBuffer=void 0===r.stencilBuffer||r.stencilBuffer,this.depthTexture=void 0!==r.depthTexture?r.depthTexture:null}function s(t,e,r){a.call(this,t,e,r),this.activeCubeFace=0,this.activeMipMapLevel=0}function u(t,e,r,n){this._x=t||0,this._y=e||0,this._z=r||0,this._w=void 0!==n?n:1}function l(t,e,r){this.x=t||0,this.y=e||0,this.z=r||0}function c(){this.elements=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),arguments.length>0&&console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")}function h(t,e,r,i,o,a,s,u,l,c){t=void 0!==t?t:[],e=void 0!==e?e:bo,n.call(this,t,e,r,i,o,a,s,u,l,c),this.flipY=!1}function f(){this.seq=[],this.map={}}function d(t,e,r){var n=t[0];if(n<=0||n>0)return t;var i=e*r,o=ja[i];if(void 0===o&&(o=new Float32Array(i),ja[i]=o),0!==e){n.toArray(o,0);for(var a=1,s=0;a!==e;++a)s+=r,t[a].toArray(o,s)}return o}function p(t,e){var r=Ga[e];void 0===r&&(r=new Int32Array(e),Ga[e]=r);for(var n=0;n!==e;++n)r[n]=t.allocTextureUnit();return r}function v(t,e){t.uniform1f(this.addr,e)}function m(t,e){t.uniform1i(this.addr,e)}function g(t,e){void 0===e.x?t.uniform2fv(this.addr,e):t.uniform2f(this.addr,e.x,e.y)}function y(t,e){void 0!==e.x?t.uniform3f(this.addr,e.x,e.y,e.z):void 0!==e.r?t.uniform3f(this.addr,e.r,e.g,e.b):t.uniform3fv(this.addr,e)}function _(t,e){void 0===e.x?t.uniform4fv(this.addr,e):t.uniform4f(this.addr,e.x,e.y,e.z,e.w)}function x(t,e){t.uniformMatrix2fv(this.addr,!1,e.elements||e)}function b(t,e){t.uniformMatrix3fv(this.addr,!1,e.elements||e)}function w(t,e){t.uniformMatrix4fv(this.addr,!1,e.elements||e)}function T(t,e,r){var n=r.allocTextureUnit();t.uniform1i(this.addr,n),r.setTexture2D(e||Ba,n)}function E(t,e,r){var n=r.allocTextureUnit();t.uniform1i(this.addr,n),r.setTextureCube(e||za,n)}function S(t,e){t.uniform2iv(this.addr,e)}function M(t,e){t.uniform3iv(this.addr,e)}function A(t,e){t.uniform4iv(this.addr,e)}function P(t){switch(t){case 5126:return v;case 35664:return g;case 35665:return y;case 35666:return _;case 35674:return x;case 35675:return b;case 35676:return w;case 35678:return T;case 35680:return E;case 5124:case 35670:return m;case 35667:case 35671:return S;case 35668:case 35672:return M;case 35669:case 35673:return A}}function C(t,e){t.uniform1fv(this.addr,e)}function O(t,e){t.uniform1iv(this.addr,e)}function R(t,e){t.uniform2fv(this.addr,d(e,this.size,2))}function D(t,e){t.uniform3fv(this.addr,d(e,this.size,3))}function L(t,e){t.uniform4fv(this.addr,d(e,this.size,4))}function I(t,e){t.uniformMatrix2fv(this.addr,!1,d(e,this.size,4))}function F(t,e){t.uniformMatrix3fv(this.addr,!1,d(e,this.size,9))}function N(t,e){t.uniformMatrix4fv(this.addr,!1,d(e,this.size,16))}function k(t,e,r){var n=e.length,i=p(r,n);t.uniform1iv(this.addr,i);for(var o=0;o!==n;++o)r.setTexture2D(e[o]||Ba,i[o])}function U(t,e,r){var n=e.length,i=p(r,n);t.uniform1iv(this.addr,i);for(var o=0;o!==n;++o)r.setTextureCube(e[o]||za,i[o])}function B(t){switch(t){case 5126:return C;case 35664:return R;case 35665:return D;case 35666:return L;case 35674:return I;case 35675:return F;case 35676:return N;case 35678:return k;case 35680:return U;case 5124:case 35670:return O;case 35667:case 35671:return S;case 35668:case 35672:return M;case 35669:case 35673:return A}}function z(t,e,r){this.id=t,this.addr=r,this.setValue=P(e.type)}function j(t,e,r){this.id=t,this.addr=r,this.size=e.size,this.setValue=B(e.type)}function G(t){this.id=t,f.call(this)}function H(t,e){t.seq.push(e),t.map[e.id]=e}function X(t,e,r){var n=t.name,i=n.length;for(Ha.lastIndex=0;;){var o=Ha.exec(n),a=Ha.lastIndex,s=o[1],u="]"===o[2],l=o[3];if(u&&(s|=0),void 0===l||"["===l&&a+2===i){H(r,void 0===l?new z(s,t,e):new j(s,t,e));break}var c=r.map,h=c[s];void 0===h&&(h=new G(s),H(r,h)),r=h}}function V(t,e,r){f.call(this),this.renderer=r;for(var n=t.getProgramParameter(e,t.ACTIVE_UNIFORMS),i=0;i!==n;++i){var o=t.getActiveUniform(e,i),a=o.name,s=t.getUniformLocation(e,a);X(o,s,this)}}function W(t,e,r){return void 0===e&&void 0===r?this.set(t):this.setRGB(t,e,r)}function Y(t,e){this.min=void 0!==t?t:new r(+(1/0),+(1/0)),this.max=void 0!==e?e:new r(-(1/0),-(1/0))}function q(t,e){function n(){var t=new Float32Array([-1,-1,0,0,1,-1,1,0,1,1,1,1,-1,1,0,1]),e=new Uint16Array([0,1,2,0,2,3]);o=p.createBuffer(),a=p.createBuffer(),p.bindBuffer(p.ARRAY_BUFFER,o),p.bufferData(p.ARRAY_BUFFER,t,p.STATIC_DRAW),p.bindBuffer(p.ELEMENT_ARRAY_BUFFER,a),
p.bufferData(p.ELEMENT_ARRAY_BUFFER,e,p.STATIC_DRAW),f=p.createTexture(),d=p.createTexture(),v.bindTexture(p.TEXTURE_2D,f),p.texImage2D(p.TEXTURE_2D,0,p.RGB,16,16,0,p.RGB,p.UNSIGNED_BYTE,null),p.texParameteri(p.TEXTURE_2D,p.TEXTURE_WRAP_S,p.CLAMP_TO_EDGE),p.texParameteri(p.TEXTURE_2D,p.TEXTURE_WRAP_T,p.CLAMP_TO_EDGE),p.texParameteri(p.TEXTURE_2D,p.TEXTURE_MAG_FILTER,p.NEAREST),p.texParameteri(p.TEXTURE_2D,p.TEXTURE_MIN_FILTER,p.NEAREST),v.bindTexture(p.TEXTURE_2D,d),p.texImage2D(p.TEXTURE_2D,0,p.RGBA,16,16,0,p.RGBA,p.UNSIGNED_BYTE,null),p.texParameteri(p.TEXTURE_2D,p.TEXTURE_WRAP_S,p.CLAMP_TO_EDGE),p.texParameteri(p.TEXTURE_2D,p.TEXTURE_WRAP_T,p.CLAMP_TO_EDGE),p.texParameteri(p.TEXTURE_2D,p.TEXTURE_MAG_FILTER,p.NEAREST),p.texParameteri(p.TEXTURE_2D,p.TEXTURE_MIN_FILTER,p.NEAREST),s={vertexShader:["uniform lowp int renderType;","uniform vec3 screenPosition;","uniform vec2 scale;","uniform float rotation;","uniform sampler2D occlusionMap;","attribute vec2 position;","attribute vec2 uv;","varying vec2 vUV;","varying float vVisibility;","void main() {","vUV = uv;","vec2 pos = position;","if ( renderType == 2 ) {","vec4 visibility = texture2D( occlusionMap, vec2( 0.1, 0.1 ) );","visibility += texture2D( occlusionMap, vec2( 0.5, 0.1 ) );","visibility += texture2D( occlusionMap, vec2( 0.9, 0.1 ) );","visibility += texture2D( occlusionMap, vec2( 0.9, 0.5 ) );","visibility += texture2D( occlusionMap, vec2( 0.9, 0.9 ) );","visibility += texture2D( occlusionMap, vec2( 0.5, 0.9 ) );","visibility += texture2D( occlusionMap, vec2( 0.1, 0.9 ) );","visibility += texture2D( occlusionMap, vec2( 0.1, 0.5 ) );","visibility += texture2D( occlusionMap, vec2( 0.5, 0.5 ) );","vVisibility =        visibility.r / 9.0;","vVisibility *= 1.0 - visibility.g / 9.0;","vVisibility *=       visibility.b / 9.0;","vVisibility *= 1.0 - visibility.a / 9.0;","pos.x = cos( rotation ) * position.x - sin( rotation ) * position.y;","pos.y = sin( rotation ) * position.x + cos( rotation ) * position.y;","}","gl_Position = vec4( ( pos * scale + screenPosition.xy ).xy, screenPosition.z, 1.0 );","}"].join("\n"),fragmentShader:["uniform lowp int renderType;","uniform sampler2D map;","uniform float opacity;","uniform vec3 color;","varying vec2 vUV;","varying float vVisibility;","void main() {","if ( renderType == 0 ) {","gl_FragColor = vec4( 1.0, 0.0, 1.0, 0.0 );","} else if ( renderType == 1 ) {","gl_FragColor = texture2D( map, vUV );","} else {","vec4 texture = texture2D( map, vUV );","texture.a *= opacity * vVisibility;","gl_FragColor = texture;","gl_FragColor.rgb *= color;","}","}"].join("\n")},u=i(s),c={vertex:p.getAttribLocation(u,"position"),uv:p.getAttribLocation(u,"uv")},h={renderType:p.getUniformLocation(u,"renderType"),map:p.getUniformLocation(u,"map"),occlusionMap:p.getUniformLocation(u,"occlusionMap"),opacity:p.getUniformLocation(u,"opacity"),color:p.getUniformLocation(u,"color"),scale:p.getUniformLocation(u,"scale"),rotation:p.getUniformLocation(u,"rotation"),screenPosition:p.getUniformLocation(u,"screenPosition")}}function i(e){var r=p.createProgram(),n=p.createShader(p.FRAGMENT_SHADER),i=p.createShader(p.VERTEX_SHADER),o="precision "+t.getPrecision()+" float;\n";return p.shaderSource(n,o+e.fragmentShader),p.shaderSource(i,o+e.vertexShader),p.compileShader(n),p.compileShader(i),p.attachShader(r,n),p.attachShader(r,i),p.linkProgram(r),r}var o,a,s,u,c,h,f,d,p=t.context,v=t.state;this.render=function(i,s,m){if(0!==e.length){var g=new l,y=m.w/m.z,_=.5*m.z,x=.5*m.w,b=16/m.w,w=new r(b*y,b),T=new l(1,1,0),E=new r(1,1),S=new Y;S.min.set(m.x,m.y),S.max.set(m.x+(m.z-16),m.y+(m.w-16)),void 0===u&&n(),p.useProgram(u),v.initAttributes(),v.enableAttribute(c.vertex),v.enableAttribute(c.uv),v.disableUnusedAttributes(),p.uniform1i(h.occlusionMap,0),p.uniform1i(h.map,1),p.bindBuffer(p.ARRAY_BUFFER,o),p.vertexAttribPointer(c.vertex,2,p.FLOAT,!1,16,0),p.vertexAttribPointer(c.uv,2,p.FLOAT,!1,16,8),p.bindBuffer(p.ELEMENT_ARRAY_BUFFER,a),v.disable(p.CULL_FACE),v.setDepthWrite(!1);for(var M=0,A=e.length;M<A;M++){b=16/m.w,w.set(b*y,b);var P=e[M];if(g.set(P.matrixWorld.elements[12],P.matrixWorld.elements[13],P.matrixWorld.elements[14]),g.applyMatrix4(s.matrixWorldInverse),g.applyProjection(s.projectionMatrix),T.copy(g),E.x=m.x+T.x*_+_-8,E.y=m.y+T.y*x+x-8,S.containsPoint(E)===!0){v.activeTexture(p.TEXTURE0),v.bindTexture(p.TEXTURE_2D,null),v.activeTexture(p.TEXTURE1),v.bindTexture(p.TEXTURE_2D,f),p.copyTexImage2D(p.TEXTURE_2D,0,p.RGB,E.x,E.y,16,16,0),p.uniform1i(h.renderType,0),p.uniform2f(h.scale,w.x,w.y),p.uniform3f(h.screenPosition,T.x,T.y,T.z),v.disable(p.BLEND),v.enable(p.DEPTH_TEST),p.drawElements(p.TRIANGLES,6,p.UNSIGNED_SHORT,0),v.activeTexture(p.TEXTURE0),v.bindTexture(p.TEXTURE_2D,d),p.copyTexImage2D(p.TEXTURE_2D,0,p.RGBA,E.x,E.y,16,16,0),p.uniform1i(h.renderType,1),v.disable(p.DEPTH_TEST),v.activeTexture(p.TEXTURE1),v.bindTexture(p.TEXTURE_2D,f),p.drawElements(p.TRIANGLES,6,p.UNSIGNED_SHORT,0),P.positionScreen.copy(T),P.customUpdateCallback?P.customUpdateCallback(P):P.updateLensFlares(),p.uniform1i(h.renderType,2),v.enable(p.BLEND);for(var C=0,O=P.lensFlares.length;C<O;C++){var R=P.lensFlares[C];R.opacity>.001&&R.scale>.001&&(T.x=R.x,T.y=R.y,T.z=R.z,b=R.size*R.scale/m.w,w.x=b*y,w.y=b,p.uniform3f(h.screenPosition,T.x,T.y,T.z),p.uniform2f(h.scale,w.x,w.y),p.uniform1f(h.rotation,R.rotation),p.uniform1f(h.opacity,R.opacity),p.uniform3f(h.color,R.color.r,R.color.g,R.color.b),v.setBlending(R.blending,R.blendEquation,R.blendSrc,R.blendDst),t.setTexture2D(R.texture,1),p.drawElements(p.TRIANGLES,6,p.UNSIGNED_SHORT,0))}}}v.enable(p.CULL_FACE),v.enable(p.DEPTH_TEST),v.setDepthWrite(!0),t.resetGLState()}}}function Z(t,e){function r(){var t=new Float32Array([-.5,-.5,0,0,.5,-.5,1,0,.5,.5,1,1,-.5,.5,0,1]),e=new Uint16Array([0,1,2,0,2,3]);a=p.createBuffer(),s=p.createBuffer(),p.bindBuffer(p.ARRAY_BUFFER,a),p.bufferData(p.ARRAY_BUFFER,t,p.STATIC_DRAW),p.bindBuffer(p.ELEMENT_ARRAY_BUFFER,s),p.bufferData(p.ELEMENT_ARRAY_BUFFER,e,p.STATIC_DRAW),c=i(),h={position:p.getAttribLocation(c,"position"),uv:p.getAttribLocation(c,"uv")},f={uvOffset:p.getUniformLocation(c,"uvOffset"),uvScale:p.getUniformLocation(c,"uvScale"),rotation:p.getUniformLocation(c,"rotation"),scale:p.getUniformLocation(c,"scale"),color:p.getUniformLocation(c,"color"),map:p.getUniformLocation(c,"map"),opacity:p.getUniformLocation(c,"opacity"),modelViewMatrix:p.getUniformLocation(c,"modelViewMatrix"),projectionMatrix:p.getUniformLocation(c,"projectionMatrix"),fogType:p.getUniformLocation(c,"fogType"),fogDensity:p.getUniformLocation(c,"fogDensity"),fogNear:p.getUniformLocation(c,"fogNear"),fogFar:p.getUniformLocation(c,"fogFar"),fogColor:p.getUniformLocation(c,"fogColor"),alphaTest:p.getUniformLocation(c,"alphaTest")};var r=document.createElementNS("http://www.w3.org/1999/xhtml","canvas");r.width=8,r.height=8;var o=r.getContext("2d");o.fillStyle="white",o.fillRect(0,0,8,8),d=new n(r),d.needsUpdate=!0}function i(){var e=p.createProgram(),r=p.createShader(p.VERTEX_SHADER),n=p.createShader(p.FRAGMENT_SHADER);return p.shaderSource(r,["precision "+t.getPrecision()+" float;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform float rotation;","uniform vec2 scale;","uniform vec2 uvOffset;","uniform vec2 uvScale;","attribute vec2 position;","attribute vec2 uv;","varying vec2 vUV;","void main() {","vUV = uvOffset + uv * uvScale;","vec2 alignedPosition = position * scale;","vec2 rotatedPosition;","rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;","rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;","vec4 finalPosition;","finalPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );","finalPosition.xy += rotatedPosition;","finalPosition = projectionMatrix * finalPosition;","gl_Position = finalPosition;","}"].join("\n")),p.shaderSource(n,["precision "+t.getPrecision()+" float;","uniform vec3 color;","uniform sampler2D map;","uniform float opacity;","uniform int fogType;","uniform vec3 fogColor;","uniform float fogDensity;","uniform float fogNear;","uniform float fogFar;","uniform float alphaTest;","varying vec2 vUV;","void main() {","vec4 texture = texture2D( map, vUV );","if ( texture.a < alphaTest ) discard;","gl_FragColor = vec4( color * texture.xyz, texture.a * opacity );","if ( fogType > 0 ) {","float depth = gl_FragCoord.z / gl_FragCoord.w;","float fogFactor = 0.0;","if ( fogType == 1 ) {","fogFactor = smoothstep( fogNear, fogFar, depth );","} else {","const float LOG2 = 1.442695;","fogFactor = exp2( - fogDensity * fogDensity * depth * depth * LOG2 );","fogFactor = 1.0 - clamp( fogFactor, 0.0, 1.0 );","}","gl_FragColor = mix( gl_FragColor, vec4( fogColor, gl_FragColor.w ), fogFactor );","}","}"].join("\n")),p.compileShader(r),p.compileShader(n),p.attachShader(e,r),p.attachShader(e,n),p.linkProgram(e),e}function o(t,e){return t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.z!==e.z?e.z-t.z:e.id-t.id}var a,s,c,h,f,d,p=t.context,v=t.state,m=new l,g=new u,y=new l;this.render=function(n,i){if(0!==e.length){void 0===c&&r(),p.useProgram(c),v.initAttributes(),v.enableAttribute(h.position),v.enableAttribute(h.uv),v.disableUnusedAttributes(),v.disable(p.CULL_FACE),v.enable(p.BLEND),p.bindBuffer(p.ARRAY_BUFFER,a),p.vertexAttribPointer(h.position,2,p.FLOAT,!1,16,0),p.vertexAttribPointer(h.uv,2,p.FLOAT,!1,16,8),p.bindBuffer(p.ELEMENT_ARRAY_BUFFER,s),p.uniformMatrix4fv(f.projectionMatrix,!1,i.projectionMatrix.elements),v.activeTexture(p.TEXTURE0),p.uniform1i(f.map,0);var u=0,l=0,_=n.fog;_?(p.uniform3f(f.fogColor,_.color.r,_.color.g,_.color.b),_&&_.isFog?(p.uniform1f(f.fogNear,_.near),p.uniform1f(f.fogFar,_.far),p.uniform1i(f.fogType,1),u=1,l=1):_&&_.isFogExp2&&(p.uniform1f(f.fogDensity,_.density),p.uniform1i(f.fogType,2),u=2,l=2)):(p.uniform1i(f.fogType,0),u=0,l=0);for(var x=0,b=e.length;x<b;x++){var w=e[x];w.modelViewMatrix.multiplyMatrices(i.matrixWorldInverse,w.matrixWorld),w.z=-w.modelViewMatrix.elements[14]}e.sort(o);for(var T=[],x=0,b=e.length;x<b;x++){var w=e[x],E=w.material;if(E.visible!==!1){p.uniform1f(f.alphaTest,E.alphaTest),p.uniformMatrix4fv(f.modelViewMatrix,!1,w.modelViewMatrix.elements),w.matrixWorld.decompose(m,g,y),T[0]=y.x,T[1]=y.y;var S=0;n.fog&&E.fog&&(S=l),u!==S&&(p.uniform1i(f.fogType,S),u=S),null!==E.map?(p.uniform2f(f.uvOffset,E.map.offset.x,E.map.offset.y),p.uniform2f(f.uvScale,E.map.repeat.x,E.map.repeat.y)):(p.uniform2f(f.uvOffset,0,0),p.uniform2f(f.uvScale,1,1)),p.uniform1f(f.opacity,E.opacity),p.uniform3f(f.color,E.color.r,E.color.g,E.color.b),p.uniform1f(f.rotation,E.rotation),p.uniform2fv(f.scale,T),v.setBlending(E.blending,E.blendEquation,E.blendSrc,E.blendDst),v.setDepthTest(E.depthTest),v.setDepthWrite(E.depthWrite),E.map?t.setTexture2D(E.map,0):t.setTexture2D(d,0),p.drawElements(p.TRIANGLES,6,p.UNSIGNED_SHORT,0)}}v.enable(p.CULL_FACE),t.resetGLState()}}}function K(){Object.defineProperty(this,"id",{value:J()}),this.uuid=ka.generateUUID(),this.name="",this.type="Material",this.fog=!0,this.lights=!0,this.blending=Fi,this.side=Mi,this.shading=Oi,this.vertexColors=Ri,this.opacity=1,this.transparent=!1,this.blendSrc=Ki,this.blendDst=Ji,this.blendEquation=ji,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=ao,this.depthTest=!0,this.depthWrite=!0,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.alphaTest=0,this.premultipliedAlpha=!1,this.overdraw=0,this.visible=!0,this._needsUpdate=!0}function J(){return Wu++}function Q(t){K.call(this),this.type="ShaderMaterial",this.defines={},this.uniforms={},this.vertexShader="void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",this.fragmentShader="void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}",this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,void 0!==t&&(void 0!==t.attributes&&console.error("THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead."),this.setValues(t))}function $(t){K.call(this),this.type="MeshDepthMaterial",this.depthPacking=Fa,this.skinning=!1,this.morphTargets=!1,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.setValues(t)}function tt(t,e){this.min=void 0!==t?t:new l(+(1/0),+(1/0),+(1/0)),this.max=void 0!==e?e:new l(-(1/0),-(1/0),-(1/0))}function et(t,e){this.center=void 0!==t?t:new l,this.radius=void 0!==e?e:0}function rt(){this.elements=new Float32Array([1,0,0,0,1,0,0,0,1]),arguments.length>0&&console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")}function nt(t,e){this.normal=void 0!==t?t:new l(1,0,0),this.constant=void 0!==e?e:0}function it(t,e,r,n,i,o){this.planes=[void 0!==t?t:new nt,void 0!==e?e:new nt,void 0!==r?r:new nt,void 0!==n?n:new nt,void 0!==i?i:new nt,void 0!==o?o:new nt]}function ot(t,e,n,i){function s(e,r,n,i){var o=e.geometry,a=null,s=E,u=e.customDepthMaterial;if(n&&(s=S,u=e.customDistanceMaterial),u)a=u;else{var l=!1;r.morphTargets&&(o&&o.isBufferGeometry?l=o.morphAttributes&&o.morphAttributes.position&&o.morphAttributes.position.length>0:o&&o.isGeometry&&(l=o.morphTargets&&o.morphTargets.length>0));var c=e.isSkinnedMesh&&r.skinning,h=0;l&&(h|=b),c&&(h|=w),a=s[h]}if(t.localClippingEnabled&&r.clipShadows===!0&&0!==r.clippingPlanes.length){var f=a.uuid,d=r.uuid,p=M[f];void 0===p&&(p={},M[f]=p);var v=p[d];void 0===v&&(v=a.clone(),p[d]=v),a=v}a.visible=r.visible,a.wireframe=r.wireframe;var m=r.side;return U.renderSingleSided&&m==Pi&&(m=Mi),U.renderReverseSided&&(m===Mi?m=Ai:m===Ai&&(m=Mi)),a.side=m,a.clipShadows=r.clipShadows,a.clippingPlanes=r.clippingPlanes,a.wireframeLinewidth=r.wireframeLinewidth,a.linewidth=r.linewidth,n&&void 0!==a.uniforms.lightPos&&a.uniforms.lightPos.value.copy(i),a}function u(t,e,r){if(t.visible!==!1){var n=0!==(t.layers.mask&e.layers.mask);if(n&&(t.isMesh||t.isLine||t.isPoints)&&t.castShadow&&(t.frustumCulled===!1||d.intersectsObject(t)===!0)){var i=t.material;i.visible===!0&&(t.modelViewMatrix.multiplyMatrices(r.matrixWorldInverse,t.matrixWorld),x.push(t))}for(var o=t.children,a=0,s=o.length;a<s;a++)u(o[a],e,r)}}var h=t.context,f=t.state,d=new it,p=new c,v=e.shadows,m=new r,g=new r(i.maxTextureSize,i.maxTextureSize),y=new l,_=new l,x=[],b=1,w=2,T=(b|w)+1,E=new Array(T),S=new Array(T),M={},A=[new l(1,0,0),new l(-1,0,0),new l(0,0,1),new l(0,0,-1),new l(0,1,0),new l(0,-1,0)],P=[new l(0,1,0),new l(0,1,0),new l(0,1,0),new l(0,1,0),new l(0,0,1),new l(0,0,-1)],C=[new o,new o,new o,new o,new o,new o],O=new $;O.depthPacking=Na,O.clipping=!0;for(var R=Vu.distanceRGBA,D=Xa.clone(R.uniforms),L=0;L!==T;++L){var I=0!==(L&b),F=0!==(L&w),N=O.clone();N.morphTargets=I,N.skinning=F,E[L]=N;var k=new Q({defines:{USE_SHADOWMAP:""},uniforms:D,vertexShader:R.vertexShader,fragmentShader:R.fragmentShader,morphTargets:I,skinning:F,clipping:!0});S[L]=k}var U=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=Ei,this.renderReverseSided=!0,this.renderSingleSided=!0,this.render=function(e,r){if(U.enabled!==!1&&(U.autoUpdate!==!1||U.needsUpdate!==!1)&&0!==v.length){f.clearColor(1,1,1,1),f.disable(h.BLEND),f.setDepthTest(!0),f.setScissorTest(!1);for(var i,o,l=0,c=v.length;l<c;l++){var b=v[l],w=b.shadow;if(void 0!==w){var T=w.camera;if(m.copy(w.mapSize),m.min(g),b&&b.isPointLight){i=6,o=!0;var E=m.x,S=m.y;C[0].set(2*E,S,E,S),C[1].set(0,S,E,S),C[2].set(3*E,S,E,S),C[3].set(E,S,E,S),C[4].set(3*E,0,E,S),C[5].set(E,0,E,S),m.x*=4,m.y*=2}else i=1,o=!1;if(null===w.map){var M={minFilter:Lo,magFilter:Lo,format:ta};w.map=new a(m.x,m.y,M),T.updateProjectionMatrix()}w&&w.isSpotLightShadow&&w.update(b);var O=w.map,R=w.matrix;_.setFromMatrixPosition(b.matrixWorld),T.position.copy(_),t.setRenderTarget(O),t.clear();for(var D=0;D<i;D++){if(o){y.copy(T.position),y.add(A[D]),T.up.copy(P[D]),T.lookAt(y);var L=C[D];f.viewport(L)}else y.setFromMatrixPosition(b.target.matrixWorld),T.lookAt(y);T.updateMatrixWorld(),T.matrixWorldInverse.getInverse(T.matrixWorld),R.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),R.multiply(T.projectionMatrix),R.multiply(T.matrixWorldInverse),p.multiplyMatrices(T.projectionMatrix,T.matrixWorldInverse),d.setFromMatrix(p),x.length=0,u(e,r,T);for(var I=0,F=x.length;I<F;I++){var N=x[I],k=n.update(N),B=N.material;if(B&&B.isMultiMaterial)for(var z=k.groups,j=B.materials,G=0,H=z.length;G<H;G++){var X=z[G],V=j[X.materialIndex];if(V.visible===!0){var W=s(N,V,o,_);t.renderBufferDirect(T,null,k,W,N,X)}}else{var W=s(N,B,o,_);t.renderBufferDirect(T,null,k,W,N,null)}}}}else console.warn("THREE.WebGLShadowMap:",b,"has no shadow.")}var Y=t.getClearColor(),q=t.getClearAlpha();t.setClearColor(Y,q),U.needsUpdate=!1}}}function at(t,e){this.origin=void 0!==t?t:new l,this.direction=void 0!==e?e:new l}function st(t,e,r,n){this._x=t||0,this._y=e||0,this._z=r||0,this._order=n||st.DefaultOrder}function ut(){this.mask=1}function lt(){function t(){i.setFromEuler(n,!1)}function e(){n.setFromQuaternion(i,void 0,!1)}Object.defineProperty(this,"id",{value:ct()}),this.uuid=ka.generateUUID(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=lt.DefaultUp.clone();var r=new l,n=new st,i=new u,o=new l(1,1,1);n.onChange(t),i.onChange(e),Object.defineProperties(this,{position:{enumerable:!0,value:r},rotation:{enumerable:!0,value:n},quaternion:{enumerable:!0,value:i},scale:{enumerable:!0,value:o},modelViewMatrix:{value:new c},normalMatrix:{value:new rt}}),this.matrix=new c,this.matrixWorld=new c,this.matrixAutoUpdate=lt.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.layers=new ut,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.userData={},this.onBeforeRender=function(){},this.onAfterRender=function(){}}function ct(){return Yu++}function ht(t,e){this.start=void 0!==t?t:new l,this.end=void 0!==e?e:new l}function ft(t,e,r){this.a=void 0!==t?t:new l,this.b=void 0!==e?e:new l,this.c=void 0!==r?r:new l}function dt(t,e,r,n,i,o){this.a=t,this.b=e,this.c=r,this.normal=n&&n.isVector3?n:new l,this.vertexNormals=Array.isArray(n)?n:[],this.color=i&&i.isColor?i:new W,this.vertexColors=Array.isArray(i)?i:[],this.materialIndex=void 0!==o?o:0}function pt(t){K.call(this),this.type="MeshBasicMaterial",this.color=new W(16777215),this.map=null,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=ho,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.lights=!1,this.setValues(t)}function vt(t,e,r){if(Array.isArray(t))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.uuid=ka.generateUUID(),this.array=t,this.itemSize=e,this.count=void 0!==t?t.length/e:0,this.normalized=r===!0,this.dynamic=!1,this.updateRange={offset:0,count:-1},this.version=0}function mt(t,e){return new vt(new Int8Array(t),e)}function gt(t,e){return new vt(new Uint8Array(t),e)}function yt(t,e){return new vt(new Uint8ClampedArray(t),e)}function _t(t,e){return new vt(new Int16Array(t),e)}function xt(t,e){return new vt(new Uint16Array(t),e)}function bt(t,e){return new vt(new Int32Array(t),e)}function wt(t,e){return new vt(new Uint32Array(t),e)}function Tt(t,e){return new vt(new Float32Array(t),e)}function Et(t,e){return new vt(new Float64Array(t),e)}function St(t,e){return console.warn("THREE.DynamicBufferAttribute has been removed. Use new THREE.BufferAttribute().setDynamic( true ) instead."),new vt(t,e).setDynamic(!0)}function Mt(){Object.defineProperty(this,"id",{value:At()}),this.uuid=ka.generateUUID(),this.name="",this.type="Geometry",this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.elementsNeedUpdate=!1,this.verticesNeedUpdate=!1,this.uvsNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.lineDistancesNeedUpdate=!1,this.groupsNeedUpdate=!1}function At(){return qu++}function Pt(){Object.defineProperty(this,"id",{value:At()}),this.uuid=ka.generateUUID(),this.name="",this.type="DirectGeometry",this.indices=[],this.vertices=[],this.normals=[],this.colors=[],this.uvs=[],this.uvs2=[],this.groups=[],this.morphTargets={},this.skinWeights=[],this.skinIndices=[],this.boundingBox=null,this.boundingSphere=null,this.verticesNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.uvsNeedUpdate=!1,this.groupsNeedUpdate=!1}function Ct(){Object.defineProperty(this,"id",{value:At()}),this.uuid=ka.generateUUID(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0}}function Ot(t,e){lt.call(this),this.type="Mesh",this.geometry=void 0!==t?t:new Ct,this.material=void 0!==e?e:new pt({color:16777215*Math.random()}),this.drawMode=Ea,this.updateMorphTargets()}function Rt(t,e,r,n,i,o){function a(t,e,r){var n=0;return n+=(t+1)*(e+1)*2,n+=(t+1)*(r+1)*2,n+=(r+1)*(e+1)*2}function s(t,e,r){var n=0;return n+=t*e*2,n+=t*r*2,n+=r*e*2,6*n}function u(t,e,r,n,i,o,a,s,u,h,f){for(var w=o/u,T=a/h,E=o/2,S=a/2,M=s/2,A=u+1,P=h+1,C=0,O=0,R=new l,D=0;D<P;D++)for(var L=D*T-S,I=0;I<A;I++){var F=I*w-E;R[t]=F*n,R[e]=L*i,R[r]=M,p[g]=R.x,p[g+1]=R.y,p[g+2]=R.z,R[t]=0,R[e]=0,R[r]=s>0?1:-1,v[g]=R.x,v[g+1]=R.y,v[g+2]=R.z,m[y]=I/u,m[y+1]=1-D/h,g+=3,y+=2,C+=1}for(D=0;D<h;D++)for(I=0;I<u;I++){var N=x+I+A*D,k=x+I+A*(D+1),U=x+(I+1)+A*(D+1),B=x+(I+1)+A*D;d[_]=N,d[_+1]=k,d[_+2]=B,d[_+3]=k,d[_+4]=U,d[_+5]=B,_+=6,O+=6}c.addGroup(b,O,f),b+=O,x+=C}Ct.call(this),this.type="BoxBufferGeometry",this.parameters={width:t,height:e,depth:r,widthSegments:n,heightSegments:i,depthSegments:o};var c=this;n=Math.floor(n)||1,i=Math.floor(i)||1,o=Math.floor(o)||1;var h=a(n,i,o),f=s(n,i,o),d=new(f>65535?Uint32Array:Uint16Array)(f),p=new Float32Array(3*h),v=new Float32Array(3*h),m=new Float32Array(2*h),g=0,y=0,_=0,x=0,b=0;u("z","y","x",-1,-1,r,e,t,o,i,0),u("z","y","x",1,-1,r,e,-t,o,i,1),u("x","z","y",1,1,t,r,e,n,o,2),u("x","z","y",1,-1,t,r,-e,n,o,3),u("x","y","z",1,-1,t,e,r,n,i,4),u("x","y","z",-1,-1,t,e,-r,n,i,5),this.setIndex(new vt(d,1)),this.addAttribute("position",new vt(p,3)),this.addAttribute("normal",new vt(v,3)),this.addAttribute("uv",new vt(m,2))}function Dt(t,e,r,n){Ct.call(this),this.type="PlaneBufferGeometry",this.parameters={width:t,height:e,widthSegments:r,heightSegments:n};for(var i=t/2,o=e/2,a=Math.floor(r)||1,s=Math.floor(n)||1,u=a+1,l=s+1,c=t/a,h=e/s,f=new Float32Array(u*l*3),d=new Float32Array(u*l*3),p=new Float32Array(u*l*2),v=0,m=0,g=0;g<l;g++)for(var y=g*h-o,_=0;_<u;_++){var x=_*c-i;f[v]=x,f[v+1]=-y,d[v+2]=1,p[m]=_/a,p[m+1]=1-g/s,v+=3,m+=2}v=0;for(var b=new(f.length/3>65535?Uint32Array:Uint16Array)(a*s*6),g=0;g<s;g++)for(var _=0;_<a;_++){var w=_+u*g,T=_+u*(g+1),E=_+1+u*(g+1),S=_+1+u*g;b[v]=w,b[v+1]=T,b[v+2]=S,b[v+3]=T,b[v+4]=E,b[v+5]=S,v+=6}this.setIndex(new vt(b,1)),this.addAttribute("position",new vt(f,3)),this.addAttribute("normal",new vt(d,3)),this.addAttribute("uv",new vt(p,2))}function Lt(){lt.call(this),this.type="Camera",this.matrixWorldInverse=new c,this.projectionMatrix=new c}function It(t,e,r,n){Lt.call(this),this.type="PerspectiveCamera",this.fov=void 0!==t?t:50,this.zoom=1,this.near=void 0!==r?r:.1,this.far=void 0!==n?n:2e3,this.focus=10,this.aspect=void 0!==e?e:1,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}function Ft(t,e,r,n,i,o){Lt.call(this),this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=t,this.right=e,this.top=r,this.bottom=n,this.near=void 0!==i?i:.1,this.far=void 0!==o?o:2e3,this.updateProjectionMatrix()}function Nt(t,e,r){function n(t){s=t}function i(r){r.array instanceof Uint32Array&&e.get("OES_element_index_uint")?(u=t.UNSIGNED_INT,l=4):(u=t.UNSIGNED_SHORT,l=2)}function o(e,n){t.drawElements(s,n,u,e*l),r.calls++,r.vertices+=n,s===t.TRIANGLES&&(r.faces+=n/3)}function a(n,i,o){var a=e.get("ANGLE_instanced_arrays");return null===a?void console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays."):(a.drawElementsInstancedANGLE(s,o,u,i*l,n.maxInstancedCount),r.calls++,r.vertices+=o*n.maxInstancedCount,void(s===t.TRIANGLES&&(r.faces+=n.maxInstancedCount*o/3)))}var s,u,l;return{setMode:n,setIndex:i,render:o,renderInstances:a}}function kt(t,e,r){function n(t){a=t}function i(e,n){t.drawArrays(a,e,n),r.calls++,r.vertices+=n,a===t.TRIANGLES&&(r.faces+=n/3)}function o(n){var i=e.get("ANGLE_instanced_arrays");if(null===i)return void console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");var o=n.attributes.position,s=0;o&&o.isInterleavedBufferAttribute?(s=o.data.count,i.drawArraysInstancedANGLE(a,0,s,n.maxInstancedCount)):(s=o.count,i.drawArraysInstancedANGLE(a,0,s,n.maxInstancedCount)),r.calls++,r.vertices+=s*n.maxInstancedCount,a===t.TRIANGLES&&(r.faces+=n.maxInstancedCount*s/3)}var a;return{setMode:n,render:i,renderInstances:o}}function Ut(){var t={};return{get:function(e){if(void 0!==t[e.id])return t[e.id];var n;switch(e.type){case"DirectionalLight":n={direction:new l,color:new W,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new r};break;case"SpotLight":n={position:new l,direction:new l,color:new W,distance:0,coneCos:0,penumbraCos:0,decay:0,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new r};break;case"PointLight":n={position:new l,color:new W,distance:0,decay:0,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new r};break;case"HemisphereLight":n={direction:new l,skyColor:new W,groundColor:new W}}return t[e.id]=n,n}}}function Bt(t){for(var e=t.split("\n"),r=0;r<e.length;r++)e[r]=r+1+": "+e[r];return e.join("\n")}function zt(t,e,r){var n=t.createShader(e);return t.shaderSource(n,r),t.compileShader(n),t.getShaderParameter(n,t.COMPILE_STATUS)===!1&&console.error("THREE.WebGLShader: Shader couldn't compile."),""!==t.getShaderInfoLog(n)&&console.warn("THREE.WebGLShader: gl.getShaderInfoLog()",e===t.VERTEX_SHADER?"vertex":"fragment",t.getShaderInfoLog(n),Bt(r)),n}function jt(t){switch(t){case Aa:return["Linear","( value )"];case Pa:return["sRGB","( value )"];case Oa:return["RGBE","( value )"];case Da:return["RGBM","( value, 7.0 )"];case La:return["RGBM","( value, 16.0 )"];case Ia:return["RGBD","( value, 256.0 )"];case Ca:return["Gamma","( value, float( GAMMA_FACTOR ) )"];default:throw new Error("unsupported encoding: "+t)}}function Gt(t,e){var r=jt(e);return"vec4 "+t+"( vec4 value ) { return "+r[0]+"ToLinear"+r[1]+"; }"}function Ht(t,e){var r=jt(e);return"vec4 "+t+"( vec4 value ) { return LinearTo"+r[0]+r[1]+"; }"}function Xt(t,e){var r;switch(e){case mo:r="Linear";break;case go:r="Reinhard";break;case yo:r="Uncharted2";break;case _o:r="OptimizedCineon";break;default:throw new Error("unsupported toneMapping: "+e)}return"vec3 "+t+"( vec3 color ) { return "+r+"ToneMapping( color ); }"}function Vt(t,e,r){t=t||{};var n=[t.derivatives||e.envMapCubeUV||e.bumpMap||e.normalMap||e.flatShading?"#extension GL_OES_standard_derivatives : enable":"",(t.fragDepth||e.logarithmicDepthBuffer)&&r.get("EXT_frag_depth")?"#extension GL_EXT_frag_depth : enable":"",t.drawBuffers&&r.get("WEBGL_draw_buffers")?"#extension GL_EXT_draw_buffers : require":"",(t.shaderTextureLOD||e.envMap)&&r.get("EXT_shader_texture_lod")?"#extension GL_EXT_shader_texture_lod : enable":""];return n.filter(qt).join("\n")}function Wt(t){var e=[];for(var r in t){var n=t[r];n!==!1&&e.push("#define "+r+" "+n)}return e.join("\n")}function Yt(t,e,r){for(var n={},i=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES),o=0;o<i;o++){var a=t.getActiveAttrib(e,o),s=a.name;n[s]=t.getAttribLocation(e,s)}return n}function qt(t){return""!==t}function Zt(t,e){return t.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights)}function Kt(t){function e(t,e){var r=Gu[e];if(void 0===r)throw new Error("Can not resolve #include <"+e+">");return Kt(r)}var r=/#include +<([\w\d.]+)>/g;return t.replace(r,e)}function Jt(t){function e(t,e,r,n){for(var i="",o=parseInt(e);o<parseInt(r);o++)i+=n.replace(/\[ i \]/g,"[ "+o+" ]");return i}var r=/for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}/g;return t.replace(r,e)}function Qt(t,e,r,n){var i=t.context,o=r.extensions,a=r.defines,s=r.__webglShader.vertexShader,u=r.__webglShader.fragmentShader,l="SHADOWMAP_TYPE_BASIC";n.shadowMapType===Ei?l="SHADOWMAP_TYPE_PCF":n.shadowMapType===Si&&(l="SHADOWMAP_TYPE_PCF_SOFT");var c="ENVMAP_TYPE_CUBE",h="ENVMAP_MODE_REFLECTION",f="ENVMAP_BLENDING_MULTIPLY";if(n.envMap){switch(r.envMap.mapping){case bo:case wo:c="ENVMAP_TYPE_CUBE";break;case Mo:case Ao:c="ENVMAP_TYPE_CUBE_UV";break;case To:case Eo:c="ENVMAP_TYPE_EQUIREC";break;case So:c="ENVMAP_TYPE_SPHERE"}switch(r.envMap.mapping){case wo:case Eo:h="ENVMAP_MODE_REFRACTION"}switch(r.combine){case ho:f="ENVMAP_BLENDING_MULTIPLY";break;case fo:f="ENVMAP_BLENDING_MIX";break;case po:f="ENVMAP_BLENDING_ADD"}}var d,p,v=t.gammaFactor>0?t.gammaFactor:1,m=Vt(o,n,t.extensions),g=Wt(a),y=i.createProgram();r.isRawShaderMaterial?(d=[g,"\n"].filter(qt).join("\n"),p=[m,g,"\n"].filter(qt).join("\n")):(d=["precision "+n.precision+" float;","precision "+n.precision+" int;","#define SHADER_NAME "+r.__webglShader.name,g,n.supportsVertexTextures?"#define VERTEX_TEXTURES":"","#define GAMMA_FACTOR "+v,"#define MAX_BONES "+n.maxBones,n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+h:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.displacementMap&&n.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.vertexColors?"#define USE_COLOR":"",n.flatShading?"#define FLAT_SHADED":"",n.skinning?"#define USE_SKINNING":"",n.useVertexTexture?"#define BONE_TEXTURE":"",n.morphTargets?"#define USE_MORPHTARGETS":"",n.morphNormals&&n.flatShading===!1?"#define USE_MORPHNORMALS":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"","#define NUM_CLIPPING_PLANES "+n.numClippingPlanes,n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.sizeAttenuation?"#define USE_SIZEATTENUATION":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&t.extensions.get("EXT_frag_depth")?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_COLOR","\tattribute vec3 color;","#endif","#ifdef USE_MORPHTARGETS","\tattribute vec3 morphTarget0;","\tattribute vec3 morphTarget1;","\tattribute vec3 morphTarget2;","\tattribute vec3 morphTarget3;","\t#ifdef USE_MORPHNORMALS","\t\tattribute vec3 morphNormal0;","\t\tattribute vec3 morphNormal1;","\t\tattribute vec3 morphNormal2;","\t\tattribute vec3 morphNormal3;","\t#else","\t\tattribute vec3 morphTarget4;","\t\tattribute vec3 morphTarget5;","\t\tattribute vec3 morphTarget6;","\t\tattribute vec3 morphTarget7;","\t#endif","#endif","#ifdef USE_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;","#endif","\n"].filter(qt).join("\n"),
p=[m,"precision "+n.precision+" float;","precision "+n.precision+" int;","#define SHADER_NAME "+r.__webglShader.name,g,n.alphaTest?"#define ALPHATEST "+n.alphaTest:"","#define GAMMA_FACTOR "+v,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+c:"",n.envMap?"#define "+h:"",n.envMap?"#define "+f:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.vertexColors?"#define USE_COLOR":"",n.flatShading?"#define FLAT_SHADED":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"","#define NUM_CLIPPING_PLANES "+n.numClippingPlanes,"#define UNION_CLIPPING_PLANES "+(n.numClippingPlanes-n.numClipIntersection),n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",n.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&t.extensions.get("EXT_frag_depth")?"#define USE_LOGDEPTHBUF_EXT":"",n.envMap&&t.extensions.get("EXT_shader_texture_lod")?"#define TEXTURE_LOD_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;",n.toneMapping!==vo?"#define TONE_MAPPING":"",n.toneMapping!==vo?Gu.tonemapping_pars_fragment:"",n.toneMapping!==vo?Xt("toneMapping",n.toneMapping):"",n.outputEncoding||n.mapEncoding||n.envMapEncoding||n.emissiveMapEncoding?Gu.encodings_pars_fragment:"",n.mapEncoding?Gt("mapTexelToLinear",n.mapEncoding):"",n.envMapEncoding?Gt("envMapTexelToLinear",n.envMapEncoding):"",n.emissiveMapEncoding?Gt("emissiveMapTexelToLinear",n.emissiveMapEncoding):"",n.outputEncoding?Ht("linearToOutputTexel",n.outputEncoding):"",n.depthPacking?"#define DEPTH_PACKING "+r.depthPacking:"","\n"].filter(qt).join("\n")),s=Kt(s,n),s=Zt(s,n),u=Kt(u,n),u=Zt(u,n),r.isShaderMaterial||(s=Jt(s),u=Jt(u));var _=d+s,x=p+u,b=zt(i,i.VERTEX_SHADER,_),w=zt(i,i.FRAGMENT_SHADER,x);i.attachShader(y,b),i.attachShader(y,w),void 0!==r.index0AttributeName?i.bindAttribLocation(y,0,r.index0AttributeName):n.morphTargets===!0&&i.bindAttribLocation(y,0,"position"),i.linkProgram(y);var T=i.getProgramInfoLog(y),E=i.getShaderInfoLog(b),S=i.getShaderInfoLog(w),M=!0,A=!0;i.getProgramParameter(y,i.LINK_STATUS)===!1?(M=!1,console.error("THREE.WebGLProgram: shader error: ",i.getError(),"gl.VALIDATE_STATUS",i.getProgramParameter(y,i.VALIDATE_STATUS),"gl.getProgramInfoLog",T,E,S)):""!==T?console.warn("THREE.WebGLProgram: gl.getProgramInfoLog()",T):""!==E&&""!==S||(A=!1),A&&(this.diagnostics={runnable:M,material:r,programLog:T,vertexShader:{log:E,prefix:d},fragmentShader:{log:S,prefix:p}}),i.deleteShader(b),i.deleteShader(w);var P;this.getUniforms=function(){return void 0===P&&(P=new V(i,y,t)),P};var C;return this.getAttributes=function(){return void 0===C&&(C=Yt(i,y)),C},this.destroy=function(){i.deleteProgram(y),this.program=void 0},Object.defineProperties(this,{uniforms:{get:function(){return console.warn("THREE.WebGLProgram: .uniforms is now .getUniforms()."),this.getUniforms()}},attributes:{get:function(){return console.warn("THREE.WebGLProgram: .attributes is now .getAttributes()."),this.getAttributes()}}}),this.id=Zu++,this.code=e,this.usedTimes=1,this.program=y,this.vertexShader=b,this.fragmentShader=w,this}function $t(t,e){function r(t){if(e.floatVertexTextures&&t&&t.skeleton&&t.skeleton.useVertexTexture)return 1024;var r=e.maxVertexUniforms,n=Math.floor((r-20)/4),i=n;return void 0!==t&&t&&t.isSkinnedMesh&&(i=Math.min(t.skeleton.bones.length,i),i<t.skeleton.bones.length&&console.warn("WebGLRenderer: too many bones - "+t.skeleton.bones.length+", this GPU supports just "+i+" (try OpenGL instead of ANGLE)")),i}function n(t,e){var r;return t?t&&t.isTexture?r=t.encoding:t&&t.isWebGLRenderTarget&&(console.warn("THREE.WebGLPrograms.getTextureEncodingFromMap: don't use render targets as textures. Use their .texture property instead."),r=t.texture.encoding):r=Aa,r===Aa&&e&&(r=Ca),r}var i=[],o={MeshDepthMaterial:"depth",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points"},a=["precision","supportsVertexTextures","map","mapEncoding","envMap","envMapMode","envMapEncoding","lightMap","aoMap","emissiveMap","emissiveMapEncoding","bumpMap","normalMap","displacementMap","specularMap","roughnessMap","metalnessMap","alphaMap","combine","vertexColors","fog","useFog","fogExp","flatShading","sizeAttenuation","logarithmicDepthBuffer","skinning","maxBones","useVertexTexture","morphTargets","morphNormals","maxMorphTargets","maxMorphNormals","premultipliedAlpha","numDirLights","numPointLights","numSpotLights","numHemiLights","shadowMapEnabled","shadowMapType","toneMapping","physicallyCorrectLights","alphaTest","doubleSided","flipSided","numClippingPlanes","numClipIntersection","depthPacking"];this.getParameters=function(i,a,s,u,l,c){var h=o[i.type],f=r(c),d=t.getPrecision();null!==i.precision&&(d=e.getMaxPrecision(i.precision),d!==i.precision&&console.warn("THREE.WebGLProgram.getParameters:",i.precision,"not supported, using",d,"instead."));var p=t.getCurrentRenderTarget(),v={shaderID:h,precision:d,supportsVertexTextures:e.vertexTextures,outputEncoding:n(p?p.texture:null,t.gammaOutput),map:!!i.map,mapEncoding:n(i.map,t.gammaInput),envMap:!!i.envMap,envMapMode:i.envMap&&i.envMap.mapping,envMapEncoding:n(i.envMap,t.gammaInput),envMapCubeUV:!!i.envMap&&(i.envMap.mapping===Mo||i.envMap.mapping===Ao),lightMap:!!i.lightMap,aoMap:!!i.aoMap,emissiveMap:!!i.emissiveMap,emissiveMapEncoding:n(i.emissiveMap,t.gammaInput),bumpMap:!!i.bumpMap,normalMap:!!i.normalMap,displacementMap:!!i.displacementMap,roughnessMap:!!i.roughnessMap,metalnessMap:!!i.metalnessMap,specularMap:!!i.specularMap,alphaMap:!!i.alphaMap,combine:i.combine,vertexColors:i.vertexColors,fog:!!s,useFog:i.fog,fogExp:s&&s.isFogExp2,flatShading:i.shading===Ci,sizeAttenuation:i.sizeAttenuation,logarithmicDepthBuffer:e.logarithmicDepthBuffer,skinning:i.skinning,maxBones:f,useVertexTexture:e.floatVertexTextures&&c&&c.skeleton&&c.skeleton.useVertexTexture,morphTargets:i.morphTargets,morphNormals:i.morphNormals,maxMorphTargets:t.maxMorphTargets,maxMorphNormals:t.maxMorphNormals,numDirLights:a.directional.length,numPointLights:a.point.length,numSpotLights:a.spot.length,numHemiLights:a.hemi.length,numClippingPlanes:u,numClipIntersection:l,shadowMapEnabled:t.shadowMap.enabled&&c.receiveShadow&&a.shadows.length>0,shadowMapType:t.shadowMap.type,toneMapping:t.toneMapping,physicallyCorrectLights:t.physicallyCorrectLights,premultipliedAlpha:i.premultipliedAlpha,alphaTest:i.alphaTest,doubleSided:i.side===Pi,flipSided:i.side===Ai,depthPacking:void 0!==i.depthPacking&&i.depthPacking};return v},this.getProgramCode=function(t,e){var r=[];if(e.shaderID?r.push(e.shaderID):(r.push(t.fragmentShader),r.push(t.vertexShader)),void 0!==t.defines)for(var n in t.defines)r.push(n),r.push(t.defines[n]);for(var i=0;i<a.length;i++)r.push(e[a[i]]);return r.join()},this.acquireProgram=function(e,r,n){for(var o,a=0,s=i.length;a<s;a++){var u=i[a];if(u.code===n){o=u,++o.usedTimes;break}}return void 0===o&&(o=new Qt(t,n,e,r),i.push(o)),o},this.releaseProgram=function(t){if(0===--t.usedTimes){var e=i.indexOf(t);i[e]=i[i.length-1],i.pop(),t.destroy()}},this.programs=i}function te(t,e,r){function n(t){var i=t.target,s=u[i.id];null!==s.index&&o(s.index),a(s.attributes),i.removeEventListener("dispose",n),delete u[i.id];var l=e.get(i);l.wireframe&&o(l.wireframe),e.delete(i);var c=e.get(s);c.wireframe&&o(c.wireframe),e.delete(s),r.memory.geometries--}function i(t){return t.isInterleavedBufferAttribute?e.get(t.data).__webglBuffer:e.get(t).__webglBuffer}function o(e){var r=i(e);void 0!==r&&(t.deleteBuffer(r),s(e))}function a(t){for(var e in t)o(t[e])}function s(t){t.isInterleavedBufferAttribute?e.delete(t.data):e.delete(t)}var u={};return{get:function(t){var e=t.geometry;if(void 0!==u[e.id])return u[e.id];e.addEventListener("dispose",n);var i;return e.isBufferGeometry?i=e:e.isGeometry&&(void 0===e._bufferGeometry&&(e._bufferGeometry=(new Ct).setFromObject(t)),i=e._bufferGeometry),u[e.id]=i,r.memory.geometries++,i}}}function ee(t,e,r){function n(e){var r=l.get(e);e.geometry.isGeometry&&r.updateFromObject(e);var n=r.index,o=r.attributes;null!==n&&i(n,t.ELEMENT_ARRAY_BUFFER);for(var a in o)i(o[a],t.ARRAY_BUFFER);var s=r.morphAttributes;for(var a in s)for(var u=s[a],c=0,h=u.length;c<h;c++)i(u[c],t.ARRAY_BUFFER);return r}function i(t,r){var n=t.isInterleavedBufferAttribute?t.data:t,i=e.get(n);void 0===i.__webglBuffer?o(i,n,r):i.version!==n.version&&a(i,n,r)}function o(e,r,n){e.__webglBuffer=t.createBuffer(),t.bindBuffer(n,e.__webglBuffer);var i=r.dynamic?t.DYNAMIC_DRAW:t.STATIC_DRAW;t.bufferData(n,r.array,i),e.version=r.version}function a(e,r,n){t.bindBuffer(n,e.__webglBuffer),r.dynamic===!1?t.bufferData(n,r.array,t.STATIC_DRAW):r.updateRange.count===-1?t.bufferSubData(n,0,r.array):0===r.updateRange.count?console.error("THREE.WebGLObjects.updateBuffer: dynamic THREE.BufferAttribute marked as needsUpdate but updateRange.count is 0, ensure you are using set methods or updating manually."):(t.bufferSubData(n,r.updateRange.offset*r.array.BYTES_PER_ELEMENT,r.array.subarray(r.updateRange.offset,r.updateRange.offset+r.updateRange.count)),r.updateRange.count=0),e.version=r.version}function s(t){return t.isInterleavedBufferAttribute?e.get(t.data).__webglBuffer:e.get(t).__webglBuffer}function u(r){var n=e.get(r);if(void 0!==n.wireframe)return n.wireframe;var o=[],a=r.index,s=r.attributes,u=s.position;if(null!==a)for(var l=a.array,c=0,h=l.length;c<h;c+=3){var f=l[c+0],d=l[c+1],p=l[c+2];o.push(f,d,d,p,p,f)}else for(var l=s.position.array,c=0,h=l.length/3-1;c<h;c+=3){var f=c+0,d=c+1,p=c+2;o.push(f,d,d,p,p,f)}var v=u.count>65535?Uint32Array:Uint16Array,m=new vt(new v(o),1);return i(m,t.ELEMENT_ARRAY_BUFFER),n.wireframe=m,m}var l=new te(t,e,r);return{getAttributeBuffer:s,getWireframeAttribute:u,update:n}}function re(t,e,r,n,i,o,a){function s(t,e){if(t.width>e||t.height>e){var r=e/Math.max(t.width,t.height),n=document.createElementNS("http://www.w3.org/1999/xhtml","canvas");n.width=Math.floor(t.width*r),n.height=Math.floor(t.height*r);var i=n.getContext("2d");return i.drawImage(t,0,0,t.width,t.height,0,0,n.width,n.height),console.warn("THREE.WebGLRenderer: image is too big ("+t.width+"x"+t.height+"). Resized to "+n.width+"x"+n.height,t),n}return t}function u(t){return ka.isPowerOfTwo(t.width)&&ka.isPowerOfTwo(t.height)}function l(t){if(t instanceof HTMLImageElement||t instanceof HTMLCanvasElement){var e=document.createElementNS("http://www.w3.org/1999/xhtml","canvas");e.width=ka.nearestPowerOfTwo(t.width),e.height=ka.nearestPowerOfTwo(t.height);var r=e.getContext("2d");return r.drawImage(t,0,0,e.width,e.height),console.warn("THREE.WebGLRenderer: image is not power of two ("+t.width+"x"+t.height+"). Resized to "+e.width+"x"+e.height,t),e}return t}function c(t){return t.wrapS!==Oo||t.wrapT!==Oo||t.minFilter!==Lo&&t.minFilter!==No}function h(e){return e===Lo||e===Io||e===Fo?t.NEAREST:t.LINEAR}function f(t){var e=t.target;e.removeEventListener("dispose",f),p(e),A.textures--}function d(t){var e=t.target;e.removeEventListener("dispose",d),v(e),A.textures--}function p(e){var r=n.get(e);if(e.image&&r.__image__webglTextureCube)t.deleteTexture(r.__image__webglTextureCube);else{if(void 0===r.__webglInit)return;t.deleteTexture(r.__webglTexture)}n.delete(e)}function v(e){var r=n.get(e),i=n.get(e.texture);if(e){if(void 0!==i.__webglTexture&&t.deleteTexture(i.__webglTexture),e.depthTexture&&e.depthTexture.dispose(),e&&e.isWebGLRenderTargetCube)for(var o=0;o<6;o++)t.deleteFramebuffer(r.__webglFramebuffer[o]),r.__webglDepthbuffer&&t.deleteRenderbuffer(r.__webglDepthbuffer[o]);else t.deleteFramebuffer(r.__webglFramebuffer),r.__webglDepthbuffer&&t.deleteRenderbuffer(r.__webglDepthbuffer);n.delete(e.texture),n.delete(e)}}function m(e,i){var o=n.get(e);if(e.version>0&&o.__version!==e.version){var a=e.image;if(void 0===a)console.warn("THREE.WebGLRenderer: Texture marked for update but image is undefined",e);else{if(a.complete!==!1)return void x(o,e,i);console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete",e)}}r.activeTexture(t.TEXTURE0+i),r.bindTexture(t.TEXTURE_2D,o.__webglTexture)}function g(e,a){var l=n.get(e);if(6===e.image.length)if(e.version>0&&l.__version!==e.version){l.__image__webglTextureCube||(e.addEventListener("dispose",f),l.__image__webglTextureCube=t.createTexture(),A.textures++),r.activeTexture(t.TEXTURE0+a),r.bindTexture(t.TEXTURE_CUBE_MAP,l.__image__webglTextureCube),t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,e.flipY);for(var c=e&&e.isCompressedTexture,h=e.image[0]&&e.image[0].isDataTexture,d=[],p=0;p<6;p++)c||h?d[p]=h?e.image[p].image:e.image[p]:d[p]=s(e.image[p],i.maxCubemapSize);var v=d[0],m=u(v),g=o(e.format),y=o(e.type);_(t.TEXTURE_CUBE_MAP,e,m);for(var p=0;p<6;p++)if(c)for(var x,b=d[p].mipmaps,w=0,T=b.length;w<T;w++)x=b[w],e.format!==ta&&e.format!==$o?r.getCompressedTextureFormats().indexOf(g)>-1?r.compressedTexImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+p,w,g,x.width,x.height,0,x.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):r.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+p,w,g,x.width,x.height,0,g,y,x.data);else h?r.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+p,0,g,d[p].width,d[p].height,0,g,y,d[p].data):r.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+p,0,g,g,y,d[p]);e.generateMipmaps&&m&&t.generateMipmap(t.TEXTURE_CUBE_MAP),l.__version=e.version,e.onUpdate&&e.onUpdate(e)}else r.activeTexture(t.TEXTURE0+a),r.bindTexture(t.TEXTURE_CUBE_MAP,l.__image__webglTextureCube)}function y(e,i){r.activeTexture(t.TEXTURE0+i),r.bindTexture(t.TEXTURE_CUBE_MAP,n.get(e).__webglTexture)}function _(r,a,s){var u;if(s?(t.texParameteri(r,t.TEXTURE_WRAP_S,o(a.wrapS)),t.texParameteri(r,t.TEXTURE_WRAP_T,o(a.wrapT)),t.texParameteri(r,t.TEXTURE_MAG_FILTER,o(a.magFilter)),t.texParameteri(r,t.TEXTURE_MIN_FILTER,o(a.minFilter))):(t.texParameteri(r,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(r,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),a.wrapS===Oo&&a.wrapT===Oo||console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping.",a),t.texParameteri(r,t.TEXTURE_MAG_FILTER,h(a.magFilter)),t.texParameteri(r,t.TEXTURE_MIN_FILTER,h(a.minFilter)),a.minFilter!==Lo&&a.minFilter!==No&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.",a)),u=e.get("EXT_texture_filter_anisotropic")){if(a.type===Wo&&null===e.get("OES_texture_float_linear"))return;if(a.type===Yo&&null===e.get("OES_texture_half_float_linear"))return;(a.anisotropy>1||n.get(a).__currentAnisotropy)&&(t.texParameterf(r,u.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(a.anisotropy,i.getMaxAnisotropy())),n.get(a).__currentAnisotropy=a.anisotropy)}}function x(e,n,a){void 0===e.__webglInit&&(e.__webglInit=!0,n.addEventListener("dispose",f),e.__webglTexture=t.createTexture(),A.textures++),r.activeTexture(t.TEXTURE0+a),r.bindTexture(t.TEXTURE_2D,e.__webglTexture),t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,n.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,n.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,n.unpackAlignment);var h=s(n.image,i.maxTextureSize);c(n)&&u(h)===!1&&(h=l(h));var d=u(h),p=o(n.format),v=o(n.type);_(t.TEXTURE_2D,n,d);var m,g=n.mipmaps;if(n&&n.isDepthTexture){var y=t.DEPTH_COMPONENT;if(n.type===Wo){if(!P)throw new Error("Float Depth Texture only supported in WebGL2.0");y=t.DEPTH_COMPONENT32F}else P&&(y=t.DEPTH_COMPONENT16);n.format===oa&&(y=t.DEPTH_STENCIL),r.texImage2D(t.TEXTURE_2D,0,y,h.width,h.height,0,p,v,null)}else if(n&&n.isDataTexture)if(g.length>0&&d){for(var x=0,b=g.length;x<b;x++)m=g[x],r.texImage2D(t.TEXTURE_2D,x,p,m.width,m.height,0,p,v,m.data);n.generateMipmaps=!1}else r.texImage2D(t.TEXTURE_2D,0,p,h.width,h.height,0,p,v,h.data);else if(n&&n.isCompressedTexture)for(var x=0,b=g.length;x<b;x++)m=g[x],n.format!==ta&&n.format!==$o?r.getCompressedTextureFormats().indexOf(p)>-1?r.compressedTexImage2D(t.TEXTURE_2D,x,p,m.width,m.height,0,m.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):r.texImage2D(t.TEXTURE_2D,x,p,m.width,m.height,0,p,v,m.data);else if(g.length>0&&d){for(var x=0,b=g.length;x<b;x++)m=g[x],r.texImage2D(t.TEXTURE_2D,x,p,p,v,m);n.generateMipmaps=!1}else r.texImage2D(t.TEXTURE_2D,0,p,p,v,h);n.generateMipmaps&&d&&t.generateMipmap(t.TEXTURE_2D),e.__version=n.version,n.onUpdate&&n.onUpdate(n)}function b(e,i,a,s){var u=o(i.texture.format),l=o(i.texture.type);r.texImage2D(s,0,u,i.width,i.height,0,u,l,null),t.bindFramebuffer(t.FRAMEBUFFER,e),t.framebufferTexture2D(t.FRAMEBUFFER,a,s,n.get(i.texture).__webglTexture,0),t.bindFramebuffer(t.FRAMEBUFFER,null)}function w(e,r){t.bindRenderbuffer(t.RENDERBUFFER,e),r.depthBuffer&&!r.stencilBuffer?(t.renderbufferStorage(t.RENDERBUFFER,t.DEPTH_COMPONENT16,r.width,r.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.RENDERBUFFER,e)):r.depthBuffer&&r.stencilBuffer?(t.renderbufferStorage(t.RENDERBUFFER,t.DEPTH_STENCIL,r.width,r.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.RENDERBUFFER,e)):t.renderbufferStorage(t.RENDERBUFFER,t.RGBA4,r.width,r.height),t.bindRenderbuffer(t.RENDERBUFFER,null)}function T(e,r){var i=r&&r.isWebGLRenderTargetCube;if(i)throw new Error("Depth Texture with cube render targets is not supported!");if(t.bindFramebuffer(t.FRAMEBUFFER,e),!r.depthTexture||!r.depthTexture.isDepthTexture)throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");n.get(r.depthTexture).__webglTexture&&r.depthTexture.image.width===r.width&&r.depthTexture.image.height===r.height||(r.depthTexture.image.width=r.width,r.depthTexture.image.height=r.height,r.depthTexture.needsUpdate=!0),m(r.depthTexture,0);var o=n.get(r.depthTexture).__webglTexture;if(r.depthTexture.format===ia)t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,o,0);else{if(r.depthTexture.format!==oa)throw new Error("Unknown depthTexture format");t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,o,0)}}function E(e){var r=n.get(e),i=e&&e.isWebGLRenderTargetCube;if(e.depthTexture){if(i)throw new Error("target.depthTexture not supported in Cube render targets");T(r.__webglFramebuffer,e)}else if(i){r.__webglDepthbuffer=[];for(var o=0;o<6;o++)t.bindFramebuffer(t.FRAMEBUFFER,r.__webglFramebuffer[o]),r.__webglDepthbuffer[o]=t.createRenderbuffer(),w(r.__webglDepthbuffer[o],e)}else t.bindFramebuffer(t.FRAMEBUFFER,r.__webglFramebuffer),r.__webglDepthbuffer=t.createRenderbuffer(),w(r.__webglDepthbuffer,e);t.bindFramebuffer(t.FRAMEBUFFER,null)}function S(e){var i=n.get(e),o=n.get(e.texture);e.addEventListener("dispose",d),o.__webglTexture=t.createTexture(),A.textures++;var a=e&&e.isWebGLRenderTargetCube,s=u(e);if(a){i.__webglFramebuffer=[];for(var l=0;l<6;l++)i.__webglFramebuffer[l]=t.createFramebuffer()}else i.__webglFramebuffer=t.createFramebuffer();if(a){r.bindTexture(t.TEXTURE_CUBE_MAP,o.__webglTexture),_(t.TEXTURE_CUBE_MAP,e.texture,s);for(var l=0;l<6;l++)b(i.__webglFramebuffer[l],e,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+l);e.texture.generateMipmaps&&s&&t.generateMipmap(t.TEXTURE_CUBE_MAP),r.bindTexture(t.TEXTURE_CUBE_MAP,null)}else r.bindTexture(t.TEXTURE_2D,o.__webglTexture),_(t.TEXTURE_2D,e.texture,s),b(i.__webglFramebuffer,e,t.COLOR_ATTACHMENT0,t.TEXTURE_2D),e.texture.generateMipmaps&&s&&t.generateMipmap(t.TEXTURE_2D),r.bindTexture(t.TEXTURE_2D,null);e.depthBuffer&&E(e)}function M(e){var i=e.texture;if(i.generateMipmaps&&u(e)&&i.minFilter!==Lo&&i.minFilter!==No){var o=e&&e.isWebGLRenderTargetCube?t.TEXTURE_CUBE_MAP:t.TEXTURE_2D,a=n.get(i).__webglTexture;r.bindTexture(o,a),t.generateMipmap(o),r.bindTexture(o,null)}}var A=a.memory,P="undefined"!=typeof WebGL2RenderingContext&&t instanceof WebGL2RenderingContext;this.setTexture2D=m,this.setTextureCube=g,this.setTextureCubeDynamic=y,this.setupRenderTarget=S,this.updateRenderTargetMipmap=M}function ne(){var t={};return{get:function(e){var r=e.uuid,n=t[r];return void 0===n&&(n={},t[r]=n),n},delete:function(e){delete t[e.uuid]},clear:function(){t={}}}}function ie(t,e,r){function n(){var e=!1,r=new o,n=null,i=new o;return{setMask:function(r){n===r||e||(t.colorMask(r,r,r,r),n=r)},setLocked:function(t){e=t},setClear:function(e,n,o,a){r.set(e,n,o,a),i.equals(r)===!1&&(t.clearColor(e,n,o,a),i.copy(r))},reset:function(){e=!1,n=null,i.set(0,0,0,1)}}}function i(){var e=!1,r=null,n=null,i=null;return{setTest:function(e){e?d(t.DEPTH_TEST):p(t.DEPTH_TEST)},setMask:function(n){r===n||e||(t.depthMask(n),r=n)},setFunc:function(e){if(n!==e){if(e)switch(e){case no:t.depthFunc(t.NEVER);break;case io:t.depthFunc(t.ALWAYS);break;case oo:t.depthFunc(t.LESS);break;case ao:t.depthFunc(t.LEQUAL);break;case so:t.depthFunc(t.EQUAL);break;case uo:t.depthFunc(t.GEQUAL);break;case lo:t.depthFunc(t.GREATER);break;case co:t.depthFunc(t.NOTEQUAL);break;default:t.depthFunc(t.LEQUAL)}else t.depthFunc(t.LEQUAL);n=e}},setLocked:function(t){e=t},setClear:function(e){i!==e&&(t.clearDepth(e),i=e)},reset:function(){e=!1,r=null,n=null,i=null}}}function a(){var e=!1,r=null,n=null,i=null,o=null,a=null,s=null,u=null,l=null;return{setTest:function(e){e?d(t.STENCIL_TEST):p(t.STENCIL_TEST)},setMask:function(n){r===n||e||(t.stencilMask(n),r=n)},setFunc:function(e,r,a){n===e&&i===r&&o===a||(t.stencilFunc(e,r,a),n=e,i=r,o=a)},setOp:function(e,r,n){a===e&&s===r&&u===n||(t.stencilOp(e,r,n),a=e,s=r,u=n)},setLocked:function(t){e=t},setClear:function(e){l!==e&&(t.clearStencil(e),l=e)},reset:function(){e=!1,r=null,n=null,i=null,o=null,a=null,s=null,u=null,l=null}}}function s(e,r,n){var i=new Uint8Array(4),o=t.createTexture();t.bindTexture(e,o),t.texParameteri(e,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(e,t.TEXTURE_MAG_FILTER,t.NEAREST);for(var a=0;a<n;a++)t.texImage2D(r+a,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,i);return o}function u(){F(0,0,0,1),N(1),k(0),d(t.DEPTH_TEST),x(ao),S(!1),M(yi),d(t.CULL_FACE),d(t.BLEND),m(Fi)}function l(){for(var t=0,e=V.length;t<e;t++)V[t]=0}function c(r){if(V[r]=1,0===W[r]&&(t.enableVertexAttribArray(r),W[r]=1),0!==Y[r]){var n=e.get("ANGLE_instanced_arrays");n.vertexAttribDivisorANGLE(r,0),Y[r]=0}}function h(e,r,n){V[e]=1,0===W[e]&&(t.enableVertexAttribArray(e),W[e]=1),Y[e]!==r&&(n.vertexAttribDivisorANGLE(e,r),Y[e]=r)}function f(){for(var e=0,r=W.length;e!==r;++e)W[e]!==V[e]&&(t.disableVertexAttribArray(e),W[e]=0)}function d(e){q[e]!==!0&&(t.enable(e),q[e]=!0)}function p(e){q[e]!==!1&&(t.disable(e),q[e]=!1)}function v(){if(null===Z&&(Z=[],e.get("WEBGL_compressed_texture_pvrtc")||e.get("WEBGL_compressed_texture_s3tc")||e.get("WEBGL_compressed_texture_etc1")))for(var r=t.getParameter(t.COMPRESSED_TEXTURE_FORMATS),n=0;n<r.length;n++)Z.push(r[n]);return Z}function m(e,n,i,o,a,s,u,l){e!==Ii?d(t.BLEND):p(t.BLEND),e===K&&l===nt||(e===Ni?l?(t.blendEquationSeparate(t.FUNC_ADD,t.FUNC_ADD),t.blendFuncSeparate(t.ONE,t.ONE,t.ONE,t.ONE)):(t.blendEquation(t.FUNC_ADD),t.blendFunc(t.SRC_ALPHA,t.ONE)):e===ki?l?(t.blendEquationSeparate(t.FUNC_ADD,t.FUNC_ADD),t.blendFuncSeparate(t.ZERO,t.ZERO,t.ONE_MINUS_SRC_COLOR,t.ONE_MINUS_SRC_ALPHA)):(t.blendEquation(t.FUNC_ADD),t.blendFunc(t.ZERO,t.ONE_MINUS_SRC_COLOR)):e===Ui?l?(t.blendEquationSeparate(t.FUNC_ADD,t.FUNC_ADD),t.blendFuncSeparate(t.ZERO,t.SRC_COLOR,t.ZERO,t.SRC_ALPHA)):(t.blendEquation(t.FUNC_ADD),t.blendFunc(t.ZERO,t.SRC_COLOR)):l?(t.blendEquationSeparate(t.FUNC_ADD,t.FUNC_ADD),t.blendFuncSeparate(t.ONE,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA)):(t.blendEquationSeparate(t.FUNC_ADD,t.FUNC_ADD),t.blendFuncSeparate(t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA)),K=e,nt=l),e===Bi?(a=a||n,s=s||i,u=u||o,n===J&&a===tt||(t.blendEquationSeparate(r(n),r(a)),J=n,tt=a),i===Q&&o===$&&s===et&&u===rt||(t.blendFuncSeparate(r(i),r(o),r(s),r(u)),Q=i,$=o,et=s,rt=u)):(J=null,Q=null,$=null,tt=null,et=null,rt=null)}function g(t){j.setMask(t)}function y(t){G.setTest(t)}function _(t){G.setMask(t)}function x(t){G.setFunc(t)}function b(t){H.setTest(t)}function w(t){H.setMask(t)}function T(t,e,r){H.setFunc(t,e,r)}function E(t,e,r){H.setOp(t,e,r)}function S(e){it!==e&&(e?t.frontFace(t.CW):t.frontFace(t.CCW),it=e)}function M(e){e!==gi?(d(t.CULL_FACE),e!==ot&&(e===yi?t.cullFace(t.BACK):e===_i?t.cullFace(t.FRONT):t.cullFace(t.FRONT_AND_BACK))):p(t.CULL_FACE),ot=e}function A(e){e!==at&&(t.lineWidth(e),at=e)}function P(e,r,n){e?(d(t.POLYGON_OFFSET_FILL),st===r&&ut===n||(t.polygonOffset(r,n),st=r,ut=n)):p(t.POLYGON_OFFSET_FILL)}function C(){return lt}function O(e){lt=e,e?d(t.SCISSOR_TEST):p(t.SCISSOR_TEST)}function R(e){void 0===e&&(e=t.TEXTURE0+ct-1),ht!==e&&(t.activeTexture(e),ht=e)}function D(e,r){null===ht&&R();var n=ft[ht];void 0===n&&(n={type:void 0,texture:void 0},ft[ht]=n),n.type===e&&n.texture===r||(t.bindTexture(e,r||vt[e]),n.type=e,n.texture=r)}function L(){try{t.compressedTexImage2D.apply(t,arguments)}catch(t){console.error(t)}}function I(){try{t.texImage2D.apply(t,arguments)}catch(t){console.error(t)}}function F(t,e,r,n){j.setClear(t,e,r,n)}function N(t){G.setClear(t)}function k(t){H.setClear(t)}function U(e){dt.equals(e)===!1&&(t.scissor(e.x,e.y,e.z,e.w),dt.copy(e))}function B(e){pt.equals(e)===!1&&(t.viewport(e.x,e.y,e.z,e.w),pt.copy(e))}function z(){for(var e=0;e<W.length;e++)1===W[e]&&(t.disableVertexAttribArray(e),W[e]=0);q={},Z=null,ht=null,ft={},K=null,it=null,ot=null,j.reset(),G.reset(),H.reset()}var j=new n,G=new i,H=new a,X=t.getParameter(t.MAX_VERTEX_ATTRIBS),V=new Uint8Array(X),W=new Uint8Array(X),Y=new Uint8Array(X),q={},Z=null,K=null,J=null,Q=null,$=null,tt=null,et=null,rt=null,nt=!1,it=null,ot=null,at=null,st=null,ut=null,lt=null,ct=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),ht=null,ft={},dt=new o,pt=new o,vt={};return vt[t.TEXTURE_2D]=s(t.TEXTURE_2D,t.TEXTURE_2D,1),vt[t.TEXTURE_CUBE_MAP]=s(t.TEXTURE_CUBE_MAP,t.TEXTURE_CUBE_MAP_POSITIVE_X,6),{buffers:{color:j,depth:G,stencil:H},init:u,initAttributes:l,enableAttribute:c,enableAttributeAndDivisor:h,disableUnusedAttributes:f,enable:d,disable:p,getCompressedTextureFormats:v,setBlending:m,setColorWrite:g,setDepthTest:y,setDepthWrite:_,setDepthFunc:x,setStencilTest:b,setStencilWrite:w,setStencilFunc:T,setStencilOp:E,setFlipSided:S,setCullFace:M,setLineWidth:A,setPolygonOffset:P,getScissorTest:C,setScissorTest:O,activeTexture:R,bindTexture:D,compressedTexImage2D:L,texImage2D:I,clearColor:F,clearDepth:N,clearStencil:k,scissor:U,viewport:B,reset:z}}function oe(t,e,r){function n(){if(void 0!==o)return o;var r=e.get("EXT_texture_filter_anisotropic");return o=null!==r?t.getParameter(r.MAX_TEXTURE_MAX_ANISOTROPY_EXT):0}function i(e){if("highp"===e){if(t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.HIGH_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT).precision>0)return"highp";e="mediump"}return"mediump"===e&&t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.MEDIUM_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}var o,a=void 0!==r.precision?r.precision:"highp",s=i(a);s!==a&&(console.warn("THREE.WebGLRenderer:",a,"not supported, using",s,"instead."),a=s);var u=r.logarithmicDepthBuffer===!0&&!!e.get("EXT_frag_depth"),l=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),c=t.getParameter(t.MAX_VERTEX_TEXTURE_IMAGE_UNITS),h=t.getParameter(t.MAX_TEXTURE_SIZE),f=t.getParameter(t.MAX_CUBE_MAP_TEXTURE_SIZE),d=t.getParameter(t.MAX_VERTEX_ATTRIBS),p=t.getParameter(t.MAX_VERTEX_UNIFORM_VECTORS),v=t.getParameter(t.MAX_VARYING_VECTORS),m=t.getParameter(t.MAX_FRAGMENT_UNIFORM_VECTORS),g=c>0,y=!!e.get("OES_texture_float"),_=g&&y;return{getMaxAnisotropy:n,getMaxPrecision:i,precision:a,logarithmicDepthBuffer:u,maxTextures:l,maxVertexTextures:c,maxTextureSize:h,maxCubemapSize:f,maxAttributes:d,maxVertexUniforms:p,maxVaryings:v,maxFragmentUniforms:m,vertexTextures:g,floatFragmentTextures:y,floatVertexTextures:_}}function ae(t){var e={};return{get:function(r){if(void 0!==e[r])return e[r];var n;switch(r){case"WEBGL_depth_texture":n=t.getExtension("WEBGL_depth_texture")||t.getExtension("MOZ_WEBGL_depth_texture")||t.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":n=t.getExtension("EXT_texture_filter_anisotropic")||t.getExtension("MOZ_EXT_texture_filter_anisotropic")||t.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":n=t.getExtension("WEBGL_compressed_texture_s3tc")||t.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":n=t.getExtension("WEBGL_compressed_texture_pvrtc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;case"WEBGL_compressed_texture_etc1":n=t.getExtension("WEBGL_compressed_texture_etc1");break;default:n=t.getExtension(r)}return null===n&&console.warn("THREE.WebGLRenderer: "+r+" extension not supported."),e[r]=n,n}}}function se(){function t(){l.value!==n&&(l.value=n,l.needsUpdate=i>0),r.numPlanes=i,r.numIntersection=0}function e(t,e,n,i){var o=null!==t?t.length:0,a=null;if(0!==o){if(a=l.value,i!==!0||null===a){var c=n+4*o,h=e.matrixWorldInverse;u.getNormalMatrix(h),(null===a||a.length<c)&&(a=new Float32Array(c));for(var f=0,d=n;f!==o;++f,d+=4)s.copy(t[f]).applyMatrix4(h,u),s.normal.toArray(a,d),a[d+3]=s.constant}l.value=a,l.needsUpdate=!0}return r.numPlanes=o,a}var r=this,n=null,i=0,o=!1,a=!1,s=new nt,u=new rt,l={value:null,needsUpdate:!1};this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(t,r,a){var s=0!==t.length||r||0!==i||o;return o=r,n=e(t,a,0),i=t.length,s},this.beginShadows=function(){a=!0,e(null)},this.endShadows=function(){a=!1,t()},this.setState=function(r,s,u,c,h,f){if(!o||null===r||0===r.length||a&&!u)a?e(null):t();else{var d=a?0:i,p=4*d,v=h.clippingState||null;l.value=v,v=e(r,c,p,f);for(var m=0;m!==p;++m)v[m]=n[m];h.clippingState=v,this.numIntersection=s?this.numPlanes:0,this.numPlanes+=d}}}function ue(t){function e(){return null===ht?St:1}function r(t,e,r,n){Y===!0&&(t*=n,e*=n,r*=n),Jt.clearColor(t,e,r,n)}function n(){Jt.init(),Jt.scissor(gt.copy(Mt).multiplyScalar(St)),Jt.viewport(_t.copy(Pt).multiplyScalar(St)),r(bt.r,bt.g,bt.b,wt)}function i(){ct=null,mt=null,vt="",dt=-1,Jt.reset()}function a(t){t.preventDefault(),i(),n(),Qt.clear()}function s(t){var e=t.target;e.removeEventListener("dispose",s),u(e)}function u(t){h(t),Qt.delete(t)}function h(t){var e=Qt.get(t).program;t.program=void 0,void 0!==e&&le.releaseProgram(e)}function f(t,e,r,n){var i;if(r&&r.isInstancedBufferGeometry&&(i=Zt.get("ANGLE_instanced_arrays"),null===i))return void console.error("THREE.WebGLRenderer.setupVertexAttributes: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");void 0===n&&(n=0),Jt.initAttributes();var o=r.attributes,a=e.getAttributes(),s=t.defaultAttributeValues;for(var u in a){var l=a[u];if(l>=0){var c=o[u];if(void 0!==c){var h=Yt.FLOAT,f=c.array,d=c.normalized;f instanceof Float32Array?h=Yt.FLOAT:f instanceof Float64Array?console.warn("Unsupported data buffer format: Float64Array"):f instanceof Uint16Array?h=Yt.UNSIGNED_SHORT:f instanceof Int16Array?h=Yt.SHORT:f instanceof Uint32Array?h=Yt.UNSIGNED_INT:f instanceof Int32Array?h=Yt.INT:f instanceof Int8Array?h=Yt.BYTE:f instanceof Uint8Array&&(h=Yt.UNSIGNED_BYTE);var p=c.itemSize,v=ue.getAttributeBuffer(c);if(c.isInterleavedBufferAttribute){
var m=c.data,g=m.stride,y=c.offset;m&&m.isInstancedInterleavedBuffer?(Jt.enableAttributeAndDivisor(l,m.meshPerAttribute,i),void 0===r.maxInstancedCount&&(r.maxInstancedCount=m.meshPerAttribute*m.count)):Jt.enableAttribute(l),Yt.bindBuffer(Yt.ARRAY_BUFFER,v),Yt.vertexAttribPointer(l,p,h,d,g*m.array.BYTES_PER_ELEMENT,(n*g+y)*m.array.BYTES_PER_ELEMENT)}else c.isInstancedBufferAttribute?(Jt.enableAttributeAndDivisor(l,c.meshPerAttribute,i),void 0===r.maxInstancedCount&&(r.maxInstancedCount=c.meshPerAttribute*c.count)):Jt.enableAttribute(l),Yt.bindBuffer(Yt.ARRAY_BUFFER,v),Yt.vertexAttribPointer(l,p,h,d,0,n*p*c.array.BYTES_PER_ELEMENT)}else if(void 0!==s){var _=s[u];if(void 0!==_)switch(_.length){case 2:Yt.vertexAttrib2fv(l,_);break;case 3:Yt.vertexAttrib3fv(l,_);break;case 4:Yt.vertexAttrib4fv(l,_);break;default:Yt.vertexAttrib1fv(l,_)}}}}Jt.disableUnusedAttributes()}function d(t,e){return Math.abs(e[0])-Math.abs(t[0])}function p(t,e){return t.object.renderOrder!==e.object.renderOrder?t.object.renderOrder-e.object.renderOrder:t.material.program&&e.material.program&&t.material.program!==e.material.program?t.material.program.id-e.material.program.id:t.material.id!==e.material.id?t.material.id-e.material.id:t.z!==e.z?t.z-e.z:t.id-e.id}function v(t,e){return t.object.renderOrder!==e.object.renderOrder?t.object.renderOrder-e.object.renderOrder:t.z!==e.z?e.z-t.z:t.id-e.id}function m(t,e,r,n,i){var o,a;r.transparent?(o=rt,a=++nt):(o=$,a=++tt);var s=o[a];void 0!==s?(s.id=t.id,s.object=t,s.geometry=e,s.material=r,s.z=Xt.z,s.group=i):(s={id:t.id,object:t,geometry:e,material:r,z:Xt.z,group:i},o.push(s))}function g(t){var e=t.geometry;return null===e.boundingSphere&&e.computeBoundingSphere(),Gt.copy(e.boundingSphere).applyMatrix4(t.matrixWorld),_(Gt)}function y(t){return Gt.center.set(0,0,0),Gt.radius=.7071067811865476,Gt.applyMatrix4(t.matrixWorld),_(Gt)}function _(t){if(!Lt.intersectsSphere(t))return!1;var e=Bt.numPlanes;if(0===e)return!0;var r=lt.clippingPlanes,n=t.center,i=-t.radius,o=0;do if(r[o].distanceToPoint(n)<i)return!1;while(++o!==e);return!0}function x(t,e){if(t.visible!==!1){var r=0!==(t.layers.mask&e.layers.mask);if(r)if(t.isLight)J.push(t);else if(t.isSprite)t.frustumCulled!==!1&&y(t)!==!0||st.push(t);else if(t.isLensFlare)ut.push(t);else if(t.isImmediateRenderObject)lt.sortObjects===!0&&(Xt.setFromMatrixPosition(t.matrixWorld),Xt.applyProjection(Ht)),m(t,null,t.material,Xt.z,null);else if((t.isMesh||t.isLine||t.isPoints)&&(t.isSkinnedMesh&&t.skeleton.update(),t.frustumCulled===!1||g(t)===!0)){var n=t.material;if(n.visible===!0){lt.sortObjects===!0&&(Xt.setFromMatrixPosition(t.matrixWorld),Xt.applyProjection(Ht));var i=ue.update(t);if(n.isMultiMaterial)for(var o=i.groups,a=n.materials,s=0,u=o.length;s<u;s++){var l=o[s],c=a[l.materialIndex];c.visible===!0&&m(t,i,c,Xt.z,l)}else m(t,i,n,Xt.z,null)}}for(var h=t.children,s=0,u=h.length;s<u;s++)x(h[s],e)}}function b(t,e,r,n){for(var i=0,o=t.length;i<o;i++){var a=t[i],s=a.object,u=a.geometry,l=void 0===n?a.material:n,c=a.group;if(s.modelViewMatrix.multiplyMatrices(r.matrixWorldInverse,s.matrixWorld),s.normalMatrix.getNormalMatrix(s.modelViewMatrix),s.onBeforeRender(lt,e,r,u,l,c),s.isImmediateRenderObject){T(l);var h=E(r,e.fog,l,s);vt="",s.render(function(t){lt.renderBufferImmediate(t,h,l)})}else lt.renderBufferDirect(r,e.fog,u,l,s,c);s.onAfterRender(lt,e,r,u,l,c)}}function w(t,e,r){var n=Qt.get(t),i=le.getParameters(t,Vt,e,Bt.numPlanes,Bt.numIntersection,r),o=le.getProgramCode(t,i),a=n.program,u=!0;if(void 0===a)t.addEventListener("dispose",s);else if(a.code!==o)h(t);else{if(void 0!==i.shaderID)return;u=!1}if(u){if(i.shaderID){var l=Vu[i.shaderID];n.__webglShader={name:t.type,uniforms:Xa.clone(l.uniforms),vertexShader:l.vertexShader,fragmentShader:l.fragmentShader}}else n.__webglShader={name:t.type,uniforms:t.uniforms,vertexShader:t.vertexShader,fragmentShader:t.fragmentShader};t.__webglShader=n.__webglShader,a=le.acquireProgram(t,i,o),n.program=a,t.program=a}var c=a.getAttributes();if(t.morphTargets){t.numSupportedMorphTargets=0;for(var f=0;f<lt.maxMorphTargets;f++)c["morphTarget"+f]>=0&&t.numSupportedMorphTargets++}if(t.morphNormals){t.numSupportedMorphNormals=0;for(var f=0;f<lt.maxMorphNormals;f++)c["morphNormal"+f]>=0&&t.numSupportedMorphNormals++}var d=n.__webglShader.uniforms;(t.isShaderMaterial||t.isRawShaderMaterial)&&t.clipping!==!0||(n.numClippingPlanes=Bt.numPlanes,n.numIntersection=Bt.numIntersection,d.clippingPlanes=Bt.uniform),n.fog=e,n.lightsHash=Vt.hash,t.lights&&(d.ambientLightColor.value=Vt.ambient,d.directionalLights.value=Vt.directional,d.spotLights.value=Vt.spot,d.pointLights.value=Vt.point,d.hemisphereLights.value=Vt.hemi,d.directionalShadowMap.value=Vt.directionalShadowMap,d.directionalShadowMatrix.value=Vt.directionalShadowMatrix,d.spotShadowMap.value=Vt.spotShadowMap,d.spotShadowMatrix.value=Vt.spotShadowMatrix,d.pointShadowMap.value=Vt.pointShadowMap,d.pointShadowMatrix.value=Vt.pointShadowMatrix);var p=n.program.getUniforms(),v=V.seqWithValue(p.seq,d);n.uniformsList=v}function T(t){t.side===Pi?Jt.disable(Yt.CULL_FACE):Jt.enable(Yt.CULL_FACE),Jt.setFlipSided(t.side===Ai),t.transparent===!0?Jt.setBlending(t.blending,t.blendEquation,t.blendSrc,t.blendDst,t.blendEquationAlpha,t.blendSrcAlpha,t.blendDstAlpha,t.premultipliedAlpha):Jt.setBlending(Ii),Jt.setDepthFunc(t.depthFunc),Jt.setDepthTest(t.depthTest),Jt.setDepthWrite(t.depthWrite),Jt.setColorWrite(t.colorWrite),Jt.setPolygonOffset(t.polygonOffset,t.polygonOffsetFactor,t.polygonOffsetUnits)}function E(t,e,r,n){xt=0;var i=Qt.get(r);if(zt&&(jt||t!==mt)){var o=t===mt&&r.id===dt;Bt.setState(r.clippingPlanes,r.clipIntersection,r.clipShadows,t,i,o)}r.needsUpdate===!1&&(void 0===i.program?r.needsUpdate=!0:r.fog&&i.fog!==e?r.needsUpdate=!0:r.lights&&i.lightsHash!==Vt.hash?r.needsUpdate=!0:void 0===i.numClippingPlanes||i.numClippingPlanes===Bt.numPlanes&&i.numIntersection===Bt.numIntersection||(r.needsUpdate=!0)),r.needsUpdate&&(w(r,e,n),r.needsUpdate=!1);var a=!1,s=!1,u=!1,l=i.program,c=l.getUniforms(),h=i.__webglShader.uniforms;if(l.id!==ct&&(Yt.useProgram(l.program),ct=l.id,a=!0,s=!0,u=!0),r.id!==dt&&(dt=r.id,s=!0),a||t!==mt){if(c.set(Yt,t,"projectionMatrix"),Kt.logarithmicDepthBuffer&&c.setValue(Yt,"logDepthBufFC",2/(Math.log(t.far+1)/Math.LN2)),t!==mt&&(mt=t,s=!0,u=!0),r.isShaderMaterial||r.isMeshPhongMaterial||r.isMeshStandardMaterial||r.envMap){var f=c.map.cameraPosition;void 0!==f&&f.setValue(Yt,Xt.setFromMatrixPosition(t.matrixWorld))}(r.isMeshPhongMaterial||r.isMeshLambertMaterial||r.isMeshBasicMaterial||r.isMeshStandardMaterial||r.isShaderMaterial||r.skinning)&&c.setValue(Yt,"viewMatrix",t.matrixWorldInverse),c.set(Yt,lt,"toneMappingExposure"),c.set(Yt,lt,"toneMappingWhitePoint")}if(r.skinning){c.setOptional(Yt,n,"bindMatrix"),c.setOptional(Yt,n,"bindMatrixInverse");var d=n.skeleton;d&&(Kt.floatVertexTextures&&d.useVertexTexture?(c.set(Yt,d,"boneTexture"),c.set(Yt,d,"boneTextureWidth"),c.set(Yt,d,"boneTextureHeight")):c.setOptional(Yt,d,"boneMatrices"))}return s&&(r.lights&&I(h,u),e&&r.fog&&C(h,e),(r.isMeshBasicMaterial||r.isMeshLambertMaterial||r.isMeshPhongMaterial||r.isMeshStandardMaterial||r.isMeshDepthMaterial)&&S(h,r),r.isLineBasicMaterial?M(h,r):r.isLineDashedMaterial?(M(h,r),A(h,r)):r.isPointsMaterial?P(h,r):r.isMeshLambertMaterial?O(h,r):r.isMeshPhongMaterial?R(h,r):r.isMeshPhysicalMaterial?L(h,r):r.isMeshStandardMaterial?D(h,r):r.isMeshDepthMaterial?r.displacementMap&&(h.displacementMap.value=r.displacementMap,h.displacementScale.value=r.displacementScale,h.displacementBias.value=r.displacementBias):r.isMeshNormalMaterial&&(h.opacity.value=r.opacity),V.upload(Yt,i.uniformsList,h,lt)),c.set(Yt,n,"modelViewMatrix"),c.set(Yt,n,"normalMatrix"),c.setValue(Yt,"modelMatrix",n.matrixWorld),l}function S(t,e){t.opacity.value=e.opacity,t.diffuse.value=e.color,e.emissive&&t.emissive.value.copy(e.emissive).multiplyScalar(e.emissiveIntensity),t.map.value=e.map,t.specularMap.value=e.specularMap,t.alphaMap.value=e.alphaMap,e.aoMap&&(t.aoMap.value=e.aoMap,t.aoMapIntensity.value=e.aoMapIntensity);var r;if(e.map?r=e.map:e.specularMap?r=e.specularMap:e.displacementMap?r=e.displacementMap:e.normalMap?r=e.normalMap:e.bumpMap?r=e.bumpMap:e.roughnessMap?r=e.roughnessMap:e.metalnessMap?r=e.metalnessMap:e.alphaMap?r=e.alphaMap:e.emissiveMap&&(r=e.emissiveMap),void 0!==r){r.isWebGLRenderTarget&&(r=r.texture);var n=r.offset,i=r.repeat;t.offsetRepeat.value.set(n.x,n.y,i.x,i.y)}t.envMap.value=e.envMap,t.flipEnvMap.value=e.envMap&&e.envMap.isCubeTexture?-1:1,t.reflectivity.value=e.reflectivity,t.refractionRatio.value=e.refractionRatio}function M(t,e){t.diffuse.value=e.color,t.opacity.value=e.opacity}function A(t,e){t.dashSize.value=e.dashSize,t.totalSize.value=e.dashSize+e.gapSize,t.scale.value=e.scale}function P(t,e){if(t.diffuse.value=e.color,t.opacity.value=e.opacity,t.size.value=e.size*St,t.scale.value=.5*Et,t.map.value=e.map,null!==e.map){var r=e.map.offset,n=e.map.repeat;t.offsetRepeat.value.set(r.x,r.y,n.x,n.y)}}function C(t,e){t.fogColor.value=e.color,e.isFog?(t.fogNear.value=e.near,t.fogFar.value=e.far):e.isFogExp2&&(t.fogDensity.value=e.density)}function O(t,e){e.lightMap&&(t.lightMap.value=e.lightMap,t.lightMapIntensity.value=e.lightMapIntensity),e.emissiveMap&&(t.emissiveMap.value=e.emissiveMap)}function R(t,e){t.specular.value=e.specular,t.shininess.value=Math.max(e.shininess,1e-4),e.lightMap&&(t.lightMap.value=e.lightMap,t.lightMapIntensity.value=e.lightMapIntensity),e.emissiveMap&&(t.emissiveMap.value=e.emissiveMap),e.bumpMap&&(t.bumpMap.value=e.bumpMap,t.bumpScale.value=e.bumpScale),e.normalMap&&(t.normalMap.value=e.normalMap,t.normalScale.value.copy(e.normalScale)),e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias)}function D(t,e){t.roughness.value=e.roughness,t.metalness.value=e.metalness,e.roughnessMap&&(t.roughnessMap.value=e.roughnessMap),e.metalnessMap&&(t.metalnessMap.value=e.metalnessMap),e.lightMap&&(t.lightMap.value=e.lightMap,t.lightMapIntensity.value=e.lightMapIntensity),e.emissiveMap&&(t.emissiveMap.value=e.emissiveMap),e.bumpMap&&(t.bumpMap.value=e.bumpMap,t.bumpScale.value=e.bumpScale),e.normalMap&&(t.normalMap.value=e.normalMap,t.normalScale.value.copy(e.normalScale)),e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias),e.envMap&&(t.envMapIntensity.value=e.envMapIntensity)}function L(t,e){t.clearCoat.value=e.clearCoat,t.clearCoatRoughness.value=e.clearCoatRoughness,D(t,e)}function I(t,e){t.ambientLightColor.needsUpdate=e,t.directionalLights.needsUpdate=e,t.pointLights.needsUpdate=e,t.spotLights.needsUpdate=e,t.hemisphereLights.needsUpdate=e}function F(t){for(var e=0,r=0,n=t.length;r<n;r++){var i=t[r];i.castShadow&&(Vt.shadows[e++]=i)}Vt.shadows.length=e}function N(t,e){var r,n,i,o,a,s,u,l=0,h=0,f=0,d=e.matrixWorldInverse,p=0,v=0,m=0,g=0;for(r=0,n=t.length;r<n;r++)if(i=t[r],o=i.color,a=i.intensity,s=i.distance,u=i.shadow&&i.shadow.map?i.shadow.map.texture:null,i.isAmbientLight)l+=o.r*a,h+=o.g*a,f+=o.b*a;else if(i.isDirectionalLight){var y=ce.get(i);y.color.copy(i.color).multiplyScalar(i.intensity),y.direction.setFromMatrixPosition(i.matrixWorld),Xt.setFromMatrixPosition(i.target.matrixWorld),y.direction.sub(Xt),y.direction.transformDirection(d),y.shadow=i.castShadow,i.castShadow&&(y.shadowBias=i.shadow.bias,y.shadowRadius=i.shadow.radius,y.shadowMapSize=i.shadow.mapSize),Vt.directionalShadowMap[p]=u,Vt.directionalShadowMatrix[p]=i.shadow.matrix,Vt.directional[p++]=y}else if(i.isSpotLight){var y=ce.get(i);y.position.setFromMatrixPosition(i.matrixWorld),y.position.applyMatrix4(d),y.color.copy(o).multiplyScalar(a),y.distance=s,y.direction.setFromMatrixPosition(i.matrixWorld),Xt.setFromMatrixPosition(i.target.matrixWorld),y.direction.sub(Xt),y.direction.transformDirection(d),y.coneCos=Math.cos(i.angle),y.penumbraCos=Math.cos(i.angle*(1-i.penumbra)),y.decay=0===i.distance?0:i.decay,y.shadow=i.castShadow,i.castShadow&&(y.shadowBias=i.shadow.bias,y.shadowRadius=i.shadow.radius,y.shadowMapSize=i.shadow.mapSize),Vt.spotShadowMap[m]=u,Vt.spotShadowMatrix[m]=i.shadow.matrix,Vt.spot[m++]=y}else if(i.isPointLight){var y=ce.get(i);y.position.setFromMatrixPosition(i.matrixWorld),y.position.applyMatrix4(d),y.color.copy(i.color).multiplyScalar(i.intensity),y.distance=i.distance,y.decay=0===i.distance?0:i.decay,y.shadow=i.castShadow,i.castShadow&&(y.shadowBias=i.shadow.bias,y.shadowRadius=i.shadow.radius,y.shadowMapSize=i.shadow.mapSize),Vt.pointShadowMap[v]=u,void 0===Vt.pointShadowMatrix[v]&&(Vt.pointShadowMatrix[v]=new c),Xt.setFromMatrixPosition(i.matrixWorld).negate(),Vt.pointShadowMatrix[v].identity().setPosition(Xt),Vt.point[v++]=y}else if(i.isHemisphereLight){var y=ce.get(i);y.direction.setFromMatrixPosition(i.matrixWorld),y.direction.transformDirection(d),y.direction.normalize(),y.skyColor.copy(i.color).multiplyScalar(a),y.groundColor.copy(i.groundColor).multiplyScalar(a),Vt.hemi[g++]=y}Vt.ambient[0]=l,Vt.ambient[1]=h,Vt.ambient[2]=f,Vt.directional.length=p,Vt.spot.length=m,Vt.point.length=v,Vt.hemi.length=g,Vt.hash=p+","+v+","+m+","+g+","+Vt.shadows.length}function k(){var t=xt;return t>=Kt.maxTextures&&console.warn("WebGLRenderer: trying to use "+t+" texture units while this GPU supports only "+Kt.maxTextures),xt+=1,t}function U(t){var e;if(t===Co)return Yt.REPEAT;if(t===Oo)return Yt.CLAMP_TO_EDGE;if(t===Ro)return Yt.MIRRORED_REPEAT;if(t===Lo)return Yt.NEAREST;if(t===Io)return Yt.NEAREST_MIPMAP_NEAREST;if(t===Fo)return Yt.NEAREST_MIPMAP_LINEAR;if(t===No)return Yt.LINEAR;if(t===ko)return Yt.LINEAR_MIPMAP_NEAREST;if(t===Uo)return Yt.LINEAR_MIPMAP_LINEAR;if(t===zo)return Yt.UNSIGNED_BYTE;if(t===qo)return Yt.UNSIGNED_SHORT_4_4_4_4;if(t===Zo)return Yt.UNSIGNED_SHORT_5_5_5_1;if(t===Ko)return Yt.UNSIGNED_SHORT_5_6_5;if(t===jo)return Yt.BYTE;if(t===Go)return Yt.SHORT;if(t===Ho)return Yt.UNSIGNED_SHORT;if(t===Xo)return Yt.INT;if(t===Vo)return Yt.UNSIGNED_INT;if(t===Wo)return Yt.FLOAT;if(t===Yo&&(e=Zt.get("OES_texture_half_float"),null!==e))return e.HALF_FLOAT_OES;if(t===Qo)return Yt.ALPHA;if(t===$o)return Yt.RGB;if(t===ta)return Yt.RGBA;if(t===ea)return Yt.LUMINANCE;if(t===ra)return Yt.LUMINANCE_ALPHA;if(t===ia)return Yt.DEPTH_COMPONENT;if(t===oa)return Yt.DEPTH_STENCIL;if(t===ji)return Yt.FUNC_ADD;if(t===Gi)return Yt.FUNC_SUBTRACT;if(t===Hi)return Yt.FUNC_REVERSE_SUBTRACT;if(t===Wi)return Yt.ZERO;if(t===Yi)return Yt.ONE;if(t===qi)return Yt.SRC_COLOR;if(t===Zi)return Yt.ONE_MINUS_SRC_COLOR;if(t===Ki)return Yt.SRC_ALPHA;if(t===Ji)return Yt.ONE_MINUS_SRC_ALPHA;if(t===Qi)return Yt.DST_ALPHA;if(t===$i)return Yt.ONE_MINUS_DST_ALPHA;if(t===to)return Yt.DST_COLOR;if(t===eo)return Yt.ONE_MINUS_DST_COLOR;if(t===ro)return Yt.SRC_ALPHA_SATURATE;if((t===aa||t===sa||t===ua||t===la)&&(e=Zt.get("WEBGL_compressed_texture_s3tc"),null!==e)){if(t===aa)return e.COMPRESSED_RGB_S3TC_DXT1_EXT;if(t===sa)return e.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(t===ua)return e.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(t===la)return e.COMPRESSED_RGBA_S3TC_DXT5_EXT}if((t===ca||t===ha||t===fa||t===da)&&(e=Zt.get("WEBGL_compressed_texture_pvrtc"),null!==e)){if(t===ca)return e.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(t===ha)return e.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(t===fa)return e.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(t===da)return e.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(t===pa&&(e=Zt.get("WEBGL_compressed_texture_etc1"),null!==e))return e.COMPRESSED_RGB_ETC1_WEBGL;if((t===Xi||t===Vi)&&(e=Zt.get("EXT_blend_minmax"),null!==e)){if(t===Xi)return e.MIN_EXT;if(t===Vi)return e.MAX_EXT}return t===Jo&&(e=Zt.get("WEBGL_depth_texture"),null!==e)?e.UNSIGNED_INT_24_8_WEBGL:0}console.log("THREE.WebGLRenderer",vi),t=t||{};var B=void 0!==t.canvas?t.canvas:document.createElementNS("http://www.w3.org/1999/xhtml","canvas"),z=void 0!==t.context?t.context:null,j=void 0!==t.alpha&&t.alpha,G=void 0===t.depth||t.depth,H=void 0===t.stencil||t.stencil,X=void 0!==t.antialias&&t.antialias,Y=void 0===t.premultipliedAlpha||t.premultipliedAlpha,K=void 0!==t.preserveDrawingBuffer&&t.preserveDrawingBuffer,J=[],$=[],tt=-1,rt=[],nt=-1,at=new Float32Array(8),st=[],ut=[];this.domElement=B,this.context=null,this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.gammaFactor=2,this.gammaInput=!1,this.gammaOutput=!1,this.physicallyCorrectLights=!1,this.toneMapping=mo,this.toneMappingExposure=1,this.toneMappingWhitePoint=1,this.maxMorphTargets=8,this.maxMorphNormals=4;var lt=this,ct=null,ht=null,ft=null,dt=-1,vt="",mt=null,gt=new o,yt=null,_t=new o,xt=0,bt=new W(0),wt=0,Tt=B.width,Et=B.height,St=1,Mt=new o(0,0,Tt,Et),At=!1,Pt=new o(0,0,Tt,Et),Lt=new it,Bt=new se,zt=!1,jt=!1,Gt=new et,Ht=new c,Xt=new l,Vt={hash:"",ambient:[0,0,0],directional:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotShadowMap:[],spotShadowMatrix:[],point:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],shadows:[]},Wt={calls:0,vertices:0,faces:0,points:0};this.info={render:Wt,memory:{geometries:0,textures:0},programs:null};var Yt;try{var qt={alpha:j,depth:G,stencil:H,antialias:X,premultipliedAlpha:Y,preserveDrawingBuffer:K};if(Yt=z||B.getContext("webgl",qt)||B.getContext("experimental-webgl",qt),null===Yt)throw null!==B.getContext("webgl")?"Error creating WebGL context with your selected attributes.":"Error creating WebGL context.";void 0===Yt.getShaderPrecisionFormat&&(Yt.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}}),B.addEventListener("webglcontextlost",a,!1)}catch(t){console.error("THREE.WebGLRenderer: "+t)}var Zt=new ae(Yt);Zt.get("WEBGL_depth_texture"),Zt.get("OES_texture_float"),Zt.get("OES_texture_float_linear"),Zt.get("OES_texture_half_float"),Zt.get("OES_texture_half_float_linear"),Zt.get("OES_standard_derivatives"),Zt.get("ANGLE_instanced_arrays"),Zt.get("OES_element_index_uint")&&(Ct.MaxIndex=4294967296);var Kt=new oe(Yt,Zt,t),Jt=new ie(Yt,Zt,U),Qt=new ne,te=new re(Yt,Zt,Jt,Qt,Kt,U,this.info),ue=new ee(Yt,Qt,this.info),le=new $t(this,Kt),ce=new Ut;this.info.programs=le.programs;var he=new kt(Yt,Zt,Wt),fe=new Nt(Yt,Zt,Wt),de=new Ft(-1,1,1,-1,0,1),pe=new It,ve=new Ot(new Dt(2,2),new pt({depthTest:!1,depthWrite:!1,fog:!1})),me=Vu.cube,ge=new Ot(new Rt(5,5,5),new Q({uniforms:me.uniforms,vertexShader:me.vertexShader,fragmentShader:me.fragmentShader,side:Ai,depthTest:!1,depthWrite:!1,fog:!1}));n(),this.context=Yt,this.capabilities=Kt,this.extensions=Zt,this.properties=Qt,this.state=Jt;var ye=new ot(this,Vt,ue,Kt);this.shadowMap=ye;var _e=new Z(this,st),xe=new q(this,ut);this.getContext=function(){return Yt},this.getContextAttributes=function(){return Yt.getContextAttributes()},this.forceContextLoss=function(){Zt.get("WEBGL_lose_context").loseContext()},this.getMaxAnisotropy=function(){return Kt.getMaxAnisotropy()},this.getPrecision=function(){return Kt.precision},this.getPixelRatio=function(){return St},this.setPixelRatio=function(t){void 0!==t&&(St=t,this.setSize(Pt.z,Pt.w,!1))},this.getSize=function(){return{width:Tt,height:Et}},this.setSize=function(t,e,r){Tt=t,Et=e,B.width=t*St,B.height=e*St,r!==!1&&(B.style.width=t+"px",B.style.height=e+"px"),this.setViewport(0,0,t,e)},this.setViewport=function(t,e,r,n){Jt.viewport(Pt.set(t,e,r,n))},this.setScissor=function(t,e,r,n){Jt.scissor(Mt.set(t,e,r,n))},this.setScissorTest=function(t){Jt.setScissorTest(At=t)},this.getClearColor=function(){return bt},this.setClearColor=function(t,e){bt.set(t),wt=void 0!==e?e:1,r(bt.r,bt.g,bt.b,wt)},this.getClearAlpha=function(){return wt},this.setClearAlpha=function(t){wt=t,r(bt.r,bt.g,bt.b,wt)},this.clear=function(t,e,r){var n=0;(void 0===t||t)&&(n|=Yt.COLOR_BUFFER_BIT),(void 0===e||e)&&(n|=Yt.DEPTH_BUFFER_BIT),(void 0===r||r)&&(n|=Yt.STENCIL_BUFFER_BIT),Yt.clear(n)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.clearTarget=function(t,e,r,n){this.setRenderTarget(t),this.clear(e,r,n)},this.resetGLState=i,this.dispose=function(){rt=[],nt=-1,$=[],tt=-1,B.removeEventListener("webglcontextlost",a,!1)},this.renderBufferImmediate=function(t,e,r){Jt.initAttributes();var n=Qt.get(t);t.hasPositions&&!n.position&&(n.position=Yt.createBuffer()),t.hasNormals&&!n.normal&&(n.normal=Yt.createBuffer()),t.hasUvs&&!n.uv&&(n.uv=Yt.createBuffer()),t.hasColors&&!n.color&&(n.color=Yt.createBuffer());var i=e.getAttributes();if(t.hasPositions&&(Yt.bindBuffer(Yt.ARRAY_BUFFER,n.position),Yt.bufferData(Yt.ARRAY_BUFFER,t.positionArray,Yt.DYNAMIC_DRAW),Jt.enableAttribute(i.position),Yt.vertexAttribPointer(i.position,3,Yt.FLOAT,!1,0,0)),t.hasNormals){if(Yt.bindBuffer(Yt.ARRAY_BUFFER,n.normal),!r.isMeshPhongMaterial&&!r.isMeshStandardMaterial&&r.shading===Ci)for(var o=0,a=3*t.count;o<a;o+=9){var s=t.normalArray,u=(s[o+0]+s[o+3]+s[o+6])/3,l=(s[o+1]+s[o+4]+s[o+7])/3,c=(s[o+2]+s[o+5]+s[o+8])/3;s[o+0]=u,s[o+1]=l,s[o+2]=c,s[o+3]=u,s[o+4]=l,s[o+5]=c,s[o+6]=u,s[o+7]=l,s[o+8]=c}Yt.bufferData(Yt.ARRAY_BUFFER,t.normalArray,Yt.DYNAMIC_DRAW),Jt.enableAttribute(i.normal),Yt.vertexAttribPointer(i.normal,3,Yt.FLOAT,!1,0,0)}t.hasUvs&&r.map&&(Yt.bindBuffer(Yt.ARRAY_BUFFER,n.uv),Yt.bufferData(Yt.ARRAY_BUFFER,t.uvArray,Yt.DYNAMIC_DRAW),Jt.enableAttribute(i.uv),Yt.vertexAttribPointer(i.uv,2,Yt.FLOAT,!1,0,0)),t.hasColors&&r.vertexColors!==Ri&&(Yt.bindBuffer(Yt.ARRAY_BUFFER,n.color),Yt.bufferData(Yt.ARRAY_BUFFER,t.colorArray,Yt.DYNAMIC_DRAW),Jt.enableAttribute(i.color),Yt.vertexAttribPointer(i.color,3,Yt.FLOAT,!1,0,0)),Jt.disableUnusedAttributes(),Yt.drawArrays(Yt.TRIANGLES,0,t.count),t.count=0},this.renderBufferDirect=function(t,r,n,i,o,a){T(i);var s=E(t,r,i,o),u=!1,l=n.id+"_"+s.id+"_"+i.wireframe;l!==vt&&(vt=l,u=!0);var c=o.morphTargetInfluences;if(void 0!==c){for(var h=[],p=0,v=c.length;p<v;p++){var m=c[p];h.push([m,p])}h.sort(d),h.length>8&&(h.length=8);for(var g=n.morphAttributes,p=0,v=h.length;p<v;p++){var m=h[p];if(at[p]=m[0],0!==m[0]){var y=m[1];i.morphTargets===!0&&g.position&&n.addAttribute("morphTarget"+p,g.position[y]),i.morphNormals===!0&&g.normal&&n.addAttribute("morphNormal"+p,g.normal[y])}else i.morphTargets===!0&&n.removeAttribute("morphTarget"+p),i.morphNormals===!0&&n.removeAttribute("morphNormal"+p)}for(var p=h.length,_=at.length;p<_;p++)at[p]=0;s.getUniforms().setValue(Yt,"morphTargetInfluences",at),u=!0}var y=n.index,x=n.attributes.position,b=1;i.wireframe===!0&&(y=ue.getWireframeAttribute(n),b=2);var w;null!==y?(w=fe,w.setIndex(y)):w=he,u&&(f(i,s,n),null!==y&&Yt.bindBuffer(Yt.ELEMENT_ARRAY_BUFFER,ue.getAttributeBuffer(y)));var S=0;null!==y?S=y.count:void 0!==x&&(S=x.count);var M=n.drawRange.start*b,A=n.drawRange.count*b,P=null!==a?a.start*b:0,C=null!==a?a.count*b:1/0,O=Math.max(M,P),R=Math.min(S,M+A,P+C)-1,D=Math.max(0,R-O+1);if(0!==D){if(o.isMesh)if(i.wireframe===!0)Jt.setLineWidth(i.wireframeLinewidth*e()),w.setMode(Yt.LINES);else switch(o.drawMode){case Ea:w.setMode(Yt.TRIANGLES);break;case Sa:w.setMode(Yt.TRIANGLE_STRIP);break;case Ma:w.setMode(Yt.TRIANGLE_FAN)}else if(o.isLine){var L=i.linewidth;void 0===L&&(L=1),Jt.setLineWidth(L*e()),o.isLineSegments?w.setMode(Yt.LINES):w.setMode(Yt.LINE_STRIP)}else o.isPoints&&w.setMode(Yt.POINTS);n&&n.isInstancedBufferGeometry?n.maxInstancedCount>0&&w.renderInstances(n,O,D):w.render(O,D)}},this.render=function(t,e,n,i){if(void 0!==e&&e.isCamera!==!0)return void console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");vt="",dt=-1,mt=null,t.autoUpdate===!0&&t.updateMatrixWorld(),null===e.parent&&e.updateMatrixWorld(),e.matrixWorldInverse.getInverse(e.matrixWorld),Ht.multiplyMatrices(e.projectionMatrix,e.matrixWorldInverse),Lt.setFromMatrix(Ht),J.length=0,tt=-1,nt=-1,st.length=0,ut.length=0,jt=this.localClippingEnabled,zt=Bt.init(this.clippingPlanes,jt,e),x(t,e),$.length=tt+1,rt.length=nt+1,lt.sortObjects===!0&&($.sort(p),rt.sort(v)),zt&&Bt.beginShadows(),F(J),ye.render(t,e),N(J,e),zt&&Bt.endShadows(),Wt.calls=0,Wt.vertices=0,Wt.faces=0,Wt.points=0,void 0===n&&(n=null),this.setRenderTarget(n);var o=t.background;if(null===o?r(bt.r,bt.g,bt.b,wt):o&&o.isColor&&(r(o.r,o.g,o.b,1),i=!0),(this.autoClear||i)&&this.clear(this.autoClearColor,this.autoClearDepth,this.autoClearStencil),o&&o.isCubeTexture?(pe.projectionMatrix.copy(e.projectionMatrix),pe.matrixWorld.extractRotation(e.matrixWorld),pe.matrixWorldInverse.getInverse(pe.matrixWorld),ge.material.uniforms.tCube.value=o,ge.modelViewMatrix.multiplyMatrices(pe.matrixWorldInverse,ge.matrixWorld),ue.update(ge),lt.renderBufferDirect(pe,null,ge.geometry,ge.material,ge,null)):o&&o.isTexture&&(ve.material.map=o,ue.update(ve),lt.renderBufferDirect(de,null,ve.geometry,ve.material,ve,null)),t.overrideMaterial){var a=t.overrideMaterial;b($,t,e,a),b(rt,t,e,a)}else Jt.setBlending(Ii),b($,t,e),b(rt,t,e);_e.render(t,e),xe.render(t,e,_t),n&&te.updateRenderTargetMipmap(n),Jt.setDepthTest(!0),Jt.setDepthWrite(!0),Jt.setColorWrite(!0)},this.setFaceCulling=function(t,e){Jt.setCullFace(t),Jt.setFlipSided(e===bi)},this.allocTextureUnit=k,this.setTexture2D=function(){var t=!1;return function(e,r){e&&e.isWebGLRenderTarget&&(t||(console.warn("THREE.WebGLRenderer.setTexture2D: don't use render targets as textures. Use their .texture property instead."),t=!0),e=e.texture),te.setTexture2D(e,r)}}(),this.setTexture=function(){var t=!1;return function(e,r){t||(console.warn("THREE.WebGLRenderer: .setTexture is deprecated, use setTexture2D instead."),t=!0),te.setTexture2D(e,r)}}(),this.setTextureCube=function(){var t=!1;return function(e,r){e&&e.isWebGLRenderTargetCube&&(t||(console.warn("THREE.WebGLRenderer.setTextureCube: don't use cube render targets as textures. Use their .texture property instead."),t=!0),e=e.texture),e&&e.isCubeTexture||Array.isArray(e.image)&&6===e.image.length?te.setTextureCube(e,r):te.setTextureCubeDynamic(e,r)}}(),this.getCurrentRenderTarget=function(){return ht},this.setRenderTarget=function(t){ht=t,t&&void 0===Qt.get(t).__webglFramebuffer&&te.setupRenderTarget(t);var e,r=t&&t.isWebGLRenderTargetCube;if(t){var n=Qt.get(t);e=r?n.__webglFramebuffer[t.activeCubeFace]:n.__webglFramebuffer,gt.copy(t.scissor),yt=t.scissorTest,_t.copy(t.viewport)}else e=null,gt.copy(Mt).multiplyScalar(St),yt=At,_t.copy(Pt).multiplyScalar(St);if(ft!==e&&(Yt.bindFramebuffer(Yt.FRAMEBUFFER,e),ft=e),Jt.scissor(gt),Jt.setScissorTest(yt),Jt.viewport(_t),r){var i=Qt.get(t.texture);Yt.framebufferTexture2D(Yt.FRAMEBUFFER,Yt.COLOR_ATTACHMENT0,Yt.TEXTURE_CUBE_MAP_POSITIVE_X+t.activeCubeFace,i.__webglTexture,t.activeMipMapLevel)}},this.readRenderTargetPixels=function(t,e,r,n,i,o){if((t&&t.isWebGLRenderTarget)===!1)return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");var a=Qt.get(t).__webglFramebuffer;if(a){var s=!1;a!==ft&&(Yt.bindFramebuffer(Yt.FRAMEBUFFER,a),s=!0);try{var u=t.texture,l=u.format,c=u.type;if(l!==ta&&U(l)!==Yt.getParameter(Yt.IMPLEMENTATION_COLOR_READ_FORMAT))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");if(!(c===zo||U(c)===Yt.getParameter(Yt.IMPLEMENTATION_COLOR_READ_TYPE)||c===Wo&&(Zt.get("OES_texture_float")||Zt.get("WEBGL_color_buffer_float"))||c===Yo&&Zt.get("EXT_color_buffer_half_float")))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");Yt.checkFramebufferStatus(Yt.FRAMEBUFFER)===Yt.FRAMEBUFFER_COMPLETE?e>=0&&e<=t.width-n&&r>=0&&r<=t.height-i&&Yt.readPixels(e,r,n,i,U(l),U(c),o):console.error("THREE.WebGLRenderer.readRenderTargetPixels: readPixels from renderTarget failed. Framebuffer not complete.")}finally{s&&Yt.bindFramebuffer(Yt.FRAMEBUFFER,ft)}}}}function le(t,e){this.name="",this.color=new W(t),this.density=void 0!==e?e:25e-5}function ce(t,e,r){this.name="",this.color=new W(t),this.near=void 0!==e?e:1,this.far=void 0!==r?r:1e3}function he(){lt.call(this),this.type="Scene",this.background=null,this.fog=null,this.overrideMaterial=null,this.autoUpdate=!0}function fe(t,e,r,n,i){lt.call(this),this.lensFlares=[],this.positionScreen=new l,this.customUpdateCallback=void 0,void 0!==t&&this.add(t,e,r,n,i)}function de(t){K.call(this),this.type="SpriteMaterial",this.color=new W(16777215),this.map=null,this.rotation=0,this.fog=!1,this.lights=!1,this.setValues(t)}function pe(t){lt.call(this),this.type="Sprite",this.material=void 0!==t?t:new de}function ve(){lt.call(this),this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]}})}function me(t,e,r,i,o,a,s,u,l,c,h,f){n.call(this,null,a,s,u,l,c,i,o,h,f),this.image={data:t,width:e,height:r},this.magFilter=void 0!==l?l:Lo,this.minFilter=void 0!==c?c:Lo,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}function ge(t,e,r){if(this.useVertexTexture=void 0===r||r,this.identityMatrix=new c,t=t||[],this.bones=t.slice(0),this.useVertexTexture){var n=Math.sqrt(4*this.bones.length);n=ka.nextPowerOfTwo(Math.ceil(n)),n=Math.max(n,4),this.boneTextureWidth=n,this.boneTextureHeight=n,this.boneMatrices=new Float32Array(this.boneTextureWidth*this.boneTextureHeight*4),this.boneTexture=new me(this.boneMatrices,this.boneTextureWidth,this.boneTextureHeight,ta,Wo)}else this.boneMatrices=new Float32Array(16*this.bones.length);if(void 0===e)this.calculateInverses();else if(this.bones.length===e.length)this.boneInverses=e.slice(0);else{console.warn("THREE.Skeleton bonInverses is the wrong length."),this.boneInverses=[];for(var i=0,o=this.bones.length;i<o;i++)this.boneInverses.push(new c)}}function ye(t){lt.call(this),this.type="Bone",this.skin=t}function _e(t,e,r){Ot.call(this,t,e),this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new c,this.bindMatrixInverse=new c;var n=[];if(this.geometry&&void 0!==this.geometry.bones){for(var i,o,a=0,s=this.geometry.bones.length;a<s;++a)o=this.geometry.bones[a],i=new ye(this),n.push(i),i.name=o.name,i.position.fromArray(o.pos),i.quaternion.fromArray(o.rotq),void 0!==o.scl&&i.scale.fromArray(o.scl);for(var a=0,s=this.geometry.bones.length;a<s;++a)o=this.geometry.bones[a],o.parent!==-1&&null!==o.parent&&void 0!==n[o.parent]?n[o.parent].add(n[a]):this.add(n[a])}this.normalizeSkinWeights(),this.updateMatrixWorld(!0),this.bind(new ge(n,void 0,r),this.matrixWorld)}function xe(t){K.call(this),this.type="LineBasicMaterial",this.color=new W(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.lights=!1,this.setValues(t)}function be(t,e,r){return 1===r?(console.warn("THREE.Line: parameter THREE.LinePieces no longer supported. Created THREE.LineSegments instead."),new we(t,e)):(lt.call(this),this.type="Line",this.geometry=void 0!==t?t:new Ct,void(this.material=void 0!==e?e:new xe({color:16777215*Math.random()})))}function we(t,e){be.call(this,t,e),this.type="LineSegments"}function Te(t){K.call(this),this.type="PointsMaterial",this.color=new W(16777215),this.map=null,this.size=1,this.sizeAttenuation=!0,this.lights=!1,this.setValues(t)}function Ee(t,e){lt.call(this),this.type="Points",this.geometry=void 0!==t?t:new Ct,this.material=void 0!==e?e:new Te({color:16777215*Math.random()})}function Se(){lt.call(this),this.type="Group"}function Me(t,e,r,i,o,a,s,u,l){function c(){requestAnimationFrame(c),t.readyState>=t.HAVE_CURRENT_DATA&&(h.needsUpdate=!0)}n.call(this,t,e,r,i,o,a,s,u,l),this.generateMipmaps=!1;var h=this;c()}function Ae(t,e,r,i,o,a,s,u,l,c,h,f){n.call(this,null,a,s,u,l,c,i,o,h,f),this.image={width:e,height:r},this.mipmaps=t,this.flipY=!1,this.generateMipmaps=!1}function Pe(t,e,r,i,o,a,s,u,l){n.call(this,t,e,r,i,o,a,s,u,l),this.needsUpdate=!0}function Ce(t,e,r,i,o,a,s,u,l,c){if(c=void 0!==c?c:ia,c!==ia&&c!==oa)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");n.call(this,null,i,o,a,s,u,c,r,l),this.image={width:t,height:e},this.type=void 0!==r?r:Ho,this.magFilter=void 0!==s?s:Lo,
this.minFilter=void 0!==u?u:Lo,this.flipY=!1,this.generateMipmaps=!1}function Oe(t){function e(t,e){return t-e}Ct.call(this);var r=[0,0],n={},i=["a","b","c"];if(t&&t.isGeometry){for(var o=t.vertices,a=t.faces,s=0,u=new Uint32Array(6*a.length),l=0,c=a.length;l<c;l++)for(var h=a[l],f=0;f<3;f++){r[0]=h[i[f]],r[1]=h[i[(f+1)%3]],r.sort(e);var d=r.toString();void 0===n[d]&&(u[2*s]=r[0],u[2*s+1]=r[1],n[d]=!0,s++)}for(var p=new Float32Array(2*s*3),l=0,c=s;l<c;l++)for(var f=0;f<2;f++){var v=o[u[2*l+f]],m=6*l+3*f;p[m+0]=v.x,p[m+1]=v.y,p[m+2]=v.z}this.addAttribute("position",new vt(p,3))}else if(t&&t.isBufferGeometry)if(null!==t.index){var g=t.index.array,o=t.attributes.position,y=t.groups,s=0;0===y.length&&t.addGroup(0,g.length);for(var u=new Uint32Array(2*g.length),_=0,x=y.length;_<x;++_)for(var b=y[_],w=b.start,T=b.count,l=w,E=w+T;l<E;l+=3)for(var f=0;f<3;f++){r[0]=g[l+f],r[1]=g[l+(f+1)%3],r.sort(e);var d=r.toString();void 0===n[d]&&(u[2*s]=r[0],u[2*s+1]=r[1],n[d]=!0,s++)}for(var p=new Float32Array(2*s*3),l=0,c=s;l<c;l++)for(var f=0;f<2;f++){var m=6*l+3*f,S=u[2*l+f];p[m+0]=o.getX(S),p[m+1]=o.getY(S),p[m+2]=o.getZ(S)}this.addAttribute("position",new vt(p,3))}else{for(var o=t.attributes.position.array,s=o.length/3,M=s/3,p=new Float32Array(2*s*3),l=0,c=M;l<c;l++)for(var f=0;f<3;f++){var m=18*l+6*f,A=9*l+3*f;p[m+0]=o[A],p[m+1]=o[A+1],p[m+2]=o[A+2];var S=9*l+3*((f+1)%3);p[m+3]=o[S],p[m+4]=o[S+1],p[m+5]=o[S+2]}this.addAttribute("position",new vt(p,3))}}function Re(t,e,r){Ct.call(this),this.type="ParametricBufferGeometry",this.parameters={func:t,slices:e,stacks:r};var n,i,o,a,s,u=[],l=[],c=e+1;for(n=0;n<=r;n++)for(s=n/r,i=0;i<=e;i++)a=i/e,o=t(a,s),u.push(o.x,o.y,o.z),l.push(a,s);var h,f,d,p,v=[];for(n=0;n<r;n++)for(i=0;i<e;i++)h=n*c+i,f=n*c+i+1,d=(n+1)*c+i+1,p=(n+1)*c+i,v.push(h,f,p),v.push(f,d,p);this.setIndex((v.length>65535?wt:xt)(v,1)),this.addAttribute("position",Tt(u,3)),this.addAttribute("uv",Tt(l,2)),this.computeVertexNormals()}function De(t,e,r){Mt.call(this),this.type="ParametricGeometry",this.parameters={func:t,slices:e,stacks:r},this.fromBufferGeometry(new Re(t,e,r)),this.mergeVertices()}function Le(t,e,n,i){function o(t){for(var r=new l,n=new l,i=new l,o=0;o<e.length;o+=3)f(e[o+0],r),f(e[o+1],n),f(e[o+2],i),a(r,n,i,t)}function a(t,e,r,n){var i,o,a=Math.pow(2,n),s=[];for(i=0;i<=a;i++){s[i]=[];var u=t.clone().lerp(r,i/a),l=e.clone().lerp(r,i/a),c=a-i;for(o=0;o<=c;o++)0===o&&i===a?s[i][o]=u:s[i][o]=u.clone().lerp(l,o/c)}for(i=0;i<a;i++)for(o=0;o<2*(a-i)-1;o++){var f=Math.floor(o/2);o%2===0?(h(s[i][f+1]),h(s[i+1][f]),h(s[i][f])):(h(s[i][f+1]),h(s[i+1][f+1]),h(s[i+1][f]))}}function s(t){for(var e=new l,r=0;r<g.length;r+=3)e.x=g[r+0],e.y=g[r+1],e.z=g[r+2],e.normalize().multiplyScalar(t),g[r+0]=e.x,g[r+1]=e.y,g[r+2]=e.z}function u(){for(var t=new l,e=0;e<g.length;e+=3){t.x=g[e+0],t.y=g[e+1],t.z=g[e+2];var r=v(t)/2/Math.PI+.5,n=m(t)/Math.PI+.5;y.push(r,1-n)}d(),c()}function c(){for(var t=0;t<y.length;t+=6){var e=y[t+0],r=y[t+2],n=y[t+4],i=Math.max(e,r,n),o=Math.min(e,r,n);i>.9&&o<.1&&(e<.2&&(y[t+0]+=1),r<.2&&(y[t+2]+=1),n<.2&&(y[t+4]+=1))}}function h(t){g.push(t.x,t.y,t.z)}function f(e,r){var n=3*e;r.x=t[n+0],r.y=t[n+1],r.z=t[n+2]}function d(){for(var t=new l,e=new l,n=new l,i=new l,o=new r,a=new r,s=new r,u=0,c=0;u<g.length;u+=9,c+=6){t.set(g[u+0],g[u+1],g[u+2]),e.set(g[u+3],g[u+4],g[u+5]),n.set(g[u+6],g[u+7],g[u+8]),o.set(y[c+0],y[c+1]),a.set(y[c+2],y[c+3]),s.set(y[c+4],y[c+5]),i.copy(t).add(e).add(n).divideScalar(3);var h=v(i);p(o,c+0,t,h),p(a,c+2,e,h),p(s,c+4,n,h)}}function p(t,e,r,n){n<0&&1===t.x&&(y[e]=t.x-1),0===r.x&&0===r.z&&(y[e]=n/2/Math.PI+.5)}function v(t){return Math.atan2(t.z,-t.x)}function m(t){return Math.atan2(-t.y,Math.sqrt(t.x*t.x+t.z*t.z))}Ct.call(this),this.type="PolyhedronBufferGeometry",this.parameters={vertices:t,indices:e,radius:n,detail:i},n=n||1,i=i||0;var g=[],y=[];o(i),s(n),u(),this.addAttribute("position",Tt(g,3)),this.addAttribute("normal",Tt(g.slice(),3)),this.addAttribute("uv",Tt(y,2)),this.normalizeNormals(),this.boundingSphere=new et(new l,n)}function Ie(t,e){var r=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],n=[2,1,0,0,3,2,1,3,0,2,3,1];Le.call(this,r,n,t,e),this.type="TetrahedronBufferGeometry",this.parameters={radius:t,detail:e}}function Fe(t,e){Mt.call(this),this.type="TetrahedronGeometry",this.parameters={radius:t,detail:e},this.fromBufferGeometry(new Ie(t,e)),this.mergeVertices()}function Ne(t,e){var r=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],n=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];Le.call(this,r,n,t,e),this.type="OctahedronBufferGeometry",this.parameters={radius:t,detail:e}}function ke(t,e){Mt.call(this),this.type="OctahedronGeometry",this.parameters={radius:t,detail:e},this.fromBufferGeometry(new Ne(t,e)),this.mergeVertices()}function Ue(t,e){var r=(1+Math.sqrt(5))/2,n=[-1,r,0,1,r,0,-1,-r,0,1,-r,0,0,-1,r,0,1,r,0,-1,-r,0,1,-r,r,0,-1,r,0,1,-r,0,-1,-r,0,1],i=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];Le.call(this,n,i,t,e),this.type="IcosahedronBufferGeometry",this.parameters={radius:t,detail:e}}function Be(t,e){Mt.call(this),this.type="IcosahedronGeometry",this.parameters={radius:t,detail:e},this.fromBufferGeometry(new Ue(t,e)),this.mergeVertices()}function ze(t,e){var r=(1+Math.sqrt(5))/2,n=1/r,i=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-n,-r,0,-n,r,0,n,-r,0,n,r,-n,-r,0,-n,r,0,n,-r,0,n,r,0,-r,0,-n,r,0,-n,-r,0,n,r,0,n],o=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];Le.call(this,i,o,t,e),this.type="DodecahedronBufferGeometry",this.parameters={radius:t,detail:e}}function je(t,e){Mt.call(this),this.type="DodecahedronGeometry",this.parameters={radius:t,detail:e},this.fromBufferGeometry(new ze(t,e)),this.mergeVertices()}function Ge(t,e,r,n){Mt.call(this),this.type="PolyhedronGeometry",this.parameters={vertices:t,indices:e,radius:r,detail:n},this.fromBufferGeometry(new Le(t,e,r,n)),this.mergeVertices()}function He(t,e,n,i,o){function a(){for(f=0;f<e;f++)s(f);s(o===!1?e:0),c(),u()}function s(r){var o=t.getPointAt(r/e),a=h.normals[r],s=h.binormals[r];for(d=0;d<=i;d++){var u=d/i*Math.PI*2,l=Math.sin(u),c=-Math.cos(u);v.x=c*a.x+l*s.x,v.y=c*a.y+l*s.y,v.z=c*a.z+l*s.z,v.normalize(),y.push(v.x,v.y,v.z),p.x=o.x+n*v.x,p.y=o.y+n*v.y,p.z=o.z+n*v.z,g.push(p.x,p.y,p.z)}}function u(){for(d=1;d<=e;d++)for(f=1;f<=i;f++){var t=(i+1)*(d-1)+(f-1),r=(i+1)*d+(f-1),n=(i+1)*d+f,o=(i+1)*(d-1)+f;x.push(t,r,o),x.push(r,n,o)}}function c(){for(f=0;f<=e;f++)for(d=0;d<=i;d++)m.x=f/e,m.y=d/i,_.push(m.x,m.y)}Ct.call(this),this.type="TubeBufferGeometry",this.parameters={path:t,tubularSegments:e,radius:n,radialSegments:i,closed:o},e=e||64,n=n||1,i=i||8,o=o||!1;var h=t.computeFrenetFrames(e,o);this.tangents=h.tangents,this.normals=h.normals,this.binormals=h.binormals;var f,d,p=new l,v=new l,m=new r,g=[],y=[],_=[],x=[];a(),this.setIndex((x.length>65535?wt:xt)(x,1)),this.addAttribute("position",Tt(g,3)),this.addAttribute("normal",Tt(y,3)),this.addAttribute("uv",Tt(_,2))}function Xe(t,e,r,n,i,o){Mt.call(this),this.type="TubeGeometry",this.parameters={path:t,tubularSegments:e,radius:r,radialSegments:n,closed:i},void 0!==o&&console.warn("THREE.TubeGeometry: taper has been removed.");var a=new He(t,e,r,n,i);this.tangents=a.tangents,this.normals=a.normals,this.binormals=a.binormals,this.fromBufferGeometry(a),this.mergeVertices()}function Ve(t,e,n,i,o,a){function s(t,e,r,n,i){var o=Math.cos(t),a=Math.sin(t),s=r/e*t,u=Math.cos(s);i.x=n*(2+u)*.5*o,i.y=n*(2+u)*a*.5,i.z=n*Math.sin(s)*.5}Ct.call(this),this.type="TorusKnotBufferGeometry",this.parameters={radius:t,tube:e,tubularSegments:n,radialSegments:i,p:o,q:a},t=t||100,e=e||40,n=Math.floor(n)||64,i=Math.floor(i)||8,o=o||2,a=a||3;var u,c,h=(i+1)*(n+1),f=i*n*2*3,d=new vt(new(f>65535?Uint32Array:Uint16Array)(f),1),p=new vt(new Float32Array(3*h),3),v=new vt(new Float32Array(3*h),3),m=new vt(new Float32Array(2*h),2),g=0,y=0,_=new l,x=new l,b=new r,w=new l,T=new l,E=new l,S=new l,M=new l;for(u=0;u<=n;++u){var A=u/n*o*Math.PI*2;for(s(A,o,a,t,w),s(A+.01,o,a,t,T),S.subVectors(T,w),M.addVectors(T,w),E.crossVectors(S,M),M.crossVectors(E,S),E.normalize(),M.normalize(),c=0;c<=i;++c){var P=c/i*Math.PI*2,C=-e*Math.cos(P),O=e*Math.sin(P);_.x=w.x+(C*M.x+O*E.x),_.y=w.y+(C*M.y+O*E.y),_.z=w.z+(C*M.z+O*E.z),p.setXYZ(g,_.x,_.y,_.z),x.subVectors(_,w).normalize(),v.setXYZ(g,x.x,x.y,x.z),b.x=u/n,b.y=c/i,m.setXY(g,b.x,b.y),g++}}for(c=1;c<=n;c++)for(u=1;u<=i;u++){var R=(i+1)*(c-1)+(u-1),D=(i+1)*c+(u-1),L=(i+1)*c+u,I=(i+1)*(c-1)+u;d.setX(y,R),y++,d.setX(y,D),y++,d.setX(y,I),y++,d.setX(y,D),y++,d.setX(y,L),y++,d.setX(y,I),y++}this.setIndex(d),this.addAttribute("position",p),this.addAttribute("normal",v),this.addAttribute("uv",m)}function We(t,e,r,n,i,o,a){Mt.call(this),this.type="TorusKnotGeometry",this.parameters={radius:t,tube:e,tubularSegments:r,radialSegments:n,p:i,q:o},void 0!==a&&console.warn("THREE.TorusKnotGeometry: heightScale has been deprecated. Use .scale( x, y, z ) instead."),this.fromBufferGeometry(new Ve(t,e,r,n,i,o)),this.mergeVertices()}function Ye(t,e,r,n,i){Ct.call(this),this.type="TorusBufferGeometry",this.parameters={radius:t,tube:e,radialSegments:r,tubularSegments:n,arc:i},t=t||100,e=e||40,r=Math.floor(r)||8,n=Math.floor(n)||6,i=i||2*Math.PI;var o,a,s=(r+1)*(n+1),u=r*n*2*3,c=new(u>65535?Uint32Array:Uint16Array)(u),h=new Float32Array(3*s),f=new Float32Array(3*s),d=new Float32Array(2*s),p=0,v=0,m=0,g=new l,y=new l,_=new l;for(o=0;o<=r;o++)for(a=0;a<=n;a++){var x=a/n*i,b=o/r*Math.PI*2;y.x=(t+e*Math.cos(b))*Math.cos(x),y.y=(t+e*Math.cos(b))*Math.sin(x),y.z=e*Math.sin(b),h[p]=y.x,h[p+1]=y.y,h[p+2]=y.z,g.x=t*Math.cos(x),g.y=t*Math.sin(x),_.subVectors(y,g).normalize(),f[p]=_.x,f[p+1]=_.y,f[p+2]=_.z,d[v]=a/n,d[v+1]=o/r,p+=3,v+=2}for(o=1;o<=r;o++)for(a=1;a<=n;a++){var w=(n+1)*o+a-1,T=(n+1)*(o-1)+a-1,E=(n+1)*(o-1)+a,S=(n+1)*o+a;c[m]=w,c[m+1]=T,c[m+2]=S,c[m+3]=T,c[m+4]=E,c[m+5]=S,m+=6}this.setIndex(new vt(c,1)),this.addAttribute("position",new vt(h,3)),this.addAttribute("normal",new vt(f,3)),this.addAttribute("uv",new vt(d,2))}function qe(t,e,r,n,i){Mt.call(this),this.type="TorusGeometry",this.parameters={radius:t,tube:e,radialSegments:r,tubularSegments:n,arc:i},this.fromBufferGeometry(new Ye(t,e,r,n,i))}function Ze(t,e){return"undefined"==typeof t?void(t=[]):(Mt.call(this),this.type="ExtrudeGeometry",t=Array.isArray(t)?t:[t],this.addShapeList(t,e),void this.computeFaceNormals())}function Ke(t,e){e=e||{};var r=e.font;if((r&&r.isFont)===!1)return console.error("THREE.TextGeometry: font parameter is not an instance of THREE.Font."),new Mt;var n=r.generateShapes(t,e.size,e.curveSegments);e.amount=void 0!==e.height?e.height:50,void 0===e.bevelThickness&&(e.bevelThickness=10),void 0===e.bevelSize&&(e.bevelSize=8),void 0===e.bevelEnabled&&(e.bevelEnabled=!1),Ze.call(this,n,e),this.type="TextGeometry"}function Je(t,e,r,n,i,o,a){Ct.call(this),this.type="SphereBufferGeometry",this.parameters={radius:t,widthSegments:e,heightSegments:r,phiStart:n,phiLength:i,thetaStart:o,thetaLength:a},t=t||50,e=Math.max(3,Math.floor(e)||8),r=Math.max(2,Math.floor(r)||6),n=void 0!==n?n:0,i=void 0!==i?i:2*Math.PI,o=void 0!==o?o:0,a=void 0!==a?a:Math.PI;for(var s=o+a,u=(e+1)*(r+1),c=new vt(new Float32Array(3*u),3),h=new vt(new Float32Array(3*u),3),f=new vt(new Float32Array(2*u),2),d=0,p=[],v=new l,m=0;m<=r;m++){for(var g=[],y=m/r,_=0;_<=e;_++){var x=_/e,b=-t*Math.cos(n+x*i)*Math.sin(o+y*a),w=t*Math.cos(o+y*a),T=t*Math.sin(n+x*i)*Math.sin(o+y*a);v.set(b,w,T).normalize(),c.setXYZ(d,b,w,T),h.setXYZ(d,v.x,v.y,v.z),f.setXY(d,x,1-y),g.push(d),d++}p.push(g)}for(var E=[],m=0;m<r;m++)for(var _=0;_<e;_++){var S=p[m][_+1],M=p[m][_],A=p[m+1][_],P=p[m+1][_+1];(0!==m||o>0)&&E.push(S,M,P),(m!==r-1||s<Math.PI)&&E.push(M,A,P)}this.setIndex(new(c.count>65535?wt:xt)(E,1)),this.addAttribute("position",c),this.addAttribute("normal",h),this.addAttribute("uv",f),this.boundingSphere=new et(new l,t)}function Qe(t,e,r,n,i,o,a){Mt.call(this),this.type="SphereGeometry",this.parameters={radius:t,widthSegments:e,heightSegments:r,phiStart:n,phiLength:i,thetaStart:o,thetaLength:a},this.fromBufferGeometry(new Je(t,e,r,n,i,o,a))}function $e(t,e,n,i,o,a){Ct.call(this),this.type="RingBufferGeometry",this.parameters={innerRadius:t,outerRadius:e,thetaSegments:n,phiSegments:i,thetaStart:o,thetaLength:a},t=t||20,e=e||50,o=void 0!==o?o:0,a=void 0!==a?a:2*Math.PI,n=void 0!==n?Math.max(3,n):8,i=void 0!==i?Math.max(1,i):1;var s,u,c,h=(n+1)*(i+1),f=n*i*2*3,d=new vt(new(f>65535?Uint32Array:Uint16Array)(f),1),p=new vt(new Float32Array(3*h),3),v=new vt(new Float32Array(3*h),3),m=new vt(new Float32Array(2*h),2),g=0,y=0,_=t,x=(e-t)/i,b=new l,w=new r;for(u=0;u<=i;u++){for(c=0;c<=n;c++)s=o+c/n*a,b.x=_*Math.cos(s),b.y=_*Math.sin(s),p.setXYZ(g,b.x,b.y,b.z),v.setXYZ(g,0,0,1),w.x=(b.x/e+1)/2,w.y=(b.y/e+1)/2,m.setXY(g,w.x,w.y),g++;_+=x}for(u=0;u<i;u++){var T=u*(n+1);for(c=0;c<n;c++){s=c+T;var E=s,S=s+n+1,M=s+n+2,A=s+1;d.setX(y,E),y++,d.setX(y,S),y++,d.setX(y,M),y++,d.setX(y,E),y++,d.setX(y,M),y++,d.setX(y,A),y++}}this.setIndex(d),this.addAttribute("position",p),this.addAttribute("normal",v),this.addAttribute("uv",m)}function tr(t,e,r,n,i,o){Mt.call(this),this.type="RingGeometry",this.parameters={innerRadius:t,outerRadius:e,thetaSegments:r,phiSegments:n,thetaStart:i,thetaLength:o},this.fromBufferGeometry(new $e(t,e,r,n,i,o))}function er(t,e,r,n){Mt.call(this),this.type="PlaneGeometry",this.parameters={width:t,height:e,widthSegments:r,heightSegments:n},this.fromBufferGeometry(new Dt(t,e,r,n))}function rr(t,e,n,i){Ct.call(this),this.type="LatheBufferGeometry",this.parameters={points:t,segments:e,phiStart:n,phiLength:i},e=Math.floor(e)||12,n=n||0,i=i||2*Math.PI,i=ka.clamp(i,0,2*Math.PI);var o,a,s,u=(e+1)*t.length,c=e*t.length*2*3,h=new vt(new(c>65535?Uint32Array:Uint16Array)(c),1),f=new vt(new Float32Array(3*u),3),d=new vt(new Float32Array(2*u),2),p=0,v=0,m=1/e,g=new l,y=new r;for(a=0;a<=e;a++){var _=n+a*m*i,x=Math.sin(_),b=Math.cos(_);for(s=0;s<=t.length-1;s++)g.x=t[s].x*x,g.y=t[s].y,g.z=t[s].x*b,f.setXYZ(p,g.x,g.y,g.z),y.x=a/e,y.y=s/(t.length-1),d.setXY(p,y.x,y.y),p++}for(a=0;a<e;a++)for(s=0;s<t.length-1;s++){o=s+a*t.length;var w=o,T=o+t.length,E=o+t.length+1,S=o+1;h.setX(v,w),v++,h.setX(v,T),v++,h.setX(v,S),v++,h.setX(v,T),v++,h.setX(v,E),v++,h.setX(v,S),v++}if(this.setIndex(h),this.addAttribute("position",f),this.addAttribute("uv",d),this.computeVertexNormals(),i===2*Math.PI){var M=this.attributes.normal.array,A=new l,P=new l,C=new l;for(o=e*t.length*3,a=0,s=0;a<t.length;a++,s+=3)A.x=M[s+0],A.y=M[s+1],A.z=M[s+2],P.x=M[o+s+0],P.y=M[o+s+1],P.z=M[o+s+2],C.addVectors(A,P).normalize(),M[s+0]=M[o+s+0]=C.x,M[s+1]=M[o+s+1]=C.y,M[s+2]=M[o+s+2]=C.z}}function nr(t,e,r,n){Mt.call(this),this.type="LatheGeometry",this.parameters={points:t,segments:e,phiStart:r,phiLength:n},this.fromBufferGeometry(new rr(t,e,r,n)),this.mergeVertices()}function ir(t,e){Mt.call(this),this.type="ShapeGeometry",Array.isArray(t)===!1&&(t=[t]),this.addShapeList(t,e),this.computeFaceNormals()}function or(t,e){function r(t,e){return t-e}Ct.call(this),e=void 0!==e?e:1;var n,i=Math.cos(ka.DEG2RAD*e),o=[0,0],a={},s=["a","b","c"];t&&t.isBufferGeometry?(n=new Mt,n.fromBufferGeometry(t)):n=t.clone(),n.mergeVertices(),n.computeFaceNormals();for(var u=n.vertices,l=n.faces,c=0,h=l.length;c<h;c++)for(var f=l[c],d=0;d<3;d++){o[0]=f[s[d]],o[1]=f[s[(d+1)%3]],o.sort(r);var p=o.toString();void 0===a[p]?a[p]={vert1:o[0],vert2:o[1],face1:c,face2:void 0}:a[p].face2=c}var v=[];for(var p in a){var m=a[p];if(void 0===m.face2||l[m.face1].normal.dot(l[m.face2].normal)<=i){var g=u[m.vert1];v.push(g.x),v.push(g.y),v.push(g.z),g=u[m.vert2],v.push(g.x),v.push(g.y),v.push(g.z)}}this.addAttribute("position",new vt(new Float32Array(v),3))}function ar(t,e,n,i,o,a,s,u){function c(){var t=(i+1)*(o+1);return a===!1&&(t+=(i+1)*v+i*v),t}function h(){var t=i*o*2*3;return a===!1&&(t+=i*v*3),t}function f(){var r,a,c=new l,h=new l,f=0,d=(e-t)/n;for(a=0;a<=o;a++){var v=[],m=a/o,g=m*(e-t)+t;for(r=0;r<=i;r++){var A=r/i,P=A*u+s,C=Math.sin(P),O=Math.cos(P);h.x=g*C,h.y=-m*n+S,h.z=g*O,_.setXYZ(w,h.x,h.y,h.z),c.set(C,d,O).normalize(),x.setXYZ(w,c.x,c.y,c.z),b.setXY(w,A,1-m),v.push(w),w++}E.push(v)}for(r=0;r<i;r++)for(a=0;a<o;a++){var R=E[a][r],D=E[a+1][r],L=E[a+1][r+1],I=E[a][r+1];y.setX(T,R),T++,y.setX(T,D),T++,y.setX(T,I),T++,y.setX(T,D),T++,y.setX(T,L),T++,y.setX(T,I),T++,f+=6}p.addGroup(M,f,0),M+=f}function d(n){var o,a,c,h=new r,f=new l,d=0,v=n===!0?t:e,m=n===!0?1:-1;for(a=w,o=1;o<=i;o++)_.setXYZ(w,0,S*m,0),x.setXYZ(w,0,m,0),h.x=.5,h.y=.5,b.setXY(w,h.x,h.y),w++;for(c=w,o=0;o<=i;o++){var g=o/i,E=g*u+s,A=Math.cos(E),P=Math.sin(E);f.x=v*P,f.y=S*m,f.z=v*A,_.setXYZ(w,f.x,f.y,f.z),x.setXYZ(w,0,m,0),h.x=.5*A+.5,h.y=.5*P*m+.5,b.setXY(w,h.x,h.y),w++}for(o=0;o<i;o++){var C=a+o,O=c+o;n===!0?(y.setX(T,O),T++,y.setX(T,O+1),T++,y.setX(T,C),T++):(y.setX(T,O+1),T++,y.setX(T,O),T++,y.setX(T,C),T++),d+=3}p.addGroup(M,d,n===!0?1:2),M+=d}Ct.call(this),this.type="CylinderBufferGeometry",this.parameters={radiusTop:t,radiusBottom:e,height:n,radialSegments:i,heightSegments:o,openEnded:a,thetaStart:s,thetaLength:u};var p=this;t=void 0!==t?t:20,e=void 0!==e?e:20,n=void 0!==n?n:100,i=Math.floor(i)||8,o=Math.floor(o)||1,a=void 0!==a&&a,s=void 0!==s?s:0,u=void 0!==u?u:2*Math.PI;var v=0;a===!1&&(t>0&&v++,e>0&&v++);var m=c(),g=h(),y=new vt(new(g>65535?Uint32Array:Uint16Array)(g),1),_=new vt(new Float32Array(3*m),3),x=new vt(new Float32Array(3*m),3),b=new vt(new Float32Array(2*m),2),w=0,T=0,E=[],S=n/2,M=0;f(),a===!1&&(t>0&&d(!0),e>0&&d(!1)),this.setIndex(y),this.addAttribute("position",_),this.addAttribute("normal",x),this.addAttribute("uv",b)}function sr(t,e,r,n,i,o,a,s){Mt.call(this),this.type="CylinderGeometry",this.parameters={radiusTop:t,radiusBottom:e,height:r,radialSegments:n,heightSegments:i,openEnded:o,thetaStart:a,thetaLength:s},this.fromBufferGeometry(new ar(t,e,r,n,i,o,a,s)),this.mergeVertices()}function ur(t,e,r,n,i,o,a){sr.call(this,0,t,e,r,n,i,o,a),this.type="ConeGeometry",this.parameters={radius:t,height:e,radialSegments:r,heightSegments:n,openEnded:i,thetaStart:o,thetaLength:a}}function lr(t,e,r,n,i,o,a){ar.call(this,0,t,e,r,n,i,o,a),this.type="ConeBufferGeometry",this.parameters={radius:t,height:e,radialSegments:r,heightSegments:n,openEnded:i,thetaStart:o,thetaLength:a}}function cr(t,e,r,n){Ct.call(this),this.type="CircleBufferGeometry",this.parameters={radius:t,segments:e,thetaStart:r,thetaLength:n},t=t||50,e=void 0!==e?Math.max(3,e):8,r=void 0!==r?r:0,n=void 0!==n?n:2*Math.PI;var i=e+2,o=new Float32Array(3*i),a=new Float32Array(3*i),s=new Float32Array(2*i);a[2]=1,s[0]=.5,s[1]=.5;for(var u=0,c=3,h=2;u<=e;u++,c+=3,h+=2){var f=r+u/e*n;o[c]=t*Math.cos(f),o[c+1]=t*Math.sin(f),a[c+2]=1,s[h]=(o[c]/t+1)/2,s[h+1]=(o[c+1]/t+1)/2}for(var d=[],c=1;c<=e;c++)d.push(c,c+1,0);this.setIndex(new vt(new Uint16Array(d),1)),this.addAttribute("position",new vt(o,3)),this.addAttribute("normal",new vt(a,3)),this.addAttribute("uv",new vt(s,2)),this.boundingSphere=new et(new l,t)}function hr(t,e,r,n){Mt.call(this),this.type="CircleGeometry",this.parameters={radius:t,segments:e,thetaStart:r,thetaLength:n},this.fromBufferGeometry(new cr(t,e,r,n))}function fr(t,e,r,n,i,o){Mt.call(this),this.type="BoxGeometry",this.parameters={width:t,height:e,depth:r,widthSegments:n,heightSegments:i,depthSegments:o},this.fromBufferGeometry(new Rt(t,e,r,n,i,o)),this.mergeVertices()}function dr(){Q.call(this,{uniforms:Xa.merge([Xu.lights,{opacity:{value:1}}]),vertexShader:Gu.shadow_vert,fragmentShader:Gu.shadow_frag}),this.lights=!0,this.transparent=!0,Object.defineProperties(this,{opacity:{enumerable:!0,get:function(){return this.uniforms.opacity.value},set:function(t){this.uniforms.opacity.value=t}}})}function pr(t){Q.call(this,t),this.type="RawShaderMaterial"}function vr(t){this.uuid=ka.generateUUID(),this.type="MultiMaterial",this.materials=t instanceof Array?t:[],this.visible=!0}function mr(t){K.call(this),this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new W(16777215),this.roughness=.5,this.metalness=.5,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new W(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalScale=new r(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(t)}function gr(t){mr.call(this),this.defines={PHYSICAL:""},this.type="MeshPhysicalMaterial",this.reflectivity=.5,this.clearCoat=0,this.clearCoatRoughness=0,this.setValues(t)}function yr(t){K.call(this),this.type="MeshPhongMaterial",this.color=new W(16777215),this.specular=new W(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new W(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalScale=new r(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=ho,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(t)}function _r(t){K.call(this,t),this.type="MeshNormalMaterial",this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.morphTargets=!1,this.setValues(t)}function xr(t){K.call(this),this.type="MeshLambertMaterial",this.color=new W(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new W(0),this.emissiveIntensity=1,this.emissiveMap=null,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=ho,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(t)}function br(t){K.call(this),this.type="LineDashedMaterial",this.color=new W(16777215),this.linewidth=1,this.scale=1,this.dashSize=3,this.gapSize=1,this.lights=!1,this.setValues(t)}function wr(t,e,r){var n=this,i=!1,o=0,a=0;this.onStart=void 0,this.onLoad=t,this.onProgress=e,this.onError=r,this.itemStart=function(t){a++,i===!1&&void 0!==n.onStart&&n.onStart(t,o,a),i=!0},this.itemEnd=function(t){o++,void 0!==n.onProgress&&n.onProgress(t,o,a),o===a&&(i=!1,void 0!==n.onLoad&&n.onLoad())},this.itemError=function(t){void 0!==n.onError&&n.onError(t)}}function Tr(t){this.manager=void 0!==t?t:tl}function Er(t){this.manager=void 0!==t?t:tl,this._parser=null}function Sr(t){this.manager=void 0!==t?t:tl,this._parser=null}function Mr(t){this.manager=void 0!==t?t:tl}function Ar(t){this.manager=void 0!==t?t:tl}function Pr(t){this.manager=void 0!==t?t:tl}function Cr(t,e){lt.call(this),this.type="Light",this.color=new W(t),this.intensity=void 0!==e?e:1,this.receiveShadow=void 0}function Or(t,e,r){Cr.call(this,t,r),this.type="HemisphereLight",this.castShadow=void 0,this.position.copy(lt.DefaultUp),this.updateMatrix(),this.groundColor=new W(e)}function Rr(t){this.camera=t,this.bias=0,this.radius=1,this.mapSize=new r(512,512),this.map=null,this.matrix=new c}function Dr(){Rr.call(this,new It(50,1,.5,500))}function Lr(t,e,r,n,i,o){Cr.call(this,t,e),this.type="SpotLight",this.position.copy(lt.DefaultUp),this.updateMatrix(),this.target=new lt,Object.defineProperty(this,"power",{get:function(){return this.intensity*Math.PI},set:function(t){this.intensity=t/Math.PI}}),this.distance=void 0!==r?r:0,this.angle=void 0!==n?n:Math.PI/3,this.penumbra=void 0!==i?i:0,this.decay=void 0!==o?o:1,this.shadow=new Dr}function Ir(t,e,r,n){Cr.call(this,t,e),this.type="PointLight",Object.defineProperty(this,"power",{get:function(){return 4*this.intensity*Math.PI},set:function(t){this.intensity=t/(4*Math.PI)}}),this.distance=void 0!==r?r:0,this.decay=void 0!==n?n:1,this.shadow=new Rr(new It(90,1,.5,500))}function Fr(t){Rr.call(this,new Ft(-5,5,5,-5,.5,500))}function Nr(t,e){Cr.call(this,t,e),this.type="DirectionalLight",this.position.copy(lt.DefaultUp),this.updateMatrix(),this.target=new lt,this.shadow=new Fr}function kr(t,e){Cr.call(this,t,e),this.type="AmbientLight",this.castShadow=void 0}function Ur(t,e,r,n){this.parameterPositions=t,this._cachedIndex=0,this.resultBuffer=void 0!==n?n:new e.constructor(r),this.sampleValues=e,this.valueSize=r}function Br(t,e,r,n){Ur.call(this,t,e,r,n),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0}function zr(t,e,r,n){Ur.call(this,t,e,r,n)}function jr(t,e,r,n){Ur.call(this,t,e,r,n)}function Gr(t,e,r,n){if(void 0===t)throw new Error("track name is undefined");if(void 0===e||0===e.length)throw new Error("no keyframes in track named "+t);this.name=t,this.times=rl.convertArray(e,this.TimeBufferType),this.values=rl.convertArray(r,this.ValueBufferType),this.setInterpolation(n||this.DefaultInterpolation),this.validate(),this.optimize()}function Hr(t,e,r,n){Gr.call(this,t,e,r,n)}function Xr(t,e,r,n){Ur.call(this,t,e,r,n)}function Vr(t,e,r,n){Gr.call(this,t,e,r,n)}function Wr(t,e,r,n){Gr.call(this,t,e,r,n)}function Yr(t,e,r,n){Gr.call(this,t,e,r,n)}function qr(t,e,r){Gr.call(this,t,e,r)}function Zr(t,e,r,n){Gr.call(this,t,e,r,n)}function Kr(t,e,r,n){Gr.apply(this,arguments)}function Jr(t,e,r){this.name=t,this.tracks=r,this.duration=void 0!==e?e:-1,this.uuid=ka.generateUUID(),this.duration<0&&this.resetDuration(),this.optimize()}function Qr(t){this.manager=void 0!==t?t:tl,this.textures={}}function $r(t){this.manager=void 0!==t?t:tl}function tn(){this.onLoadStart=function(){},this.onLoadProgress=function(){},this.onLoadComplete=function(){}}function en(t){"boolean"==typeof t&&(console.warn("THREE.JSONLoader: showStatus parameter has been removed from constructor."),t=void 0),this.manager=void 0!==t?t:tl,this.withCredentials=!1}function rn(t){this.manager=void 0!==t?t:tl,this.texturePath=""}function nn(){}function on(t,e){this.v1=t,this.v2=e}function an(){this.curves=[],this.autoClose=!1}function sn(t,e,r,n,i,o,a,s){this.aX=t,this.aY=e,this.xRadius=r,this.yRadius=n,this.aStartAngle=i,this.aEndAngle=o,this.aClockwise=a,this.aRotation=s||0}function un(t){this.points=void 0===t?[]:t}function ln(t,e,r,n){this.v0=t,this.v1=e,this.v2=r,this.v3=n}function cn(t,e,r){this.v0=t,this.v1=e,this.v2=r}function hn(){fn.apply(this,arguments),this.holes=[]}function fn(t){an.call(this),this.currentPoint=new r,t&&this.fromPoints(t)}function dn(){this.subPaths=[],this.currentPath=null}function pn(t){this.data=t}function vn(t){this.manager=void 0!==t?t:tl}function mn(){return void 0===al&&(al=new(window.AudioContext||window.webkitAudioContext)),al}function gn(t){this.manager=void 0!==t?t:tl}function yn(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new It,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new It,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1}function _n(t,e,r){lt.call(this),this.type="CubeCamera";var n=90,i=1,o=new It(n,i,t,e);o.up.set(0,-1,0),o.lookAt(new l(1,0,0)),this.add(o);var a=new It(n,i,t,e);a.up.set(0,-1,0),a.lookAt(new l(-1,0,0)),this.add(a);var u=new It(n,i,t,e);u.up.set(0,0,1),u.lookAt(new l(0,1,0)),this.add(u);var c=new It(n,i,t,e);c.up.set(0,0,-1),c.lookAt(new l(0,-1,0)),this.add(c);var h=new It(n,i,t,e);h.up.set(0,-1,0),h.lookAt(new l(0,0,1)),this.add(h);var f=new It(n,i,t,e);f.up.set(0,-1,0),f.lookAt(new l(0,0,-1)),this.add(f);var d={format:$o,magFilter:No,minFilter:No};this.renderTarget=new s(r,r,d),this.updateCubeMap=function(t,e){null===this.parent&&this.updateMatrixWorld();var r=this.renderTarget,n=r.texture.generateMipmaps;r.texture.generateMipmaps=!1,r.activeCubeFace=0,t.render(e,o,r),r.activeCubeFace=1,t.render(e,a,r),r.activeCubeFace=2,t.render(e,u,r),r.activeCubeFace=3,t.render(e,c,r),r.activeCubeFace=4,t.render(e,h,r),r.texture.generateMipmaps=n,r.activeCubeFace=5,t.render(e,f,r),t.setRenderTarget(null)}}function xn(){lt.call(this),this.type="AudioListener",this.context=mn(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null}function bn(t){lt.call(this),this.type="Audio",this.context=t.context,this.source=this.context.createBufferSource(),this.source.onended=this.onEnded.bind(this),this.gain=this.context.createGain(),this.gain.connect(t.getInput()),this.autoplay=!1,this.startTime=0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.sourceType="empty",this.filters=[]}function wn(t){bn.call(this,t),this.panner=this.context.createPanner(),this.panner.connect(this.gain)}function Tn(t,e){this.analyser=t.context.createAnalyser(),this.analyser.fftSize=void 0!==e?e:2048,this.data=new Uint8Array(this.analyser.frequencyBinCount),t.getOutput().connect(this.analyser)}function En(t,e,r){this.binding=t,this.valueSize=r;var n,i=Float64Array;switch(e){case"quaternion":n=this._slerp;break;case"string":case"bool":i=Array,n=this._select;break;default:n=this._lerp}this.buffer=new i(4*r),this._mixBufferRegion=n,this.cumulativeWeight=0,this.useCount=0,this.referenceCount=0}function Sn(t,e,r){this.path=e,this.parsedPath=r||Sn.parseTrackName(e),this.node=Sn.findNode(t,this.parsedPath.nodeName)||t,this.rootNode=t}function Mn(t){this.uuid=ka.generateUUID(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;var e={};this._indicesByUUID=e;for(var r=0,n=arguments.length;r!==n;++r)e[arguments[r].uuid]=r;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};var i=this;this.stats={objects:{get total(){return i._objects.length},get inUse(){return this.total-i.nCachedObjects_}},get bindingsPerObject(){return i._bindings.length}}}function An(t,e,r){this._mixer=t,this._clip=e,this._localRoot=r||null;for(var n=e.tracks,i=n.length,o=new Array(i),a={endingStart:ba,endingEnd:ba},s=0;s!==i;++s){var u=n[s].createInterpolant(null);o[s]=u,u.settings=a}this._interpolantSettings=a,this._interpolants=o,this._propertyBindings=new Array(i),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=ma,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}function Pn(t){this._root=t,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}function Cn(t){"string"==typeof t&&(console.warn("THREE.Uniform: Type parameter is no longer needed."),t=arguments[1]),this.value=t}function On(){Ct.call(this),this.type="InstancedBufferGeometry",this.maxInstancedCount=void 0}function Rn(t,e,r,n){this.uuid=ka.generateUUID(),this.data=t,this.itemSize=e,this.offset=r,this.normalized=n===!0}function Dn(t,e){this.uuid=ka.generateUUID(),this.array=t,this.stride=e,this.count=void 0!==t?t.length/e:0,this.dynamic=!1,this.updateRange={offset:0,count:-1},this.version=0}function Ln(t,e,r){Dn.call(this,t,e),this.meshPerAttribute=r||1}function In(t,e,r){vt.call(this,t,e),this.meshPerAttribute=r||1}function Fn(t,e,r,n){this.ray=new at(t,e),this.near=r||0,this.far=n||1/0,this.params={Mesh:{},Line:{},LOD:{},Points:{threshold:1},Sprite:{}},Object.defineProperties(this.params,{PointCloud:{get:function(){return console.warn("THREE.Raycaster: params.PointCloud has been renamed to params.Points."),
this.Points}}})}function Nn(t,e){return t.distance-e.distance}function kn(t,e,r,n){if(t.visible!==!1&&(t.raycast(e,r),n===!0))for(var i=t.children,o=0,a=i.length;o<a;o++)kn(i[o],e,r,!0)}function Un(t){this.autoStart=void 0===t||t,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}function Bn(t){function e(t,e,r,n,i,o,a){var s=.5*(r-t),u=.5*(n-e);return(2*(e-r)+s+u)*a+(-3*(e-r)-2*s-u)*o+s*i+e}this.points=t;var r,n,i,o,a,s,u,c,h,f=[],d={x:0,y:0,z:0};this.initFromArray=function(t){this.points=[];for(var e=0;e<t.length;e++)this.points[e]={x:t[e][0],y:t[e][1],z:t[e][2]}},this.getPoint=function(t){return r=(this.points.length-1)*t,n=Math.floor(r),i=r-n,f[0]=0===n?n:n-1,f[1]=n,f[2]=n>this.points.length-2?this.points.length-1:n+1,f[3]=n>this.points.length-3?this.points.length-1:n+2,s=this.points[f[0]],u=this.points[f[1]],c=this.points[f[2]],h=this.points[f[3]],o=i*i,a=i*o,d.x=e(s.x,u.x,c.x,h.x,i,o,a),d.y=e(s.y,u.y,c.y,h.y,i,o,a),d.z=e(s.z,u.z,c.z,h.z,i,o,a),d},this.getControlPointsArray=function(){var t,e,r=this.points.length,n=[];for(t=0;t<r;t++)e=this.points[t],n[t]=[e.x,e.y,e.z];return n},this.getLength=function(t){var e,r,n,i,o=0,a=0,s=0,u=new l,c=new l,h=[],f=0;for(h[0]=0,t||(t=100),n=this.points.length*t,u.copy(this.points[0]),e=1;e<n;e++)r=e/n,i=this.getPoint(r),c.copy(i),f+=c.distanceTo(u),u.copy(i),o=(this.points.length-1)*r,a=Math.floor(o),a!==s&&(h[a]=f,s=a);return h[h.length]=f,{chunks:h,total:f}},this.reparametrizeByArcLength=function(t){var e,r,n,i,o,a,s,u,c=[],h=new l,f=this.getLength();for(c.push(h.copy(this.points[0]).clone()),e=1;e<this.points.length;e++){for(a=f.chunks[e]-f.chunks[e-1],s=Math.ceil(t*a/f.total),i=(e-1)/(this.points.length-1),o=e/(this.points.length-1),r=1;r<s-1;r++)n=i+r*(1/s)*(o-i),u=this.getPoint(n),c.push(h.copy(u).clone());c.push(h.copy(this.points[e]).clone())}this.points=c}}function zn(t,e,r){return this.radius=void 0!==t?t:1,this.phi=void 0!==e?e:0,this.theta=void 0!==r?r:0,this}function jn(t,e){Ot.call(this,t,e),this.animationsMap={},this.animationsList=[];var r=this.geometry.morphTargets.length,n="__default",i=0,o=r-1,a=r/1;this.createAnimation(n,i,o,a),this.setAnimationWeight(n,1)}function Gn(t){lt.call(this),this.material=t,this.render=function(t){}}function Hn(t,e,r,n){this.object=t,this.size=void 0!==e?e:1;var i=void 0!==r?r:16711680,o=void 0!==n?n:1,a=0,s=this.object.geometry;s&&s.isGeometry?a=3*s.faces.length:s&&s.isBufferGeometry&&(a=s.attributes.normal.count);var u=new Ct,l=new Tt(2*a*3,3);u.addAttribute("position",l),we.call(this,u,new xe({color:i,linewidth:o})),this.matrixAutoUpdate=!1,this.update()}function Xn(t){lt.call(this),this.light=t,this.light.updateMatrixWorld(),this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1;for(var e=new Ct,r=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1],n=0,i=1,o=32;n<o;n++,i++){var a=n/o*Math.PI*2,s=i/o*Math.PI*2;r.push(Math.cos(a),Math.sin(a),1,Math.cos(s),Math.sin(s),1)}e.addAttribute("position",new Tt(r,3));var u=new xe({fog:!1});this.cone=new we(e,u),this.add(this.cone),this.update()}function Vn(t){this.bones=this.getBoneList(t);for(var e=new Mt,r=0;r<this.bones.length;r++){var n=this.bones[r];n.parent&&n.parent.isBone&&(e.vertices.push(new l),e.vertices.push(new l),e.colors.push(new W(0,0,1)),e.colors.push(new W(0,1,0)))}e.dynamic=!0;var i=new xe({vertexColors:Li,depthTest:!1,depthWrite:!1,transparent:!0});we.call(this,e,i),this.root=t,this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,this.update()}function Wn(t,e){this.light=t,this.light.updateMatrixWorld();var r=new Je(e,4,2),n=new pt({wireframe:!0,fog:!1});n.color.copy(this.light.color).multiplyScalar(this.light.intensity),Ot.call(this,r,n),this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1}function Yn(t,e){lt.call(this),this.light=t,this.light.updateMatrixWorld(),this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,this.colors=[new W,new W];var r=new Qe(e,4,2);r.rotateX(-Math.PI/2);for(var n=0,i=8;n<i;n++)r.faces[n].color=this.colors[n<4?0:1];var o=new pt({vertexColors:Di,wireframe:!0});this.lightSphere=new Ot(r,o),this.add(this.lightSphere),this.update()}function qn(t,e,r,n){e=e||1,r=new W(void 0!==r?r:4473924),n=new W(void 0!==n?n:8947848);for(var i=e/2,o=2*t/e,a=[],s=[],u=0,l=0,c=-t;u<=e;u++,c+=o){a.push(-t,0,c,t,0,c),a.push(c,0,-t,c,0,t);var h=u===i?r:n;h.toArray(s,l),l+=3,h.toArray(s,l),l+=3,h.toArray(s,l),l+=3,h.toArray(s,l),l+=3}var f=new Ct;f.addAttribute("position",new Tt(a,3)),f.addAttribute("color",new Tt(s,3));var d=new xe({vertexColors:Li});we.call(this,f,d)}function Zn(t,e,r,n){this.object=t,this.size=void 0!==e?e:1;var i=void 0!==r?r:16776960,o=void 0!==n?n:1,a=0,s=this.object.geometry;s&&s.isGeometry?a=s.faces.length:console.warn("THREE.FaceNormalsHelper: only THREE.Geometry is supported. Use THREE.VertexNormalsHelper, instead.");var u=new Ct,l=new Tt(2*a*3,3);u.addAttribute("position",l),we.call(this,u,new xe({color:i,linewidth:o})),this.matrixAutoUpdate=!1,this.update()}function Kn(t,e){lt.call(this),this.light=t,this.light.updateMatrixWorld(),this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,void 0===e&&(e=1);var r=new Ct;r.addAttribute("position",new Tt([-e,e,0,e,e,0,e,-e,0,-e,-e,0,-e,e,0],3));var n=new xe({fog:!1});this.add(new be(r,n)),r=new Ct,r.addAttribute("position",new Tt([0,0,0,0,0,1],3)),this.add(new be(r,n)),this.update()}function Jn(t){function e(t,e,n){r(t,n),r(e,n)}function r(t,e){n.vertices.push(new l),n.colors.push(new W(e)),void 0===o[t]&&(o[t]=[]),o[t].push(n.vertices.length-1)}var n=new Mt,i=new xe({color:16777215,vertexColors:Di}),o={},a=16755200,s=16711680,u=43775,c=16777215,h=3355443;e("n1","n2",a),e("n2","n4",a),e("n4","n3",a),e("n3","n1",a),e("f1","f2",a),e("f2","f4",a),e("f4","f3",a),e("f3","f1",a),e("n1","f1",a),e("n2","f2",a),e("n3","f3",a),e("n4","f4",a),e("p","n1",s),e("p","n2",s),e("p","n3",s),e("p","n4",s),e("u1","u2",u),e("u2","u3",u),e("u3","u1",u),e("c","t",c),e("p","c",h),e("cn1","cn2",h),e("cn3","cn4",h),e("cf1","cf2",h),e("cf3","cf4",h),we.call(this,n,i),this.camera=t,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=o,this.update()}function Qn(t,e){var r=void 0!==e?e:8947848;this.object=t,this.box=new tt,Ot.call(this,new fr(1,1,1),new pt({color:r,wireframe:!0}))}function $n(t,e){void 0===e&&(e=16776960);var r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),n=new Float32Array(24),i=new Ct;i.setIndex(new vt(r,1)),i.addAttribute("position",new vt(n,3)),we.call(this,i,new xe({color:e})),void 0!==t&&this.update(t)}function ti(t,e,r,n,i,o){lt.call(this),void 0===n&&(n=16776960),void 0===r&&(r=1),void 0===i&&(i=.2*r),void 0===o&&(o=.2*i),this.position.copy(e),this.line=new be(sl,new xe({color:n})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new Ot(ul,new pt({color:n})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(t),this.setLength(r,i,o)}function ei(t){t=t||1;var e=new Float32Array([0,0,0,t,0,0,0,0,0,0,t,0,0,0,0,0,0,t]),r=new Float32Array([1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1]),n=new Ct;n.addAttribute("position",new vt(e,3)),n.addAttribute("color",new vt(r,3));var i=new xe({vertexColors:Li});we.call(this,n,i)}function ri(t){console.warn("THREE.ClosedSplineCurve3 has been deprecated. Please use THREE.CatmullRomCurve3."),ll.call(this,t),this.type="catmullrom",this.closed=!0}function ni(t,e,r,n,i,o){sn.call(this,t,e,r,r,n,i,o)}function ii(t,e,r,n,i,o,a){return console.warn("THREE.Face4 has been removed. A THREE.Face3 will be created instead."),new dt(t,e,r,i,o,a)}function oi(t,e){return console.warn("THREE.PointCloud has been renamed to THREE.Points."),new Ee(t,e)}function ai(t,e){return console.warn("THREE.ParticleSystem has been renamed to THREE.Points."),new Ee(t,e)}function si(t){return console.warn("THREE.PointCloudMaterial has been renamed to THREE.PointsMaterial."),new Te(t)}function ui(t){return console.warn("THREE.ParticleBasicMaterial has been renamed to THREE.PointsMaterial."),new Te(t)}function li(t){return console.warn("THREE.ParticleSystemMaterial has been renamed to THREE.PointsMaterial."),new Te(t)}function ci(t,e,r){return console.warn("THREE.Vertex has been removed. Use THREE.Vector3 instead."),new l(t,e,r)}function hi(t,e){return console.warn("THREE.EdgesHelper has been removed. Use THREE.EdgesGeometry instead."),new we(new or(t.geometry),new xe({color:void 0!==e?e:16777215}))}function fi(t,e){return console.warn("THREE.WireframeHelper has been removed. Use THREE.WireframeGeometry instead."),new we(new Oe(t.geometry),new xe({color:void 0!==e?e:16777215}))}function di(){console.error("THREE.Projector has been moved to /examples/js/renderers/Projector.js."),this.projectVector=function(t,e){console.warn("THREE.Projector: .projectVector() is now vector.project()."),t.project(e)},this.unprojectVector=function(t,e){console.warn("THREE.Projector: .unprojectVector() is now vector.unproject()."),t.unproject(e)},this.pickingRay=function(t,e){console.error("THREE.Projector: .pickingRay() is now raycaster.setFromCamera().")}}function pi(){console.error("THREE.CanvasRenderer has been moved to /examples/js/renderers/CanvasRenderer.js"),this.domElement=document.createElementNS("http://www.w3.org/1999/xhtml","canvas"),this.clear=function(){},this.render=function(){},this.setClearColor=function(){},this.setSize=function(){}}void 0===Number.EPSILON&&(Number.EPSILON=Math.pow(2,-52)),void 0===Math.sign&&(Math.sign=function(t){return t<0?-1:t>0?1:+t}),void 0===Function.prototype.name&&Object.defineProperty(Function.prototype,"name",{get:function(){return this.toString().match(/^\s*function\s*(\S*)\s*\(/)[1]}}),void 0===Object.assign&&!function(){Object.assign=function(t){if(void 0===t||null===t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),r=1;r<arguments.length;r++){var n=arguments[r];if(void 0!==n&&null!==n)for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}}(),Object.assign(e.prototype,{addEventListener:function(t,e){void 0===this._listeners&&(this._listeners={});var r=this._listeners;void 0===r[t]&&(r[t]=[]),r[t].indexOf(e)===-1&&r[t].push(e)},hasEventListener:function(t,e){if(void 0===this._listeners)return!1;var r=this._listeners;return void 0!==r[t]&&r[t].indexOf(e)!==-1},removeEventListener:function(t,e){if(void 0!==this._listeners){var r=this._listeners,n=r[t];if(void 0!==n){var i=n.indexOf(e);i!==-1&&n.splice(i,1)}}},dispatchEvent:function(t){if(void 0!==this._listeners){var e=this._listeners,r=e[t.type];if(void 0!==r){t.target=this;var n=[],i=0,o=r.length;for(i=0;i<o;i++)n[i]=r[i];for(i=0;i<o;i++)n[i].call(this,t)}}}});var vi="82",mi={LEFT:0,MIDDLE:1,RIGHT:2},gi=0,yi=1,_i=2,xi=3,bi=0,wi=1,Ti=0,Ei=1,Si=2,Mi=0,Ai=1,Pi=2,Ci=1,Oi=2,Ri=0,Di=1,Li=2,Ii=0,Fi=1,Ni=2,ki=3,Ui=4,Bi=5,zi={NoBlending:Ii,NormalBlending:Fi,AdditiveBlending:Ni,SubtractiveBlending:ki,MultiplyBlending:Ui,CustomBlending:Bi},ji=100,Gi=101,Hi=102,Xi=103,Vi=104,Wi=200,Yi=201,qi=202,Zi=203,Ki=204,Ji=205,Qi=206,$i=207,to=208,eo=209,ro=210,no=0,io=1,oo=2,ao=3,so=4,uo=5,lo=6,co=7,ho=0,fo=1,po=2,vo=0,mo=1,go=2,yo=3,_o=4,xo=300,bo=301,wo=302,To=303,Eo=304,So=305,Mo=306,Ao=307,Po={UVMapping:xo,CubeReflectionMapping:bo,CubeRefractionMapping:wo,EquirectangularReflectionMapping:To,EquirectangularRefractionMapping:Eo,SphericalReflectionMapping:So,CubeUVReflectionMapping:Mo,CubeUVRefractionMapping:Ao},Co=1e3,Oo=1001,Ro=1002,Do={RepeatWrapping:Co,ClampToEdgeWrapping:Oo,MirroredRepeatWrapping:Ro},Lo=1003,Io=1004,Fo=1005,No=1006,ko=1007,Uo=1008,Bo={NearestFilter:Lo,NearestMipMapNearestFilter:Io,NearestMipMapLinearFilter:Fo,LinearFilter:No,LinearMipMapNearestFilter:ko,LinearMipMapLinearFilter:Uo},zo=1009,jo=1010,Go=1011,Ho=1012,Xo=1013,Vo=1014,Wo=1015,Yo=1016,qo=1017,Zo=1018,Ko=1019,Jo=1020,Qo=1021,$o=1022,ta=1023,ea=1024,ra=1025,na=ta,ia=1026,oa=1027,aa=2001,sa=2002,ua=2003,la=2004,ca=2100,ha=2101,fa=2102,da=2103,pa=2151,va=2200,ma=2201,ga=2202,ya=2300,_a=2301,xa=2302,ba=2400,wa=2401,Ta=2402,Ea=0,Sa=1,Ma=2,Aa=3e3,Pa=3001,Ca=3007,Oa=3002,Ra=3003,Da=3004,La=3005,Ia=3006,Fa=3200,Na=3201,ka={DEG2RAD:Math.PI/180,RAD2DEG:180/Math.PI,generateUUID:function(){var t,e="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),r=new Array(36),n=0;return function(){for(var i=0;i<36;i++)8===i||13===i||18===i||23===i?r[i]="-":14===i?r[i]="4":(n<=2&&(n=33554432+16777216*Math.random()|0),t=15&n,n>>=4,r[i]=e[19===i?3&t|8:t]);return r.join("")}}(),clamp:function(t,e,r){return Math.max(e,Math.min(r,t))},euclideanModulo:function(t,e){return(t%e+e)%e},mapLinear:function(t,e,r,n,i){return n+(t-e)*(i-n)/(r-e)},lerp:function(t,e,r){return(1-r)*t+r*e},smoothstep:function(t,e,r){return t<=e?0:t>=r?1:(t=(t-e)/(r-e),t*t*(3-2*t))},smootherstep:function(t,e,r){return t<=e?0:t>=r?1:(t=(t-e)/(r-e),t*t*t*(t*(6*t-15)+10))},random16:function(){return console.warn("THREE.Math.random16() has been deprecated. Use Math.random() instead."),Math.random()},randInt:function(t,e){return t+Math.floor(Math.random()*(e-t+1))},randFloat:function(t,e){return t+Math.random()*(e-t)},randFloatSpread:function(t){return t*(.5-Math.random())},degToRad:function(t){return t*ka.DEG2RAD},radToDeg:function(t){return t*ka.RAD2DEG},isPowerOfTwo:function(t){return 0===(t&t-1)&&0!==t},nearestPowerOfTwo:function(t){return Math.pow(2,Math.round(Math.log(t)/Math.LN2))},nextPowerOfTwo:function(t){return t--,t|=t>>1,t|=t>>2,t|=t>>4,t|=t>>8,t|=t>>16,t++,t}};r.prototype={constructor:r,isVector2:!0,get width(){return this.x},set width(t){this.x=t},get height(){return this.y},set height(t){this.y=t},set:function(t,e){return this.x=t,this.y=e,this},setScalar:function(t){return this.x=t,this.y=t,this},setX:function(t){return this.x=t,this},setY:function(t){return this.y=t,this},setComponent:function(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;default:throw new Error("index is out of range: "+t)}return this},getComponent:function(t){switch(t){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+t)}},clone:function(){return new this.constructor(this.x,this.y)},copy:function(t){return this.x=t.x,this.y=t.y,this},add:function(t,e){return void 0!==e?(console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(t,e)):(this.x+=t.x,this.y+=t.y,this)},addScalar:function(t){return this.x+=t,this.y+=t,this},addVectors:function(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this},addScaledVector:function(t,e){return this.x+=t.x*e,this.y+=t.y*e,this},sub:function(t,e){return void 0!==e?(console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(t,e)):(this.x-=t.x,this.y-=t.y,this)},subScalar:function(t){return this.x-=t,this.y-=t,this},subVectors:function(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this},multiply:function(t){return this.x*=t.x,this.y*=t.y,this},multiplyScalar:function(t){return isFinite(t)?(this.x*=t,this.y*=t):(this.x=0,this.y=0),this},divide:function(t){return this.x/=t.x,this.y/=t.y,this},divideScalar:function(t){return this.multiplyScalar(1/t)},min:function(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this},max:function(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this},clamp:function(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this},clampScalar:function(){var t,e;return function(n,i){return void 0===t&&(t=new r,e=new r),t.set(n,n),e.set(i,i),this.clamp(t,e)}}(),clampLength:function(t,e){var r=this.length();return this.multiplyScalar(Math.max(t,Math.min(e,r))/r)},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this},negate:function(){return this.x=-this.x,this.y=-this.y,this},dot:function(t){return this.x*t.x+this.y*t.y},lengthSq:function(){return this.x*this.x+this.y*this.y},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},lengthManhattan:function(){return Math.abs(this.x)+Math.abs(this.y)},normalize:function(){return this.divideScalar(this.length())},angle:function(){var t=Math.atan2(this.y,this.x);return t<0&&(t+=2*Math.PI),t},distanceTo:function(t){return Math.sqrt(this.distanceToSquared(t))},distanceToSquared:function(t){var e=this.x-t.x,r=this.y-t.y;return e*e+r*r},distanceToManhattan:function(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)},setLength:function(t){return this.multiplyScalar(t/this.length())},lerp:function(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this},lerpVectors:function(t,e,r){return this.subVectors(e,t).multiplyScalar(r).add(t)},equals:function(t){return t.x===this.x&&t.y===this.y},fromArray:function(t,e){return void 0===e&&(e=0),this.x=t[e],this.y=t[e+1],this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this.x,t[e+1]=this.y,t},fromAttribute:function(t,e,r){return void 0===r&&(r=0),e=e*t.itemSize+r,this.x=t.array[e],this.y=t.array[e+1],this},rotateAround:function(t,e){var r=Math.cos(e),n=Math.sin(e),i=this.x-t.x,o=this.y-t.y;return this.x=i*r-o*n+t.x,this.y=i*n+o*r+t.y,this}},n.DEFAULT_IMAGE=void 0,n.DEFAULT_MAPPING=xo,n.prototype={constructor:n,isTexture:!0,set needsUpdate(t){t===!0&&this.version++},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.image=t.image,this.mipmaps=t.mipmaps.slice(0),this.mapping=t.mapping,this.wrapS=t.wrapS,this.wrapT=t.wrapT,this.magFilter=t.magFilter,this.minFilter=t.minFilter,this.anisotropy=t.anisotropy,this.format=t.format,this.type=t.type,this.offset.copy(t.offset),this.repeat.copy(t.repeat),this.generateMipmaps=t.generateMipmaps,this.premultiplyAlpha=t.premultiplyAlpha,this.flipY=t.flipY,this.unpackAlignment=t.unpackAlignment,this.encoding=t.encoding,this},toJSON:function(t){function e(t){var e;return void 0!==t.toDataURL?e=t:(e=document.createElementNS("http://www.w3.org/1999/xhtml","canvas"),e.width=t.width,e.height=t.height,e.getContext("2d").drawImage(t,0,0,t.width,t.height)),e.width>2048||e.height>2048?e.toDataURL("image/jpeg",.6):e.toDataURL("image/png")}if(void 0!==t.textures[this.uuid])return t.textures[this.uuid];var r={metadata:{version:4.4,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],wrap:[this.wrapS,this.wrapT],minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY};if(void 0!==this.image){var n=this.image;void 0===n.uuid&&(n.uuid=ka.generateUUID()),void 0===t.images[n.uuid]&&(t.images[n.uuid]={uuid:n.uuid,url:e(n)}),r.image=n.uuid}return t.textures[this.uuid]=r,r},dispose:function(){this.dispatchEvent({type:"dispose"})},transformUv:function(t){if(this.mapping===xo){if(t.multiply(this.repeat),t.add(this.offset),t.x<0||t.x>1)switch(this.wrapS){case Co:t.x=t.x-Math.floor(t.x);break;case Oo:t.x=t.x<0?0:1;break;case Ro:1===Math.abs(Math.floor(t.x)%2)?t.x=Math.ceil(t.x)-t.x:t.x=t.x-Math.floor(t.x)}if(t.y<0||t.y>1)switch(this.wrapT){case Co:t.y=t.y-Math.floor(t.y);break;case Oo:t.y=t.y<0?0:1;break;case Ro:1===Math.abs(Math.floor(t.y)%2)?t.y=Math.ceil(t.y)-t.y:t.y=t.y-Math.floor(t.y)}this.flipY&&(t.y=1-t.y)}}},Object.assign(n.prototype,e.prototype);var Ua=0;o.prototype={constructor:o,isVector4:!0,set:function(t,e,r,n){return this.x=t,this.y=e,this.z=r,this.w=n,this},setScalar:function(t){return this.x=t,this.y=t,this.z=t,this.w=t,this},setX:function(t){return this.x=t,this},setY:function(t){return this.y=t,this},setZ:function(t){return this.z=t,this},setW:function(t){return this.w=t,this},setComponent:function(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;case 2:this.z=e;break;case 3:this.w=e;break;default:throw new Error("index is out of range: "+t)}return this},getComponent:function(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+t)}},clone:function(){return new this.constructor(this.x,this.y,this.z,this.w)},copy:function(t){return this.x=t.x,this.y=t.y,this.z=t.z,this.w=void 0!==t.w?t.w:1,this},add:function(t,e){return void 0!==e?(console.warn("THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(t,e)):(this.x+=t.x,this.y+=t.y,this.z+=t.z,this.w+=t.w,this)},addScalar:function(t){return this.x+=t,this.y+=t,this.z+=t,this.w+=t,this},addVectors:function(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this.z=t.z+e.z,this.w=t.w+e.w,this},addScaledVector:function(t,e){return this.x+=t.x*e,this.y+=t.y*e,this.z+=t.z*e,this.w+=t.w*e,this},sub:function(t,e){return void 0!==e?(console.warn("THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(t,e)):(this.x-=t.x,this.y-=t.y,this.z-=t.z,this.w-=t.w,this)},subScalar:function(t){return this.x-=t,this.y-=t,this.z-=t,this.w-=t,this},subVectors:function(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this.z=t.z-e.z,this.w=t.w-e.w,this},multiplyScalar:function(t){return isFinite(t)?(this.x*=t,this.y*=t,this.z*=t,this.w*=t):(this.x=0,this.y=0,this.z=0,this.w=0),this},applyMatrix4:function(t){var e=this.x,r=this.y,n=this.z,i=this.w,o=t.elements;return this.x=o[0]*e+o[4]*r+o[8]*n+o[12]*i,this.y=o[1]*e+o[5]*r+o[9]*n+o[13]*i,this.z=o[2]*e+o[6]*r+o[10]*n+o[14]*i,this.w=o[3]*e+o[7]*r+o[11]*n+o[15]*i,this},divideScalar:function(t){return this.multiplyScalar(1/t)},setAxisAngleFromQuaternion:function(t){this.w=2*Math.acos(t.w);var e=Math.sqrt(1-t.w*t.w);return e<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=t.x/e,this.y=t.y/e,this.z=t.z/e),this},setAxisAngleFromRotationMatrix:function(t){var e,r,n,i,o=.01,a=.1,s=t.elements,u=s[0],l=s[4],c=s[8],h=s[1],f=s[5],d=s[9],p=s[2],v=s[6],m=s[10];if(Math.abs(l-h)<o&&Math.abs(c-p)<o&&Math.abs(d-v)<o){if(Math.abs(l+h)<a&&Math.abs(c+p)<a&&Math.abs(d+v)<a&&Math.abs(u+f+m-3)<a)return this.set(1,0,0,0),this;e=Math.PI;var g=(u+1)/2,y=(f+1)/2,_=(m+1)/2,x=(l+h)/4,b=(c+p)/4,w=(d+v)/4;return g>y&&g>_?g<o?(r=0,n=.707106781,i=.707106781):(r=Math.sqrt(g),n=x/r,i=b/r):y>_?y<o?(r=.707106781,n=0,i=.707106781):(n=Math.sqrt(y),r=x/n,i=w/n):_<o?(r=.707106781,n=.707106781,i=0):(i=Math.sqrt(_),r=b/i,n=w/i),this.set(r,n,i,e),this}var T=Math.sqrt((v-d)*(v-d)+(c-p)*(c-p)+(h-l)*(h-l));return Math.abs(T)<.001&&(T=1),this.x=(v-d)/T,this.y=(c-p)/T,this.z=(h-l)/T,this.w=Math.acos((u+f+m-1)/2),this},min:function(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this.w=Math.min(this.w,t.w),this},max:function(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this.w=Math.max(this.w,t.w),this},clamp:function(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this.z=Math.max(t.z,Math.min(e.z,this.z)),this.w=Math.max(t.w,Math.min(e.w,this.w)),this},clampScalar:function(){var t,e;return function(r,n){return void 0===t&&(t=new o,e=new o),t.set(r,r,r,r),e.set(n,n,n,n),this.clamp(t,e)}}(),floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this},dot:function(t){return this.x*t.x+this.y*t.y+this.z*t.z+this.w*t.w},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)},lengthManhattan:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)},normalize:function(){return this.divideScalar(this.length())},setLength:function(t){return this.multiplyScalar(t/this.length())},lerp:function(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this.z+=(t.z-this.z)*e,this.w+=(t.w-this.w)*e,this},lerpVectors:function(t,e,r){return this.subVectors(e,t).multiplyScalar(r).add(t)},equals:function(t){return t.x===this.x&&t.y===this.y&&t.z===this.z&&t.w===this.w},fromArray:function(t,e){return void 0===e&&(e=0),this.x=t[e],this.y=t[e+1],this.z=t[e+2],this.w=t[e+3],this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z,t[e+3]=this.w,t},fromAttribute:function(t,e,r){return void 0===r&&(r=0),e=e*t.itemSize+r,this.x=t.array[e],this.y=t.array[e+1],this.z=t.array[e+2],this.w=t.array[e+3],this}},Object.assign(a.prototype,e.prototype,{isWebGLRenderTarget:!0,setSize:function(t,e){this.width===t&&this.height===e||(this.width=t,this.height=e,this.dispose()),this.viewport.set(0,0,t,e),this.scissor.set(0,0,t,e)},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.width=t.width,this.height=t.height,this.viewport.copy(t.viewport),this.texture=t.texture.clone(),this.depthBuffer=t.depthBuffer,this.stencilBuffer=t.stencilBuffer,this.depthTexture=t.depthTexture,this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),s.prototype=Object.create(a.prototype),s.prototype.constructor=s,s.prototype.isWebGLRenderTargetCube=!0,u.prototype={constructor:u,get x(){return this._x},set x(t){this._x=t,this.onChangeCallback()},get y(){return this._y},set y(t){this._y=t,this.onChangeCallback()},get z(){return this._z},set z(t){this._z=t,this.onChangeCallback()},get w(){return this._w},set w(t){this._w=t,this.onChangeCallback()},set:function(t,e,r,n){return this._x=t,this._y=e,this._z=r,this._w=n,this.onChangeCallback(),this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._w)},copy:function(t){return this._x=t.x,this._y=t.y,this._z=t.z,this._w=t.w,this.onChangeCallback(),this},setFromEuler:function(t,e){if((t&&t.isEuler)===!1)throw new Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");var r=Math.cos(t._x/2),n=Math.cos(t._y/2),i=Math.cos(t._z/2),o=Math.sin(t._x/2),a=Math.sin(t._y/2),s=Math.sin(t._z/2),u=t.order;return"XYZ"===u?(this._x=o*n*i+r*a*s,this._y=r*a*i-o*n*s,this._z=r*n*s+o*a*i,this._w=r*n*i-o*a*s):"YXZ"===u?(this._x=o*n*i+r*a*s,this._y=r*a*i-o*n*s,this._z=r*n*s-o*a*i,this._w=r*n*i+o*a*s):"ZXY"===u?(this._x=o*n*i-r*a*s,this._y=r*a*i+o*n*s,this._z=r*n*s+o*a*i,this._w=r*n*i-o*a*s):"ZYX"===u?(this._x=o*n*i-r*a*s,this._y=r*a*i+o*n*s,this._z=r*n*s-o*a*i,this._w=r*n*i+o*a*s):"YZX"===u?(this._x=o*n*i+r*a*s,this._y=r*a*i+o*n*s,this._z=r*n*s-o*a*i,this._w=r*n*i-o*a*s):"XZY"===u&&(this._x=o*n*i-r*a*s,this._y=r*a*i-o*n*s,this._z=r*n*s+o*a*i,this._w=r*n*i+o*a*s),e!==!1&&this.onChangeCallback(),this},setFromAxisAngle:function(t,e){var r=e/2,n=Math.sin(r);return this._x=t.x*n,this._y=t.y*n,this._z=t.z*n,this._w=Math.cos(r),this.onChangeCallback(),this},setFromRotationMatrix:function(t){var e,r=t.elements,n=r[0],i=r[4],o=r[8],a=r[1],s=r[5],u=r[9],l=r[2],c=r[6],h=r[10],f=n+s+h;return f>0?(e=.5/Math.sqrt(f+1),this._w=.25/e,this._x=(c-u)*e,this._y=(o-l)*e,this._z=(a-i)*e):n>s&&n>h?(e=2*Math.sqrt(1+n-s-h),this._w=(c-u)/e,this._x=.25*e,this._y=(i+a)/e,this._z=(o+l)/e):s>h?(e=2*Math.sqrt(1+s-n-h),this._w=(o-l)/e,this._x=(i+a)/e,this._y=.25*e,this._z=(u+c)/e):(e=2*Math.sqrt(1+h-n-s),this._w=(a-i)/e,this._x=(o+l)/e,this._y=(u+c)/e,this._z=.25*e),this.onChangeCallback(),this},setFromUnitVectors:function(){var t,e,r=1e-6;return function(n,i){return void 0===t&&(t=new l),e=n.dot(i)+1,e<r?(e=0,Math.abs(n.x)>Math.abs(n.z)?t.set(-n.y,n.x,0):t.set(0,-n.z,n.y)):t.crossVectors(n,i),this._x=t.x,this._y=t.y,this._z=t.z,this._w=e,this.normalize()}}(),inverse:function(){return this.conjugate().normalize()},conjugate:function(){return this._x*=-1,this._y*=-1,this._z*=-1,this.onChangeCallback(),this},dot:function(t){return this._x*t._x+this._y*t._y+this._z*t._z+this._w*t._w},lengthSq:function(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w},length:function(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)},normalize:function(){var t=this.length();return 0===t?(this._x=0,this._y=0,this._z=0,this._w=1):(t=1/t,this._x=this._x*t,this._y=this._y*t,this._z=this._z*t,this._w=this._w*t),this.onChangeCallback(),this},multiply:function(t,e){return void 0!==e?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(t,e)):this.multiplyQuaternions(this,t)},premultiply:function(t){return this.multiplyQuaternions(t,this)},multiplyQuaternions:function(t,e){var r=t._x,n=t._y,i=t._z,o=t._w,a=e._x,s=e._y,u=e._z,l=e._w;return this._x=r*l+o*a+n*u-i*s,this._y=n*l+o*s+i*a-r*u,this._z=i*l+o*u+r*s-n*a,this._w=o*l-r*a-n*s-i*u,this.onChangeCallback(),this},slerp:function(t,e){if(0===e)return this;if(1===e)return this.copy(t);var r=this._x,n=this._y,i=this._z,o=this._w,a=o*t._w+r*t._x+n*t._y+i*t._z;if(a<0?(this._w=-t._w,this._x=-t._x,this._y=-t._y,this._z=-t._z,a=-a):this.copy(t),a>=1)return this._w=o,this._x=r,this._y=n,this._z=i,this;var s=Math.sqrt(1-a*a);if(Math.abs(s)<.001)return this._w=.5*(o+this._w),this._x=.5*(r+this._x),this._y=.5*(n+this._y),this._z=.5*(i+this._z),this;var u=Math.atan2(s,a),l=Math.sin((1-e)*u)/s,c=Math.sin(e*u)/s;return this._w=o*l+this._w*c,this._x=r*l+this._x*c,this._y=n*l+this._y*c,this._z=i*l+this._z*c,this.onChangeCallback(),this},equals:function(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._w===this._w},fromArray:function(t,e){return void 0===e&&(e=0),this._x=t[e],this._y=t[e+1],this._z=t[e+2],this._w=t[e+3],this.onChangeCallback(),this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this._x,t[e+1]=this._y,t[e+2]=this._z,t[e+3]=this._w,t},onChange:function(t){return this.onChangeCallback=t,this},onChangeCallback:function(){}},Object.assign(u,{slerp:function(t,e,r,n){return r.copy(t).slerp(e,n)},slerpFlat:function(t,e,r,n,i,o,a){var s=r[n+0],u=r[n+1],l=r[n+2],c=r[n+3],h=i[o+0],f=i[o+1],d=i[o+2],p=i[o+3];if(c!==p||s!==h||u!==f||l!==d){var v=1-a,m=s*h+u*f+l*d+c*p,g=m>=0?1:-1,y=1-m*m;if(y>Number.EPSILON){var _=Math.sqrt(y),x=Math.atan2(_,m*g);v=Math.sin(v*x)/_,a=Math.sin(a*x)/_}var b=a*g;if(s=s*v+h*b,u=u*v+f*b,l=l*v+d*b,c=c*v+p*b,v===1-a){var w=1/Math.sqrt(s*s+u*u+l*l+c*c);s*=w,u*=w,l*=w,c*=w}}t[e]=s,t[e+1]=u,t[e+2]=l,t[e+3]=c}}),l.prototype={constructor:l,isVector3:!0,set:function(t,e,r){return this.x=t,this.y=e,this.z=r,this},setScalar:function(t){return this.x=t,this.y=t,this.z=t,this},setX:function(t){return this.x=t,this},setY:function(t){return this.y=t,this},setZ:function(t){return this.z=t,this},setComponent:function(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;case 2:this.z=e;break;default:throw new Error("index is out of range: "+t)}return this},getComponent:function(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+t)}},clone:function(){return new this.constructor(this.x,this.y,this.z)},copy:function(t){return this.x=t.x,this.y=t.y,this.z=t.z,this},add:function(t,e){return void 0!==e?(console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(t,e)):(this.x+=t.x,this.y+=t.y,this.z+=t.z,this)},addScalar:function(t){return this.x+=t,this.y+=t,
this.z+=t,this},addVectors:function(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this.z=t.z+e.z,this},addScaledVector:function(t,e){return this.x+=t.x*e,this.y+=t.y*e,this.z+=t.z*e,this},sub:function(t,e){return void 0!==e?(console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(t,e)):(this.x-=t.x,this.y-=t.y,this.z-=t.z,this)},subScalar:function(t){return this.x-=t,this.y-=t,this.z-=t,this},subVectors:function(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this.z=t.z-e.z,this},multiply:function(t,e){return void 0!==e?(console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(t,e)):(this.x*=t.x,this.y*=t.y,this.z*=t.z,this)},multiplyScalar:function(t){return isFinite(t)?(this.x*=t,this.y*=t,this.z*=t):(this.x=0,this.y=0,this.z=0),this},multiplyVectors:function(t,e){return this.x=t.x*e.x,this.y=t.y*e.y,this.z=t.z*e.z,this},applyEuler:function(){var t;return function(e){return(e&&e.isEuler)===!1&&console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order."),void 0===t&&(t=new u),this.applyQuaternion(t.setFromEuler(e))}}(),applyAxisAngle:function(){var t;return function(e,r){return void 0===t&&(t=new u),this.applyQuaternion(t.setFromAxisAngle(e,r))}}(),applyMatrix3:function(t){var e=this.x,r=this.y,n=this.z,i=t.elements;return this.x=i[0]*e+i[3]*r+i[6]*n,this.y=i[1]*e+i[4]*r+i[7]*n,this.z=i[2]*e+i[5]*r+i[8]*n,this},applyMatrix4:function(t){var e=this.x,r=this.y,n=this.z,i=t.elements;return this.x=i[0]*e+i[4]*r+i[8]*n+i[12],this.y=i[1]*e+i[5]*r+i[9]*n+i[13],this.z=i[2]*e+i[6]*r+i[10]*n+i[14],this},applyProjection:function(t){var e=this.x,r=this.y,n=this.z,i=t.elements,o=1/(i[3]*e+i[7]*r+i[11]*n+i[15]);return this.x=(i[0]*e+i[4]*r+i[8]*n+i[12])*o,this.y=(i[1]*e+i[5]*r+i[9]*n+i[13])*o,this.z=(i[2]*e+i[6]*r+i[10]*n+i[14])*o,this},applyQuaternion:function(t){var e=this.x,r=this.y,n=this.z,i=t.x,o=t.y,a=t.z,s=t.w,u=s*e+o*n-a*r,l=s*r+a*e-i*n,c=s*n+i*r-o*e,h=-i*e-o*r-a*n;return this.x=u*s+h*-i+l*-a-c*-o,this.y=l*s+h*-o+c*-i-u*-a,this.z=c*s+h*-a+u*-o-l*-i,this},project:function(){var t;return function(e){return void 0===t&&(t=new c),t.multiplyMatrices(e.projectionMatrix,t.getInverse(e.matrixWorld)),this.applyProjection(t)}}(),unproject:function(){var t;return function(e){return void 0===t&&(t=new c),t.multiplyMatrices(e.matrixWorld,t.getInverse(e.projectionMatrix)),this.applyProjection(t)}}(),transformDirection:function(t){var e=this.x,r=this.y,n=this.z,i=t.elements;return this.x=i[0]*e+i[4]*r+i[8]*n,this.y=i[1]*e+i[5]*r+i[9]*n,this.z=i[2]*e+i[6]*r+i[10]*n,this.normalize()},divide:function(t){return this.x/=t.x,this.y/=t.y,this.z/=t.z,this},divideScalar:function(t){return this.multiplyScalar(1/t)},min:function(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this},max:function(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this},clamp:function(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this.z=Math.max(t.z,Math.min(e.z,this.z)),this},clampScalar:function(){var t,e;return function(r,n){return void 0===t&&(t=new l,e=new l),t.set(r,r,r),e.set(n,n,n),this.clamp(t,e)}}(),clampLength:function(t,e){var r=this.length();return this.multiplyScalar(Math.max(t,Math.min(e,r))/r)},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},dot:function(t){return this.x*t.x+this.y*t.y+this.z*t.z},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},lengthManhattan:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)},normalize:function(){return this.divideScalar(this.length())},setLength:function(t){return this.multiplyScalar(t/this.length())},lerp:function(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this.z+=(t.z-this.z)*e,this},lerpVectors:function(t,e,r){return this.subVectors(e,t).multiplyScalar(r).add(t)},cross:function(t,e){if(void 0!==e)return console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(t,e);var r=this.x,n=this.y,i=this.z;return this.x=n*t.z-i*t.y,this.y=i*t.x-r*t.z,this.z=r*t.y-n*t.x,this},crossVectors:function(t,e){var r=t.x,n=t.y,i=t.z,o=e.x,a=e.y,s=e.z;return this.x=n*s-i*a,this.y=i*o-r*s,this.z=r*a-n*o,this},projectOnVector:function(t){var e=t.dot(this)/t.lengthSq();return this.copy(t).multiplyScalar(e)},projectOnPlane:function(){var t;return function(e){return void 0===t&&(t=new l),t.copy(this).projectOnVector(e),this.sub(t)}}(),reflect:function(){var t;return function(e){return void 0===t&&(t=new l),this.sub(t.copy(e).multiplyScalar(2*this.dot(e)))}}(),angleTo:function(t){var e=this.dot(t)/Math.sqrt(this.lengthSq()*t.lengthSq());return Math.acos(ka.clamp(e,-1,1))},distanceTo:function(t){return Math.sqrt(this.distanceToSquared(t))},distanceToSquared:function(t){var e=this.x-t.x,r=this.y-t.y,n=this.z-t.z;return e*e+r*r+n*n},distanceToManhattan:function(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)+Math.abs(this.z-t.z)},setFromSpherical:function(t){var e=Math.sin(t.phi)*t.radius;return this.x=e*Math.sin(t.theta),this.y=Math.cos(t.phi)*t.radius,this.z=e*Math.cos(t.theta),this},setFromMatrixPosition:function(t){return this.setFromMatrixColumn(t,3)},setFromMatrixScale:function(t){var e=this.setFromMatrixColumn(t,0).length(),r=this.setFromMatrixColumn(t,1).length(),n=this.setFromMatrixColumn(t,2).length();return this.x=e,this.y=r,this.z=n,this},setFromMatrixColumn:function(t,e){if("number"==typeof t){console.warn("THREE.Vector3: setFromMatrixColumn now expects ( matrix, index ).");var r=t;t=e,e=r}return this.fromArray(t.elements,4*e)},equals:function(t){return t.x===this.x&&t.y===this.y&&t.z===this.z},fromArray:function(t,e){return void 0===e&&(e=0),this.x=t[e],this.y=t[e+1],this.z=t[e+2],this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z,t},fromAttribute:function(t,e,r){return void 0===r&&(r=0),e=e*t.itemSize+r,this.x=t.array[e],this.y=t.array[e+1],this.z=t.array[e+2],this}},c.prototype={constructor:c,isMatrix4:!0,set:function(t,e,r,n,i,o,a,s,u,l,c,h,f,d,p,v){var m=this.elements;return m[0]=t,m[4]=e,m[8]=r,m[12]=n,m[1]=i,m[5]=o,m[9]=a,m[13]=s,m[2]=u,m[6]=l,m[10]=c,m[14]=h,m[3]=f,m[7]=d,m[11]=p,m[15]=v,this},identity:function(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this},clone:function(){return(new c).fromArray(this.elements)},copy:function(t){return this.elements.set(t.elements),this},copyPosition:function(t){var e=this.elements,r=t.elements;return e[12]=r[12],e[13]=r[13],e[14]=r[14],this},extractBasis:function(t,e,r){return t.setFromMatrixColumn(this,0),e.setFromMatrixColumn(this,1),r.setFromMatrixColumn(this,2),this},makeBasis:function(t,e,r){return this.set(t.x,e.x,r.x,0,t.y,e.y,r.y,0,t.z,e.z,r.z,0,0,0,0,1),this},extractRotation:function(){var t;return function(e){void 0===t&&(t=new l);var r=this.elements,n=e.elements,i=1/t.setFromMatrixColumn(e,0).length(),o=1/t.setFromMatrixColumn(e,1).length(),a=1/t.setFromMatrixColumn(e,2).length();return r[0]=n[0]*i,r[1]=n[1]*i,r[2]=n[2]*i,r[4]=n[4]*o,r[5]=n[5]*o,r[6]=n[6]*o,r[8]=n[8]*a,r[9]=n[9]*a,r[10]=n[10]*a,this}}(),makeRotationFromEuler:function(t){(t&&t.isEuler)===!1&&console.error("THREE.Matrix: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");var e=this.elements,r=t.x,n=t.y,i=t.z,o=Math.cos(r),a=Math.sin(r),s=Math.cos(n),u=Math.sin(n),l=Math.cos(i),c=Math.sin(i);if("XYZ"===t.order){var h=o*l,f=o*c,d=a*l,p=a*c;e[0]=s*l,e[4]=-s*c,e[8]=u,e[1]=f+d*u,e[5]=h-p*u,e[9]=-a*s,e[2]=p-h*u,e[6]=d+f*u,e[10]=o*s}else if("YXZ"===t.order){var v=s*l,m=s*c,g=u*l,y=u*c;e[0]=v+y*a,e[4]=g*a-m,e[8]=o*u,e[1]=o*c,e[5]=o*l,e[9]=-a,e[2]=m*a-g,e[6]=y+v*a,e[10]=o*s}else if("ZXY"===t.order){var v=s*l,m=s*c,g=u*l,y=u*c;e[0]=v-y*a,e[4]=-o*c,e[8]=g+m*a,e[1]=m+g*a,e[5]=o*l,e[9]=y-v*a,e[2]=-o*u,e[6]=a,e[10]=o*s}else if("ZYX"===t.order){var h=o*l,f=o*c,d=a*l,p=a*c;e[0]=s*l,e[4]=d*u-f,e[8]=h*u+p,e[1]=s*c,e[5]=p*u+h,e[9]=f*u-d,e[2]=-u,e[6]=a*s,e[10]=o*s}else if("YZX"===t.order){var _=o*s,x=o*u,b=a*s,w=a*u;e[0]=s*l,e[4]=w-_*c,e[8]=b*c+x,e[1]=c,e[5]=o*l,e[9]=-a*l,e[2]=-u*l,e[6]=x*c+b,e[10]=_-w*c}else if("XZY"===t.order){var _=o*s,x=o*u,b=a*s,w=a*u;e[0]=s*l,e[4]=-c,e[8]=u*l,e[1]=_*c+w,e[5]=o*l,e[9]=x*c-b,e[2]=b*c-x,e[6]=a*l,e[10]=w*c+_}return e[3]=0,e[7]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this},makeRotationFromQuaternion:function(t){var e=this.elements,r=t.x,n=t.y,i=t.z,o=t.w,a=r+r,s=n+n,u=i+i,l=r*a,c=r*s,h=r*u,f=n*s,d=n*u,p=i*u,v=o*a,m=o*s,g=o*u;return e[0]=1-(f+p),e[4]=c-g,e[8]=h+m,e[1]=c+g,e[5]=1-(l+p),e[9]=d-v,e[2]=h-m,e[6]=d+v,e[10]=1-(l+f),e[3]=0,e[7]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this},lookAt:function(){var t,e,r;return function(n,i,o){void 0===t&&(t=new l,e=new l,r=new l);var a=this.elements;return r.subVectors(n,i).normalize(),0===r.lengthSq()&&(r.z=1),t.crossVectors(o,r).normalize(),0===t.lengthSq()&&(r.z+=1e-4,t.crossVectors(o,r).normalize()),e.crossVectors(r,t),a[0]=t.x,a[4]=e.x,a[8]=r.x,a[1]=t.y,a[5]=e.y,a[9]=r.y,a[2]=t.z,a[6]=e.z,a[10]=r.z,this}}(),multiply:function(t,e){return void 0!==e?(console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(t,e)):this.multiplyMatrices(this,t)},premultiply:function(t){return this.multiplyMatrices(t,this)},multiplyMatrices:function(t,e){var r=t.elements,n=e.elements,i=this.elements,o=r[0],a=r[4],s=r[8],u=r[12],l=r[1],c=r[5],h=r[9],f=r[13],d=r[2],p=r[6],v=r[10],m=r[14],g=r[3],y=r[7],_=r[11],x=r[15],b=n[0],w=n[4],T=n[8],E=n[12],S=n[1],M=n[5],A=n[9],P=n[13],C=n[2],O=n[6],R=n[10],D=n[14],L=n[3],I=n[7],F=n[11],N=n[15];return i[0]=o*b+a*S+s*C+u*L,i[4]=o*w+a*M+s*O+u*I,i[8]=o*T+a*A+s*R+u*F,i[12]=o*E+a*P+s*D+u*N,i[1]=l*b+c*S+h*C+f*L,i[5]=l*w+c*M+h*O+f*I,i[9]=l*T+c*A+h*R+f*F,i[13]=l*E+c*P+h*D+f*N,i[2]=d*b+p*S+v*C+m*L,i[6]=d*w+p*M+v*O+m*I,i[10]=d*T+p*A+v*R+m*F,i[14]=d*E+p*P+v*D+m*N,i[3]=g*b+y*S+_*C+x*L,i[7]=g*w+y*M+_*O+x*I,i[11]=g*T+y*A+_*R+x*F,i[15]=g*E+y*P+_*D+x*N,this},multiplyToArray:function(t,e,r){var n=this.elements;return this.multiplyMatrices(t,e),r[0]=n[0],r[1]=n[1],r[2]=n[2],r[3]=n[3],r[4]=n[4],r[5]=n[5],r[6]=n[6],r[7]=n[7],r[8]=n[8],r[9]=n[9],r[10]=n[10],r[11]=n[11],r[12]=n[12],r[13]=n[13],r[14]=n[14],r[15]=n[15],this},multiplyScalar:function(t){var e=this.elements;return e[0]*=t,e[4]*=t,e[8]*=t,e[12]*=t,e[1]*=t,e[5]*=t,e[9]*=t,e[13]*=t,e[2]*=t,e[6]*=t,e[10]*=t,e[14]*=t,e[3]*=t,e[7]*=t,e[11]*=t,e[15]*=t,this},applyToVector3Array:function(){var t;return function(e,r,n){void 0===t&&(t=new l),void 0===r&&(r=0),void 0===n&&(n=e.length);for(var i=0,o=r;i<n;i+=3,o+=3)t.fromArray(e,o),t.applyMatrix4(this),t.toArray(e,o);return e}}(),applyToBuffer:function(){var t;return function(e,r,n){void 0===t&&(t=new l),void 0===r&&(r=0),void 0===n&&(n=e.length/e.itemSize);for(var i=0,o=r;i<n;i++,o++)t.x=e.getX(o),t.y=e.getY(o),t.z=e.getZ(o),t.applyMatrix4(this),e.setXYZ(o,t.x,t.y,t.z);return e}}(),determinant:function(){var t=this.elements,e=t[0],r=t[4],n=t[8],i=t[12],o=t[1],a=t[5],s=t[9],u=t[13],l=t[2],c=t[6],h=t[10],f=t[14],d=t[3],p=t[7],v=t[11],m=t[15];return d*(+i*s*c-n*u*c-i*a*h+r*u*h+n*a*f-r*s*f)+p*(+e*s*f-e*u*h+i*o*h-n*o*f+n*u*l-i*s*l)+v*(+e*u*c-e*a*f-i*o*c+r*o*f+i*a*l-r*u*l)+m*(-n*a*l-e*s*c+e*a*h+n*o*c-r*o*h+r*s*l)},transpose:function(){var t,e=this.elements;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this},flattenToArrayOffset:function(t,e){return console.warn("THREE.Matrix3: .flattenToArrayOffset is deprecated - just use .toArray instead."),this.toArray(t,e)},getPosition:function(){var t;return function(){return void 0===t&&(t=new l),console.warn("THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead."),t.setFromMatrixColumn(this,3)}}(),setPosition:function(t){var e=this.elements;return e[12]=t.x,e[13]=t.y,e[14]=t.z,this},getInverse:function(t,e){var r=this.elements,n=t.elements,i=n[0],o=n[1],a=n[2],s=n[3],u=n[4],l=n[5],c=n[6],h=n[7],f=n[8],d=n[9],p=n[10],v=n[11],m=n[12],g=n[13],y=n[14],_=n[15],x=d*y*h-g*p*h+g*c*v-l*y*v-d*c*_+l*p*_,b=m*p*h-f*y*h-m*c*v+u*y*v+f*c*_-u*p*_,w=f*g*h-m*d*h+m*l*v-u*g*v-f*l*_+u*d*_,T=m*d*c-f*g*c-m*l*p+u*g*p+f*l*y-u*d*y,E=i*x+o*b+a*w+s*T;if(0===E){var S="THREE.Matrix4.getInverse(): can't invert matrix, determinant is 0";if(e===!0)throw new Error(S);return console.warn(S),this.identity()}var M=1/E;return r[0]=x*M,r[1]=(g*p*s-d*y*s-g*a*v+o*y*v+d*a*_-o*p*_)*M,r[2]=(l*y*s-g*c*s+g*a*h-o*y*h-l*a*_+o*c*_)*M,r[3]=(d*c*s-l*p*s-d*a*h+o*p*h+l*a*v-o*c*v)*M,r[4]=b*M,r[5]=(f*y*s-m*p*s+m*a*v-i*y*v-f*a*_+i*p*_)*M,r[6]=(m*c*s-u*y*s-m*a*h+i*y*h+u*a*_-i*c*_)*M,r[7]=(u*p*s-f*c*s+f*a*h-i*p*h-u*a*v+i*c*v)*M,r[8]=w*M,r[9]=(m*d*s-f*g*s-m*o*v+i*g*v+f*o*_-i*d*_)*M,r[10]=(u*g*s-m*l*s+m*o*h-i*g*h-u*o*_+i*l*_)*M,r[11]=(f*l*s-u*d*s-f*o*h+i*d*h+u*o*v-i*l*v)*M,r[12]=T*M,r[13]=(f*g*a-m*d*a+m*o*p-i*g*p-f*o*y+i*d*y)*M,r[14]=(m*l*a-u*g*a-m*o*c+i*g*c+u*o*y-i*l*y)*M,r[15]=(u*d*a-f*l*a+f*o*c-i*d*c-u*o*p+i*l*p)*M,this},scale:function(t){var e=this.elements,r=t.x,n=t.y,i=t.z;return e[0]*=r,e[4]*=n,e[8]*=i,e[1]*=r,e[5]*=n,e[9]*=i,e[2]*=r,e[6]*=n,e[10]*=i,e[3]*=r,e[7]*=n,e[11]*=i,this},getMaxScaleOnAxis:function(){var t=this.elements,e=t[0]*t[0]+t[1]*t[1]+t[2]*t[2],r=t[4]*t[4]+t[5]*t[5]+t[6]*t[6],n=t[8]*t[8]+t[9]*t[9]+t[10]*t[10];return Math.sqrt(Math.max(e,r,n))},makeTranslation:function(t,e,r){return this.set(1,0,0,t,0,1,0,e,0,0,1,r,0,0,0,1),this},makeRotationX:function(t){var e=Math.cos(t),r=Math.sin(t);return this.set(1,0,0,0,0,e,-r,0,0,r,e,0,0,0,0,1),this},makeRotationY:function(t){var e=Math.cos(t),r=Math.sin(t);return this.set(e,0,r,0,0,1,0,0,-r,0,e,0,0,0,0,1),this},makeRotationZ:function(t){var e=Math.cos(t),r=Math.sin(t);return this.set(e,-r,0,0,r,e,0,0,0,0,1,0,0,0,0,1),this},makeRotationAxis:function(t,e){var r=Math.cos(e),n=Math.sin(e),i=1-r,o=t.x,a=t.y,s=t.z,u=i*o,l=i*a;return this.set(u*o+r,u*a-n*s,u*s+n*a,0,u*a+n*s,l*a+r,l*s-n*o,0,u*s-n*a,l*s+n*o,i*s*s+r,0,0,0,0,1),this},makeScale:function(t,e,r){return this.set(t,0,0,0,0,e,0,0,0,0,r,0,0,0,0,1),this},compose:function(t,e,r){return this.makeRotationFromQuaternion(e),this.scale(r),this.setPosition(t),this},decompose:function(){var t,e;return function(r,n,i){void 0===t&&(t=new l,e=new c);var o=this.elements,a=t.set(o[0],o[1],o[2]).length(),s=t.set(o[4],o[5],o[6]).length(),u=t.set(o[8],o[9],o[10]).length(),h=this.determinant();h<0&&(a=-a),r.x=o[12],r.y=o[13],r.z=o[14],e.elements.set(this.elements);var f=1/a,d=1/s,p=1/u;return e.elements[0]*=f,e.elements[1]*=f,e.elements[2]*=f,e.elements[4]*=d,e.elements[5]*=d,e.elements[6]*=d,e.elements[8]*=p,e.elements[9]*=p,e.elements[10]*=p,n.setFromRotationMatrix(e),i.x=a,i.y=s,i.z=u,this}}(),makeFrustum:function(t,e,r,n,i,o){var a=this.elements,s=2*i/(e-t),u=2*i/(n-r),l=(e+t)/(e-t),c=(n+r)/(n-r),h=-(o+i)/(o-i),f=-2*o*i/(o-i);return a[0]=s,a[4]=0,a[8]=l,a[12]=0,a[1]=0,a[5]=u,a[9]=c,a[13]=0,a[2]=0,a[6]=0,a[10]=h,a[14]=f,a[3]=0,a[7]=0,a[11]=-1,a[15]=0,this},makePerspective:function(t,e,r,n){var i=r*Math.tan(ka.DEG2RAD*t*.5),o=-i,a=o*e,s=i*e;return this.makeFrustum(a,s,o,i,r,n)},makeOrthographic:function(t,e,r,n,i,o){var a=this.elements,s=1/(e-t),u=1/(r-n),l=1/(o-i),c=(e+t)*s,h=(r+n)*u,f=(o+i)*l;return a[0]=2*s,a[4]=0,a[8]=0,a[12]=-c,a[1]=0,a[5]=2*u,a[9]=0,a[13]=-h,a[2]=0,a[6]=0,a[10]=-2*l,a[14]=-f,a[3]=0,a[7]=0,a[11]=0,a[15]=1,this},equals:function(t){for(var e=this.elements,r=t.elements,n=0;n<16;n++)if(e[n]!==r[n])return!1;return!0},fromArray:function(t,e){void 0===e&&(e=0);for(var r=0;r<16;r++)this.elements[r]=t[r+e];return this},toArray:function(t,e){void 0===t&&(t=[]),void 0===e&&(e=0);var r=this.elements;return t[e]=r[0],t[e+1]=r[1],t[e+2]=r[2],t[e+3]=r[3],t[e+4]=r[4],t[e+5]=r[5],t[e+6]=r[6],t[e+7]=r[7],t[e+8]=r[8],t[e+9]=r[9],t[e+10]=r[10],t[e+11]=r[11],t[e+12]=r[12],t[e+13]=r[13],t[e+14]=r[14],t[e+15]=r[15],t}},h.prototype=Object.create(n.prototype),h.prototype.constructor=h,h.prototype.isCubeTexture=!0,Object.defineProperty(h.prototype,"images",{get:function(){return this.image},set:function(t){this.image=t}});var Ba=new n,za=new h,ja=[],Ga=[];G.prototype.setValue=function(t,e){for(var r=this.seq,n=0,i=r.length;n!==i;++n){var o=r[n];o.setValue(t,e[o.id])}};var Ha=/([\w\d_]+)(\])?(\[|\.)?/g;V.prototype.setValue=function(t,e,r){var n=this.map[e];void 0!==n&&n.setValue(t,r,this.renderer)},V.prototype.set=function(t,e,r){var n=this.map[r];void 0!==n&&n.setValue(t,e[r],this.renderer)},V.prototype.setOptional=function(t,e,r){var n=e[r];void 0!==n&&this.setValue(t,r,n)},V.upload=function(t,e,r,n){for(var i=0,o=e.length;i!==o;++i){var a=e[i],s=r[a.id];s.needsUpdate!==!1&&a.setValue(t,s.value,n)}},V.seqWithValue=function(t,e){for(var r=[],n=0,i=t.length;n!==i;++n){var o=t[n];o.id in e&&r.push(o)}return r};var Xa={merge:function(t){for(var e={},r=0;r<t.length;r++){var n=this.clone(t[r]);for(var i in n)e[i]=n[i]}return e},clone:function(t){var e={};for(var r in t){e[r]={};for(var n in t[r]){var i=t[r][n];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture)?e[r][n]=i.clone():Array.isArray(i)?e[r][n]=i.slice():e[r][n]=i}}return e}},Va="#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vUv ).g;\n#endif\n",Wa="#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif\n",Ya="#ifdef ALPHATEST\n\tif ( diffuseColor.a < ALPHATEST ) discard;\n#endif\n",qa="#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_ENVMAP ) && defined( PHYSICAL )\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.specularRoughness );\n\t#endif\n#endif\n",Za="#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif",Ka="\nvec3 transformed = vec3( position );\n",Ja="\nvec3 objectNormal = vec3( normal );\n",Qa="bool testLightInRange( const in float lightDistance, const in float cutoffDistance ) {\n\treturn any( bvec2( cutoffDistance == 0.0, lightDistance < cutoffDistance ) );\n}\nfloat punctualLightIntensityToIrradianceFactor( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n\t\tif( decayExponent > 0.0 ) {\n#if defined ( PHYSICALLY_CORRECT_LIGHTS )\n\t\t\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\t\t\tfloat maxDistanceCutoffFactor = pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t\t\treturn distanceFalloff * maxDistanceCutoffFactor;\n#else\n\t\t\treturn pow( saturate( -lightDistance / cutoffDistance + 1.0 ), decayExponent );\n#endif\n\t\t}\n\t\treturn 1.0;\n}\nvec3 BRDF_Diffuse_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 specularColor, const in float dotLH ) {\n\tfloat fresnel = exp2( ( -5.55473 * dotLH - 6.98316 ) * dotLH );\n\treturn ( 1.0 - specularColor ) * fresnel + specularColor;\n}\nfloat G_GGX_Smith( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gl = dotNL + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\tfloat gv = dotNV + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\treturn 1.0 / ( gl * gv );\n}\nfloat G_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\nvec3 BRDF_Specular_GGX( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float roughness ) {\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\n\tfloat dotNL = saturate( dot( geometry.normal, incidentLight.direction ) );\n\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\tfloat D = D_GGX( alpha, dotNH );\n\treturn F * ( G * D );\n}\nvec3 BRDF_Specular_GGX_Environment( const in GeometricContext geometry, const in vec3 specularColor, const in float roughness ) {\n\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\tvec2 AB = vec2( -1.04, 1.04 ) * a004 + r.zw;\n\treturn specularColor * AB.x + AB.y;\n}\nfloat G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_Specular_BlinnPhong( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\n\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n}\nfloat GGXRoughnessToBlinnExponent( const in float ggxRoughness ) {\n\treturn ( 2.0 / pow2( ggxRoughness + 0.0001 ) - 2.0 );\n}\nfloat BlinnExponentToGGXRoughness( const in float blinnExponent ) {\n\treturn sqrt( 2.0 / ( blinnExponent + 2.0 ) );\n}\n",$a="#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vUv );\n\t\tvec2 dSTdy = dFdy( vUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy ) {\n\t\tvec3 vSigmaX = dFdx( surf_pos );\n\t\tvec3 vSigmaY = dFdy( surf_pos );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 );\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif\n",ts="#if NUM_CLIPPING_PLANES > 0\n\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; ++ i ) {\n\t\tvec4 plane = clippingPlanes[ i ];\n\t\tif ( dot( vViewPosition, plane.xyz ) > plane.w ) discard;\n\t}\n\t\t\n\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\tbool clipped = true;\n\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; ++ i ) {\n\t\t\tvec4 plane = clippingPlanes[ i ];\n\t\t\tclipped = ( dot( vViewPosition, plane.xyz ) > plane.w ) && clipped;\n\t\t}\n\t\tif ( clipped ) discard;\n\t\n\t#endif\n#endif\n",es="#if NUM_CLIPPING_PLANES > 0\n\t#if ! defined( PHYSICAL ) && ! defined( PHONG )\n\t\tvarying vec3 vViewPosition;\n\t#endif\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif\n",rs="#if NUM_CLIPPING_PLANES > 0 && ! defined( PHYSICAL ) && ! defined( PHONG )\n\tvarying vec3 vViewPosition;\n#endif\n",ns="#if NUM_CLIPPING_PLANES > 0 && ! defined( PHYSICAL ) && ! defined( PHONG )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n",is="#ifdef USE_COLOR\n\tdiffuseColor.rgb *= vColor;\n#endif",os="#ifdef USE_COLOR\n\tvarying vec3 vColor;\n#endif\n",as="#ifdef USE_COLOR\n\tvarying vec3 vColor;\n#endif",ss="#ifdef USE_COLOR\n\tvColor.xyz = color.xyz;\n#endif",us="#define PI 3.14159265359\n#define PI2 6.28318530718\n#define RECIPROCAL_PI 0.31830988618\n#define RECIPROCAL_PI2 0.15915494\n#define LOG2 1.442695\n#define EPSILON 1e-6\n#define saturate(a) clamp( a, 0.0, 1.0 )\n#define whiteCompliment(a) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract(sin(sn) * c);\n}\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\nstruct GeometricContext {\n\tvec3 position;\n\tvec3 normal;\n\tvec3 viewDir;\n};\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nvec3 projectOnPlane(in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\tfloat distance = dot( planeNormal, point - pointOnPlane );\n\treturn - distance * planeNormal + point;\n}\nfloat sideOfPlane( in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn sign( dot( point - pointOnPlane, planeNormal ) );\n}\nvec3 linePlaneIntersect( in vec3 pointOnLine, in vec3 lineDirection, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn lineDirection * ( dot( planeNormal, pointOnPlane - pointOnLine ) / dot( planeNormal, lineDirection ) ) + pointOnLine;\n}\n",ls="#ifdef ENVMAP_TYPE_CUBE_UV\n#define cubeUV_textureSize (1024.0)\nint getFaceFromDirection(vec3 direction) {\n\tvec3 absDirection = abs(direction);\n\tint face = -1;\n\tif( absDirection.x > absDirection.z ) {\n\t\tif(absDirection.x > absDirection.y )\n\t\t\tface = direction.x > 0.0 ? 0 : 3;\n\t\telse\n\t\t\tface = direction.y > 0.0 ? 1 : 4;\n\t}\n\telse {\n\t\tif(absDirection.z > absDirection.y )\n\t\t\tface = direction.z > 0.0 ? 2 : 5;\n\t\telse\n\t\t\tface = direction.y > 0.0 ? 1 : 4;\n\t}\n\treturn face;\n}\n#define cubeUV_maxLods1  (log2(cubeUV_textureSize*0.25) - 1.0)\n#define cubeUV_rangeClamp (exp2((6.0 - 1.0) * 2.0))\nvec2 MipLevelInfo( vec3 vec, float roughnessLevel, float roughness ) {\n\tfloat scale = exp2(cubeUV_maxLods1 - roughnessLevel);\n\tfloat dxRoughness = dFdx(roughness);\n\tfloat dyRoughness = dFdy(roughness);\n\tvec3 dx = dFdx( vec * scale * dxRoughness );\n\tvec3 dy = dFdy( vec * scale * dyRoughness );\n\tfloat d = max( dot( dx, dx ), dot( dy, dy ) );\n\td = clamp(d, 1.0, cubeUV_rangeClamp);\n\tfloat mipLevel = 0.5 * log2(d);\n\treturn vec2(floor(mipLevel), fract(mipLevel));\n}\n#define cubeUV_maxLods2 (log2(cubeUV_textureSize*0.25) - 2.0)\n#define cubeUV_rcpTextureSize (1.0 / cubeUV_textureSize)\nvec2 getCubeUV(vec3 direction, float roughnessLevel, float mipLevel) {\n\tmipLevel = roughnessLevel > cubeUV_maxLods2 - 3.0 ? 0.0 : mipLevel;\n\tfloat a = 16.0 * cubeUV_rcpTextureSize;\n\tvec2 exp2_packed = exp2( vec2( roughnessLevel, mipLevel ) );\n\tvec2 rcp_exp2_packed = vec2( 1.0 ) / exp2_packed;\n\tfloat powScale = exp2_packed.x * exp2_packed.y;\n\tfloat scale = rcp_exp2_packed.x * rcp_exp2_packed.y * 0.25;\n\tfloat mipOffset = 0.75*(1.0 - rcp_exp2_packed.y) * rcp_exp2_packed.x;\n\tbool bRes = mipLevel == 0.0;\n\tscale =  bRes && (scale < a) ? a : scale;\n\tvec3 r;\n\tvec2 offset;\n\tint face = getFaceFromDirection(direction);\n\tfloat rcpPowScale = 1.0 / powScale;\n\tif( face == 0) {\n\t\tr = vec3(direction.x, -direction.z, direction.y);\n\t\toffset = vec2(0.0+mipOffset,0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ?  a : offset.y;\n\t}\n\telse if( face == 1) {\n\t\tr = vec3(direction.y, direction.x, direction.z);\n\t\toffset = vec2(scale+mipOffset, 0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ?  a : offset.y;\n\t}\n\telse if( face == 2) {\n\t\tr = vec3(direction.z, direction.x, direction.y);\n\t\toffset = vec2(2.0*scale+mipOffset, 0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ?  a : offset.y;\n\t}\n\telse if( face == 3) {\n\t\tr = vec3(direction.x, direction.z, direction.y);\n\t\toffset = vec2(0.0+mipOffset,0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ?  0.0 : offset.y;\n\t}\n\telse if( face == 4) {\n\t\tr = vec3(direction.y, direction.x, -direction.z);\n\t\toffset = vec2(scale+mipOffset, 0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ?  0.0 : offset.y;\n\t}\n\telse {\n\t\tr = vec3(direction.z, -direction.x, direction.y);\n\t\toffset = vec2(2.0*scale+mipOffset, 0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ?  0.0 : offset.y;\n\t}\n\tr = normalize(r);\n\tfloat texelOffset = 0.5 * cubeUV_rcpTextureSize;\n\tvec2 s = ( r.yz / abs( r.x ) + vec2( 1.0 ) ) * 0.5;\n\tvec2 base = offset + vec2( texelOffset );\n\treturn base + s * ( scale - 2.0 * texelOffset );\n}\n#define cubeUV_maxLods3 (log2(cubeUV_textureSize*0.25) - 3.0)\nvec4 textureCubeUV(vec3 reflectedDirection, float roughness ) {\n\tfloat roughnessVal = roughness* cubeUV_maxLods3;\n\tfloat r1 = floor(roughnessVal);\n\tfloat r2 = r1 + 1.0;\n\tfloat t = fract(roughnessVal);\n\tvec2 mipInfo = MipLevelInfo(reflectedDirection, r1, roughness);\n\tfloat s = mipInfo.y;\n\tfloat level0 = mipInfo.x;\n\tfloat level1 = level0 + 1.0;\n\tlevel1 = level1 > 5.0 ? 5.0 : level1;\n\tlevel0 += min( floor( s + 0.5 ), 5.0 );\n\tvec2 uv_10 = getCubeUV(reflectedDirection, r1, level0);\n\tvec4 color10 = envMapTexelToLinear(texture2D(envMap, uv_10));\n\tvec2 uv_20 = getCubeUV(reflectedDirection, r2, level0);\n\tvec4 color20 = envMapTexelToLinear(texture2D(envMap, uv_20));\n\tvec4 result = mix(color10, color20, t);\n\treturn vec4(result.rgb, 1.0);\n}\n#endif\n",cs="#ifdef FLIP_SIDED\n\tobjectNormal = -objectNormal;\n#endif\nvec3 transformedNormal = normalMatrix * objectNormal;\n",hs="#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif\n",fs="#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normal * ( texture2D( displacementMap, uv ).x * displacementScale + displacementBias );\n#endif\n",ds="#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vUv );\n\temissiveColor.rgb = emissiveMapTexelToLinear( emissiveColor ).rgb;\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif\n",ps="#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif\n",vs="  gl_FragColor = linearToOutputTexel( gl_FragColor );\n",ms="\nvec4 LinearToLinear( in vec4 value ) {\n  return value;\n}\nvec4 GammaToLinear( in vec4 value, in float gammaFactor ) {\n  return vec4( pow( value.xyz, vec3( gammaFactor ) ), value.w );\n}\nvec4 LinearToGamma( in vec4 value, in float gammaFactor ) {\n  return vec4( pow( value.xyz, vec3( 1.0 / gammaFactor ) ), value.w );\n}\nvec4 sRGBToLinear( in vec4 value ) {\n  return vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.w );\n}\nvec4 LinearTosRGB( in vec4 value ) {\n  return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.w );\n}\nvec4 RGBEToLinear( in vec4 value ) {\n  return vec4( value.rgb * exp2( value.a * 255.0 - 128.0 ), 1.0 );\n}\nvec4 LinearToRGBE( in vec4 value ) {\n  float maxComponent = max( max( value.r, value.g ), value.b );\n  float fExp = clamp( ceil( log2( maxComponent ) ), -128.0, 127.0 );\n  return vec4( value.rgb / exp2( fExp ), ( fExp + 128.0 ) / 255.0 );\n}\nvec4 RGBMToLinear( in vec4 value, in float maxRange ) {\n  return vec4( value.xyz * value.w * maxRange, 1.0 );\n}\nvec4 LinearToRGBM( in vec4 value, in float maxRange ) {\n  float maxRGB = max( value.x, max( value.g, value.b ) );\n  float M      = clamp( maxRGB / maxRange, 0.0, 1.0 );\n  M            = ceil( M * 255.0 ) / 255.0;\n  return vec4( value.rgb / ( M * maxRange ), M );\n}\nvec4 RGBDToLinear( in vec4 value, in float maxRange ) {\n    return vec4( value.rgb * ( ( maxRange / 255.0 ) / value.a ), 1.0 );\n}\nvec4 LinearToRGBD( in vec4 value, in float maxRange ) {\n    float maxRGB = max( value.x, max( value.g, value.b ) );\n    float D      = max( maxRange / maxRGB, 1.0 );\n    D            = min( floor( D ) / 255.0, 1.0 );\n    return vec4( value.rgb * ( D * ( 255.0 / maxRange ) ), D );\n}\nconst mat3 cLogLuvM = mat3( 0.2209, 0.3390, 0.4184, 0.1138, 0.6780, 0.7319, 0.0102, 0.1130, 0.2969 );\nvec4 LinearToLogLuv( in vec4 value )  {\n  vec3 Xp_Y_XYZp = value.rgb * cLogLuvM;\n  Xp_Y_XYZp = max(Xp_Y_XYZp, vec3(1e-6, 1e-6, 1e-6));\n  vec4 vResult;\n  vResult.xy = Xp_Y_XYZp.xy / Xp_Y_XYZp.z;\n  float Le = 2.0 * log2(Xp_Y_XYZp.y) + 127.0;\n  vResult.w = fract(Le);\n  vResult.z = (Le - (floor(vResult.w*255.0))/255.0)/255.0;\n  return vResult;\n}\nconst mat3 cLogLuvInverseM = mat3( 6.0014, -2.7008, -1.7996, -1.3320, 3.1029, -5.7721, 0.3008, -1.0882, 5.6268 );\nvec4 LogLuvToLinear( in vec4 value ) {\n  float Le = value.z * 255.0 + value.w;\n  vec3 Xp_Y_XYZp;\n  Xp_Y_XYZp.y = exp2((Le - 127.0) / 2.0);\n  Xp_Y_XYZp.z = Xp_Y_XYZp.y / value.y;\n  Xp_Y_XYZp.x = value.x * Xp_Y_XYZp.z;\n  vec3 vRGB = Xp_Y_XYZp.rgb * cLogLuvInverseM;\n  return vec4( max(vRGB, 0.0), 1.0 );\n}\n",gs="#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvec3 cameraToVertex = normalize( vWorldPosition - cameraPosition );\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, flipNormal * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#elif defined( ENVMAP_TYPE_EQUIREC )\n\t\tvec2 sampleUV;\n\t\tsampleUV.y = saturate( flipNormal * reflectVec.y * 0.5 + 0.5 );\n\t\tsampleUV.x = atan( flipNormal * reflectVec.z, flipNormal * reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\n\t\tvec4 envColor = texture2D( envMap, sampleUV );\n\t#elif defined( ENVMAP_TYPE_SPHERE )\n\t\tvec3 reflectView = flipNormal * normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0, 0.0, 1.0 ) );\n\t\tvec4 envColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5 );\n\t#else\n\t\tvec4 envColor = vec4( 0.0 );\n\t#endif\n\tenvColor = envMapTexelToLinear( envColor );\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif\n",ys="#if defined( USE_ENVMAP ) || defined( PHYSICAL )\n\tuniform float reflectivity;\n\tuniform float envMapIntenstiy;\n#endif\n#ifdef USE_ENVMAP\n\t#if ! defined( PHYSICAL ) && ( defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) )\n\t\tvarying vec3 vWorldPosition;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\tuniform float flipEnvMap;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( PHYSICAL )\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif\n",_s="#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif\n",xs="#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif\n",bs="#ifdef USE_FOG\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tfloat depth = gl_FragDepthEXT / gl_FragCoord.w;\n\t#else\n\t\tfloat depth = gl_FragCoord.z / gl_FragCoord.w;\n\t#endif\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = whiteCompliment( exp2( - fogDensity * fogDensity * depth * depth * LOG2 ) );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, depth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif\n",ws="#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif",Ts="#ifdef USE_LIGHTMAP\n\treflectedLight.indirectDiffuse += PI * texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n#endif\n",Es="#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif",Ss="vec3 diffuse = vec3( 1.0 );\nGeometricContext geometry;\ngeometry.position = mvPosition.xyz;\ngeometry.normal = normalize( transformedNormal );\ngeometry.viewDir = normalize( -mvPosition.xyz );\nGeometricContext backGeometry;\nbackGeometry.position = geometry.position;\nbackGeometry.normal = -geometry.normal;\nbackGeometry.viewDir = geometry.viewDir;\nvLightFront = vec3( 0.0 );\n#ifdef DOUBLE_SIDED\n\tvLightBack = vec3( 0.0 );\n#endif\nIncidentLight directLight;\nfloat dotNL;\nvec3 directLightColor_Diffuse;\n#if NUM_POINT_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tgetPointDirectLightIrradiance( pointLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tgetSpotDirectLightIrradiance( spotLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_DIR_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tgetDirectionalDirectLightIrradiance( directionalLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\tvLightFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry );\n\t\t#endif\n\t}\n#endif\n",Ms="uniform vec3 ambientLightColor;\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treturn irradiance;\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalDirectLightIrradiance( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tdirectLight.color = directionalLight.color;\n\t\tdirectLight.direction = directionalLight.direction;\n\t\tdirectLight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointDirectLightIrradiance( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tvec3 lVector = pointLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tif ( testLightInRange( lightDistance, pointLight.distance ) ) {\n\t\t\tdirectLight.color = pointLight.color;\n\t\t\tdirectLight.color *= punctualLightIntensityToIrradianceFactor( lightDistance, pointLight.distance, pointLight.decay );\n\t\t\tdirectLight.visible = true;\n\t\t} else {\n\t\t\tdirectLight.color = vec3( 0.0 );\n\t\t\tdirectLight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotDirectLightIrradiance( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight directLight  ) {\n\t\tvec3 lVector = spotLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tfloat angleCos = dot( directLight.direction, spotLight.direction );\n\t\tif ( all( bvec2( angleCos > spotLight.coneCos, testLightInRange( lightDistance, spotLight.distance ) ) ) ) {\n\t\t\tfloat spotEffect = smoothstep( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\t\tdirectLight.color = spotLight.color;\n\t\t\tdirectLight.color *= spotEffect * punctualLightIntensityToIrradianceFactor( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tdirectLight.visible = true;\n\t\t} else {\n\t\t\tdirectLight.color = vec3( 0.0 );\n\t\t\tdirectLight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in GeometricContext geometry ) {\n\t\tfloat dotNL = dot( geometry.normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tirradiance *= PI;\n\t\t#endif\n\t\treturn irradiance;\n\t}\n#endif\n#if defined( USE_ENVMAP ) && defined( PHYSICAL )\n\tvec3 getLightProbeIndirectIrradiance( const in GeometricContext geometry, const in int maxMIPLevel ) {\n\t\t#include <normal_flip>\n\t\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryVec = flipNormal * vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 queryVec = flipNormal * vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n\t\t\tvec4 envMapColor = textureCubeUV( queryVec, 1.0 );\n\t\t#else\n\t\t\tvec4 envMapColor = vec4( 0.0 );\n\t\t#endif\n\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t}\n\tfloat getSpecularMIPLevel( const in float blinnShininessExponent, const in int maxMIPLevel ) {\n\t\tfloat maxMIPLevelScalar = float( maxMIPLevel );\n\t\tfloat desiredMIPLevel = maxMIPLevelScalar - 0.79248 - 0.5 * log2( pow2( blinnShininessExponent ) + 1.0 );\n\t\treturn clamp( desiredMIPLevel, 0.0, maxMIPLevelScalar );\n\t}\n\tvec3 getLightProbeIndirectRadiance( const in GeometricContext geometry, const in float blinnShininessExponent, const in int maxMIPLevel ) {\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( -geometry.viewDir, geometry.normal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( -geometry.viewDir, geometry.normal, refractionRatio );\n\t\t#endif\n\t\t#include <normal_flip>\n\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\tfloat specularMIPLevel = getSpecularMIPLevel( blinnShininessExponent, maxMIPLevel );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryReflectVec = flipNormal * vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 queryReflectVec = flipNormal * vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n\t\t\tvec4 envMapColor = textureCubeUV(queryReflectVec, BlinnExponentToGGXRoughness(blinnShininessExponent));\n\t\t#elif defined( ENVMAP_TYPE_EQUIREC )\n\t\t\tvec2 sampleUV;\n\t\t\tsampleUV.y = saturate( flipNormal * reflectVec.y * 0.5 + 0.5 );\n\t\t\tsampleUV.x = atan( flipNormal * reflectVec.z, flipNormal * reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = texture2DLodEXT( envMap, sampleUV, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = texture2D( envMap, sampleUV, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_SPHERE )\n\t\t\tvec3 reflectView = flipNormal * normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0,0.0,1.0 ) );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = texture2DLodEXT( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#endif\n\t\treturn envMapColor.rgb * envMapIntensity;\n\t}\n#endif\n",As="BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;\n",Ps="varying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\nstruct BlinnPhongMaterial {\n\tvec3\tdiffuseColor;\n\tvec3\tspecularColor;\n\tfloat\tspecularShininess;\n\tfloat\tspecularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_Specular_BlinnPhong( directLight, geometry, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong\n#define Material_LightProbeLOD( material )\t(0)\n",Cs="PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nmaterial.specularRoughness = clamp( roughnessFactor, 0.04, 1.0 );\n#ifdef STANDARD\n\tmaterial.specularColor = mix( vec3( DEFAULT_SPECULAR_COEFFICIENT ), diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( MAXIMUM_SPECULAR_COEFFICIENT * pow2( reflectivity ) ), diffuseColor.rgb, metalnessFactor );\n\tmaterial.clearCoat = saturate( clearCoat );\tmaterial.clearCoatRoughness = clamp( clearCoatRoughness, 0.04, 1.0 );\n#endif\n",Os="struct PhysicalMaterial {\n\tvec3\tdiffuseColor;\n\tfloat\tspecularRoughness;\n\tvec3\tspecularColor;\n\t#ifndef STANDARD\n\t\tfloat clearCoat;\n\t\tfloat clearCoatRoughness;\n\t#endif\n};\n#define MAXIMUM_SPECULAR_COEFFICIENT 0.16\n#define DEFAULT_SPECULAR_COEFFICIENT 0.04\nfloat clearCoatDHRApprox( const in float roughness, const in float dotNL ) {\n\treturn DEFAULT_SPECULAR_COEFFICIENT + ( 1.0 - DEFAULT_SPECULAR_COEFFICIENT ) * ( pow( 1.0 - dotNL, 5.0 ) * pow( 1.0 - roughness, 2.0 ) );\n}\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\t#ifndef STANDARD\n\t\tfloat clearCoatDHR = material.clearCoat * clearCoatDHRApprox( material.clearCoatRoughness, dotNL );\n\t#else\n\t\tfloat clearCoatDHR = 0.0;\n\t#endif\n\treflectedLight.directSpecular += ( 1.0 - clearCoatDHR ) * irradiance * BRDF_Specular_GGX( directLight, geometry, material.specularColor, material.specularRoughness );\n\treflectedLight.directDiffuse += ( 1.0 - clearCoatDHR ) * irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\t#ifndef STANDARD\n\t\treflectedLight.directSpecular += irradiance * material.clearCoat * BRDF_Specular_GGX( directLight, geometry, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearCoatRoughness );\n\t#endif\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 clearCoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t#ifndef STANDARD\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\tfloat dotNL = dotNV;\n\t\tfloat clearCoatDHR = material.clearCoat * clearCoatDHRApprox( material.clearCoatRoughness, dotNL );\n\t#else\n\t\tfloat clearCoatDHR = 0.0;\n\t#endif\n\treflectedLight.indirectSpecular += ( 1.0 - clearCoatDHR ) * radiance * BRDF_Specular_GGX_Environment( geometry, material.specularColor, material.specularRoughness );\n\t#ifndef STANDARD\n\t\treflectedLight.indirectSpecular += clearCoatRadiance * material.clearCoat * BRDF_Specular_GGX_Environment( geometry, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearCoatRoughness );\n\t#endif\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\n#define Material_BlinnShininessExponent( material )   GGXRoughnessToBlinnExponent( material.specularRoughness )\n#define Material_ClearCoat_BlinnShininessExponent( material )   GGXRoughnessToBlinnExponent( material.clearCoatRoughness )\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}\n",Rs="\nGeometricContext geometry;\ngeometry.position = - vViewPosition;\ngeometry.normal = normal;\ngeometry.viewDir = normalize( vViewPosition );\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointDirectLightIrradiance( pointLight, geometry, directLight );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *= all( bvec2( pointLight.shadow, directLight.visible ) ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotDirectLightIrradiance( spotLight, geometry, directLight );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *= all( bvec2( spotLight.shadow, directLight.visible ) ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalDirectLightIrradiance( directionalLight, geometry, directLight );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *= all( bvec2( directionalLight.shadow, directLight.visible ) ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\t#ifdef USE_LIGHTMAP\n\t\tvec3 lightMapIrradiance = texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tlightMapIrradiance *= PI;\n\t\t#endif\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t}\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( PHYSICAL ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t \tirradiance += getLightProbeIndirectIrradiance( geometry, 8 );\n\t#endif\n\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\tvec3 radiance = getLightProbeIndirectRadiance( geometry, Material_BlinnShininessExponent( material ), 8 );\n\t#ifndef STANDARD\n\t\tvec3 clearCoatRadiance = getLightProbeIndirectRadiance( geometry, Material_ClearCoat_BlinnShininessExponent( material ), 8 );\n\t#else\n\t\tvec3 clearCoatRadiance = vec3( 0.0 );\n\t#endif\n\t\t\n\tRE_IndirectSpecular( radiance, clearCoatRadiance, geometry, material, reflectedLight );\n#endif\n",Ds="#if defined(USE_LOGDEPTHBUF) && defined(USE_LOGDEPTHBUF_EXT)\n\tgl_FragDepthEXT = log2(vFragDepth) * logDepthBufFC * 0.5;\n#endif",Ls="#ifdef USE_LOGDEPTHBUF\n\tuniform float logDepthBufFC;\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t#endif\n#endif\n",Is="#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t#endif\n\tuniform float logDepthBufFC;\n#endif",Fs="#ifdef USE_LOGDEPTHBUF\n\tgl_Position.z = log2(max( EPSILON, gl_Position.w + 1.0 )) * logDepthBufFC;\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvFragDepth = 1.0 + gl_Position.w;\n\t#else\n\t\tgl_Position.z = (gl_Position.z - 1.0) * gl_Position.w;\n\t#endif\n#endif\n",Ns="#ifdef USE_MAP\n\tvec4 texelColor = texture2D( map, vUv );\n\ttexelColor = mapTexelToLinear( texelColor );\n\tdiffuseColor *= texelColor;\n#endif\n",ks="#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif\n",Us="#ifdef USE_MAP\n\tvec4 mapTexel = texture2D( map, vec2( gl_PointCoord.x, 1.0 - gl_PointCoord.y ) * offsetRepeat.zw + offsetRepeat.xy );\n\tdiffuseColor *= mapTexelToLinear( mapTexel );\n#endif\n",Bs="#ifdef USE_MAP\n\tuniform vec4 offsetRepeat;\n\tuniform sampler2D map;\n#endif\n",zs="float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vUv );\n\tmetalnessFactor *= texelMetalness.r;\n#endif\n",js="#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif",Gs="#ifdef USE_MORPHNORMALS\n\tobjectNormal += ( morphNormal0 - normal ) * morphTargetInfluences[ 0 ];\n\tobjectNormal += ( morphNormal1 - normal ) * morphTargetInfluences[ 1 ];\n\tobjectNormal += ( morphNormal2 - normal ) * morphTargetInfluences[ 2 ];\n\tobjectNormal += ( morphNormal3 - normal ) * morphTargetInfluences[ 3 ];\n#endif\n",Hs="#ifdef USE_MORPHTARGETS\n\t#ifndef USE_MORPHNORMALS\n\tuniform float morphTargetInfluences[ 8 ];\n\t#else\n\tuniform float morphTargetInfluences[ 4 ];\n\t#endif\n#endif",Xs="#ifdef USE_MORPHTARGETS\n\ttransformed += ( morphTarget0 - position ) * morphTargetInfluences[ 0 ];\n\ttransformed += ( morphTarget1 - position ) * morphTargetInfluences[ 1 ];\n\ttransformed += ( morphTarget2 - position ) * morphTargetInfluences[ 2 ];\n\ttransformed += ( morphTarget3 - position ) * morphTargetInfluences[ 3 ];\n\t#ifndef USE_MORPHNORMALS\n\ttransformed += ( morphTarget4 - position ) * morphTargetInfluences[ 4 ];\n\ttransformed += ( morphTarget5 - position ) * morphTargetInfluences[ 5 ];\n\ttransformed += ( morphTarget6 - position ) * morphTargetInfluences[ 6 ];\n\ttransformed += ( morphTarget7 - position ) * morphTargetInfluences[ 7 ];\n\t#endif\n#endif\n",Vs="#ifdef DOUBLE_SIDED\n\tfloat flipNormal = ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n#else\n\tfloat flipNormal = 1.0;\n#endif\n",Ws="#ifdef FLAT_SHADED\n\tvec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );\n\tvec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal ) * flipNormal;\n#endif\n#ifdef USE_NORMALMAP\n\tnormal = perturbNormal2Arb( -vViewPosition, normal );\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( -vViewPosition, normal, dHdxy_fwd() );\n#endif\n",Ys="#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n\tvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm ) {\n\t\tvec3 q0 = dFdx( eye_pos.xyz );\n\t\tvec3 q1 = dFdy( eye_pos.xyz );\n\t\tvec2 st0 = dFdx( vUv.st );\n\t\tvec2 st1 = dFdy( vUv.st );\n\t\tvec3 S = normalize( q0 * st1.t - q1 * st0.t );\n\t\tvec3 T = normalize( -q0 * st1.s + q1 * st0.s );\n\t\tvec3 N = normalize( surf_norm );\n\t\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t\tmapN.xy = normalScale * mapN.xy;\n\t\tmat3 tsn = mat3( S, T, N );\n\t\treturn normalize( tsn * mapN );\n\t}\n#endif\n",qs="vec3 packNormalToRGB( const in vec3 normal ) {\n  return normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n  return 1.0 - 2.0 * rgb.xyz;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256.,  256. );\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\nconst float ShiftRight8 = 1. / 256.;\nvec4 packDepthToRGBA( const in float v ) {\n\tvec4 r = vec4( fract( v * PackFactors ), v );\n\tr.yzw -= r.xyz * ShiftRight8;\treturn r * PackUpscale;\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n  return ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {\n  return linearClipZ * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n  return (( near + viewZ ) * far ) / (( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {\n  return ( near * far ) / ( ( far - near ) * invClipZ - far );\n}\n",Zs="#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif\n",Ks="#ifdef USE_SKINNING\n\tvec4 mvPosition = modelViewMatrix * skinned;\n#else\n\tvec4 mvPosition = modelViewMatrix * vec4( transformed, 1.0 );\n#endif\ngl_Position = projectionMatrix * mvPosition;\n",Js="float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vUv );\n\troughnessFactor *= texelRoughness.r;\n#endif\n",Qs="#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif",$s="#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHTS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHTS ];\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHTS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHTS ];\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHTS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHTS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tfloat texture2DShadowLerp( sampler2D depths, vec2 size, vec2 uv, float compare ) {\n\t\tconst vec2 offset = vec2( 0.0, 1.0 );\n\t\tvec2 texelSize = vec2( 1.0 ) / size;\n\t\tvec2 centroidUV = floor( uv * size + 0.5 ) / size;\n\t\tfloat lb = texture2DCompare( depths, centroidUV + texelSize * offset.xx, compare );\n\t\tfloat lt = texture2DCompare( depths, centroidUV + texelSize * offset.xy, compare );\n\t\tfloat rb = texture2DCompare( depths, centroidUV + texelSize * offset.yx, compare );\n\t\tfloat rt = texture2DCompare( depths, centroidUV + texelSize * offset.yy, compare );\n\t\tvec2 f = fract( uv * size + 0.5 );\n\t\tfloat a = mix( lb, lt, f.y );\n\t\tfloat b = mix( rb, rt, f.y );\n\t\tfloat c = mix( a, b, f.x );\n\t\treturn c;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );\n\t\tbool inFrustum = all( inFrustumVec );\n\t\tbvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );\n\t\tbool frustumTest = all( frustumTestVec );\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\treturn (\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn 1.0;\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\tvec3 bd3D = normalize( lightToPosition );\n\t\tfloat dp = ( length( lightToPosition ) - shadowBias ) / 1000.0;\n\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t#endif\n\t}\n#endif\n",tu="#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHTS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHTS ];\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\t\tuniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHTS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHTS ];\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHTS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHTS ];\n\t#endif\n#endif\n",eu="#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tvSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n#endif\n",ru="float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\tDirectionalLight directionalLight;\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tshadow *= bool( directionalLight.shadow ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\tSpotLight spotLight;\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tshadow *= bool( spotLight.shadow ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t}\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\tPointLight pointLight;\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tshadow *= bool( pointLight.shadow ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ] ) : 1.0;\n\t}\n\t#endif\n\t#endif\n\treturn shadow;\n}\n",nu="#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",iu="#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\t#ifdef BONE_TEXTURE\n\t\tuniform sampler2D boneTexture;\n\t\tuniform int boneTextureWidth;\n\t\tuniform int boneTextureHeight;\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tfloat j = i * 4.0;\n\t\t\tfloat x = mod( j, float( boneTextureWidth ) );\n\t\t\tfloat y = floor( j / float( boneTextureWidth ) );\n\t\t\tfloat dx = 1.0 / float( boneTextureWidth );\n\t\t\tfloat dy = 1.0 / float( boneTextureHeight );\n\t\t\ty = dy * ( y + 0.5 );\n\t\t\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n\t\t\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n\t\t\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n\t\t\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n\t\t\tmat4 bone = mat4( v1, v2, v3, v4 );\n\t\t\treturn bone;\n\t\t}\n\t#else\n\t\tuniform mat4 boneMatrices[ MAX_BONES ];\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tmat4 bone = boneMatrices[ int(i) ];\n\t\t\treturn bone;\n\t\t}\n\t#endif\n#endif\n",ou="#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\tskinned  = bindMatrixInverse * skinned;\n#endif\n",au="#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix  = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n#endif\n",su="float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif",uu="#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif",lu="#if defined( TONE_MAPPING )\n  gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif\n",cu="#define saturate(a) clamp( a, 0.0, 1.0 )\nuniform float toneMappingExposure;\nuniform float toneMappingWhitePoint;\nvec3 LinearToneMapping( vec3 color ) {\n  return toneMappingExposure * color;\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n  color *= toneMappingExposure;\n  return saturate( color / ( vec3( 1.0 ) + color ) );\n}\n#define Uncharted2Helper( x ) max( ( ( x * ( 0.15 * x + 0.10 * 0.50 ) + 0.20 * 0.02 ) / ( x * ( 0.15 * x + 0.50 ) + 0.20 * 0.30 ) ) - 0.02 / 0.30, vec3( 0.0 ) )\nvec3 Uncharted2ToneMapping( vec3 color ) {\n  color *= toneMappingExposure;\n  return saturate( Uncharted2Helper( color ) / Uncharted2Helper( vec3( toneMappingWhitePoint ) ) );\n}\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n  color *= toneMappingExposure;\n  color = max( vec3( 0.0 ), color - 0.004 );\n  return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\n",hu="#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvarying vec2 vUv;\n#endif",fu="#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvarying vec2 vUv;\n\tuniform vec4 offsetRepeat;\n#endif\n",du="#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvUv = uv * offsetRepeat.zw + offsetRepeat.xy;\n#endif",pu="#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvarying vec2 vUv2;\n#endif",vu="#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tattribute vec2 uv2;\n\tvarying vec2 vUv2;\n#endif",mu="#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvUv2 = uv2;\n#endif",gu="#if defined( USE_ENVMAP ) || defined( PHONG ) || defined( PHYSICAL ) || defined( LAMBERT ) || defined ( USE_SHADOWMAP )\n\t#ifdef USE_SKINNING\n\t\tvec4 worldPosition = modelMatrix * skinned;\n\t#else\n\t\tvec4 worldPosition = modelMatrix * vec4( transformed, 1.0 );\n\t#endif\n#endif\n",yu="uniform samplerCube tCube;\nuniform float tFlip;\nuniform float opacity;\nvarying vec3 vWorldPosition;\n#include <common>\nvoid main() {\n\tgl_FragColor = textureCube( tCube, vec3( tFlip * vWorldPosition.x, vWorldPosition.yz ) );\n\tgl_FragColor.a *= opacity;\n}\n",_u="varying vec3 vWorldPosition;\n#include <common>\nvoid main() {\n\tvWorldPosition = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}\n",xu="#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <logdepthbuf_fragment>\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( gl_FragCoord.z ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( gl_FragCoord.z );\n\t#endif\n}\n",bu="#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#include <begin_vertex>\n\t#include <displacementmap_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n}\n",wu="uniform vec3 lightPos;\nvarying vec4 vWorldPosition;\n#include <common>\n#include <packing>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\t#include <clipping_planes_fragment>\n\tgl_FragColor = packDepthToRGBA( length( vWorldPosition.xyz - lightPos.xyz ) / 1000.0 );\n}\n",Tu="varying vec4 vWorldPosition;\n#include <common>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <skinbase_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition;\n}\n",Eu="uniform sampler2D tEquirect;\nuniform float tFlip;\nvarying vec3 vWorldPosition;\n#include <common>\nvoid main() {\n\tvec3 direction = normalize( vWorldPosition );\n\tvec2 sampleUV;\n\tsampleUV.y = saturate( tFlip * direction.y * -0.5 + 0.5 );\n\tsampleUV.x = atan( direction.z, direction.x ) * RECIPROCAL_PI2 + 0.5;\n\tgl_FragColor = texture2D( tEquirect, sampleUV );\n}\n",Su="varying vec3 vWorldPosition;\n#include <common>\nvoid main() {\n\tvWorldPosition = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}\n",Mu="uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n",Au="uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\tvLineDistance = scale * lineDistance;\n\tvec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n}\n",Pu="uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight;\n\treflectedLight.directDiffuse = vec3( 0.0 );\n\treflectedLight.directSpecular = vec3( 0.0 );\n\treflectedLight.indirectDiffuse = diffuseColor.rgb;\n\treflectedLight.indirectSpecular = vec3( 0.0 );\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <normal_flip>\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n",Cu="#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_ENVMAP\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <envmap_vertex>\n}\n",Ou="uniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\nvarying vec3 vLightFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n#endif\n#include <common>\n#include <packing>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <bsdfs>\n#include <lights_pars>\n#include <fog_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <emissivemap_fragment>\n\treflectedLight.indirectDiffuse = getAmbientLightIrradiance( ambientLightColor );\n\t#include <lightmap_fragment>\n\treflectedLight.indirectDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb );\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;\n\t#else\n\t\treflectedLight.directDiffuse = vLightFront;\n\t#endif\n\treflectedLight.directDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb ) * getShadowMask();\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <normal_flip>\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n",Ru="#define LAMBERT\nvarying vec3 vLightFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <bsdfs>\n#include <lights_pars>\n#include <color_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <lights_lambert_vertex>\n\t#include <shadowmap_vertex>\n}\n",Du="#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_flip>\n\t#include <normal_fragment>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_template>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n",Lu="#define PHONG\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <displacementmap_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n}\n",Iu="#define PHYSICAL\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifndef STANDARD\n\tuniform float clearCoat;\n\tuniform float clearCoatRoughness;\n#endif\nuniform float envMapIntensity;\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <packing>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <cube_uv_reflection_fragment>\n#include <lights_pars>\n#include <lights_physical_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_flip>\n\t#include <normal_fragment>\n\t#include <emissivemap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_template>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n",Fu="#define PHYSICAL\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <displacementmap_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n}\n",Nu="uniform float opacity;\nvarying vec3 vNormal;\n#include <common>\n#include <packing>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tgl_FragColor = vec4( packNormalToRGB( vNormal ), opacity );\n\t#include <logdepthbuf_fragment>\n}\n",ku="varying vec3 vNormal;\n#include <common>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\tvNormal = normalize( normalMatrix * normal );\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n}\n",Uu="uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <fog_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n",Bu="uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\t#ifdef USE_SIZEATTENUATION\n\t\tgl_PointSize = size * ( scale / - mvPosition.z );\n\t#else\n\t\tgl_PointSize = size;\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n}\n",zu="uniform float opacity;\n#include <common>\n#include <packing>\n#include <bsdfs>\n#include <lights_pars>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\tgl_FragColor = vec4( 0.0, 0.0, 0.0, opacity * ( 1.0  - getShadowMask() ) );\n}\n",ju="#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n}\n",Gu={
alphamap_fragment:Va,alphamap_pars_fragment:Wa,alphatest_fragment:Ya,aomap_fragment:qa,aomap_pars_fragment:Za,begin_vertex:Ka,beginnormal_vertex:Ja,bsdfs:Qa,bumpmap_pars_fragment:$a,clipping_planes_fragment:ts,clipping_planes_pars_fragment:es,clipping_planes_pars_vertex:rs,clipping_planes_vertex:ns,color_fragment:is,color_pars_fragment:os,color_pars_vertex:as,color_vertex:ss,common:us,cube_uv_reflection_fragment:ls,defaultnormal_vertex:cs,displacementmap_pars_vertex:hs,displacementmap_vertex:fs,emissivemap_fragment:ds,emissivemap_pars_fragment:ps,encodings_fragment:vs,encodings_pars_fragment:ms,envmap_fragment:gs,envmap_pars_fragment:ys,envmap_pars_vertex:_s,envmap_vertex:xs,fog_fragment:bs,fog_pars_fragment:ws,lightmap_fragment:Ts,lightmap_pars_fragment:Es,lights_lambert_vertex:Ss,lights_pars:Ms,lights_phong_fragment:As,lights_phong_pars_fragment:Ps,lights_physical_fragment:Cs,lights_physical_pars_fragment:Os,lights_template:Rs,logdepthbuf_fragment:Ds,logdepthbuf_pars_fragment:Ls,logdepthbuf_pars_vertex:Is,logdepthbuf_vertex:Fs,map_fragment:Ns,map_pars_fragment:ks,map_particle_fragment:Us,map_particle_pars_fragment:Bs,metalnessmap_fragment:zs,metalnessmap_pars_fragment:js,morphnormal_vertex:Gs,morphtarget_pars_vertex:Hs,morphtarget_vertex:Xs,normal_flip:Vs,normal_fragment:Ws,normalmap_pars_fragment:Ys,packing:qs,premultiplied_alpha_fragment:Zs,project_vertex:Ks,roughnessmap_fragment:Js,roughnessmap_pars_fragment:Qs,shadowmap_pars_fragment:$s,shadowmap_pars_vertex:tu,shadowmap_vertex:eu,shadowmask_pars_fragment:ru,skinbase_vertex:nu,skinning_pars_vertex:iu,skinning_vertex:ou,skinnormal_vertex:au,specularmap_fragment:su,specularmap_pars_fragment:uu,tonemapping_fragment:lu,tonemapping_pars_fragment:cu,uv_pars_fragment:hu,uv_pars_vertex:fu,uv_vertex:du,uv2_pars_fragment:pu,uv2_pars_vertex:vu,uv2_vertex:mu,worldpos_vertex:gu,cube_frag:yu,cube_vert:_u,depth_frag:xu,depth_vert:bu,distanceRGBA_frag:wu,distanceRGBA_vert:Tu,equirect_frag:Eu,equirect_vert:Su,linedashed_frag:Mu,linedashed_vert:Au,meshbasic_frag:Pu,meshbasic_vert:Cu,meshlambert_frag:Ou,meshlambert_vert:Ru,meshphong_frag:Du,meshphong_vert:Lu,meshphysical_frag:Iu,meshphysical_vert:Fu,normal_frag:Nu,normal_vert:ku,points_frag:Uu,points_vert:Bu,shadow_frag:zu,shadow_vert:ju};W.prototype={constructor:W,isColor:!0,r:1,g:1,b:1,set:function(t){return t&&t.isColor?this.copy(t):"number"==typeof t?this.setHex(t):"string"==typeof t&&this.setStyle(t),this},setScalar:function(t){return this.r=t,this.g=t,this.b=t,this},setHex:function(t){return t=Math.floor(t),this.r=(t>>16&255)/255,this.g=(t>>8&255)/255,this.b=(255&t)/255,this},setRGB:function(t,e,r){return this.r=t,this.g=e,this.b=r,this},setHSL:function(){function t(t,e,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+6*(e-t)*r:r<.5?e:r<2/3?t+6*(e-t)*(2/3-r):t}return function(e,r,n){if(e=ka.euclideanModulo(e,1),r=ka.clamp(r,0,1),n=ka.clamp(n,0,1),0===r)this.r=this.g=this.b=n;else{var i=n<=.5?n*(1+r):n+r-n*r,o=2*n-i;this.r=t(o,i,e+1/3),this.g=t(o,i,e),this.b=t(o,i,e-1/3)}return this}}(),setStyle:function(t){function e(e){void 0!==e&&parseFloat(e)<1&&console.warn("THREE.Color: Alpha component of "+t+" will be ignored.")}var r;if(r=/^((?:rgb|hsl)a?)\(\s*([^\)]*)\)/.exec(t)){var n,i=r[1],o=r[2];switch(i){case"rgb":case"rgba":if(n=/^(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(o))return this.r=Math.min(255,parseInt(n[1],10))/255,this.g=Math.min(255,parseInt(n[2],10))/255,this.b=Math.min(255,parseInt(n[3],10))/255,e(n[5]),this;if(n=/^(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(o))return this.r=Math.min(100,parseInt(n[1],10))/100,this.g=Math.min(100,parseInt(n[2],10))/100,this.b=Math.min(100,parseInt(n[3],10))/100,e(n[5]),this;break;case"hsl":case"hsla":if(n=/^([0-9]*\.?[0-9]+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(o)){var a=parseFloat(n[1])/360,s=parseInt(n[2],10)/100,u=parseInt(n[3],10)/100;return e(n[5]),this.setHSL(a,s,u)}}}else if(r=/^\#([A-Fa-f0-9]+)$/.exec(t)){var l=r[1],c=l.length;if(3===c)return this.r=parseInt(l.charAt(0)+l.charAt(0),16)/255,this.g=parseInt(l.charAt(1)+l.charAt(1),16)/255,this.b=parseInt(l.charAt(2)+l.charAt(2),16)/255,this;if(6===c)return this.r=parseInt(l.charAt(0)+l.charAt(1),16)/255,this.g=parseInt(l.charAt(2)+l.charAt(3),16)/255,this.b=parseInt(l.charAt(4)+l.charAt(5),16)/255,this}if(t&&t.length>0){var l=Hu[t];void 0!==l?this.setHex(l):console.warn("THREE.Color: Unknown color "+t)}return this},clone:function(){return new this.constructor(this.r,this.g,this.b)},copy:function(t){return this.r=t.r,this.g=t.g,this.b=t.b,this},copyGammaToLinear:function(t,e){return void 0===e&&(e=2),this.r=Math.pow(t.r,e),this.g=Math.pow(t.g,e),this.b=Math.pow(t.b,e),this},copyLinearToGamma:function(t,e){void 0===e&&(e=2);var r=e>0?1/e:1;return this.r=Math.pow(t.r,r),this.g=Math.pow(t.g,r),this.b=Math.pow(t.b,r),this},convertGammaToLinear:function(){var t=this.r,e=this.g,r=this.b;return this.r=t*t,this.g=e*e,this.b=r*r,this},convertLinearToGamma:function(){return this.r=Math.sqrt(this.r),this.g=Math.sqrt(this.g),this.b=Math.sqrt(this.b),this},getHex:function(){return 255*this.r<<16^255*this.g<<8^255*this.b<<0},getHexString:function(){return("000000"+this.getHex().toString(16)).slice(-6)},getHSL:function(t){var e,r,n=t||{h:0,s:0,l:0},i=this.r,o=this.g,a=this.b,s=Math.max(i,o,a),u=Math.min(i,o,a),l=(u+s)/2;if(u===s)e=0,r=0;else{var c=s-u;switch(r=l<=.5?c/(s+u):c/(2-s-u),s){case i:e=(o-a)/c+(o<a?6:0);break;case o:e=(a-i)/c+2;break;case a:e=(i-o)/c+4}e/=6}return n.h=e,n.s=r,n.l=l,n},getStyle:function(){return"rgb("+(255*this.r|0)+","+(255*this.g|0)+","+(255*this.b|0)+")"},offsetHSL:function(t,e,r){var n=this.getHSL();return n.h+=t,n.s+=e,n.l+=r,this.setHSL(n.h,n.s,n.l),this},add:function(t){return this.r+=t.r,this.g+=t.g,this.b+=t.b,this},addColors:function(t,e){return this.r=t.r+e.r,this.g=t.g+e.g,this.b=t.b+e.b,this},addScalar:function(t){return this.r+=t,this.g+=t,this.b+=t,this},sub:function(t){return this.r=Math.max(0,this.r-t.r),this.g=Math.max(0,this.g-t.g),this.b=Math.max(0,this.b-t.b),this},multiply:function(t){return this.r*=t.r,this.g*=t.g,this.b*=t.b,this},multiplyScalar:function(t){return this.r*=t,this.g*=t,this.b*=t,this},lerp:function(t,e){return this.r+=(t.r-this.r)*e,this.g+=(t.g-this.g)*e,this.b+=(t.b-this.b)*e,this},equals:function(t){return t.r===this.r&&t.g===this.g&&t.b===this.b},fromArray:function(t,e){return void 0===e&&(e=0),this.r=t[e],this.g=t[e+1],this.b=t[e+2],this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this.r,t[e+1]=this.g,t[e+2]=this.b,t},toJSON:function(){return this.getHex()}};var Hu={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Xu={common:{diffuse:{value:new W(15658734)},opacity:{value:1},map:{value:null},offsetRepeat:{value:new o(0,0,1,1)},specularMap:{value:null},alphaMap:{value:null},envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new r(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new W(16777215)}},lights:{ambientLightColor:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{}}},spotShadowMap:{value:[]},spotShadowMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}}},points:{diffuse:{value:new W(15658734)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},offsetRepeat:{value:new o(0,0,1,1)}}},Vu={basic:{uniforms:Xa.merge([Xu.common,Xu.aomap,Xu.fog]),vertexShader:Gu.meshbasic_vert,fragmentShader:Gu.meshbasic_frag},lambert:{uniforms:Xa.merge([Xu.common,Xu.aomap,Xu.lightmap,Xu.emissivemap,Xu.fog,Xu.lights,{emissive:{value:new W(0)}}]),vertexShader:Gu.meshlambert_vert,fragmentShader:Gu.meshlambert_frag},phong:{uniforms:Xa.merge([Xu.common,Xu.aomap,Xu.lightmap,Xu.emissivemap,Xu.bumpmap,Xu.normalmap,Xu.displacementmap,Xu.fog,Xu.lights,{emissive:{value:new W(0)},specular:{value:new W(1118481)},shininess:{value:30}}]),vertexShader:Gu.meshphong_vert,fragmentShader:Gu.meshphong_frag},standard:{uniforms:Xa.merge([Xu.common,Xu.aomap,Xu.lightmap,Xu.emissivemap,Xu.bumpmap,Xu.normalmap,Xu.displacementmap,Xu.roughnessmap,Xu.metalnessmap,Xu.fog,Xu.lights,{emissive:{value:new W(0)},roughness:{value:.5},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:Gu.meshphysical_vert,fragmentShader:Gu.meshphysical_frag},points:{uniforms:Xa.merge([Xu.points,Xu.fog]),vertexShader:Gu.points_vert,fragmentShader:Gu.points_frag},dashed:{uniforms:Xa.merge([Xu.common,Xu.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Gu.linedashed_vert,fragmentShader:Gu.linedashed_frag},depth:{uniforms:Xa.merge([Xu.common,Xu.displacementmap]),vertexShader:Gu.depth_vert,fragmentShader:Gu.depth_frag},normal:{uniforms:{opacity:{value:1}},vertexShader:Gu.normal_vert,fragmentShader:Gu.normal_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:Gu.cube_vert,fragmentShader:Gu.cube_frag},equirect:{uniforms:{tEquirect:{value:null},tFlip:{value:-1}},vertexShader:Gu.equirect_vert,fragmentShader:Gu.equirect_frag},distanceRGBA:{uniforms:{lightPos:{value:new l}},vertexShader:Gu.distanceRGBA_vert,fragmentShader:Gu.distanceRGBA_frag}};Vu.physical={uniforms:Xa.merge([Vu.standard.uniforms,{clearCoat:{value:0},clearCoatRoughness:{value:0}}]),vertexShader:Gu.meshphysical_vert,fragmentShader:Gu.meshphysical_frag},Y.prototype={constructor:Y,set:function(t,e){return this.min.copy(t),this.max.copy(e),this},setFromPoints:function(t){this.makeEmpty();for(var e=0,r=t.length;e<r;e++)this.expandByPoint(t[e]);return this},setFromCenterAndSize:function(){var t=new r;return function(e,r){var n=t.copy(r).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this}}(),clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.min.copy(t.min),this.max.copy(t.max),this},makeEmpty:function(){return this.min.x=this.min.y=+(1/0),this.max.x=this.max.y=-(1/0),this},isEmpty:function(){return this.max.x<this.min.x||this.max.y<this.min.y},getCenter:function(t){var e=t||new r;return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)},getSize:function(t){var e=t||new r;return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)},expandByPoint:function(t){return this.min.min(t),this.max.max(t),this},expandByVector:function(t){return this.min.sub(t),this.max.add(t),this},expandByScalar:function(t){return this.min.addScalar(-t),this.max.addScalar(t),this},containsPoint:function(t){return!(t.x<this.min.x||t.x>this.max.x||t.y<this.min.y||t.y>this.max.y)},containsBox:function(t){return this.min.x<=t.min.x&&t.max.x<=this.max.x&&this.min.y<=t.min.y&&t.max.y<=this.max.y},getParameter:function(t,e){var n=e||new r;return n.set((t.x-this.min.x)/(this.max.x-this.min.x),(t.y-this.min.y)/(this.max.y-this.min.y))},intersectsBox:function(t){return!(t.max.x<this.min.x||t.min.x>this.max.x||t.max.y<this.min.y||t.min.y>this.max.y)},clampPoint:function(t,e){var n=e||new r;return n.copy(t).clamp(this.min,this.max)},distanceToPoint:function(){var t=new r;return function(e){var r=t.copy(e).clamp(this.min,this.max);return r.sub(e).length()}}(),intersect:function(t){return this.min.max(t.min),this.max.min(t.max),this},union:function(t){return this.min.min(t.min),this.max.max(t.max),this},translate:function(t){return this.min.add(t),this.max.add(t),this},equals:function(t){return t.min.equals(this.min)&&t.max.equals(this.max)}},K.prototype={constructor:K,isMaterial:!0,get needsUpdate(){return this._needsUpdate},set needsUpdate(t){t===!0&&this.update(),this._needsUpdate=t},setValues:function(t){if(void 0!==t)for(var e in t){var r=t[e];if(void 0!==r){var n=this[e];void 0!==n?n&&n.isColor?n.set(r):n&&n.isVector3&&r&&r.isVector3?n.copy(r):"overdraw"===e?this[e]=Number(r):this[e]=r:console.warn("THREE."+this.type+": '"+e+"' is not a property of this material.")}else console.warn("THREE.Material: '"+e+"' parameter is undefined.")}},toJSON:function(t){function e(t){var e=[];for(var r in t){var n=t[r];delete n.metadata,e.push(n)}return e}var r=void 0===t;r&&(t={textures:{},images:{}});var n={metadata:{version:4.4,type:"Material",generator:"Material.toJSON"}};if(n.uuid=this.uuid,n.type=this.type,""!==this.name&&(n.name=this.name),this.color&&this.color.isColor&&(n.color=this.color.getHex()),void 0!==this.roughness&&(n.roughness=this.roughness),void 0!==this.metalness&&(n.metalness=this.metalness),this.emissive&&this.emissive.isColor&&(n.emissive=this.emissive.getHex()),this.specular&&this.specular.isColor&&(n.specular=this.specular.getHex()),void 0!==this.shininess&&(n.shininess=this.shininess),this.map&&this.map.isTexture&&(n.map=this.map.toJSON(t).uuid),this.alphaMap&&this.alphaMap.isTexture&&(n.alphaMap=this.alphaMap.toJSON(t).uuid),this.lightMap&&this.lightMap.isTexture&&(n.lightMap=this.lightMap.toJSON(t).uuid),this.bumpMap&&this.bumpMap.isTexture&&(n.bumpMap=this.bumpMap.toJSON(t).uuid,n.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(n.normalMap=this.normalMap.toJSON(t).uuid,n.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(n.displacementMap=this.displacementMap.toJSON(t).uuid,n.displacementScale=this.displacementScale,n.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(n.roughnessMap=this.roughnessMap.toJSON(t).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(n.metalnessMap=this.metalnessMap.toJSON(t).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(n.emissiveMap=this.emissiveMap.toJSON(t).uuid),this.specularMap&&this.specularMap.isTexture&&(n.specularMap=this.specularMap.toJSON(t).uuid),this.envMap&&this.envMap.isTexture&&(n.envMap=this.envMap.toJSON(t).uuid,n.reflectivity=this.reflectivity),void 0!==this.size&&(n.size=this.size),void 0!==this.sizeAttenuation&&(n.sizeAttenuation=this.sizeAttenuation),this.blending!==Fi&&(n.blending=this.blending),this.shading!==Oi&&(n.shading=this.shading),this.side!==Mi&&(n.side=this.side),this.vertexColors!==Ri&&(n.vertexColors=this.vertexColors),this.opacity<1&&(n.opacity=this.opacity),this.transparent===!0&&(n.transparent=this.transparent),n.depthFunc=this.depthFunc,n.depthTest=this.depthTest,n.depthWrite=this.depthWrite,this.alphaTest>0&&(n.alphaTest=this.alphaTest),this.premultipliedAlpha===!0&&(n.premultipliedAlpha=this.premultipliedAlpha),this.wireframe===!0&&(n.wireframe=this.wireframe),this.wireframeLinewidth>1&&(n.wireframeLinewidth=this.wireframeLinewidth),"round"!==this.wireframeLinecap&&(n.wireframeLinecap=this.wireframeLinecap),"round"!==this.wireframeLinejoin&&(n.wireframeLinejoin=this.wireframeLinejoin),n.skinning=this.skinning,n.morphTargets=this.morphTargets,r){var i=e(t.textures),o=e(t.images);i.length>0&&(n.textures=i),o.length>0&&(n.images=o)}return n},clone:function(){return(new this.constructor).copy(this)},copy:function(t){this.name=t.name,this.fog=t.fog,this.lights=t.lights,this.blending=t.blending,this.side=t.side,this.shading=t.shading,this.vertexColors=t.vertexColors,this.opacity=t.opacity,this.transparent=t.transparent,this.blendSrc=t.blendSrc,this.blendDst=t.blendDst,this.blendEquation=t.blendEquation,this.blendSrcAlpha=t.blendSrcAlpha,this.blendDstAlpha=t.blendDstAlpha,this.blendEquationAlpha=t.blendEquationAlpha,this.depthFunc=t.depthFunc,this.depthTest=t.depthTest,this.depthWrite=t.depthWrite,this.colorWrite=t.colorWrite,this.precision=t.precision,this.polygonOffset=t.polygonOffset,this.polygonOffsetFactor=t.polygonOffsetFactor,this.polygonOffsetUnits=t.polygonOffsetUnits,this.alphaTest=t.alphaTest,this.premultipliedAlpha=t.premultipliedAlpha,this.overdraw=t.overdraw,this.visible=t.visible,this.clipShadows=t.clipShadows,this.clipIntersection=t.clipIntersection;var e=t.clippingPlanes,r=null;if(null!==e){var n=e.length;r=new Array(n);for(var i=0;i!==n;++i)r[i]=e[i].clone()}return this.clippingPlanes=r,this},update:function(){this.dispatchEvent({type:"update"})},dispose:function(){this.dispatchEvent({type:"dispose"})}},Object.assign(K.prototype,e.prototype);var Wu=0;Q.prototype=Object.create(K.prototype),Q.prototype.constructor=Q,Q.prototype.isShaderMaterial=!0,Q.prototype.copy=function(t){return K.prototype.copy.call(this,t),this.fragmentShader=t.fragmentShader,this.vertexShader=t.vertexShader,this.uniforms=Xa.clone(t.uniforms),this.defines=t.defines,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.lights=t.lights,this.clipping=t.clipping,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this.extensions=t.extensions,this},Q.prototype.toJSON=function(t){var e=K.prototype.toJSON.call(this,t);return e.uniforms=this.uniforms,e.vertexShader=this.vertexShader,e.fragmentShader=this.fragmentShader,e},$.prototype=Object.create(K.prototype),$.prototype.constructor=$,$.prototype.isMeshDepthMaterial=!0,$.prototype.copy=function(t){return K.prototype.copy.call(this,t),this.depthPacking=t.depthPacking,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.map=t.map,this.alphaMap=t.alphaMap,this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this},tt.prototype={constructor:tt,isBox3:!0,set:function(t,e){return this.min.copy(t),this.max.copy(e),this},setFromArray:function(t){for(var e=+(1/0),r=+(1/0),n=+(1/0),i=-(1/0),o=-(1/0),a=-(1/0),s=0,u=t.length;s<u;s+=3){var l=t[s],c=t[s+1],h=t[s+2];l<e&&(e=l),c<r&&(r=c),h<n&&(n=h),l>i&&(i=l),c>o&&(o=c),h>a&&(a=h)}this.min.set(e,r,n),this.max.set(i,o,a)},setFromPoints:function(t){this.makeEmpty();for(var e=0,r=t.length;e<r;e++)this.expandByPoint(t[e]);return this},setFromCenterAndSize:function(){var t=new l;return function(e,r){var n=t.copy(r).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this}}(),setFromObject:function(){var t=new l;return function(e){var r=this;return e.updateMatrixWorld(!0),this.makeEmpty(),e.traverse(function(e){var n=e.geometry;if(void 0!==n)if(n&&n.isGeometry)for(var i=n.vertices,o=0,a=i.length;o<a;o++)t.copy(i[o]),t.applyMatrix4(e.matrixWorld),r.expandByPoint(t);else if(n&&n.isBufferGeometry){var s=n.attributes.position;if(void 0!==s){var u,l,c;s&&s.isInterleavedBufferAttribute?(u=s.data.array,l=s.offset,c=s.data.stride):(u=s.array,l=0,c=3);for(var o=l,a=u.length;o<a;o+=c)t.fromArray(u,o),t.applyMatrix4(e.matrixWorld),r.expandByPoint(t)}}}),this}}(),clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.min.copy(t.min),this.max.copy(t.max),this},makeEmpty:function(){return this.min.x=this.min.y=this.min.z=+(1/0),this.max.x=this.max.y=this.max.z=-(1/0),this},isEmpty:function(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z},getCenter:function(t){var e=t||new l;return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)},getSize:function(t){var e=t||new l;return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)},expandByPoint:function(t){return this.min.min(t),this.max.max(t),this},expandByVector:function(t){return this.min.sub(t),this.max.add(t),this},expandByScalar:function(t){return this.min.addScalar(-t),this.max.addScalar(t),this},containsPoint:function(t){return!(t.x<this.min.x||t.x>this.max.x||t.y<this.min.y||t.y>this.max.y||t.z<this.min.z||t.z>this.max.z)},containsBox:function(t){return this.min.x<=t.min.x&&t.max.x<=this.max.x&&this.min.y<=t.min.y&&t.max.y<=this.max.y&&this.min.z<=t.min.z&&t.max.z<=this.max.z},getParameter:function(t,e){var r=e||new l;return r.set((t.x-this.min.x)/(this.max.x-this.min.x),(t.y-this.min.y)/(this.max.y-this.min.y),(t.z-this.min.z)/(this.max.z-this.min.z))},intersectsBox:function(t){return!(t.max.x<this.min.x||t.min.x>this.max.x||t.max.y<this.min.y||t.min.y>this.max.y||t.max.z<this.min.z||t.min.z>this.max.z)},intersectsSphere:function(){var t;return function(e){return void 0===t&&(t=new l),this.clampPoint(e.center,t),t.distanceToSquared(e.center)<=e.radius*e.radius}}(),intersectsPlane:function(t){var e,r;return t.normal.x>0?(e=t.normal.x*this.min.x,r=t.normal.x*this.max.x):(e=t.normal.x*this.max.x,r=t.normal.x*this.min.x),t.normal.y>0?(e+=t.normal.y*this.min.y,r+=t.normal.y*this.max.y):(e+=t.normal.y*this.max.y,r+=t.normal.y*this.min.y),t.normal.z>0?(e+=t.normal.z*this.min.z,r+=t.normal.z*this.max.z):(e+=t.normal.z*this.max.z,r+=t.normal.z*this.min.z),e<=t.constant&&r>=t.constant},clampPoint:function(t,e){var r=e||new l;return r.copy(t).clamp(this.min,this.max)},distanceToPoint:function(){var t=new l;return function(e){var r=t.copy(e).clamp(this.min,this.max);return r.sub(e).length()}}(),getBoundingSphere:function(){var t=new l;return function(e){var r=e||new et;return this.getCenter(r.center),r.radius=.5*this.getSize(t).length(),r}}(),intersect:function(t){return this.min.max(t.min),this.max.min(t.max),this.isEmpty()&&this.makeEmpty(),this},union:function(t){return this.min.min(t.min),this.max.max(t.max),this},applyMatrix4:function(){var t=[new l,new l,new l,new l,new l,new l,new l,new l];return function(e){return this.isEmpty()?this:(t[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),t[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),t[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),t[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),t[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),t[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),t[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),t[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(t),this)}}(),translate:function(t){return this.min.add(t),this.max.add(t),this},equals:function(t){return t.min.equals(this.min)&&t.max.equals(this.max)}},et.prototype={constructor:et,set:function(t,e){return this.center.copy(t),this.radius=e,this},setFromPoints:function(){var t=new tt;return function(e,r){var n=this.center;void 0!==r?n.copy(r):t.setFromPoints(e).getCenter(n);for(var i=0,o=0,a=e.length;o<a;o++)i=Math.max(i,n.distanceToSquared(e[o]));return this.radius=Math.sqrt(i),this}}(),clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.center.copy(t.center),this.radius=t.radius,this},empty:function(){return this.radius<=0},containsPoint:function(t){return t.distanceToSquared(this.center)<=this.radius*this.radius},distanceToPoint:function(t){return t.distanceTo(this.center)-this.radius},intersectsSphere:function(t){var e=this.radius+t.radius;return t.center.distanceToSquared(this.center)<=e*e},intersectsBox:function(t){return t.intersectsSphere(this)},intersectsPlane:function(t){return Math.abs(this.center.dot(t.normal)-t.constant)<=this.radius},clampPoint:function(t,e){var r=this.center.distanceToSquared(t),n=e||new l;return n.copy(t),r>this.radius*this.radius&&(n.sub(this.center).normalize(),n.multiplyScalar(this.radius).add(this.center)),n},getBoundingBox:function(t){var e=t||new tt;return e.set(this.center,this.center),e.expandByScalar(this.radius),e},applyMatrix4:function(t){return this.center.applyMatrix4(t),this.radius=this.radius*t.getMaxScaleOnAxis(),this},translate:function(t){return this.center.add(t),this},equals:function(t){return t.center.equals(this.center)&&t.radius===this.radius}},rt.prototype={constructor:rt,isMatrix3:!0,set:function(t,e,r,n,i,o,a,s,u){var l=this.elements;return l[0]=t,l[1]=n,l[2]=a,l[3]=e,l[4]=i,l[5]=s,l[6]=r,l[7]=o,l[8]=u,this},identity:function(){return this.set(1,0,0,0,1,0,0,0,1),this},clone:function(){return(new this.constructor).fromArray(this.elements)},copy:function(t){var e=t.elements;return this.set(e[0],e[3],e[6],e[1],e[4],e[7],e[2],e[5],e[8]),this},setFromMatrix4:function(t){var e=t.elements;return this.set(e[0],e[4],e[8],e[1],e[5],e[9],e[2],e[6],e[10]),this},applyToVector3Array:function(){var t;return function(e,r,n){void 0===t&&(t=new l),void 0===r&&(r=0),void 0===n&&(n=e.length);for(var i=0,o=r;i<n;i+=3,o+=3)t.fromArray(e,o),t.applyMatrix3(this),t.toArray(e,o);return e}}(),applyToBuffer:function(){var t;return function(e,r,n){void 0===t&&(t=new l),void 0===r&&(r=0),void 0===n&&(n=e.length/e.itemSize);for(var i=0,o=r;i<n;i++,o++)t.x=e.getX(o),t.y=e.getY(o),t.z=e.getZ(o),t.applyMatrix3(this),e.setXYZ(o,t.x,t.y,t.z);return e}}(),multiplyScalar:function(t){var e=this.elements;return e[0]*=t,e[3]*=t,e[6]*=t,e[1]*=t,e[4]*=t,e[7]*=t,e[2]*=t,e[5]*=t,e[8]*=t,this},determinant:function(){var t=this.elements,e=t[0],r=t[1],n=t[2],i=t[3],o=t[4],a=t[5],s=t[6],u=t[7],l=t[8];return e*o*l-e*a*u-r*i*l+r*a*s+n*i*u-n*o*s},getInverse:function(t,e){t&&t.isMatrix4&&console.error("THREE.Matrix3.getInverse no longer takes a Matrix4 argument.");var r=t.elements,n=this.elements,i=r[0],o=r[1],a=r[2],s=r[3],u=r[4],l=r[5],c=r[6],h=r[7],f=r[8],d=f*u-l*h,p=l*c-f*s,v=h*s-u*c,m=i*d+o*p+a*v;if(0===m){var g="THREE.Matrix3.getInverse(): can't invert matrix, determinant is 0";if(e===!0)throw new Error(g);return console.warn(g),this.identity()}var y=1/m;return n[0]=d*y,n[1]=(a*h-f*o)*y,n[2]=(l*o-a*u)*y,n[3]=p*y,n[4]=(f*i-a*c)*y,n[5]=(a*s-l*i)*y,n[6]=v*y,n[7]=(o*c-h*i)*y,n[8]=(u*i-o*s)*y,this},transpose:function(){var t,e=this.elements;return t=e[1],e[1]=e[3],e[3]=t,t=e[2],e[2]=e[6],e[6]=t,t=e[5],e[5]=e[7],e[7]=t,this},flattenToArrayOffset:function(t,e){return console.warn("THREE.Matrix3: .flattenToArrayOffset is deprecated - just use .toArray instead."),this.toArray(t,e)},getNormalMatrix:function(t){return this.setFromMatrix4(t).getInverse(this).transpose()},transposeIntoArray:function(t){var e=this.elements;return t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8],this},fromArray:function(t,e){void 0===e&&(e=0);for(var r=0;r<9;r++)this.elements[r]=t[r+e];return this},toArray:function(t,e){void 0===t&&(t=[]),void 0===e&&(e=0);var r=this.elements;return t[e]=r[0],t[e+1]=r[1],t[e+2]=r[2],t[e+3]=r[3],t[e+4]=r[4],t[e+5]=r[5],t[e+6]=r[6],t[e+7]=r[7],t[e+8]=r[8],t}},nt.prototype={constructor:nt,set:function(t,e){return this.normal.copy(t),this.constant=e,this},setComponents:function(t,e,r,n){return this.normal.set(t,e,r),this.constant=n,this},setFromNormalAndCoplanarPoint:function(t,e){return this.normal.copy(t),this.constant=-e.dot(this.normal),this},setFromCoplanarPoints:function(){var t=new l,e=new l;return function(r,n,i){var o=t.subVectors(i,n).cross(e.subVectors(r,n)).normalize();return this.setFromNormalAndCoplanarPoint(o,r),this}}(),clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.normal.copy(t.normal),this.constant=t.constant,this},normalize:function(){var t=1/this.normal.length();return this.normal.multiplyScalar(t),this.constant*=t,this},negate:function(){return this.constant*=-1,this.normal.negate(),this},distanceToPoint:function(t){return this.normal.dot(t)+this.constant},distanceToSphere:function(t){return this.distanceToPoint(t.center)-t.radius},projectPoint:function(t,e){return this.orthoPoint(t,e).sub(t).negate()},orthoPoint:function(t,e){var r=this.distanceToPoint(t),n=e||new l;return n.copy(this.normal).multiplyScalar(r)},intersectLine:function(){var t=new l;return function(e,r){var n=r||new l,i=e.delta(t),o=this.normal.dot(i);if(0!==o){var a=-(e.start.dot(this.normal)+this.constant)/o;if(!(a<0||a>1))return n.copy(i).multiplyScalar(a).add(e.start)}else if(0===this.distanceToPoint(e.start))return n.copy(e.start)}}(),intersectsLine:function(t){var e=this.distanceToPoint(t.start),r=this.distanceToPoint(t.end);return e<0&&r>0||r<0&&e>0},intersectsBox:function(t){return t.intersectsPlane(this)},intersectsSphere:function(t){return t.intersectsPlane(this)},coplanarPoint:function(t){var e=t||new l;return e.copy(this.normal).multiplyScalar(-this.constant)},applyMatrix4:function(){var t=new l,e=new rt;return function(r,n){var i=this.coplanarPoint(t).applyMatrix4(r),o=n||e.getNormalMatrix(r),a=this.normal.applyMatrix3(o).normalize();return this.constant=-i.dot(a),this}}(),translate:function(t){return this.constant=this.constant-t.dot(this.normal),this},equals:function(t){return t.normal.equals(this.normal)&&t.constant===this.constant}},it.prototype={constructor:it,set:function(t,e,r,n,i,o){var a=this.planes;return a[0].copy(t),a[1].copy(e),a[2].copy(r),a[3].copy(n),a[4].copy(i),a[5].copy(o),this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){for(var e=this.planes,r=0;r<6;r++)e[r].copy(t.planes[r]);return this;
},setFromMatrix:function(t){var e=this.planes,r=t.elements,n=r[0],i=r[1],o=r[2],a=r[3],s=r[4],u=r[5],l=r[6],c=r[7],h=r[8],f=r[9],d=r[10],p=r[11],v=r[12],m=r[13],g=r[14],y=r[15];return e[0].setComponents(a-n,c-s,p-h,y-v).normalize(),e[1].setComponents(a+n,c+s,p+h,y+v).normalize(),e[2].setComponents(a+i,c+u,p+f,y+m).normalize(),e[3].setComponents(a-i,c-u,p-f,y-m).normalize(),e[4].setComponents(a-o,c-l,p-d,y-g).normalize(),e[5].setComponents(a+o,c+l,p+d,y+g).normalize(),this},intersectsObject:function(){var t=new et;return function(e){var r=e.geometry;return null===r.boundingSphere&&r.computeBoundingSphere(),t.copy(r.boundingSphere).applyMatrix4(e.matrixWorld),this.intersectsSphere(t)}}(),intersectsSprite:function(){var t=new et;return function(e){return t.center.set(0,0,0),t.radius=.7071067811865476,t.applyMatrix4(e.matrixWorld),this.intersectsSphere(t)}}(),intersectsSphere:function(t){for(var e=this.planes,r=t.center,n=-t.radius,i=0;i<6;i++){var o=e[i].distanceToPoint(r);if(o<n)return!1}return!0},intersectsBox:function(){var t=new l,e=new l;return function(r){for(var n=this.planes,i=0;i<6;i++){var o=n[i];t.x=o.normal.x>0?r.min.x:r.max.x,e.x=o.normal.x>0?r.max.x:r.min.x,t.y=o.normal.y>0?r.min.y:r.max.y,e.y=o.normal.y>0?r.max.y:r.min.y,t.z=o.normal.z>0?r.min.z:r.max.z,e.z=o.normal.z>0?r.max.z:r.min.z;var a=o.distanceToPoint(t),s=o.distanceToPoint(e);if(a<0&&s<0)return!1}return!0}}(),containsPoint:function(t){for(var e=this.planes,r=0;r<6;r++)if(e[r].distanceToPoint(t)<0)return!1;return!0}},at.prototype={constructor:at,set:function(t,e){return this.origin.copy(t),this.direction.copy(e),this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.origin.copy(t.origin),this.direction.copy(t.direction),this},at:function(t,e){var r=e||new l;return r.copy(this.direction).multiplyScalar(t).add(this.origin)},lookAt:function(t){return this.direction.copy(t).sub(this.origin).normalize(),this},recast:function(){var t=new l;return function(e){return this.origin.copy(this.at(e,t)),this}}(),closestPointToPoint:function(t,e){var r=e||new l;r.subVectors(t,this.origin);var n=r.dot(this.direction);return n<0?r.copy(this.origin):r.copy(this.direction).multiplyScalar(n).add(this.origin)},distanceToPoint:function(t){return Math.sqrt(this.distanceSqToPoint(t))},distanceSqToPoint:function(){var t=new l;return function(e){var r=t.subVectors(e,this.origin).dot(this.direction);return r<0?this.origin.distanceToSquared(e):(t.copy(this.direction).multiplyScalar(r).add(this.origin),t.distanceToSquared(e))}}(),distanceSqToSegment:function(){var t=new l,e=new l,r=new l;return function(n,i,o,a){t.copy(n).add(i).multiplyScalar(.5),e.copy(i).sub(n).normalize(),r.copy(this.origin).sub(t);var s,u,l,c,h=.5*n.distanceTo(i),f=-this.direction.dot(e),d=r.dot(this.direction),p=-r.dot(e),v=r.lengthSq(),m=Math.abs(1-f*f);if(m>0)if(s=f*p-d,u=f*d-p,c=h*m,s>=0)if(u>=-c)if(u<=c){var g=1/m;s*=g,u*=g,l=s*(s+f*u+2*d)+u*(f*s+u+2*p)+v}else u=h,s=Math.max(0,-(f*u+d)),l=-s*s+u*(u+2*p)+v;else u=-h,s=Math.max(0,-(f*u+d)),l=-s*s+u*(u+2*p)+v;else u<=-c?(s=Math.max(0,-(-f*h+d)),u=s>0?-h:Math.min(Math.max(-h,-p),h),l=-s*s+u*(u+2*p)+v):u<=c?(s=0,u=Math.min(Math.max(-h,-p),h),l=u*(u+2*p)+v):(s=Math.max(0,-(f*h+d)),u=s>0?h:Math.min(Math.max(-h,-p),h),l=-s*s+u*(u+2*p)+v);else u=f>0?-h:h,s=Math.max(0,-(f*u+d)),l=-s*s+u*(u+2*p)+v;return o&&o.copy(this.direction).multiplyScalar(s).add(this.origin),a&&a.copy(e).multiplyScalar(u).add(t),l}}(),intersectSphere:function(){var t=new l;return function(e,r){t.subVectors(e.center,this.origin);var n=t.dot(this.direction),i=t.dot(t)-n*n,o=e.radius*e.radius;if(i>o)return null;var a=Math.sqrt(o-i),s=n-a,u=n+a;return s<0&&u<0?null:s<0?this.at(u,r):this.at(s,r)}}(),intersectsSphere:function(t){return this.distanceToPoint(t.center)<=t.radius},distanceToPlane:function(t){var e=t.normal.dot(this.direction);if(0===e)return 0===t.distanceToPoint(this.origin)?0:null;var r=-(this.origin.dot(t.normal)+t.constant)/e;return r>=0?r:null},intersectPlane:function(t,e){var r=this.distanceToPlane(t);return null===r?null:this.at(r,e)},intersectsPlane:function(t){var e=t.distanceToPoint(this.origin);if(0===e)return!0;var r=t.normal.dot(this.direction);return r*e<0},intersectBox:function(t,e){var r,n,i,o,a,s,u=1/this.direction.x,l=1/this.direction.y,c=1/this.direction.z,h=this.origin;return u>=0?(r=(t.min.x-h.x)*u,n=(t.max.x-h.x)*u):(r=(t.max.x-h.x)*u,n=(t.min.x-h.x)*u),l>=0?(i=(t.min.y-h.y)*l,o=(t.max.y-h.y)*l):(i=(t.max.y-h.y)*l,o=(t.min.y-h.y)*l),r>o||i>n?null:((i>r||r!==r)&&(r=i),(o<n||n!==n)&&(n=o),c>=0?(a=(t.min.z-h.z)*c,s=(t.max.z-h.z)*c):(a=(t.max.z-h.z)*c,s=(t.min.z-h.z)*c),r>s||a>n?null:((a>r||r!==r)&&(r=a),(s<n||n!==n)&&(n=s),n<0?null:this.at(r>=0?r:n,e)))},intersectsBox:function(){var t=new l;return function(e){return null!==this.intersectBox(e,t)}}(),intersectTriangle:function(){var t=new l,e=new l,r=new l,n=new l;return function(i,o,a,s,u){e.subVectors(o,i),r.subVectors(a,i),n.crossVectors(e,r);var l,c=this.direction.dot(n);if(c>0){if(s)return null;l=1}else{if(!(c<0))return null;l=-1,c=-c}t.subVectors(this.origin,i);var h=l*this.direction.dot(r.crossVectors(t,r));if(h<0)return null;var f=l*this.direction.dot(e.cross(t));if(f<0)return null;if(h+f>c)return null;var d=-l*t.dot(n);return d<0?null:this.at(d/c,u)}}(),applyMatrix4:function(t){return this.direction.add(this.origin).applyMatrix4(t),this.origin.applyMatrix4(t),this.direction.sub(this.origin),this.direction.normalize(),this},equals:function(t){return t.origin.equals(this.origin)&&t.direction.equals(this.direction)}},st.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"],st.DefaultOrder="XYZ",st.prototype={constructor:st,isEuler:!0,get x(){return this._x},set x(t){this._x=t,this.onChangeCallback()},get y(){return this._y},set y(t){this._y=t,this.onChangeCallback()},get z(){return this._z},set z(t){this._z=t,this.onChangeCallback()},get order(){return this._order},set order(t){this._order=t,this.onChangeCallback()},set:function(t,e,r,n){return this._x=t,this._y=e,this._z=r,this._order=n||this._order,this.onChangeCallback(),this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._order)},copy:function(t){return this._x=t._x,this._y=t._y,this._z=t._z,this._order=t._order,this.onChangeCallback(),this},setFromRotationMatrix:function(t,e,r){var n=ka.clamp,i=t.elements,o=i[0],a=i[4],s=i[8],u=i[1],l=i[5],c=i[9],h=i[2],f=i[6],d=i[10];return e=e||this._order,"XYZ"===e?(this._y=Math.asin(n(s,-1,1)),Math.abs(s)<.99999?(this._x=Math.atan2(-c,d),this._z=Math.atan2(-a,o)):(this._x=Math.atan2(f,l),this._z=0)):"YXZ"===e?(this._x=Math.asin(-n(c,-1,1)),Math.abs(c)<.99999?(this._y=Math.atan2(s,d),this._z=Math.atan2(u,l)):(this._y=Math.atan2(-h,o),this._z=0)):"ZXY"===e?(this._x=Math.asin(n(f,-1,1)),Math.abs(f)<.99999?(this._y=Math.atan2(-h,d),this._z=Math.atan2(-a,l)):(this._y=0,this._z=Math.atan2(u,o))):"ZYX"===e?(this._y=Math.asin(-n(h,-1,1)),Math.abs(h)<.99999?(this._x=Math.atan2(f,d),this._z=Math.atan2(u,o)):(this._x=0,this._z=Math.atan2(-a,l))):"YZX"===e?(this._z=Math.asin(n(u,-1,1)),Math.abs(u)<.99999?(this._x=Math.atan2(-c,l),this._y=Math.atan2(-h,o)):(this._x=0,this._y=Math.atan2(s,d))):"XZY"===e?(this._z=Math.asin(-n(a,-1,1)),Math.abs(a)<.99999?(this._x=Math.atan2(f,l),this._y=Math.atan2(s,o)):(this._x=Math.atan2(-c,d),this._y=0)):console.warn("THREE.Euler: .setFromRotationMatrix() given unsupported order: "+e),this._order=e,r!==!1&&this.onChangeCallback(),this},setFromQuaternion:function(){var t;return function(e,r,n){return void 0===t&&(t=new c),t.makeRotationFromQuaternion(e),this.setFromRotationMatrix(t,r,n)}}(),setFromVector3:function(t,e){return this.set(t.x,t.y,t.z,e||this._order)},reorder:function(){var t=new u;return function(e){return t.setFromEuler(this),this.setFromQuaternion(t,e)}}(),equals:function(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._order===this._order},fromArray:function(t){return this._x=t[0],this._y=t[1],this._z=t[2],void 0!==t[3]&&(this._order=t[3]),this.onChangeCallback(),this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this._x,t[e+1]=this._y,t[e+2]=this._z,t[e+3]=this._order,t},toVector3:function(t){return t?t.set(this._x,this._y,this._z):new l(this._x,this._y,this._z)},onChange:function(t){return this.onChangeCallback=t,this},onChangeCallback:function(){}},ut.prototype={constructor:ut,set:function(t){this.mask=1<<t},enable:function(t){this.mask|=1<<t},toggle:function(t){this.mask^=1<<t},disable:function(t){this.mask&=~(1<<t)},test:function(t){return 0!==(this.mask&t.mask)}},lt.DefaultUp=new l(0,1,0),lt.DefaultMatrixAutoUpdate=!0,Object.assign(lt.prototype,e.prototype,{isObject3D:!0,applyMatrix:function(t){this.matrix.multiplyMatrices(t,this.matrix),this.matrix.decompose(this.position,this.quaternion,this.scale)},setRotationFromAxisAngle:function(t,e){this.quaternion.setFromAxisAngle(t,e)},setRotationFromEuler:function(t){this.quaternion.setFromEuler(t,!0)},setRotationFromMatrix:function(t){this.quaternion.setFromRotationMatrix(t)},setRotationFromQuaternion:function(t){this.quaternion.copy(t)},rotateOnAxis:function(){var t=new u;return function(e,r){return t.setFromAxisAngle(e,r),this.quaternion.multiply(t),this}}(),rotateX:function(){var t=new l(1,0,0);return function(e){return this.rotateOnAxis(t,e)}}(),rotateY:function(){var t=new l(0,1,0);return function(e){return this.rotateOnAxis(t,e)}}(),rotateZ:function(){var t=new l(0,0,1);return function(e){return this.rotateOnAxis(t,e)}}(),translateOnAxis:function(){var t=new l;return function(e,r){return t.copy(e).applyQuaternion(this.quaternion),this.position.add(t.multiplyScalar(r)),this}}(),translateX:function(){var t=new l(1,0,0);return function(e){return this.translateOnAxis(t,e)}}(),translateY:function(){var t=new l(0,1,0);return function(e){return this.translateOnAxis(t,e)}}(),translateZ:function(){var t=new l(0,0,1);return function(e){return this.translateOnAxis(t,e)}}(),localToWorld:function(t){return t.applyMatrix4(this.matrixWorld)},worldToLocal:function(){var t=new c;return function(e){return e.applyMatrix4(t.getInverse(this.matrixWorld))}}(),lookAt:function(){var t=new c;return function(e){t.lookAt(e,this.position,this.up),this.quaternion.setFromRotationMatrix(t)}}(),add:function(t){if(arguments.length>1){for(var e=0;e<arguments.length;e++)this.add(arguments[e]);return this}return t===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",t),this):(t&&t.isObject3D?(null!==t.parent&&t.parent.remove(t),t.parent=this,t.dispatchEvent({type:"added"}),this.children.push(t)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",t),this)},remove:function(t){if(arguments.length>1)for(var e=0;e<arguments.length;e++)this.remove(arguments[e]);var r=this.children.indexOf(t);r!==-1&&(t.parent=null,t.dispatchEvent({type:"removed"}),this.children.splice(r,1))},getObjectById:function(t){return this.getObjectByProperty("id",t)},getObjectByName:function(t){return this.getObjectByProperty("name",t)},getObjectByProperty:function(t,e){if(this[t]===e)return this;for(var r=0,n=this.children.length;r<n;r++){var i=this.children[r],o=i.getObjectByProperty(t,e);if(void 0!==o)return o}},getWorldPosition:function(t){var e=t||new l;return this.updateMatrixWorld(!0),e.setFromMatrixPosition(this.matrixWorld)},getWorldQuaternion:function(){var t=new l,e=new l;return function(r){var n=r||new u;return this.updateMatrixWorld(!0),this.matrixWorld.decompose(t,n,e),n}}(),getWorldRotation:function(){var t=new u;return function(e){var r=e||new st;return this.getWorldQuaternion(t),r.setFromQuaternion(t,this.rotation.order,!1)}}(),getWorldScale:function(){var t=new l,e=new u;return function(r){var n=r||new l;return this.updateMatrixWorld(!0),this.matrixWorld.decompose(t,e,n),n}}(),getWorldDirection:function(){var t=new u;return function(e){var r=e||new l;return this.getWorldQuaternion(t),r.set(0,0,1).applyQuaternion(t)}}(),raycast:function(){},traverse:function(t){t(this);for(var e=this.children,r=0,n=e.length;r<n;r++)e[r].traverse(t)},traverseVisible:function(t){if(this.visible!==!1){t(this);for(var e=this.children,r=0,n=e.length;r<n;r++)e[r].traverseVisible(t)}},traverseAncestors:function(t){var e=this.parent;null!==e&&(t(e),e.traverseAncestors(t))},updateMatrix:function(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0},updateMatrixWorld:function(t){this.matrixAutoUpdate===!0&&this.updateMatrix(),this.matrixWorldNeedsUpdate!==!0&&t!==!0||(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,t=!0);for(var e=this.children,r=0,n=e.length;r<n;r++)e[r].updateMatrixWorld(t)},toJSON:function(t){function e(t){var e=[];for(var r in t){var n=t[r];delete n.metadata,e.push(n)}return e}var r=void 0===t||""===t,n={};r&&(t={geometries:{},materials:{},textures:{},images:{}},n.metadata={version:4.4,type:"Object",generator:"Object3D.toJSON"});var i={};if(i.uuid=this.uuid,i.type=this.type,""!==this.name&&(i.name=this.name),"{}"!==JSON.stringify(this.userData)&&(i.userData=this.userData),this.castShadow===!0&&(i.castShadow=!0),this.receiveShadow===!0&&(i.receiveShadow=!0),this.visible===!1&&(i.visible=!1),i.matrix=this.matrix.toArray(),void 0!==this.geometry&&(void 0===t.geometries[this.geometry.uuid]&&(t.geometries[this.geometry.uuid]=this.geometry.toJSON(t)),i.geometry=this.geometry.uuid),void 0!==this.material&&(void 0===t.materials[this.material.uuid]&&(t.materials[this.material.uuid]=this.material.toJSON(t)),i.material=this.material.uuid),this.children.length>0){i.children=[];for(var o=0;o<this.children.length;o++)i.children.push(this.children[o].toJSON(t).object)}if(r){var a=e(t.geometries),s=e(t.materials),u=e(t.textures),l=e(t.images);a.length>0&&(n.geometries=a),s.length>0&&(n.materials=s),u.length>0&&(n.textures=u),l.length>0&&(n.images=l)}return n.object=i,n},clone:function(t){return(new this.constructor).copy(this,t)},copy:function(t,e){if(void 0===e&&(e=!0),this.name=t.name,this.up.copy(t.up),this.position.copy(t.position),this.quaternion.copy(t.quaternion),this.scale.copy(t.scale),this.matrix.copy(t.matrix),this.matrixWorld.copy(t.matrixWorld),this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrixWorldNeedsUpdate=t.matrixWorldNeedsUpdate,this.visible=t.visible,this.castShadow=t.castShadow,this.receiveShadow=t.receiveShadow,this.frustumCulled=t.frustumCulled,this.renderOrder=t.renderOrder,this.userData=JSON.parse(JSON.stringify(t.userData)),e===!0)for(var r=0;r<t.children.length;r++){var n=t.children[r];this.add(n.clone())}return this}});var Yu=0;ht.prototype={constructor:ht,set:function(t,e){return this.start.copy(t),this.end.copy(e),this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.start.copy(t.start),this.end.copy(t.end),this},getCenter:function(t){var e=t||new l;return e.addVectors(this.start,this.end).multiplyScalar(.5)},delta:function(t){var e=t||new l;return e.subVectors(this.end,this.start)},distanceSq:function(){return this.start.distanceToSquared(this.end)},distance:function(){return this.start.distanceTo(this.end)},at:function(t,e){var r=e||new l;return this.delta(r).multiplyScalar(t).add(this.start)},closestPointToPointParameter:function(){var t=new l,e=new l;return function(r,n){t.subVectors(r,this.start),e.subVectors(this.end,this.start);var i=e.dot(e),o=e.dot(t),a=o/i;return n&&(a=ka.clamp(a,0,1)),a}}(),closestPointToPoint:function(t,e,r){var n=this.closestPointToPointParameter(t,e),i=r||new l;return this.delta(i).multiplyScalar(n).add(this.start)},applyMatrix4:function(t){return this.start.applyMatrix4(t),this.end.applyMatrix4(t),this},equals:function(t){return t.start.equals(this.start)&&t.end.equals(this.end)}},ft.normal=function(){var t=new l;return function(e,r,n,i){var o=i||new l;o.subVectors(n,r),t.subVectors(e,r),o.cross(t);var a=o.lengthSq();return a>0?o.multiplyScalar(1/Math.sqrt(a)):o.set(0,0,0)}}(),ft.barycoordFromPoint=function(){var t=new l,e=new l,r=new l;return function(n,i,o,a,s){t.subVectors(a,i),e.subVectors(o,i),r.subVectors(n,i);var u=t.dot(t),c=t.dot(e),h=t.dot(r),f=e.dot(e),d=e.dot(r),p=u*f-c*c,v=s||new l;if(0===p)return v.set(-2,-1,-1);var m=1/p,g=(f*h-c*d)*m,y=(u*d-c*h)*m;return v.set(1-g-y,y,g)}}(),ft.containsPoint=function(){var t=new l;return function(e,r,n,i){var o=ft.barycoordFromPoint(e,r,n,i,t);return o.x>=0&&o.y>=0&&o.x+o.y<=1}}(),ft.prototype={constructor:ft,set:function(t,e,r){return this.a.copy(t),this.b.copy(e),this.c.copy(r),this},setFromPointsAndIndices:function(t,e,r,n){return this.a.copy(t[e]),this.b.copy(t[r]),this.c.copy(t[n]),this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.a.copy(t.a),this.b.copy(t.b),this.c.copy(t.c),this},area:function(){var t=new l,e=new l;return function(){return t.subVectors(this.c,this.b),e.subVectors(this.a,this.b),.5*t.cross(e).length()}}(),midpoint:function(t){var e=t||new l;return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)},normal:function(t){return ft.normal(this.a,this.b,this.c,t)},plane:function(t){var e=t||new nt;return e.setFromCoplanarPoints(this.a,this.b,this.c)},barycoordFromPoint:function(t,e){return ft.barycoordFromPoint(t,this.a,this.b,this.c,e)},containsPoint:function(t){return ft.containsPoint(t,this.a,this.b,this.c)},closestPointToPoint:function(){var t,e,r,n;return function(i,o){void 0===t&&(t=new nt,e=[new ht,new ht,new ht],r=new l,n=new l);var a=o||new l,s=1/0;if(t.setFromCoplanarPoints(this.a,this.b,this.c),t.projectPoint(i,r),this.containsPoint(r)===!0)a.copy(r);else{e[0].set(this.a,this.b),e[1].set(this.b,this.c),e[2].set(this.c,this.a);for(var u=0;u<e.length;u++){e[u].closestPointToPoint(r,!0,n);var c=r.distanceToSquared(n);c<s&&(s=c,a.copy(n))}}return a}}(),equals:function(t){return t.a.equals(this.a)&&t.b.equals(this.b)&&t.c.equals(this.c)}},dt.prototype={constructor:dt,clone:function(){return(new this.constructor).copy(this)},copy:function(t){this.a=t.a,this.b=t.b,this.c=t.c,this.normal.copy(t.normal),this.color.copy(t.color),this.materialIndex=t.materialIndex;for(var e=0,r=t.vertexNormals.length;e<r;e++)this.vertexNormals[e]=t.vertexNormals[e].clone();for(var e=0,r=t.vertexColors.length;e<r;e++)this.vertexColors[e]=t.vertexColors[e].clone();return this}},pt.prototype=Object.create(K.prototype),pt.prototype.constructor=pt,pt.prototype.isMeshBasicMaterial=!0,pt.prototype.copy=function(t){return K.prototype.copy.call(this,t),this.color.copy(t.color),this.map=t.map,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this},vt.prototype={constructor:vt,isBufferAttribute:!0,set needsUpdate(t){t===!0&&this.version++},setArray:function(t){if(Array.isArray(t))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.count=void 0!==t?t.length/this.itemSize:0,this.array=t},setDynamic:function(t){return this.dynamic=t,this},copy:function(t){return this.array=new t.array.constructor(t.array),this.itemSize=t.itemSize,this.count=t.count,this.normalized=t.normalized,this.dynamic=t.dynamic,this},copyAt:function(t,e,r){t*=this.itemSize,r*=e.itemSize;for(var n=0,i=this.itemSize;n<i;n++)this.array[t+n]=e.array[r+n];return this},copyArray:function(t){return this.array.set(t),this},copyColorsArray:function(t){for(var e=this.array,r=0,n=0,i=t.length;n<i;n++){var o=t[n];void 0===o&&(console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined",n),o=new W),e[r++]=o.r,e[r++]=o.g,e[r++]=o.b}return this},copyIndicesArray:function(t){for(var e=this.array,r=0,n=0,i=t.length;n<i;n++){var o=t[n];e[r++]=o.a,e[r++]=o.b,e[r++]=o.c}return this},copyVector2sArray:function(t){for(var e=this.array,n=0,i=0,o=t.length;i<o;i++){var a=t[i];void 0===a&&(console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined",i),a=new r),e[n++]=a.x,e[n++]=a.y}return this},copyVector3sArray:function(t){for(var e=this.array,r=0,n=0,i=t.length;n<i;n++){var o=t[n];void 0===o&&(console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined",n),o=new l),e[r++]=o.x,e[r++]=o.y,e[r++]=o.z}return this},copyVector4sArray:function(t){for(var e=this.array,r=0,n=0,i=t.length;n<i;n++){var a=t[n];void 0===a&&(console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined",n),a=new o),e[r++]=a.x,e[r++]=a.y,e[r++]=a.z,e[r++]=a.w}return this},set:function(t,e){return void 0===e&&(e=0),this.array.set(t,e),this},getX:function(t){return this.array[t*this.itemSize]},setX:function(t,e){return this.array[t*this.itemSize]=e,this},getY:function(t){return this.array[t*this.itemSize+1]},setY:function(t,e){return this.array[t*this.itemSize+1]=e,this},getZ:function(t){return this.array[t*this.itemSize+2]},setZ:function(t,e){return this.array[t*this.itemSize+2]=e,this},getW:function(t){return this.array[t*this.itemSize+3]},setW:function(t,e){return this.array[t*this.itemSize+3]=e,this},setXY:function(t,e,r){return t*=this.itemSize,this.array[t+0]=e,this.array[t+1]=r,this},setXYZ:function(t,e,r,n){return t*=this.itemSize,this.array[t+0]=e,this.array[t+1]=r,this.array[t+2]=n,this},setXYZW:function(t,e,r,n,i){return t*=this.itemSize,this.array[t+0]=e,this.array[t+1]=r,this.array[t+2]=n,this.array[t+3]=i,this},clone:function(){return(new this.constructor).copy(this)}},Object.assign(Mt.prototype,e.prototype,{isGeometry:!0,applyMatrix:function(t){for(var e=(new rt).getNormalMatrix(t),r=0,n=this.vertices.length;r<n;r++){var i=this.vertices[r];i.applyMatrix4(t)}for(var r=0,n=this.faces.length;r<n;r++){var o=this.faces[r];o.normal.applyMatrix3(e).normalize();for(var a=0,s=o.vertexNormals.length;a<s;a++)o.vertexNormals[a].applyMatrix3(e).normalize()}return null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this.verticesNeedUpdate=!0,this.normalsNeedUpdate=!0,this},rotateX:function(){var t;return function(e){return void 0===t&&(t=new c),t.makeRotationX(e),this.applyMatrix(t),this}}(),rotateY:function(){var t;return function(e){return void 0===t&&(t=new c),t.makeRotationY(e),this.applyMatrix(t),this}}(),rotateZ:function(){var t;return function(e){return void 0===t&&(t=new c),t.makeRotationZ(e),this.applyMatrix(t),this}}(),translate:function(){var t;return function(e,r,n){return void 0===t&&(t=new c),t.makeTranslation(e,r,n),this.applyMatrix(t),this}}(),scale:function(){var t;return function(e,r,n){return void 0===t&&(t=new c),t.makeScale(e,r,n),this.applyMatrix(t),this}}(),lookAt:function(){var t;return function(e){void 0===t&&(t=new lt),t.lookAt(e),t.updateMatrix(),this.applyMatrix(t.matrix)}}(),fromBufferGeometry:function(t){function e(t,e,r,i){var o=void 0!==s?[f[t].clone(),f[e].clone(),f[r].clone()]:[],a=void 0!==u?[n.colors[t].clone(),n.colors[e].clone(),n.colors[r].clone()]:[],l=new dt(t,e,r,o,a,i);n.faces.push(l),void 0!==c&&n.faceVertexUvs[0].push([d[t].clone(),d[e].clone(),d[r].clone()]),void 0!==h&&n.faceVertexUvs[1].push([p[t].clone(),p[e].clone(),p[r].clone()])}var n=this,i=null!==t.index?t.index.array:void 0,o=t.attributes,a=o.position.array,s=void 0!==o.normal?o.normal.array:void 0,u=void 0!==o.color?o.color.array:void 0,c=void 0!==o.uv?o.uv.array:void 0,h=void 0!==o.uv2?o.uv2.array:void 0;void 0!==h&&(this.faceVertexUvs[1]=[]);for(var f=[],d=[],p=[],v=0,m=0;v<a.length;v+=3,m+=2)n.vertices.push(new l(a[v],a[v+1],a[v+2])),void 0!==s&&f.push(new l(s[v],s[v+1],s[v+2])),void 0!==u&&n.colors.push(new W(u[v],u[v+1],u[v+2])),void 0!==c&&d.push(new r(c[m],c[m+1])),void 0!==h&&p.push(new r(h[m],h[m+1]));if(void 0!==i){var g=t.groups;if(g.length>0)for(var v=0;v<g.length;v++)for(var y=g[v],_=y.start,x=y.count,m=_,b=_+x;m<b;m+=3)e(i[m],i[m+1],i[m+2],y.materialIndex);else for(var v=0;v<i.length;v+=3)e(i[v],i[v+1],i[v+2])}else for(var v=0;v<a.length/3;v+=3)e(v,v+1,v+2);return this.computeFaceNormals(),null!==t.boundingBox&&(this.boundingBox=t.boundingBox.clone()),null!==t.boundingSphere&&(this.boundingSphere=t.boundingSphere.clone()),this},center:function(){this.computeBoundingBox();var t=this.boundingBox.getCenter().negate();return this.translate(t.x,t.y,t.z),t},normalize:function(){this.computeBoundingSphere();var t=this.boundingSphere.center,e=this.boundingSphere.radius,r=0===e?1:1/e,n=new c;return n.set(r,0,0,-r*t.x,0,r,0,-r*t.y,0,0,r,-r*t.z,0,0,0,1),this.applyMatrix(n),this},computeFaceNormals:function(){for(var t=new l,e=new l,r=0,n=this.faces.length;r<n;r++){var i=this.faces[r],o=this.vertices[i.a],a=this.vertices[i.b],s=this.vertices[i.c];t.subVectors(s,a),e.subVectors(o,a),t.cross(e),t.normalize(),i.normal.copy(t)}},computeVertexNormals:function(t){void 0===t&&(t=!0);var e,r,n,i,o,a;for(a=new Array(this.vertices.length),e=0,r=this.vertices.length;e<r;e++)a[e]=new l;if(t){var s,u,c,h=new l,f=new l;for(n=0,i=this.faces.length;n<i;n++)o=this.faces[n],s=this.vertices[o.a],u=this.vertices[o.b],c=this.vertices[o.c],h.subVectors(c,u),f.subVectors(s,u),h.cross(f),a[o.a].add(h),a[o.b].add(h),a[o.c].add(h)}else for(this.computeFaceNormals(),n=0,i=this.faces.length;n<i;n++)o=this.faces[n],a[o.a].add(o.normal),a[o.b].add(o.normal),a[o.c].add(o.normal);for(e=0,r=this.vertices.length;e<r;e++)a[e].normalize();for(n=0,i=this.faces.length;n<i;n++){o=this.faces[n];var d=o.vertexNormals;3===d.length?(d[0].copy(a[o.a]),d[1].copy(a[o.b]),d[2].copy(a[o.c])):(d[0]=a[o.a].clone(),d[1]=a[o.b].clone(),d[2]=a[o.c].clone())}this.faces.length>0&&(this.normalsNeedUpdate=!0)},computeFlatVertexNormals:function(){var t,e,r;for(this.computeFaceNormals(),t=0,e=this.faces.length;t<e;t++){r=this.faces[t];var n=r.vertexNormals;3===n.length?(n[0].copy(r.normal),n[1].copy(r.normal),n[2].copy(r.normal)):(n[0]=r.normal.clone(),n[1]=r.normal.clone(),n[2]=r.normal.clone())}this.faces.length>0&&(this.normalsNeedUpdate=!0)},computeMorphNormals:function(){var t,e,r,n,i;for(r=0,n=this.faces.length;r<n;r++)for(i=this.faces[r],i.__originalFaceNormal?i.__originalFaceNormal.copy(i.normal):i.__originalFaceNormal=i.normal.clone(),i.__originalVertexNormals||(i.__originalVertexNormals=[]),t=0,e=i.vertexNormals.length;t<e;t++)i.__originalVertexNormals[t]?i.__originalVertexNormals[t].copy(i.vertexNormals[t]):i.__originalVertexNormals[t]=i.vertexNormals[t].clone();var o=new Mt;for(o.faces=this.faces,t=0,e=this.morphTargets.length;t<e;t++){if(!this.morphNormals[t]){this.morphNormals[t]={},this.morphNormals[t].faceNormals=[],this.morphNormals[t].vertexNormals=[];var a,s,u=this.morphNormals[t].faceNormals,c=this.morphNormals[t].vertexNormals;for(r=0,n=this.faces.length;r<n;r++)a=new l,s={a:new l,b:new l,c:new l},u.push(a),c.push(s)}var h=this.morphNormals[t];o.vertices=this.morphTargets[t].vertices,o.computeFaceNormals(),o.computeVertexNormals();var a,s;for(r=0,n=this.faces.length;r<n;r++)i=this.faces[r],a=h.faceNormals[r],s=h.vertexNormals[r],a.copy(i.normal),s.a.copy(i.vertexNormals[0]),s.b.copy(i.vertexNormals[1]),s.c.copy(i.vertexNormals[2])}for(r=0,n=this.faces.length;r<n;r++)i=this.faces[r],i.normal=i.__originalFaceNormal,i.vertexNormals=i.__originalVertexNormals},computeTangents:function(){console.warn("THREE.Geometry: .computeTangents() has been removed.")},computeLineDistances:function(){for(var t=0,e=this.vertices,r=0,n=e.length;r<n;r++)r>0&&(t+=e[r].distanceTo(e[r-1])),this.lineDistances[r]=t},computeBoundingBox:function(){null===this.boundingBox&&(this.boundingBox=new tt),this.boundingBox.setFromPoints(this.vertices)},computeBoundingSphere:function(){null===this.boundingSphere&&(this.boundingSphere=new et),this.boundingSphere.setFromPoints(this.vertices)},merge:function(t,e,r){if((t&&t.isGeometry)===!1)return void console.error("THREE.Geometry.merge(): geometry not an instance of THREE.Geometry.",t);var n,i=this.vertices.length,o=this.vertices,a=t.vertices,s=this.faces,u=t.faces,l=this.faceVertexUvs[0],c=t.faceVertexUvs[0],h=this.colors,f=t.colors;void 0===r&&(r=0),void 0!==e&&(n=(new rt).getNormalMatrix(e));for(var d=0,p=a.length;d<p;d++){var v=a[d],m=v.clone();void 0!==e&&m.applyMatrix4(e),o.push(m)}for(var d=0,p=f.length;d<p;d++)h.push(f[d].clone());for(d=0,p=u.length;d<p;d++){var g,y,_,x=u[d],b=x.vertexNormals,w=x.vertexColors;g=new dt(x.a+i,x.b+i,x.c+i),g.normal.copy(x.normal),void 0!==n&&g.normal.applyMatrix3(n).normalize();for(var T=0,E=b.length;T<E;T++)y=b[T].clone(),void 0!==n&&y.applyMatrix3(n).normalize(),g.vertexNormals.push(y);g.color.copy(x.color);for(var T=0,E=w.length;T<E;T++)_=w[T],g.vertexColors.push(_.clone());g.materialIndex=x.materialIndex+r,s.push(g)}for(d=0,p=c.length;d<p;d++){var S=c[d],M=[];if(void 0!==S){for(var T=0,E=S.length;T<E;T++)M.push(S[T].clone());l.push(M)}}},mergeMesh:function(t){return(t&&t.isMesh)===!1?void console.error("THREE.Geometry.mergeMesh(): mesh not an instance of THREE.Mesh.",t):(t.matrixAutoUpdate&&t.updateMatrix(),void this.merge(t.geometry,t.matrix))},mergeVertices:function(){var t,e,r,n,i,o,a,s,u={},l=[],c=[],h=4,f=Math.pow(10,h);for(r=0,n=this.vertices.length;r<n;r++)t=this.vertices[r],e=Math.round(t.x*f)+"_"+Math.round(t.y*f)+"_"+Math.round(t.z*f),void 0===u[e]?(u[e]=r,l.push(this.vertices[r]),c[r]=l.length-1):c[r]=c[u[e]];var d=[];for(r=0,n=this.faces.length;r<n;r++){i=this.faces[r],i.a=c[i.a],i.b=c[i.b],i.c=c[i.c],o=[i.a,i.b,i.c];for(var p=-1,v=0;v<3;v++)if(o[v]===o[(v+1)%3]){p=v,d.push(r);break}}for(r=d.length-1;r>=0;r--){var m=d[r];for(this.faces.splice(m,1),a=0,s=this.faceVertexUvs.length;a<s;a++)this.faceVertexUvs[a].splice(m,1)}var g=this.vertices.length-l.length;return this.vertices=l,g},sortFacesByMaterialIndex:function(){function t(t,e){return t.materialIndex-e.materialIndex}for(var e=this.faces,r=e.length,n=0;n<r;n++)e[n]._id=n;e.sort(t);var i,o,a=this.faceVertexUvs[0],s=this.faceVertexUvs[1];a&&a.length===r&&(i=[]),s&&s.length===r&&(o=[]);for(var n=0;n<r;n++){var u=e[n]._id;i&&i.push(a[u]),o&&o.push(s[u])}i&&(this.faceVertexUvs[0]=i),o&&(this.faceVertexUvs[1]=o)},toJSON:function(){function t(t,e,r){return r?t|1<<e:t&~(1<<e)}function e(t){var e=t.x.toString()+t.y.toString()+t.z.toString();return void 0!==f[e]?f[e]:(f[e]=h.length/3,h.push(t.x,t.y,t.z),f[e])}function r(t){var e=t.r.toString()+t.g.toString()+t.b.toString();return void 0!==p[e]?p[e]:(p[e]=d.length,d.push(t.getHex()),p[e])}function n(t){var e=t.x.toString()+t.y.toString();return void 0!==m[e]?m[e]:(m[e]=v.length/2,v.push(t.x,t.y),m[e])}var i={metadata:{version:4.4,type:"Geometry",generator:"Geometry.toJSON"}};if(i.uuid=this.uuid,i.type=this.type,""!==this.name&&(i.name=this.name),void 0!==this.parameters){var o=this.parameters;for(var a in o)void 0!==o[a]&&(i[a]=o[a]);return i}for(var s=[],u=0;u<this.vertices.length;u++){var l=this.vertices[u];s.push(l.x,l.y,l.z)}for(var c=[],h=[],f={},d=[],p={},v=[],m={},u=0;u<this.faces.length;u++){var g=this.faces[u],y=!0,_=!1,x=void 0!==this.faceVertexUvs[0][u],b=g.normal.length()>0,w=g.vertexNormals.length>0,T=1!==g.color.r||1!==g.color.g||1!==g.color.b,E=g.vertexColors.length>0,S=0;if(S=t(S,0,0),S=t(S,1,y),S=t(S,2,_),S=t(S,3,x),S=t(S,4,b),S=t(S,5,w),S=t(S,6,T),S=t(S,7,E),c.push(S),c.push(g.a,g.b,g.c),c.push(g.materialIndex),x){var M=this.faceVertexUvs[0][u];c.push(n(M[0]),n(M[1]),n(M[2]))}if(b&&c.push(e(g.normal)),w){var A=g.vertexNormals;c.push(e(A[0]),e(A[1]),e(A[2]))}if(T&&c.push(r(g.color)),E){var P=g.vertexColors;c.push(r(P[0]),r(P[1]),r(P[2]))}}return i.data={},i.data.vertices=s,i.data.normals=h,d.length>0&&(i.data.colors=d),v.length>0&&(i.data.uvs=[v]),i.data.faces=c,i},clone:function(){return(new Mt).copy(this)},copy:function(t){this.vertices=[],this.faces=[],this.faceVertexUvs=[[]],this.colors=[];for(var e=t.vertices,r=0,n=e.length;r<n;r++)this.vertices.push(e[r].clone());for(var i=t.colors,r=0,n=i.length;r<n;r++)this.colors.push(i[r].clone());
for(var o=t.faces,r=0,n=o.length;r<n;r++)this.faces.push(o[r].clone());for(var r=0,n=t.faceVertexUvs.length;r<n;r++){var a=t.faceVertexUvs[r];void 0===this.faceVertexUvs[r]&&(this.faceVertexUvs[r]=[]);for(var s=0,u=a.length;s<u;s++){for(var l=a[s],c=[],h=0,f=l.length;h<f;h++){var d=l[h];c.push(d.clone())}this.faceVertexUvs[r].push(c)}}return this},dispose:function(){this.dispatchEvent({type:"dispose"})}});var qu=0;Object.assign(Pt.prototype,e.prototype,{computeBoundingBox:Mt.prototype.computeBoundingBox,computeBoundingSphere:Mt.prototype.computeBoundingSphere,computeFaceNormals:function(){console.warn("THREE.DirectGeometry: computeFaceNormals() is not a method of this type of geometry.")},computeVertexNormals:function(){console.warn("THREE.DirectGeometry: computeVertexNormals() is not a method of this type of geometry.")},computeGroups:function(t){for(var e,r,n=[],i=t.faces,o=0;o<i.length;o++){var a=i[o];a.materialIndex!==r&&(r=a.materialIndex,void 0!==e&&(e.count=3*o-e.start,n.push(e)),e={start:3*o,materialIndex:r})}void 0!==e&&(e.count=3*o-e.start,n.push(e)),this.groups=n},fromGeometry:function(t){var e,n=t.faces,i=t.vertices,o=t.faceVertexUvs,a=o[0]&&o[0].length>0,s=o[1]&&o[1].length>0,u=t.morphTargets,l=u.length;if(l>0){e=[];for(var c=0;c<l;c++)e[c]=[];this.morphTargets.position=e}var h,f=t.morphNormals,d=f.length;if(d>0){h=[];for(var c=0;c<d;c++)h[c]=[];this.morphTargets.normal=h}for(var p=t.skinIndices,v=t.skinWeights,m=p.length===i.length,g=v.length===i.length,c=0;c<n.length;c++){var y=n[c];this.vertices.push(i[y.a],i[y.b],i[y.c]);var _=y.vertexNormals;if(3===_.length)this.normals.push(_[0],_[1],_[2]);else{var x=y.normal;this.normals.push(x,x,x)}var b=y.vertexColors;if(3===b.length)this.colors.push(b[0],b[1],b[2]);else{var w=y.color;this.colors.push(w,w,w)}if(a===!0){var T=o[0][c];void 0!==T?this.uvs.push(T[0],T[1],T[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv ",c),this.uvs.push(new r,new r,new r))}if(s===!0){var T=o[1][c];void 0!==T?this.uvs2.push(T[0],T[1],T[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv2 ",c),this.uvs2.push(new r,new r,new r))}for(var E=0;E<l;E++){var S=u[E].vertices;e[E].push(S[y.a],S[y.b],S[y.c])}for(var E=0;E<d;E++){var M=f[E].vertexNormals[c];h[E].push(M.a,M.b,M.c)}m&&this.skinIndices.push(p[y.a],p[y.b],p[y.c]),g&&this.skinWeights.push(v[y.a],v[y.b],v[y.c])}return this.computeGroups(t),this.verticesNeedUpdate=t.verticesNeedUpdate,this.normalsNeedUpdate=t.normalsNeedUpdate,this.colorsNeedUpdate=t.colorsNeedUpdate,this.uvsNeedUpdate=t.uvsNeedUpdate,this.groupsNeedUpdate=t.groupsNeedUpdate,this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),Object.assign(Ct.prototype,e.prototype,{isBufferGeometry:!0,getIndex:function(){return this.index},setIndex:function(t){this.index=t},addAttribute:function(t,e){return(e&&e.isBufferAttribute)===!1&&(e&&e.isInterleavedBufferAttribute)===!1?(console.warn("THREE.BufferGeometry: .addAttribute() now expects ( name, attribute )."),void this.addAttribute(t,new vt(arguments[1],arguments[2]))):"index"===t?(console.warn("THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute."),void this.setIndex(e)):(this.attributes[t]=e,this)},getAttribute:function(t){return this.attributes[t]},removeAttribute:function(t){return delete this.attributes[t],this},addGroup:function(t,e,r){this.groups.push({start:t,count:e,materialIndex:void 0!==r?r:0})},clearGroups:function(){this.groups=[]},setDrawRange:function(t,e){this.drawRange.start=t,this.drawRange.count=e},applyMatrix:function(t){var e=this.attributes.position;void 0!==e&&(t.applyToVector3Array(e.array),e.needsUpdate=!0);var r=this.attributes.normal;if(void 0!==r){var n=(new rt).getNormalMatrix(t);n.applyToVector3Array(r.array),r.needsUpdate=!0}return null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this},rotateX:function(){var t;return function(e){return void 0===t&&(t=new c),t.makeRotationX(e),this.applyMatrix(t),this}}(),rotateY:function(){var t;return function(e){return void 0===t&&(t=new c),t.makeRotationY(e),this.applyMatrix(t),this}}(),rotateZ:function(){var t;return function(e){return void 0===t&&(t=new c),t.makeRotationZ(e),this.applyMatrix(t),this}}(),translate:function(){var t;return function(e,r,n){return void 0===t&&(t=new c),t.makeTranslation(e,r,n),this.applyMatrix(t),this}}(),scale:function(){var t;return function(e,r,n){return void 0===t&&(t=new c),t.makeScale(e,r,n),this.applyMatrix(t),this}}(),lookAt:function(){var t;return function(e){void 0===t&&(t=new lt),t.lookAt(e),t.updateMatrix(),this.applyMatrix(t.matrix)}}(),center:function(){this.computeBoundingBox();var t=this.boundingBox.getCenter().negate();return this.translate(t.x,t.y,t.z),t},setFromObject:function(t){var e=t.geometry;if(t&&t.isPoints||t&&t.isLine){var r=new Tt(3*e.vertices.length,3),n=new Tt(3*e.colors.length,3);if(this.addAttribute("position",r.copyVector3sArray(e.vertices)),this.addAttribute("color",n.copyColorsArray(e.colors)),e.lineDistances&&e.lineDistances.length===e.vertices.length){var i=new Tt(e.lineDistances.length,1);this.addAttribute("lineDistance",i.copyArray(e.lineDistances))}null!==e.boundingSphere&&(this.boundingSphere=e.boundingSphere.clone()),null!==e.boundingBox&&(this.boundingBox=e.boundingBox.clone())}else t&&t.isMesh&&e&&e.isGeometry&&this.fromGeometry(e);return this},updateFromObject:function(t){var e=t.geometry;if(t&&t.isMesh){var r=e.__directGeometry;if(e.elementsNeedUpdate===!0&&(r=void 0,e.elementsNeedUpdate=!1),void 0===r)return this.fromGeometry(e);r.verticesNeedUpdate=e.verticesNeedUpdate,r.normalsNeedUpdate=e.normalsNeedUpdate,r.colorsNeedUpdate=e.colorsNeedUpdate,r.uvsNeedUpdate=e.uvsNeedUpdate,r.groupsNeedUpdate=e.groupsNeedUpdate,e.verticesNeedUpdate=!1,e.normalsNeedUpdate=!1,e.colorsNeedUpdate=!1,e.uvsNeedUpdate=!1,e.groupsNeedUpdate=!1,e=r}var n;return e.verticesNeedUpdate===!0&&(n=this.attributes.position,void 0!==n&&(n.copyVector3sArray(e.vertices),n.needsUpdate=!0),e.verticesNeedUpdate=!1),e.normalsNeedUpdate===!0&&(n=this.attributes.normal,void 0!==n&&(n.copyVector3sArray(e.normals),n.needsUpdate=!0),e.normalsNeedUpdate=!1),e.colorsNeedUpdate===!0&&(n=this.attributes.color,void 0!==n&&(n.copyColorsArray(e.colors),n.needsUpdate=!0),e.colorsNeedUpdate=!1),e.uvsNeedUpdate&&(n=this.attributes.uv,void 0!==n&&(n.copyVector2sArray(e.uvs),n.needsUpdate=!0),e.uvsNeedUpdate=!1),e.lineDistancesNeedUpdate&&(n=this.attributes.lineDistance,void 0!==n&&(n.copyArray(e.lineDistances),n.needsUpdate=!0),e.lineDistancesNeedUpdate=!1),e.groupsNeedUpdate&&(e.computeGroups(t.geometry),this.groups=e.groups,e.groupsNeedUpdate=!1),this},fromGeometry:function(t){return t.__directGeometry=(new Pt).fromGeometry(t),this.fromDirectGeometry(t.__directGeometry)},fromDirectGeometry:function(t){var e=new Float32Array(3*t.vertices.length);if(this.addAttribute("position",new vt(e,3).copyVector3sArray(t.vertices)),t.normals.length>0){var r=new Float32Array(3*t.normals.length);this.addAttribute("normal",new vt(r,3).copyVector3sArray(t.normals))}if(t.colors.length>0){var n=new Float32Array(3*t.colors.length);this.addAttribute("color",new vt(n,3).copyColorsArray(t.colors))}if(t.uvs.length>0){var i=new Float32Array(2*t.uvs.length);this.addAttribute("uv",new vt(i,2).copyVector2sArray(t.uvs))}if(t.uvs2.length>0){var o=new Float32Array(2*t.uvs2.length);this.addAttribute("uv2",new vt(o,2).copyVector2sArray(t.uvs2))}if(t.indices.length>0){var a=t.vertices.length>65535?Uint32Array:Uint16Array,s=new a(3*t.indices.length);this.setIndex(new vt(s,1).copyIndicesArray(t.indices))}this.groups=t.groups;for(var u in t.morphTargets){for(var l=[],c=t.morphTargets[u],h=0,f=c.length;h<f;h++){var d=c[h],p=new Tt(3*d.length,3);l.push(p.copyVector3sArray(d))}this.morphAttributes[u]=l}if(t.skinIndices.length>0){var v=new Tt(4*t.skinIndices.length,4);this.addAttribute("skinIndex",v.copyVector4sArray(t.skinIndices))}if(t.skinWeights.length>0){var m=new Tt(4*t.skinWeights.length,4);this.addAttribute("skinWeight",m.copyVector4sArray(t.skinWeights))}return null!==t.boundingSphere&&(this.boundingSphere=t.boundingSphere.clone()),null!==t.boundingBox&&(this.boundingBox=t.boundingBox.clone()),this},computeBoundingBox:function(){null===this.boundingBox&&(this.boundingBox=new tt);var t=this.attributes.position.array;void 0!==t?this.boundingBox.setFromArray(t):this.boundingBox.makeEmpty(),(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox: Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)},computeBoundingSphere:function(){var t=new tt,e=new l;return function(){null===this.boundingSphere&&(this.boundingSphere=new et);var r=this.attributes.position;if(r){var n=r.array,i=this.boundingSphere.center;t.setFromArray(n),t.getCenter(i);for(var o=0,a=0,s=n.length;a<s;a+=3)e.fromArray(n,a),o=Math.max(o,i.distanceToSquared(e));this.boundingSphere.radius=Math.sqrt(o),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}}(),computeFaceNormals:function(){},computeVertexNormals:function(){var t=this.index,e=this.attributes,r=this.groups;if(e.position){var n=e.position.array;if(void 0===e.normal)this.addAttribute("normal",new vt(new Float32Array(n.length),3));else for(var i=e.normal.array,o=0,a=i.length;o<a;o++)i[o]=0;var s,u,c,h=e.normal.array,f=new l,d=new l,p=new l,v=new l,m=new l;if(t){var g=t.array;0===r.length&&this.addGroup(0,g.length);for(var y=0,_=r.length;y<_;++y)for(var x=r[y],b=x.start,w=x.count,o=b,a=b+w;o<a;o+=3)s=3*g[o+0],u=3*g[o+1],c=3*g[o+2],f.fromArray(n,s),d.fromArray(n,u),p.fromArray(n,c),v.subVectors(p,d),m.subVectors(f,d),v.cross(m),h[s]+=v.x,h[s+1]+=v.y,h[s+2]+=v.z,h[u]+=v.x,h[u+1]+=v.y,h[u+2]+=v.z,h[c]+=v.x,h[c+1]+=v.y,h[c+2]+=v.z}else for(var o=0,a=n.length;o<a;o+=9)f.fromArray(n,o),d.fromArray(n,o+3),p.fromArray(n,o+6),v.subVectors(p,d),m.subVectors(f,d),v.cross(m),h[o]=v.x,h[o+1]=v.y,h[o+2]=v.z,h[o+3]=v.x,h[o+4]=v.y,h[o+5]=v.z,h[o+6]=v.x,h[o+7]=v.y,h[o+8]=v.z;this.normalizeNormals(),e.normal.needsUpdate=!0}},merge:function(t,e){if((t&&t.isBufferGeometry)===!1)return void console.error("THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.",t);void 0===e&&(e=0);var r=this.attributes;for(var n in r)if(void 0!==t.attributes[n])for(var i=r[n],o=i.array,a=t.attributes[n],s=a.array,u=a.itemSize,l=0,c=u*e;l<s.length;l++,c++)o[c]=s[l];return this},normalizeNormals:function(){for(var t,e,r,n,i=this.attributes.normal.array,o=0,a=i.length;o<a;o+=3)t=i[o],e=i[o+1],r=i[o+2],n=1/Math.sqrt(t*t+e*e+r*r),i[o]*=n,i[o+1]*=n,i[o+2]*=n},toNonIndexed:function(){if(null===this.index)return console.warn("THREE.BufferGeometry.toNonIndexed(): Geometry is already non-indexed."),this;var t=new Ct,e=this.index.array,r=this.attributes;for(var n in r){for(var i=r[n],o=i.array,a=i.itemSize,s=new o.constructor(e.length*a),u=0,l=0,c=0,h=e.length;c<h;c++){u=e[c]*a;for(var f=0;f<a;f++)s[l++]=o[u++]}t.addAttribute(n,new vt(s,a))}return t},toJSON:function(){var t={metadata:{version:4.4,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(t.uuid=this.uuid,t.type=this.type,""!==this.name&&(t.name=this.name),void 0!==this.parameters){var e=this.parameters;for(var r in e)void 0!==e[r]&&(t[r]=e[r]);return t}t.data={attributes:{}};var n=this.index;if(null!==n){var i=Array.prototype.slice.call(n.array);t.data.index={type:n.array.constructor.name,array:i}}var o=this.attributes;for(var r in o){var a=o[r],i=Array.prototype.slice.call(a.array);t.data.attributes[r]={itemSize:a.itemSize,type:a.array.constructor.name,array:i,normalized:a.normalized}}var s=this.groups;s.length>0&&(t.data.groups=JSON.parse(JSON.stringify(s)));var u=this.boundingSphere;return null!==u&&(t.data.boundingSphere={center:u.center.toArray(),radius:u.radius}),t},clone:function(){return(new Ct).copy(this)},copy:function(t){var e=t.index;null!==e&&this.setIndex(e.clone());var r=t.attributes;for(var n in r){var i=r[n];this.addAttribute(n,i.clone())}for(var o=t.groups,a=0,s=o.length;a<s;a++){var u=o[a];this.addGroup(u.start,u.count,u.materialIndex)}return this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),Ct.MaxIndex=65535,Ot.prototype=Object.assign(Object.create(lt.prototype),{constructor:Ot,isMesh:!0,setDrawMode:function(t){this.drawMode=t},copy:function(t){return lt.prototype.copy.call(this,t),this.drawMode=t.drawMode,this},updateMorphTargets:function(){var t=this.geometry.morphTargets;if(void 0!==t&&t.length>0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(var e=0,r=t.length;e<r;e++)this.morphTargetInfluences.push(0),this.morphTargetDictionary[t[e].name]=e}},raycast:function(){function t(t,e,r,n,i,o,a){return ft.barycoordFromPoint(t,e,r,n,y),i.multiplyScalar(y.x),o.multiplyScalar(y.y),a.multiplyScalar(y.z),i.add(o).add(a),i.clone()}function e(t,e,r,n,i,o,a){var s,u=t.material;if(s=u.side===Ai?r.intersectTriangle(o,i,n,!0,a):r.intersectTriangle(n,i,o,u.side!==Pi,a),null===s)return null;x.copy(a),x.applyMatrix4(t.matrixWorld);var l=e.ray.origin.distanceTo(x);return l<e.near||l>e.far?null:{distance:l,point:x.clone(),object:t}}function n(r,n,i,o,a,l,c,f){s.fromArray(o,3*l),u.fromArray(o,3*c),h.fromArray(o,3*f);var d=e(r,n,i,s,u,h,_);return d&&(a&&(v.fromArray(a,2*l),m.fromArray(a,2*c),g.fromArray(a,2*f),d.uv=t(_,s,u,h,v,m,g)),d.face=new dt(l,c,f,ft.normal(s,u,h)),d.faceIndex=l),d}var i=new c,o=new at,a=new et,s=new l,u=new l,h=new l,f=new l,d=new l,p=new l,v=new r,m=new r,g=new r,y=new l,_=new l,x=new l;return function(r,l){var c=this.geometry,y=this.material,x=this.matrixWorld;if(void 0!==y&&(null===c.boundingSphere&&c.computeBoundingSphere(),a.copy(c.boundingSphere),a.applyMatrix4(x),r.ray.intersectsSphere(a)!==!1&&(i.getInverse(x),o.copy(r.ray).applyMatrix4(i),null===c.boundingBox||o.intersectsBox(c.boundingBox)!==!1))){var b,w;if(c&&c.isBufferGeometry){var T,E,S,M=c.index,A=c.attributes,P=A.position.array;if(void 0!==A.uv&&(b=A.uv.array),null!==M)for(var C=M.array,O=0,R=C.length;O<R;O+=3)T=C[O],E=C[O+1],S=C[O+2],w=n(this,r,o,P,b,T,E,S),w&&(w.faceIndex=Math.floor(O/3),l.push(w));else for(var O=0,R=P.length;O<R;O+=9)T=O/3,E=T+1,S=T+2,w=n(this,r,o,P,b,T,E,S),w&&(w.index=T,l.push(w))}else if(c&&c.isGeometry){var D,L,I,F=y&&y.isMultiMaterial,N=F===!0?y.materials:null,k=c.vertices,U=c.faces,B=c.faceVertexUvs[0];B.length>0&&(b=B);for(var z=0,j=U.length;z<j;z++){var G=U[z],H=F===!0?N[G.materialIndex]:y;if(void 0!==H){if(D=k[G.a],L=k[G.b],I=k[G.c],H.morphTargets===!0){var X=c.morphTargets,V=this.morphTargetInfluences;s.set(0,0,0),u.set(0,0,0),h.set(0,0,0);for(var W=0,Y=X.length;W<Y;W++){var q=V[W];if(0!==q){var Z=X[W].vertices;s.addScaledVector(f.subVectors(Z[G.a],D),q),u.addScaledVector(d.subVectors(Z[G.b],L),q),h.addScaledVector(p.subVectors(Z[G.c],I),q)}}s.add(D),u.add(L),h.add(I),D=s,L=u,I=h}if(w=e(this,r,o,D,L,I,_)){if(b){var K=b[z];v.copy(K[0]),m.copy(K[1]),g.copy(K[2]),w.uv=t(_,D,L,I,v,m,g)}w.face=G,w.faceIndex=z,l.push(w)}}}}}}}(),clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}}),Rt.prototype=Object.create(Ct.prototype),Rt.prototype.constructor=Rt,Dt.prototype=Object.create(Ct.prototype),Dt.prototype.constructor=Dt,Lt.prototype=Object.create(lt.prototype),Lt.prototype.constructor=Lt,Lt.prototype.isCamera=!0,Lt.prototype.getWorldDirection=function(){var t=new u;return function(e){var r=e||new l;return this.getWorldQuaternion(t),r.set(0,0,-1).applyQuaternion(t)}}(),Lt.prototype.lookAt=function(){var t=new c;return function(e){t.lookAt(this.position,e,this.up),this.quaternion.setFromRotationMatrix(t)}}(),Lt.prototype.clone=function(){return(new this.constructor).copy(this)},Lt.prototype.copy=function(t){return lt.prototype.copy.call(this,t),this.matrixWorldInverse.copy(t.matrixWorldInverse),this.projectionMatrix.copy(t.projectionMatrix),this},It.prototype=Object.assign(Object.create(Lt.prototype),{constructor:It,isPerspectiveCamera:!0,copy:function(t){return Lt.prototype.copy.call(this,t),this.fov=t.fov,this.zoom=t.zoom,this.near=t.near,this.far=t.far,this.focus=t.focus,this.aspect=t.aspect,this.view=null===t.view?null:Object.assign({},t.view),this.filmGauge=t.filmGauge,this.filmOffset=t.filmOffset,this},setFocalLength:function(t){var e=.5*this.getFilmHeight()/t;this.fov=2*ka.RAD2DEG*Math.atan(e),this.updateProjectionMatrix()},getFocalLength:function(){var t=Math.tan(.5*ka.DEG2RAD*this.fov);return.5*this.getFilmHeight()/t},getEffectiveFOV:function(){return 2*ka.RAD2DEG*Math.atan(Math.tan(.5*ka.DEG2RAD*this.fov)/this.zoom)},getFilmWidth:function(){return this.filmGauge*Math.min(this.aspect,1)},getFilmHeight:function(){return this.filmGauge/Math.max(this.aspect,1)},setViewOffset:function(t,e,r,n,i,o){this.aspect=t/e,this.view={fullWidth:t,fullHeight:e,offsetX:r,offsetY:n,width:i,height:o},this.updateProjectionMatrix()},clearViewOffset:function(){this.view=null,this.updateProjectionMatrix()},updateProjectionMatrix:function(){var t=this.near,e=t*Math.tan(.5*ka.DEG2RAD*this.fov)/this.zoom,r=2*e,n=this.aspect*r,i=-.5*n,o=this.view;if(null!==o){var a=o.fullWidth,s=o.fullHeight;i+=o.offsetX*n/a,e-=o.offsetY*r/s,n*=o.width/a,r*=o.height/s}var u=this.filmOffset;0!==u&&(i+=t*u/this.getFilmWidth()),this.projectionMatrix.makeFrustum(i,i+n,e-r,e,t,this.far)},toJSON:function(t){var e=lt.prototype.toJSON.call(this,t);return e.object.fov=this.fov,e.object.zoom=this.zoom,e.object.near=this.near,e.object.far=this.far,e.object.focus=this.focus,e.object.aspect=this.aspect,null!==this.view&&(e.object.view=Object.assign({},this.view)),e.object.filmGauge=this.filmGauge,e.object.filmOffset=this.filmOffset,e}}),Ft.prototype=Object.assign(Object.create(Lt.prototype),{constructor:Ft,isOrthographicCamera:!0,copy:function(t){return Lt.prototype.copy.call(this,t),this.left=t.left,this.right=t.right,this.top=t.top,this.bottom=t.bottom,this.near=t.near,this.far=t.far,this.zoom=t.zoom,this.view=null===t.view?null:Object.assign({},t.view),this},setViewOffset:function(t,e,r,n,i,o){this.view={fullWidth:t,fullHeight:e,offsetX:r,offsetY:n,width:i,height:o},this.updateProjectionMatrix()},clearViewOffset:function(){this.view=null,this.updateProjectionMatrix()},updateProjectionMatrix:function(){var t=(this.right-this.left)/(2*this.zoom),e=(this.top-this.bottom)/(2*this.zoom),r=(this.right+this.left)/2,n=(this.top+this.bottom)/2,i=r-t,o=r+t,a=n+e,s=n-e;if(null!==this.view){var u=this.zoom/(this.view.width/this.view.fullWidth),l=this.zoom/(this.view.height/this.view.fullHeight),c=(this.right-this.left)/this.view.width,h=(this.top-this.bottom)/this.view.height;i+=c*(this.view.offsetX/u),o=i+c*(this.view.width/u),a-=h*(this.view.offsetY/l),s=a-h*(this.view.height/l)}this.projectionMatrix.makeOrthographic(i,o,a,s,this.near,this.far)},toJSON:function(t){var e=lt.prototype.toJSON.call(this,t);return e.object.zoom=this.zoom,e.object.left=this.left,e.object.right=this.right,e.object.top=this.top,e.object.bottom=this.bottom,e.object.near=this.near,e.object.far=this.far,null!==this.view&&(e.object.view=Object.assign({},this.view)),e}});var Zu=0;le.prototype.isFogExp2=!0,le.prototype.clone=function(){return new le(this.color.getHex(),this.density)},le.prototype.toJSON=function(t){return{type:"FogExp2",color:this.color.getHex(),density:this.density}},ce.prototype.isFog=!0,ce.prototype.clone=function(){return new ce(this.color.getHex(),this.near,this.far)},ce.prototype.toJSON=function(t){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}},he.prototype=Object.create(lt.prototype),he.prototype.constructor=he,he.prototype.copy=function(t,e){return lt.prototype.copy.call(this,t,e),null!==t.background&&(this.background=t.background.clone()),null!==t.fog&&(this.fog=t.fog.clone()),null!==t.overrideMaterial&&(this.overrideMaterial=t.overrideMaterial.clone()),this.autoUpdate=t.autoUpdate,this.matrixAutoUpdate=t.matrixAutoUpdate,this},he.prototype.toJSON=function(t){var e=lt.prototype.toJSON.call(this,t);return null!==this.background&&(e.object.background=this.background.toJSON(t)),null!==this.fog&&(e.object.fog=this.fog.toJSON()),e},fe.prototype=Object.assign(Object.create(lt.prototype),{constructor:fe,isLensFlare:!0,copy:function(t){lt.prototype.copy.call(this,t),this.positionScreen.copy(t.positionScreen),this.customUpdateCallback=t.customUpdateCallback;for(var e=0,r=t.lensFlares.length;e<r;e++)this.lensFlares.push(t.lensFlares[e]);return this},add:function(t,e,r,n,i,o){void 0===e&&(e=-1),void 0===r&&(r=0),void 0===o&&(o=1),void 0===i&&(i=new W(16777215)),void 0===n&&(n=Fi),r=Math.min(r,Math.max(0,r)),this.lensFlares.push({texture:t,size:e,distance:r,x:0,y:0,z:0,scale:1,rotation:0,opacity:o,color:i,blending:n})},updateLensFlares:function(){var t,e,r=this.lensFlares.length,n=2*-this.positionScreen.x,i=2*-this.positionScreen.y;for(t=0;t<r;t++)e=this.lensFlares[t],e.x=this.positionScreen.x+n*e.distance,e.y=this.positionScreen.y+i*e.distance,e.wantedRotation=e.x*Math.PI*.25,e.rotation+=.25*(e.wantedRotation-e.rotation)}}),de.prototype=Object.create(K.prototype),de.prototype.constructor=de,de.prototype.copy=function(t){return K.prototype.copy.call(this,t),this.color.copy(t.color),this.map=t.map,this.rotation=t.rotation,this},pe.prototype=Object.assign(Object.create(lt.prototype),{constructor:pe,isSprite:!0,raycast:function(){var t=new l;return function(e,r){t.setFromMatrixPosition(this.matrixWorld);var n=e.ray.distanceSqToPoint(t),i=this.scale.x*this.scale.y/4;n>i||r.push({distance:Math.sqrt(n),point:this.position,face:null,object:this})}}(),clone:function(){return new this.constructor(this.material).copy(this)}}),ve.prototype=Object.assign(Object.create(lt.prototype),{constructor:ve,copy:function(t){lt.prototype.copy.call(this,t,!1);for(var e=t.levels,r=0,n=e.length;r<n;r++){var i=e[r];this.addLevel(i.object.clone(),i.distance)}return this},addLevel:function(t,e){void 0===e&&(e=0),e=Math.abs(e);for(var r=this.levels,n=0;n<r.length&&!(e<r[n].distance);n++);r.splice(n,0,{distance:e,object:t}),this.add(t)},getObjectForDistance:function(t){for(var e=this.levels,r=1,n=e.length;r<n&&!(t<e[r].distance);r++);return e[r-1].object},raycast:function(){var t=new l;return function(e,r){t.setFromMatrixPosition(this.matrixWorld);var n=e.ray.origin.distanceTo(t);this.getObjectForDistance(n).raycast(e,r)}}(),update:function(){var t=new l,e=new l;return function(r){var n=this.levels;if(n.length>1){t.setFromMatrixPosition(r.matrixWorld),e.setFromMatrixPosition(this.matrixWorld);var i=t.distanceTo(e);n[0].object.visible=!0;for(var o=1,a=n.length;o<a&&i>=n[o].distance;o++)n[o-1].object.visible=!1,n[o].object.visible=!0;for(;o<a;o++)n[o].object.visible=!1}}}(),toJSON:function(t){var e=lt.prototype.toJSON.call(this,t);e.object.levels=[];for(var r=this.levels,n=0,i=r.length;n<i;n++){var o=r[n];e.object.levels.push({object:o.object.uuid,distance:o.distance})}return e}}),me.prototype=Object.create(n.prototype),me.prototype.constructor=me,me.prototype.isDataTexture=!0,Object.assign(ge.prototype,{calculateInverses:function(){this.boneInverses=[];for(var t=0,e=this.bones.length;t<e;t++){var r=new c;this.bones[t]&&r.getInverse(this.bones[t].matrixWorld),this.boneInverses.push(r)}},pose:function(){for(var t,e=0,r=this.bones.length;e<r;e++)t=this.bones[e],t&&t.matrixWorld.getInverse(this.boneInverses[e]);for(var e=0,r=this.bones.length;e<r;e++)t=this.bones[e],t&&(t.parent&&t.parent.isBone?(t.matrix.getInverse(t.parent.matrixWorld),t.matrix.multiply(t.matrixWorld)):t.matrix.copy(t.matrixWorld),t.matrix.decompose(t.position,t.quaternion,t.scale))},update:function(){var t=new c;return function(){for(var e=0,r=this.bones.length;e<r;e++){var n=this.bones[e]?this.bones[e].matrixWorld:this.identityMatrix;t.multiplyMatrices(n,this.boneInverses[e]),t.toArray(this.boneMatrices,16*e)}this.useVertexTexture&&(this.boneTexture.needsUpdate=!0)}}(),clone:function(){return new ge(this.bones,this.boneInverses,this.useVertexTexture)}}),ye.prototype=Object.assign(Object.create(lt.prototype),{constructor:ye,isBone:!0,copy:function(t){return lt.prototype.copy.call(this,t),this.skin=t.skin,this}}),_e.prototype=Object.assign(Object.create(Ot.prototype),{constructor:_e,isSkinnedMesh:!0,bind:function(t,e){this.skeleton=t,void 0===e&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),e=this.matrixWorld),this.bindMatrix.copy(e),this.bindMatrixInverse.getInverse(e)},pose:function(){this.skeleton.pose()},normalizeSkinWeights:function(){if(this.geometry&&this.geometry.isGeometry)for(var t=0;t<this.geometry.skinWeights.length;t++){var e=this.geometry.skinWeights[t],r=1/e.lengthManhattan();r!==1/0?e.multiplyScalar(r):e.set(1,0,0,0)}else if(this.geometry&&this.geometry.isBufferGeometry)for(var n=new o,i=this.geometry.attributes.skinWeight,t=0;t<i.count;t++){n.x=i.getX(t),n.y=i.getY(t),n.z=i.getZ(t),n.w=i.getW(t);var r=1/n.lengthManhattan();r!==1/0?n.multiplyScalar(r):n.set(1,0,0,0),i.setXYZW(t,n.x,n.y,n.z,n.w)}},updateMatrixWorld:function(t){Ot.prototype.updateMatrixWorld.call(this,!0),"attached"===this.bindMode?this.bindMatrixInverse.getInverse(this.matrixWorld):"detached"===this.bindMode?this.bindMatrixInverse.getInverse(this.bindMatrix):console.warn("THREE.SkinnedMesh unrecognized bindMode: "+this.bindMode)},clone:function(){return new this.constructor(this.geometry,this.material,this.skeleton.useVertexTexture).copy(this)}}),xe.prototype=Object.create(K.prototype),xe.prototype.constructor=xe,xe.prototype.isLineBasicMaterial=!0,xe.prototype.copy=function(t){return K.prototype.copy.call(this,t),this.color.copy(t.color),this.linewidth=t.linewidth,this.linecap=t.linecap,this.linejoin=t.linejoin,this},be.prototype=Object.assign(Object.create(lt.prototype),{constructor:be,isLine:!0,raycast:function(){var t=new c,e=new at,r=new et;return function(n,i){var o=n.linePrecision,a=o*o,s=this.geometry,u=this.matrixWorld;if(null===s.boundingSphere&&s.computeBoundingSphere(),r.copy(s.boundingSphere),r.applyMatrix4(u),n.ray.intersectsSphere(r)!==!1){t.getInverse(u),e.copy(n.ray).applyMatrix4(t);var c=new l,h=new l,f=new l,d=new l,p=this&&this.isLineSegments?2:1;if(s&&s.isBufferGeometry){var v=s.index,m=s.attributes,g=m.position.array;if(null!==v)for(var y=v.array,_=0,x=y.length-1;_<x;_+=p){var b=y[_],w=y[_+1];c.fromArray(g,3*b),h.fromArray(g,3*w);var T=e.distanceSqToSegment(c,h,d,f);if(!(T>a)){d.applyMatrix4(this.matrixWorld);var E=n.ray.origin.distanceTo(d);E<n.near||E>n.far||i.push({distance:E,point:f.clone().applyMatrix4(this.matrixWorld),index:_,face:null,faceIndex:null,object:this})}}else for(var _=0,x=g.length/3-1;_<x;_+=p){c.fromArray(g,3*_),h.fromArray(g,3*_+3);var T=e.distanceSqToSegment(c,h,d,f);if(!(T>a)){d.applyMatrix4(this.matrixWorld);var E=n.ray.origin.distanceTo(d);E<n.near||E>n.far||i.push({distance:E,point:f.clone().applyMatrix4(this.matrixWorld),index:_,face:null,faceIndex:null,object:this})}}}else if(s&&s.isGeometry)for(var S=s.vertices,M=S.length,_=0;_<M-1;_+=p){var T=e.distanceSqToSegment(S[_],S[_+1],d,f);if(!(T>a)){d.applyMatrix4(this.matrixWorld);var E=n.ray.origin.distanceTo(d);E<n.near||E>n.far||i.push({distance:E,point:f.clone().applyMatrix4(this.matrixWorld),index:_,face:null,faceIndex:null,object:this})}}}}}(),clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}}),we.prototype=Object.assign(Object.create(be.prototype),{constructor:we,isLineSegments:!0}),Te.prototype=Object.create(K.prototype),Te.prototype.constructor=Te,Te.prototype.isPointsMaterial=!0,Te.prototype.copy=function(t){return K.prototype.copy.call(this,t),this.color.copy(t.color),this.map=t.map,this.size=t.size,this.sizeAttenuation=t.sizeAttenuation,this},Ee.prototype=Object.assign(Object.create(lt.prototype),{constructor:Ee,isPoints:!0,raycast:function(){var t=new c,e=new at,r=new et;return function(n,i){function o(t,r){var o=e.distanceSqToPoint(t);if(o<f){var s=e.closestPointToPoint(t);s.applyMatrix4(u);var l=n.ray.origin.distanceTo(s);if(l<n.near||l>n.far)return;i.push({distance:l,distanceToRay:Math.sqrt(o),point:s.clone(),index:r,face:null,object:a})}}var a=this,s=this.geometry,u=this.matrixWorld,c=n.params.Points.threshold;if(null===s.boundingSphere&&s.computeBoundingSphere(),r.copy(s.boundingSphere),r.applyMatrix4(u),n.ray.intersectsSphere(r)!==!1){t.getInverse(u),e.copy(n.ray).applyMatrix4(t);var h=c/((this.scale.x+this.scale.y+this.scale.z)/3),f=h*h,d=new l;if(s&&s.isBufferGeometry){var p=s.index,v=s.attributes,m=v.position.array;if(null!==p)for(var g=p.array,y=0,_=g.length;y<_;y++){var x=g[y];d.fromArray(m,3*x),o(d,x)}else for(var y=0,b=m.length/3;y<b;y++)d.fromArray(m,3*y),o(d,y)}else for(var w=s.vertices,y=0,b=w.length;y<b;y++)o(w[y],y)}}}(),clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}}),Se.prototype=Object.assign(Object.create(lt.prototype),{constructor:Se}),Me.prototype=Object.create(n.prototype),Me.prototype.constructor=Me,Ae.prototype=Object.create(n.prototype),Ae.prototype.constructor=Ae,Ae.prototype.isCompressedTexture=!0,Pe.prototype=Object.create(n.prototype),Pe.prototype.constructor=Pe,Ce.prototype=Object.create(n.prototype),Ce.prototype.constructor=Ce,Ce.prototype.isDepthTexture=!0,Oe.prototype=Object.create(Ct.prototype),Oe.prototype.constructor=Oe,Re.prototype=Object.create(Ct.prototype),Re.prototype.constructor=Re,De.prototype=Object.create(Mt.prototype),De.prototype.constructor=De,Le.prototype=Object.create(Ct.prototype),Le.prototype.constructor=Le,Ie.prototype=Object.create(Le.prototype),Ie.prototype.constructor=Ie,Fe.prototype=Object.create(Mt.prototype),Fe.prototype.constructor=Fe,Ne.prototype=Object.create(Le.prototype),Ne.prototype.constructor=Ne,ke.prototype=Object.create(Mt.prototype),ke.prototype.constructor=ke,Ue.prototype=Object.create(Le.prototype),Ue.prototype.constructor=Ue,Be.prototype=Object.create(Mt.prototype),Be.prototype.constructor=Be,ze.prototype=Object.create(Le.prototype),ze.prototype.constructor=ze,je.prototype=Object.create(Mt.prototype),je.prototype.constructor=je,Ge.prototype=Object.create(Mt.prototype),Ge.prototype.constructor=Ge,He.prototype=Object.create(Ct.prototype),He.prototype.constructor=He,Xe.prototype=Object.create(Mt.prototype),Xe.prototype.constructor=Xe,Ve.prototype=Object.create(Ct.prototype),Ve.prototype.constructor=Ve,We.prototype=Object.create(Mt.prototype),We.prototype.constructor=We,Ye.prototype=Object.create(Ct.prototype),Ye.prototype.constructor=Ye,qe.prototype=Object.create(Mt.prototype),qe.prototype.constructor=qe;var Ku={area:function(t){for(var e=t.length,r=0,n=e-1,i=0;i<e;n=i++)r+=t[n].x*t[i].y-t[i].x*t[n].y;return.5*r},triangulate:function(){function t(t,e,r,n,i,o){var a,s,u,l,c,h,f,d,p;if(s=t[o[e]].x,u=t[o[e]].y,l=t[o[r]].x,c=t[o[r]].y,h=t[o[n]].x,f=t[o[n]].y,(l-s)*(f-u)-(c-u)*(h-s)<=0)return!1;var v,m,g,y,_,x,b,w,T,E,S,M,A,P,C;for(v=h-l,m=f-c,g=s-h,y=u-f,_=l-s,x=c-u,a=0;a<i;a++)if(d=t[o[a]].x,p=t[o[a]].y,!(d===s&&p===u||d===l&&p===c||d===h&&p===f)&&(b=d-s,w=p-u,T=d-l,E=p-c,S=d-h,M=p-f,C=v*E-m*T,A=_*w-x*b,P=g*M-y*S,C>=-Number.EPSILON&&P>=-Number.EPSILON&&A>=-Number.EPSILON))return!1;return!0}return function(e,r){var n=e.length;if(n<3)return null;var i,o,a,s=[],u=[],l=[];if(Ku.area(e)>0)for(o=0;o<n;o++)u[o]=o;else for(o=0;o<n;o++)u[o]=n-1-o;var c=n,h=2*c;for(o=c-1;c>2;){if(h--<=0)return console.warn("THREE.ShapeUtils: Unable to triangulate polygon! in triangulate()"),r?l:s;if(i=o,c<=i&&(i=0),o=i+1,c<=o&&(o=0),a=o+1,c<=a&&(a=0),t(e,i,o,a,c,u)){var f,d,p,v,m;for(f=u[i],d=u[o],p=u[a],s.push([e[f],e[d],e[p]]),l.push([u[i],u[o],u[a]]),v=o,m=o+1;m<c;v++,m++)u[v]=u[m];c--,h=2*c}}return r?l:s}}(),triangulateShape:function(t,e){function r(t){var e=t.length;e>2&&t[e-1].equals(t[0])&&t.pop()}function n(t,e,r){return t.x!==e.x?t.x<e.x?t.x<=r.x&&r.x<=e.x:e.x<=r.x&&r.x<=t.x:t.y<e.y?t.y<=r.y&&r.y<=e.y:e.y<=r.y&&r.y<=t.y}function i(t,e,r,i,o){var a=e.x-t.x,s=e.y-t.y,u=i.x-r.x,l=i.y-r.y,c=t.x-r.x,h=t.y-r.y,f=s*u-a*l,d=s*c-a*h;
if(Math.abs(f)>Number.EPSILON){var p;if(f>0){if(d<0||d>f)return[];if(p=l*c-u*h,p<0||p>f)return[]}else{if(d>0||d<f)return[];if(p=l*c-u*h,p>0||p<f)return[]}if(0===p)return!o||0!==d&&d!==f?[t]:[];if(p===f)return!o||0!==d&&d!==f?[e]:[];if(0===d)return[r];if(d===f)return[i];var v=p/f;return[{x:t.x+v*a,y:t.y+v*s}]}if(0!==d||l*c!==u*h)return[];var m=0===a&&0===s,g=0===u&&0===l;if(m&&g)return t.x!==r.x||t.y!==r.y?[]:[t];if(m)return n(r,i,t)?[t]:[];if(g)return n(t,e,r)?[r]:[];var y,_,x,b,w,T,E,S;return 0!==a?(t.x<e.x?(y=t,x=t.x,_=e,b=e.x):(y=e,x=e.x,_=t,b=t.x),r.x<i.x?(w=r,E=r.x,T=i,S=i.x):(w=i,E=i.x,T=r,S=r.x)):(t.y<e.y?(y=t,x=t.y,_=e,b=e.y):(y=e,x=e.y,_=t,b=t.y),r.y<i.y?(w=r,E=r.y,T=i,S=i.y):(w=i,E=i.y,T=r,S=r.y)),x<=E?b<E?[]:b===E?o?[]:[w]:b<=S?[w,_]:[w,T]:x>S?[]:x===S?o?[]:[y]:b<=S?[y,_]:[y,T]}function o(t,e,r,n){var i=e.x-t.x,o=e.y-t.y,a=r.x-t.x,s=r.y-t.y,u=n.x-t.x,l=n.y-t.y,c=i*s-o*a,h=i*l-o*u;if(Math.abs(c)>Number.EPSILON){var f=u*s-l*a;return c>0?h>=0&&f>=0:h>=0||f>=0}return h>0}function a(t,e){function r(t,e){var r=y.length-1,n=t-1;n<0&&(n=r);var i=t+1;i>r&&(i=0);var a=o(y[t],y[n],y[i],s[e]);if(!a)return!1;var u=s.length-1,l=e-1;l<0&&(l=u);var c=e+1;return c>u&&(c=0),a=o(s[e],s[l],s[c],y[t]),!!a}function n(t,e){var r,n,o;for(r=0;r<y.length;r++)if(n=r+1,n%=y.length,o=i(t,e,y[r],y[n],!0),o.length>0)return!0;return!1}function a(t,r){var n,o,a,s,u;for(n=0;n<_.length;n++)for(o=e[_[n]],a=0;a<o.length;a++)if(s=a+1,s%=o.length,u=i(t,r,o[a],o[s],!0),u.length>0)return!0;return!1}for(var s,u,l,c,h,f,d,p,v,m,g,y=t.concat(),_=[],x=[],b=0,w=e.length;b<w;b++)_.push(b);for(var T=0,E=2*_.length;_.length>0;){if(E--,E<0){console.log("Infinite Loop! Holes left:"+_.length+", Probably Hole outside Shape!");break}for(l=T;l<y.length;l++){c=y[l],u=-1;for(var b=0;b<_.length;b++)if(f=_[b],d=c.x+":"+c.y+":"+f,void 0===x[d]){s=e[f];for(var S=0;S<s.length;S++)if(h=s[S],r(l,S)&&!n(c,h)&&!a(c,h)){u=S,_.splice(b,1),p=y.slice(0,l+1),v=y.slice(l),m=s.slice(u),g=s.slice(0,u+1),y=p.concat(m).concat(g).concat(v),T=l;break}if(u>=0)break;x[d]=!0}if(u>=0)break}}return y}r(t),e.forEach(r);for(var s,u,l,c,h,f,d={},p=t.concat(),v=0,m=e.length;v<m;v++)Array.prototype.push.apply(p,e[v]);for(s=0,u=p.length;s<u;s++)h=p[s].x+":"+p[s].y,void 0!==d[h]&&console.warn("THREE.ShapeUtils: Duplicate point",h,s),d[h]=s;var g=a(t,e),y=Ku.triangulate(g,!1);for(s=0,u=y.length;s<u;s++)for(c=y[s],l=0;l<3;l++)h=c[l].x+":"+c[l].y,f=d[h],void 0!==f&&(c[l]=f);return y.concat()},isClockWise:function(t){return Ku.area(t)<0},b2:function(){function t(t,e){var r=1-t;return r*r*e}function e(t,e){return 2*(1-t)*t*e}function r(t,e){return t*t*e}return function(n,i,o,a){return t(n,i)+e(n,o)+r(n,a)}}(),b3:function(){function t(t,e){var r=1-t;return r*r*r*e}function e(t,e){var r=1-t;return 3*r*r*t*e}function r(t,e){var r=1-t;return 3*r*t*t*e}function n(t,e){return t*t*t*e}return function(i,o,a,s,u){return t(i,o)+e(i,a)+r(i,s)+n(i,u)}}()};Ze.prototype=Object.create(Mt.prototype),Ze.prototype.constructor=Ze,Ze.prototype.addShapeList=function(t,e){for(var r=t.length,n=0;n<r;n++){var i=t[n];this.addShape(i,e)}},Ze.prototype.addShape=function(t,e){function n(t,e,r){return e||console.error("THREE.ExtrudeGeometry: vec does not exist"),e.clone().multiplyScalar(r).add(t)}function i(t,e,n){var i,o,a=1,s=t.x-e.x,u=t.y-e.y,l=n.x-t.x,c=n.y-t.y,h=s*s+u*u,f=s*c-u*l;if(Math.abs(f)>Number.EPSILON){var d=Math.sqrt(h),p=Math.sqrt(l*l+c*c),v=e.x-u/d,m=e.y+s/d,g=n.x-c/p,y=n.y+l/p,_=((g-v)*c-(y-m)*l)/(s*c-u*l);i=v+s*_-t.x,o=m+u*_-t.y;var x=i*i+o*o;if(x<=2)return new r(i,o);a=Math.sqrt(x/2)}else{var b=!1;s>Number.EPSILON?l>Number.EPSILON&&(b=!0):s<-Number.EPSILON?l<-Number.EPSILON&&(b=!0):Math.sign(u)===Math.sign(c)&&(b=!0),b?(i=-u,o=s,a=Math.sqrt(h)):(i=s,o=u,a=Math.sqrt(h/2))}return new r(i/a,o/a)}function o(){if(b){var t=0,e=X*t;for(Y=0;Y<V;Y++)H=N[Y],c(H[2]+e,H[1]+e,H[0]+e);for(t=T+2*x,e=X*t,Y=0;Y<V;Y++)H=N[Y],c(H[0]+e,H[1]+e,H[2]+e)}else{for(Y=0;Y<V;Y++)H=N[Y],c(H[2],H[1],H[0]);for(Y=0;Y<V;Y++)H=N[Y],c(H[0]+X*T,H[1]+X*T,H[2]+X*T)}}function a(){var t=0;for(s(k,t),t+=k.length,P=0,C=I.length;P<C;P++)A=I[P],s(A,t),t+=A.length}function s(t,e){var r,n;for(Y=t.length;--Y>=0;){r=Y,n=Y-1,n<0&&(n=t.length-1);var i=0,o=T+2*x;for(i=0;i<o;i++){var a=X*i,s=X*(i+1),u=e+r+a,l=e+n+a,c=e+n+s,f=e+r+s;h(u,l,c,f,t,i,o,r,n)}}}function u(t,e,r){O.vertices.push(new l(t,e,r))}function c(t,e,r){t+=R,e+=R,r+=R,O.faces.push(new dt(t,e,r,null,null,0));var n=M.generateTopUV(O,t,e,r);O.faceVertexUvs[0].push(n)}function h(t,e,r,n,i,o,a,s,u){t+=R,e+=R,r+=R,n+=R,O.faces.push(new dt(t,e,n,null,null,1)),O.faces.push(new dt(e,r,n,null,null,1));var l=M.generateSideWallUV(O,t,e,r,n);O.faceVertexUvs[0].push([l[0],l[1],l[3]]),O.faceVertexUvs[0].push([l[1],l[2],l[3]])}var f,d,p,v,m,g=void 0!==e.amount?e.amount:100,y=void 0!==e.bevelThickness?e.bevelThickness:6,_=void 0!==e.bevelSize?e.bevelSize:y-2,x=void 0!==e.bevelSegments?e.bevelSegments:3,b=void 0===e.bevelEnabled||e.bevelEnabled,w=void 0!==e.curveSegments?e.curveSegments:12,T=void 0!==e.steps?e.steps:1,E=e.extrudePath,S=!1,M=void 0!==e.UVGenerator?e.UVGenerator:Ze.WorldUVGenerator;E&&(f=E.getSpacedPoints(T),S=!0,b=!1,d=void 0!==e.frames?e.frames:E.computeFrenetFrames(T,!1),p=new l,v=new l,m=new l),b||(x=0,y=0,_=0);var A,P,C,O=this,R=this.vertices.length,D=t.extractPoints(w),L=D.shape,I=D.holes,F=!Ku.isClockWise(L);if(F){for(L=L.reverse(),P=0,C=I.length;P<C;P++)A=I[P],Ku.isClockWise(A)&&(I[P]=A.reverse());F=!1}var N=Ku.triangulateShape(L,I),k=L;for(P=0,C=I.length;P<C;P++)A=I[P],L=L.concat(A);for(var U,B,z,j,G,H,X=L.length,V=N.length,W=[],Y=0,q=k.length,Z=q-1,K=Y+1;Y<q;Y++,Z++,K++)Z===q&&(Z=0),K===q&&(K=0),W[Y]=i(k[Y],k[Z],k[K]);var J,Q=[],$=W.concat();for(P=0,C=I.length;P<C;P++){for(A=I[P],J=[],Y=0,q=A.length,Z=q-1,K=Y+1;Y<q;Y++,Z++,K++)Z===q&&(Z=0),K===q&&(K=0),J[Y]=i(A[Y],A[Z],A[K]);Q.push(J),$=$.concat(J)}for(U=0;U<x;U++){for(z=U/x,j=y*Math.cos(z*Math.PI/2),B=_*Math.sin(z*Math.PI/2),Y=0,q=k.length;Y<q;Y++)G=n(k[Y],W[Y],B),u(G.x,G.y,-j);for(P=0,C=I.length;P<C;P++)for(A=I[P],J=Q[P],Y=0,q=A.length;Y<q;Y++)G=n(A[Y],J[Y],B),u(G.x,G.y,-j)}for(B=_,Y=0;Y<X;Y++)G=b?n(L[Y],$[Y],B):L[Y],S?(v.copy(d.normals[0]).multiplyScalar(G.x),p.copy(d.binormals[0]).multiplyScalar(G.y),m.copy(f[0]).add(v).add(p),u(m.x,m.y,m.z)):u(G.x,G.y,0);var tt;for(tt=1;tt<=T;tt++)for(Y=0;Y<X;Y++)G=b?n(L[Y],$[Y],B):L[Y],S?(v.copy(d.normals[tt]).multiplyScalar(G.x),p.copy(d.binormals[tt]).multiplyScalar(G.y),m.copy(f[tt]).add(v).add(p),u(m.x,m.y,m.z)):u(G.x,G.y,g/T*tt);for(U=x-1;U>=0;U--){for(z=U/x,j=y*Math.cos(z*Math.PI/2),B=_*Math.sin(z*Math.PI/2),Y=0,q=k.length;Y<q;Y++)G=n(k[Y],W[Y],B),u(G.x,G.y,g+j);for(P=0,C=I.length;P<C;P++)for(A=I[P],J=Q[P],Y=0,q=A.length;Y<q;Y++)G=n(A[Y],J[Y],B),S?u(G.x,G.y+f[T-1].y,f[T-1].x+j):u(G.x,G.y,g+j)}o(),a()},Ze.WorldUVGenerator={generateTopUV:function(t,e,n,i){var o=t.vertices,a=o[e],s=o[n],u=o[i];return[new r(a.x,a.y),new r(s.x,s.y),new r(u.x,u.y)]},generateSideWallUV:function(t,e,n,i,o){var a=t.vertices,s=a[e],u=a[n],l=a[i],c=a[o];return Math.abs(s.y-u.y)<.01?[new r(s.x,1-s.z),new r(u.x,1-u.z),new r(l.x,1-l.z),new r(c.x,1-c.z)]:[new r(s.y,1-s.z),new r(u.y,1-u.z),new r(l.y,1-l.z),new r(c.y,1-c.z)]}},Ke.prototype=Object.create(Ze.prototype),Ke.prototype.constructor=Ke,Je.prototype=Object.create(Ct.prototype),Je.prototype.constructor=Je,Qe.prototype=Object.create(Mt.prototype),Qe.prototype.constructor=Qe,$e.prototype=Object.create(Ct.prototype),$e.prototype.constructor=$e,tr.prototype=Object.create(Mt.prototype),tr.prototype.constructor=tr,er.prototype=Object.create(Mt.prototype),er.prototype.constructor=er,rr.prototype=Object.create(Ct.prototype),rr.prototype.constructor=rr,nr.prototype=Object.create(Mt.prototype),nr.prototype.constructor=nr,ir.prototype=Object.create(Mt.prototype),ir.prototype.constructor=ir,ir.prototype.addShapeList=function(t,e){for(var r=0,n=t.length;r<n;r++)this.addShape(t[r],e);return this},ir.prototype.addShape=function(t,e){void 0===e&&(e={});var r,n,i,o=void 0!==e.curveSegments?e.curveSegments:12,a=e.material,s=void 0===e.UVGenerator?Ze.WorldUVGenerator:e.UVGenerator,u=this.vertices.length,c=t.extractPoints(o),h=c.shape,f=c.holes,d=!Ku.isClockWise(h);if(d){for(h=h.reverse(),r=0,n=f.length;r<n;r++)i=f[r],Ku.isClockWise(i)&&(f[r]=i.reverse());d=!1}var p=Ku.triangulateShape(h,f);for(r=0,n=f.length;r<n;r++)i=f[r],h=h.concat(i);var v,m,g=h.length,y=p.length;for(r=0;r<g;r++)v=h[r],this.vertices.push(new l(v.x,v.y,0));for(r=0;r<y;r++){m=p[r];var _=m[0]+u,x=m[1]+u,b=m[2]+u;this.faces.push(new dt(_,x,b,null,null,a)),this.faceVertexUvs[0].push(s.generateTopUV(this,_,x,b))}},or.prototype=Object.create(Ct.prototype),or.prototype.constructor=or,ar.prototype=Object.create(Ct.prototype),ar.prototype.constructor=ar,sr.prototype=Object.create(Mt.prototype),sr.prototype.constructor=sr,ur.prototype=Object.create(sr.prototype),ur.prototype.constructor=ur,lr.prototype=Object.create(ar.prototype),lr.prototype.constructor=lr,cr.prototype=Object.create(Ct.prototype),cr.prototype.constructor=cr,hr.prototype=Object.create(Mt.prototype),hr.prototype.constructor=hr,fr.prototype=Object.create(Mt.prototype),fr.prototype.constructor=fr;var Ju=Object.freeze({WireframeGeometry:Oe,ParametricGeometry:De,ParametricBufferGeometry:Re,TetrahedronGeometry:Fe,TetrahedronBufferGeometry:Ie,OctahedronGeometry:ke,OctahedronBufferGeometry:Ne,IcosahedronGeometry:Be,IcosahedronBufferGeometry:Ue,DodecahedronGeometry:je,DodecahedronBufferGeometry:ze,PolyhedronGeometry:Ge,PolyhedronBufferGeometry:Le,TubeGeometry:Xe,TubeBufferGeometry:He,TorusKnotGeometry:We,TorusKnotBufferGeometry:Ve,TorusGeometry:qe,TorusBufferGeometry:Ye,TextGeometry:Ke,SphereBufferGeometry:Je,SphereGeometry:Qe,RingGeometry:tr,RingBufferGeometry:$e,PlaneBufferGeometry:Dt,PlaneGeometry:er,LatheGeometry:nr,LatheBufferGeometry:rr,ShapeGeometry:ir,ExtrudeGeometry:Ze,EdgesGeometry:or,ConeGeometry:ur,ConeBufferGeometry:lr,CylinderGeometry:sr,CylinderBufferGeometry:ar,CircleBufferGeometry:cr,CircleGeometry:hr,BoxBufferGeometry:Rt,BoxGeometry:fr});dr.prototype=Object.create(Q.prototype),dr.prototype.constructor=dr,dr.prototype.isShadowMaterial=!0,pr.prototype=Object.create(Q.prototype),pr.prototype.constructor=pr,pr.prototype.isRawShaderMaterial=!0,vr.prototype={constructor:vr,isMultiMaterial:!0,toJSON:function(t){for(var e={metadata:{version:4.2,type:"material",generator:"MaterialExporter"},uuid:this.uuid,type:this.type,materials:[]},r=this.materials,n=0,i=r.length;n<i;n++){var o=r[n].toJSON(t);delete o.metadata,e.materials.push(o)}return e.visible=this.visible,e},clone:function(){for(var t=new this.constructor,e=0;e<this.materials.length;e++)t.materials.push(this.materials[e].clone());return t.visible=this.visible,t}},mr.prototype=Object.create(K.prototype),mr.prototype.constructor=mr,mr.prototype.isMeshStandardMaterial=!0,mr.prototype.copy=function(t){return K.prototype.copy.call(this,t),this.defines={STANDARD:""},this.color.copy(t.color),this.roughness=t.roughness,this.metalness=t.metalness,this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.roughnessMap=t.roughnessMap,this.metalnessMap=t.metalnessMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.envMapIntensity=t.envMapIntensity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this},gr.prototype=Object.create(mr.prototype),gr.prototype.constructor=gr,gr.prototype.isMeshPhysicalMaterial=!0,gr.prototype.copy=function(t){return mr.prototype.copy.call(this,t),this.defines={PHYSICAL:""},this.reflectivity=t.reflectivity,this.clearCoat=t.clearCoat,this.clearCoatRoughness=t.clearCoatRoughness,this},yr.prototype=Object.create(K.prototype),yr.prototype.constructor=yr,yr.prototype.isMeshPhongMaterial=!0,yr.prototype.copy=function(t){return K.prototype.copy.call(this,t),this.color.copy(t.color),this.specular.copy(t.specular),this.shininess=t.shininess,this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this},_r.prototype=Object.create(K.prototype),_r.prototype.constructor=_r,_r.prototype.isMeshNormalMaterial=!0,_r.prototype.copy=function(t){return K.prototype.copy.call(this,t),this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this},xr.prototype=Object.create(K.prototype),xr.prototype.constructor=xr,xr.prototype.isMeshLambertMaterial=!0,xr.prototype.copy=function(t){return K.prototype.copy.call(this,t),this.color.copy(t.color),this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this},br.prototype=Object.create(K.prototype),br.prototype.constructor=br,br.prototype.isLineDashedMaterial=!0,br.prototype.copy=function(t){return K.prototype.copy.call(this,t),this.color.copy(t.color),this.linewidth=t.linewidth,this.scale=t.scale,this.dashSize=t.dashSize,this.gapSize=t.gapSize,this};var Qu=Object.freeze({ShadowMaterial:dr,SpriteMaterial:de,RawShaderMaterial:pr,ShaderMaterial:Q,PointsMaterial:Te,MultiMaterial:vr,MeshPhysicalMaterial:gr,MeshStandardMaterial:mr,MeshPhongMaterial:yr,MeshNormalMaterial:_r,MeshLambertMaterial:xr,MeshDepthMaterial:$,MeshBasicMaterial:pt,LineDashedMaterial:br,LineBasicMaterial:xe,Material:K}),$u={enabled:!1,files:{},add:function(t,e){this.enabled!==!1&&(this.files[t]=e)},get:function(t){if(this.enabled!==!1)return this.files[t]},remove:function(t){delete this.files[t]},clear:function(){this.files={}}},tl=new wr;Object.assign(Tr.prototype,{load:function(t,e,r,n){void 0===t&&(t=""),void 0!==this.path&&(t=this.path+t);var i=this,o=$u.get(t);if(void 0!==o)return i.manager.itemStart(t),setTimeout(function(){e&&e(o),i.manager.itemEnd(t)},0),o;var a=/^data:(.*?)(;base64)?,(.*)$/,s=t.match(a);if(s){var u=s[1],l=!!s[2],c=s[3];c=window.decodeURIComponent(c),l&&(c=window.atob(c));try{var h,f=(this.responseType||"").toLowerCase();switch(f){case"arraybuffer":case"blob":h=new ArrayBuffer(c.length);for(var d=new Uint8Array(h),p=0;p<c.length;p++)d[p]=c.charCodeAt(p);"blob"===f&&(h=new Blob([h],{type:u}));break;case"document":var v=new DOMParser;h=v.parseFromString(c,u);break;case"json":h=JSON.parse(c);break;default:h=c}window.setTimeout(function(){e&&e(h),i.manager.itemEnd(t)},0)}catch(e){window.setTimeout(function(){n&&n(e),i.manager.itemError(t)},0)}}else{var m=new XMLHttpRequest;m.open("GET",t,!0),m.addEventListener("load",function(r){var o=r.target.response;$u.add(t,o),200===this.status?(e&&e(o),i.manager.itemEnd(t)):0===this.status?(console.warn("THREE.XHRLoader: HTTP Status 0 received."),e&&e(o),i.manager.itemEnd(t)):(n&&n(r),i.manager.itemError(t))},!1),void 0!==r&&m.addEventListener("progress",function(t){r(t)},!1),m.addEventListener("error",function(e){n&&n(e),i.manager.itemError(t)},!1),void 0!==this.responseType&&(m.responseType=this.responseType),void 0!==this.withCredentials&&(m.withCredentials=this.withCredentials),m.overrideMimeType&&m.overrideMimeType("text/plain"),m.send(null)}return i.manager.itemStart(t),m},setPath:function(t){return this.path=t,this},setResponseType:function(t){return this.responseType=t,this},setWithCredentials:function(t){return this.withCredentials=t,this}}),Object.assign(Er.prototype,{load:function(t,e,r,n){function i(i){u.load(t[i],function(t){var r=o._parser(t,!0);a[i]={width:r.width,height:r.height,format:r.format,mipmaps:r.mipmaps},l+=1,6===l&&(1===r.mipmapCount&&(s.minFilter=No),s.format=r.format,s.needsUpdate=!0,e&&e(s))},r,n)}var o=this,a=[],s=new Ae;s.image=a;var u=new Tr(this.manager);if(u.setPath(this.path),u.setResponseType("arraybuffer"),Array.isArray(t))for(var l=0,c=0,h=t.length;c<h;++c)i(c);else u.load(t,function(t){var r=o._parser(t,!0);if(r.isCubemap)for(var n=r.mipmaps.length/r.mipmapCount,i=0;i<n;i++){a[i]={mipmaps:[]};for(var u=0;u<r.mipmapCount;u++)a[i].mipmaps.push(r.mipmaps[i*r.mipmapCount+u]),a[i].format=r.format,a[i].width=r.width,a[i].height=r.height}else s.image.width=r.width,s.image.height=r.height,s.mipmaps=r.mipmaps;1===r.mipmapCount&&(s.minFilter=No),s.format=r.format,s.needsUpdate=!0,e&&e(s)},r,n);return s},setPath:function(t){return this.path=t,this}});var el=Sr;Object.assign(Sr.prototype,{load:function(t,e,r,n){var i=this,o=new me,a=new Tr(this.manager);return a.setResponseType("arraybuffer"),a.load(t,function(t){var r=i._parser(t);r&&(void 0!==r.image?o.image=r.image:void 0!==r.data&&(o.image.width=r.width,o.image.height=r.height,o.image.data=r.data),o.wrapS=void 0!==r.wrapS?r.wrapS:Oo,o.wrapT=void 0!==r.wrapT?r.wrapT:Oo,o.magFilter=void 0!==r.magFilter?r.magFilter:No,o.minFilter=void 0!==r.minFilter?r.minFilter:Uo,o.anisotropy=void 0!==r.anisotropy?r.anisotropy:1,void 0!==r.format&&(o.format=r.format),void 0!==r.type&&(o.type=r.type),void 0!==r.mipmaps&&(o.mipmaps=r.mipmaps),1===r.mipmapCount&&(o.minFilter=No),o.needsUpdate=!0,e&&e(o,r))},r,n),o}}),Object.assign(Mr.prototype,{load:function(t,e,r,n){var i=this,o=document.createElementNS("http://www.w3.org/1999/xhtml","img");if(o.onload=function(){o.onload=null,URL.revokeObjectURL(o.src),e&&e(o),i.manager.itemEnd(t)},o.onerror=n,0===t.indexOf("data:"))o.src=t;else{var a=new Tr;a.setPath(this.path),a.setResponseType("blob"),a.setWithCredentials(this.withCredentials),a.load(t,function(t){o.src=URL.createObjectURL(t)},r,n)}return i.manager.itemStart(t),o},setCrossOrigin:function(t){return this.crossOrigin=t,this},setWithCredentials:function(t){return this.withCredentials=t,this},setPath:function(t){return this.path=t,this}}),Object.assign(Ar.prototype,{load:function(t,e,r,n){function i(r){a.load(t[r],function(t){o.images[r]=t,s++,6===s&&(o.needsUpdate=!0,e&&e(o))},void 0,n)}var o=new h,a=new Mr(this.manager);a.setCrossOrigin(this.crossOrigin),a.setPath(this.path);for(var s=0,u=0;u<t.length;++u)i(u);return o},setCrossOrigin:function(t){return this.crossOrigin=t,this},setPath:function(t){return this.path=t,this}}),Object.assign(Pr.prototype,{load:function(t,e,r,i){var o=new n,a=new Mr(this.manager);return a.setCrossOrigin(this.crossOrigin),a.setWithCredentials(this.withCredentials),a.setPath(this.path),a.load(t,function(r){var n=t.search(/\.(jpg|jpeg)$/)>0||0===t.search(/^data\:image\/jpeg/);o.format=n?$o:ta,o.image=r,o.needsUpdate=!0,void 0!==e&&e(o)},r,i),o},setCrossOrigin:function(t){return this.crossOrigin=t,this},setWithCredentials:function(t){return this.withCredentials=t,this},setPath:function(t){return this.path=t,this}}),Cr.prototype=Object.assign(Object.create(lt.prototype),{constructor:Cr,isLight:!0,copy:function(t){return lt.prototype.copy.call(this,t),this.color.copy(t.color),this.intensity=t.intensity,this},toJSON:function(t){var e=lt.prototype.toJSON.call(this,t);return e.object.color=this.color.getHex(),e.object.intensity=this.intensity,void 0!==this.groundColor&&(e.object.groundColor=this.groundColor.getHex()),void 0!==this.distance&&(e.object.distance=this.distance),void 0!==this.angle&&(e.object.angle=this.angle),void 0!==this.decay&&(e.object.decay=this.decay),void 0!==this.penumbra&&(e.object.penumbra=this.penumbra),void 0!==this.shadow&&(e.object.shadow=this.shadow.toJSON()),e}}),Or.prototype=Object.assign(Object.create(Cr.prototype),{constructor:Or,isHemisphereLight:!0,copy:function(t){return Cr.prototype.copy.call(this,t),this.groundColor.copy(t.groundColor),this}}),Object.assign(Rr.prototype,{copy:function(t){return this.camera=t.camera.clone(),this.bias=t.bias,this.radius=t.radius,this.mapSize.copy(t.mapSize),this},clone:function(){return(new this.constructor).copy(this)},toJSON:function(){var t={};return 0!==this.bias&&(t.bias=this.bias),1!==this.radius&&(t.radius=this.radius),512===this.mapSize.x&&512===this.mapSize.y||(t.mapSize=this.mapSize.toArray()),t.camera=this.camera.toJSON(!1).object,delete t.camera.matrix,t}}),Dr.prototype=Object.assign(Object.create(Rr.prototype),{constructor:Dr,isSpotLightShadow:!0,update:function(t){var e=2*ka.RAD2DEG*t.angle,r=this.mapSize.width/this.mapSize.height,n=t.distance||500,i=this.camera;e===i.fov&&r===i.aspect&&n===i.far||(i.fov=e,i.aspect=r,i.far=n,i.updateProjectionMatrix())}}),Lr.prototype=Object.assign(Object.create(Cr.prototype),{constructor:Lr,isSpotLight:!0,copy:function(t){return Cr.prototype.copy.call(this,t),this.distance=t.distance,this.angle=t.angle,this.penumbra=t.penumbra,this.decay=t.decay,this.target=t.target.clone(),this.shadow=t.shadow.clone(),this}}),Ir.prototype=Object.assign(Object.create(Cr.prototype),{constructor:Ir,isPointLight:!0,copy:function(t){return Cr.prototype.copy.call(this,t),this.distance=t.distance,this.decay=t.decay,this.shadow=t.shadow.clone(),this}}),Fr.prototype=Object.assign(Object.create(Rr.prototype),{constructor:Fr}),Nr.prototype=Object.assign(Object.create(Cr.prototype),{constructor:Nr,isDirectionalLight:!0,copy:function(t){return Cr.prototype.copy.call(this,t),this.target=t.target.clone(),this.shadow=t.shadow.clone(),this}}),kr.prototype=Object.assign(Object.create(Cr.prototype),{constructor:kr,isAmbientLight:!0});var rl={arraySlice:function(t,e,r){return rl.isTypedArray(t)?new t.constructor(t.subarray(e,r)):t.slice(e,r)},convertArray:function(t,e,r){return!t||!r&&t.constructor===e?t:"number"==typeof e.BYTES_PER_ELEMENT?new e(t):Array.prototype.slice.call(t)},isTypedArray:function(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)},getKeyframeOrder:function(t){function e(e,r){return t[e]-t[r]}for(var r=t.length,n=new Array(r),i=0;i!==r;++i)n[i]=i;return n.sort(e),n},sortedArray:function(t,e,r){for(var n=t.length,i=new t.constructor(n),o=0,a=0;a!==n;++o)for(var s=r[o]*e,u=0;u!==e;++u)i[a++]=t[s+u];return i},flattenJSON:function(t,e,r,n){for(var i=1,o=t[0];void 0!==o&&void 0===o[n];)o=t[i++];if(void 0!==o){var a=o[n];if(void 0!==a)if(Array.isArray(a)){do a=o[n],void 0!==a&&(e.push(o.time),r.push.apply(r,a)),o=t[i++];while(void 0!==o)}else if(void 0!==a.toArray){do a=o[n],void 0!==a&&(e.push(o.time),a.toArray(r,r.length)),o=t[i++];while(void 0!==o)}else do a=o[n],void 0!==a&&(e.push(o.time),r.push(a)),o=t[i++];while(void 0!==o)}}};Ur.prototype={constructor:Ur,evaluate:function(t){var e=this.parameterPositions,r=this._cachedIndex,n=e[r],i=e[r-1];t:{e:{var o;r:{n:if(!(t<n)){for(var a=r+2;;){if(void 0===n){if(t<i)break n;return r=e.length,this._cachedIndex=r,this.afterEnd_(r-1,t,i)}if(r===a)break;if(i=n,n=e[++r],t<n)break e}o=e.length;break r}{if(t>=i)break t;var s=e[1];t<s&&(r=2,i=s);for(var a=r-2;;){if(void 0===i)return this._cachedIndex=0,this.beforeStart_(0,t,n);if(r===a)break;if(n=i,i=e[--r-1],t>=i)break e}o=r,r=0}}for(;r<o;){var u=r+o>>>1;t<e[u]?o=u:r=u+1}if(n=e[r],i=e[r-1],void 0===i)return this._cachedIndex=0,this.beforeStart_(0,t,n);if(void 0===n)return r=e.length,this._cachedIndex=r,this.afterEnd_(r-1,i,t)}this._cachedIndex=r,this.intervalChanged_(r,i,n)}return this.interpolate_(r,i,t,n)},settings:null,DefaultSettings_:{},getSettings_:function(){return this.settings||this.DefaultSettings_},copySampleValue_:function(t){for(var e=this.resultBuffer,r=this.sampleValues,n=this.valueSize,i=t*n,o=0;o!==n;++o)e[o]=r[i+o];return e},interpolate_:function(t,e,r,n){throw new Error("call to abstract method")},intervalChanged_:function(t,e,r){}},Object.assign(Ur.prototype,{beforeStart_:Ur.prototype.copySampleValue_,afterEnd_:Ur.prototype.copySampleValue_}),Br.prototype=Object.assign(Object.create(Ur.prototype),{constructor:Br,DefaultSettings_:{endingStart:ba,endingEnd:ba},intervalChanged_:function(t,e,r){var n=this.parameterPositions,i=t-2,o=t+1,a=n[i],s=n[o];if(void 0===a)switch(this.getSettings_().endingStart){case wa:i=t,a=2*e-r;break;case Ta:i=n.length-2,a=e+n[i]-n[i+1];break;default:i=t,a=r}if(void 0===s)switch(this.getSettings_().endingEnd){case wa:o=t,s=2*r-e;break;case Ta:o=1,s=r+n[1]-n[0];break;default:o=t-1,s=e}var u=.5*(r-e),l=this.valueSize;this._weightPrev=u/(e-a),this._weightNext=u/(s-r),this._offsetPrev=i*l,this._offsetNext=o*l},interpolate_:function(t,e,r,n){for(var i=this.resultBuffer,o=this.sampleValues,a=this.valueSize,s=t*a,u=s-a,l=this._offsetPrev,c=this._offsetNext,h=this._weightPrev,f=this._weightNext,d=(r-e)/(n-e),p=d*d,v=p*d,m=-h*v+2*h*p-h*d,g=(1+h)*v+(-1.5-2*h)*p+(-.5+h)*d+1,y=(-1-f)*v+(1.5+f)*p+.5*d,_=f*v-f*p,x=0;x!==a;++x)i[x]=m*o[l+x]+g*o[u+x]+y*o[s+x]+_*o[c+x];return i}}),zr.prototype=Object.assign(Object.create(Ur.prototype),{constructor:zr,interpolate_:function(t,e,r,n){for(var i=this.resultBuffer,o=this.sampleValues,a=this.valueSize,s=t*a,u=s-a,l=(r-e)/(n-e),c=1-l,h=0;h!==a;++h)i[h]=o[u+h]*c+o[s+h]*l;return i}}),jr.prototype=Object.assign(Object.create(Ur.prototype),{constructor:jr,interpolate_:function(t,e,r,n){return this.copySampleValue_(t-1)}});var nl;nl={TimeBufferType:Float32Array,ValueBufferType:Float32Array,DefaultInterpolation:_a,InterpolantFactoryMethodDiscrete:function(t){return new jr(this.times,this.values,this.getValueSize(),t)},InterpolantFactoryMethodLinear:function(t){return new zr(this.times,this.values,this.getValueSize(),t)},InterpolantFactoryMethodSmooth:function(t){return new Br(this.times,this.values,this.getValueSize(),t)},setInterpolation:function(t){var e;switch(t){case ya:e=this.InterpolantFactoryMethodDiscrete;break;case _a:e=this.InterpolantFactoryMethodLinear;break;case xa:e=this.InterpolantFactoryMethodSmooth}if(void 0===e){var r="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(void 0===this.createInterpolant){if(t===this.DefaultInterpolation)throw new Error(r);this.setInterpolation(this.DefaultInterpolation)}return void console.warn(r)}this.createInterpolant=e},getInterpolation:function(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return ya;case this.InterpolantFactoryMethodLinear:return _a;case this.InterpolantFactoryMethodSmooth:return xa}},getValueSize:function(){return this.values.length/this.times.length},shift:function(t){if(0!==t)for(var e=this.times,r=0,n=e.length;r!==n;++r)e[r]+=t;return this},scale:function(t){if(1!==t)for(var e=this.times,r=0,n=e.length;r!==n;++r)e[r]*=t;return this},trim:function(t,e){for(var r=this.times,n=r.length,i=0,o=n-1;i!==n&&r[i]<t;)++i;for(;o!==-1&&r[o]>e;)--o;if(++o,0!==i||o!==n){i>=o&&(o=Math.max(o,1),i=o-1);var a=this.getValueSize();this.times=rl.arraySlice(r,i,o),this.values=rl.arraySlice(this.values,i*a,o*a)}return this},validate:function(){var t=!0,e=this.getValueSize();e-Math.floor(e)!==0&&(console.error("invalid value size in track",this),t=!1);var r=this.times,n=this.values,i=r.length;0===i&&(console.error("track is empty",this),t=!1);for(var o=null,a=0;a!==i;a++){var s=r[a];if("number"==typeof s&&isNaN(s)){console.error("time is not a valid number",this,a,s),t=!1;break}if(null!==o&&o>s){console.error("out of order keys",this,a,s,o),t=!1;break}o=s}if(void 0!==n&&rl.isTypedArray(n))for(var a=0,u=n.length;a!==u;++a){var l=n[a];if(isNaN(l)){console.error("value is not a valid number",this,a,l),t=!1;break}}return t},optimize:function(){for(var t=this.times,e=this.values,r=this.getValueSize(),n=this.getInterpolation()===xa,i=1,o=t.length-1,a=1;a<o;++a){var s=!1,u=t[a],l=t[a+1];if(u!==l&&(1!==a||u!==u[0]))if(n)s=!0;else for(var c=a*r,h=c-r,f=c+r,d=0;d!==r;++d){var p=e[c+d];if(p!==e[h+d]||p!==e[f+d]){s=!0;break}}if(s){if(a!==i){t[i]=t[a];for(var v=a*r,m=i*r,d=0;d!==r;++d)e[m+d]=e[v+d]}++i}}if(o>0){t[i]=t[o];for(var v=o*r,m=i*r,d=0;d!==r;++d)e[m+d]=e[v+d];++i}return i!==t.length&&(this.times=rl.arraySlice(t,0,i),this.values=rl.arraySlice(e,0,i*r)),this}},Hr.prototype=Object.assign(Object.create(nl),{constructor:Hr,ValueTypeName:"vector"}),Xr.prototype=Object.assign(Object.create(Ur.prototype),{constructor:Xr,interpolate_:function(t,e,r,n){for(var i=this.resultBuffer,o=this.sampleValues,a=this.valueSize,s=t*a,l=(r-e)/(n-e),c=s+a;s!==c;s+=4)u.slerpFlat(i,0,o,s-a,o,s,l);return i}}),Vr.prototype=Object.assign(Object.create(nl),{constructor:Vr,ValueTypeName:"quaternion",DefaultInterpolation:_a,InterpolantFactoryMethodLinear:function(t){return new Xr(this.times,this.values,this.getValueSize(),t)},InterpolantFactoryMethodSmooth:void 0}),Wr.prototype=Object.assign(Object.create(nl),{constructor:Wr,ValueTypeName:"number"}),Yr.prototype=Object.assign(Object.create(nl),{constructor:Yr,ValueTypeName:"string",ValueBufferType:Array,DefaultInterpolation:ya,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0}),qr.prototype=Object.assign(Object.create(nl),{constructor:qr,ValueTypeName:"bool",ValueBufferType:Array,DefaultInterpolation:ya,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0}),Zr.prototype=Object.assign(Object.create(nl),{constructor:Zr,ValueTypeName:"color"}),Kr.prototype=nl,nl.constructor=Kr,Object.assign(Kr,{parse:function(t){if(void 0===t.type)throw new Error("track type undefined, can not parse");var e=Kr._getTrackTypeForValueTypeName(t.type);if(void 0===t.times){var r=[],n=[];rl.flattenJSON(t.keys,r,n,"value"),t.times=r,t.values=n}return void 0!==e.parse?e.parse(t):new e(t.name,t.times,t.values,t.interpolation)},toJSON:function(t){var e,r=t.constructor;if(void 0!==r.toJSON)e=r.toJSON(t);else{e={name:t.name,times:rl.convertArray(t.times,Array),values:rl.convertArray(t.values,Array)};var n=t.getInterpolation();n!==t.DefaultInterpolation&&(e.interpolation=n)}return e.type=t.ValueTypeName,e},_getTrackTypeForValueTypeName:function(t){switch(t.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return Wr;case"vector":case"vector2":case"vector3":case"vector4":return Hr;case"color":return Zr;case"quaternion":return Vr;case"bool":case"boolean":return qr;case"string":return Yr}throw new Error("Unsupported typeName: "+t)}}),Jr.prototype={constructor:Jr,resetDuration:function(){for(var t=this.tracks,e=0,r=0,n=t.length;r!==n;++r){var i=this.tracks[r];e=Math.max(e,i.times[i.times.length-1])}this.duration=e},trim:function(){for(var t=0;t<this.tracks.length;t++)this.tracks[t].trim(0,this.duration);return this},optimize:function(){for(var t=0;t<this.tracks.length;t++)this.tracks[t].optimize();return this}},Object.assign(Jr,{parse:function(t){for(var e=[],r=t.tracks,n=1/(t.fps||1),i=0,o=r.length;i!==o;++i)e.push(Kr.parse(r[i]).scale(n));return new Jr(t.name,t.duration,e)},toJSON:function(t){for(var e=[],r=t.tracks,n={
name:t.name,duration:t.duration,tracks:e},i=0,o=r.length;i!==o;++i)e.push(Kr.toJSON(r[i]));return n},CreateFromMorphTargetSequence:function(t,e,r,n){for(var i=e.length,o=[],a=0;a<i;a++){var s=[],u=[];s.push((a+i-1)%i,a,(a+1)%i),u.push(0,1,0);var l=rl.getKeyframeOrder(s);s=rl.sortedArray(s,1,l),u=rl.sortedArray(u,1,l),n||0!==s[0]||(s.push(i),u.push(u[0])),o.push(new Wr(".morphTargetInfluences["+e[a].name+"]",s,u).scale(1/r))}return new Jr(t,-1,o)},findByName:function(t,e){var r=t;if(!Array.isArray(t)){var n=t;r=n.geometry&&n.geometry.animations||n.animations}for(var i=0;i<r.length;i++)if(r[i].name===e)return r[i];return null},CreateClipsFromMorphTargetSequences:function(t,e,r){for(var n={},i=/^([\w-]*?)([\d]+)$/,o=0,a=t.length;o<a;o++){var s=t[o],u=s.name.match(i);if(u&&u.length>1){var l=u[1],c=n[l];c||(n[l]=c=[]),c.push(s)}}var h=[];for(var l in n)h.push(Jr.CreateFromMorphTargetSequence(l,n[l],e,r));return h},parseAnimation:function(t,e){if(!t)return console.error("  no animation in JSONLoader data"),null;for(var r=function(t,e,r,n,i){if(0!==r.length){var o=[],a=[];rl.flattenJSON(r,o,a,n),0!==o.length&&i.push(new t(e,o,a))}},n=[],i=t.name||"default",o=t.length||-1,a=t.fps||30,s=t.hierarchy||[],u=0;u<s.length;u++){var l=s[u].keys;if(l&&0!==l.length)if(l[0].morphTargets){for(var c={},h=0;h<l.length;h++)if(l[h].morphTargets)for(var f=0;f<l[h].morphTargets.length;f++)c[l[h].morphTargets[f]]=-1;for(var d in c){for(var p=[],v=[],f=0;f!==l[h].morphTargets.length;++f){var m=l[h];p.push(m.time),v.push(m.morphTarget===d?1:0)}n.push(new Wr(".morphTargetInfluence["+d+"]",p,v))}o=c.length*(a||1)}else{var g=".bones["+e[u].name+"]";r(Hr,g+".position",l,"pos",n),r(Vr,g+".quaternion",l,"rot",n),r(Hr,g+".scale",l,"scl",n)}}if(0===n.length)return null;var y=new Jr(i,o,n);return y}}),Object.assign(Qr.prototype,{load:function(t,e,r,n){var i=this,o=new Tr(i.manager);o.load(t,function(t){e(i.parse(JSON.parse(t)))},r,n)},setTextures:function(t){this.textures=t},parse:function(t){function e(t){return void 0===n[t]&&console.warn("THREE.MaterialLoader: Undefined texture",t),n[t]}var n=this.textures,i=new Qu[t.type];if(void 0!==t.uuid&&(i.uuid=t.uuid),void 0!==t.name&&(i.name=t.name),void 0!==t.color&&i.color.setHex(t.color),void 0!==t.roughness&&(i.roughness=t.roughness),void 0!==t.metalness&&(i.metalness=t.metalness),void 0!==t.emissive&&i.emissive.setHex(t.emissive),void 0!==t.specular&&i.specular.setHex(t.specular),void 0!==t.shininess&&(i.shininess=t.shininess),void 0!==t.uniforms&&(i.uniforms=t.uniforms),void 0!==t.vertexShader&&(i.vertexShader=t.vertexShader),void 0!==t.fragmentShader&&(i.fragmentShader=t.fragmentShader),void 0!==t.vertexColors&&(i.vertexColors=t.vertexColors),void 0!==t.fog&&(i.fog=t.fog),void 0!==t.shading&&(i.shading=t.shading),void 0!==t.blending&&(i.blending=t.blending),void 0!==t.side&&(i.side=t.side),void 0!==t.opacity&&(i.opacity=t.opacity),void 0!==t.transparent&&(i.transparent=t.transparent),void 0!==t.alphaTest&&(i.alphaTest=t.alphaTest),void 0!==t.depthTest&&(i.depthTest=t.depthTest),void 0!==t.depthWrite&&(i.depthWrite=t.depthWrite),void 0!==t.colorWrite&&(i.colorWrite=t.colorWrite),void 0!==t.wireframe&&(i.wireframe=t.wireframe),void 0!==t.wireframeLinewidth&&(i.wireframeLinewidth=t.wireframeLinewidth),void 0!==t.wireframeLinecap&&(i.wireframeLinecap=t.wireframeLinecap),void 0!==t.wireframeLinejoin&&(i.wireframeLinejoin=t.wireframeLinejoin),void 0!==t.skinning&&(i.skinning=t.skinning),void 0!==t.morphTargets&&(i.morphTargets=t.morphTargets),void 0!==t.size&&(i.size=t.size),void 0!==t.sizeAttenuation&&(i.sizeAttenuation=t.sizeAttenuation),void 0!==t.map&&(i.map=e(t.map)),void 0!==t.alphaMap&&(i.alphaMap=e(t.alphaMap),i.transparent=!0),void 0!==t.bumpMap&&(i.bumpMap=e(t.bumpMap)),void 0!==t.bumpScale&&(i.bumpScale=t.bumpScale),void 0!==t.normalMap&&(i.normalMap=e(t.normalMap)),void 0!==t.normalScale){var o=t.normalScale;Array.isArray(o)===!1&&(o=[o,o]),i.normalScale=(new r).fromArray(o)}if(void 0!==t.displacementMap&&(i.displacementMap=e(t.displacementMap)),void 0!==t.displacementScale&&(i.displacementScale=t.displacementScale),void 0!==t.displacementBias&&(i.displacementBias=t.displacementBias),void 0!==t.roughnessMap&&(i.roughnessMap=e(t.roughnessMap)),void 0!==t.metalnessMap&&(i.metalnessMap=e(t.metalnessMap)),void 0!==t.emissiveMap&&(i.emissiveMap=e(t.emissiveMap)),void 0!==t.emissiveIntensity&&(i.emissiveIntensity=t.emissiveIntensity),void 0!==t.specularMap&&(i.specularMap=e(t.specularMap)),void 0!==t.envMap&&(i.envMap=e(t.envMap)),void 0!==t.reflectivity&&(i.reflectivity=t.reflectivity),void 0!==t.lightMap&&(i.lightMap=e(t.lightMap)),void 0!==t.lightMapIntensity&&(i.lightMapIntensity=t.lightMapIntensity),void 0!==t.aoMap&&(i.aoMap=e(t.aoMap)),void 0!==t.aoMapIntensity&&(i.aoMapIntensity=t.aoMapIntensity),void 0!==t.materials)for(var a=0,s=t.materials.length;a<s;a++)i.materials.push(this.parse(t.materials[a]));return i}}),Object.assign($r.prototype,{load:function(t,e,r,n){var i=this,o=new Tr(i.manager);o.load(t,function(t){e(i.parse(JSON.parse(t)))},r,n)},parse:function(t){var e=new Ct,r=t.data.index,n={Int8Array:Int8Array,Uint8Array:Uint8Array,Uint8ClampedArray:Uint8ClampedArray,Int16Array:Int16Array,Uint16Array:Uint16Array,Int32Array:Int32Array,Uint32Array:Uint32Array,Float32Array:Float32Array,Float64Array:Float64Array};if(void 0!==r){var i=new n[r.type](r.array);e.setIndex(new vt(i,1))}var o=t.data.attributes;for(var a in o){var s=o[a],i=new n[s.type](s.array);e.addAttribute(a,new vt(i,s.itemSize,s.normalized))}var u=t.data.groups||t.data.drawcalls||t.data.offsets;if(void 0!==u)for(var c=0,h=u.length;c!==h;++c){var f=u[c];e.addGroup(f.start,f.count,f.materialIndex)}var d=t.data.boundingSphere;if(void 0!==d){var p=new l;void 0!==d.center&&p.fromArray(d.center),e.boundingSphere=new et(p,d.radius)}return e}}),tn.prototype={constructor:tn,crossOrigin:void 0,extractUrlBase:function(t){var e=t.split("/");return 1===e.length?"./":(e.pop(),e.join("/")+"/")},initMaterials:function(t,e,r){for(var n=[],i=0;i<t.length;++i)n[i]=this.createMaterial(t[i],e,r);return n},createMaterial:function(){var t,e,r;return function(n,i,o){function a(t,r,n,a,u){var l,c=i+t,h=tn.Handlers.get(c);null!==h?l=h.load(c):(e.setCrossOrigin(o),l=e.load(c)),void 0!==r&&(l.repeat.fromArray(r),1!==r[0]&&(l.wrapS=Co),1!==r[1]&&(l.wrapT=Co)),void 0!==n&&l.offset.fromArray(n),void 0!==a&&("repeat"===a[0]&&(l.wrapS=Co),"mirror"===a[0]&&(l.wrapS=Ro),"repeat"===a[1]&&(l.wrapT=Co),"mirror"===a[1]&&(l.wrapT=Ro)),void 0!==u&&(l.anisotropy=u);var f=ka.generateUUID();return s[f]=l,f}void 0===t&&(t=new W),void 0===e&&(e=new Pr),void 0===r&&(r=new Qr);var s={},u={uuid:ka.generateUUID(),type:"MeshLambertMaterial"};for(var l in n){var c=n[l];switch(l){case"DbgColor":case"DbgIndex":case"opticalDensity":case"illumination":break;case"DbgName":u.name=c;break;case"blending":u.blending=zi[c];break;case"colorAmbient":case"mapAmbient":console.warn("THREE.Loader.createMaterial:",l,"is no longer supported.");break;case"colorDiffuse":u.color=t.fromArray(c).getHex();break;case"colorSpecular":u.specular=t.fromArray(c).getHex();break;case"colorEmissive":u.emissive=t.fromArray(c).getHex();break;case"specularCoef":u.shininess=c;break;case"shading":"basic"===c.toLowerCase()&&(u.type="MeshBasicMaterial"),"phong"===c.toLowerCase()&&(u.type="MeshPhongMaterial"),"standard"===c.toLowerCase()&&(u.type="MeshStandardMaterial");break;case"mapDiffuse":u.map=a(c,n.mapDiffuseRepeat,n.mapDiffuseOffset,n.mapDiffuseWrap,n.mapDiffuseAnisotropy);break;case"mapDiffuseRepeat":case"mapDiffuseOffset":case"mapDiffuseWrap":case"mapDiffuseAnisotropy":break;case"mapEmissive":u.emissiveMap=a(c,n.mapEmissiveRepeat,n.mapEmissiveOffset,n.mapEmissiveWrap,n.mapEmissiveAnisotropy);break;case"mapEmissiveRepeat":case"mapEmissiveOffset":case"mapEmissiveWrap":case"mapEmissiveAnisotropy":break;case"mapLight":u.lightMap=a(c,n.mapLightRepeat,n.mapLightOffset,n.mapLightWrap,n.mapLightAnisotropy);break;case"mapLightRepeat":case"mapLightOffset":case"mapLightWrap":case"mapLightAnisotropy":break;case"mapAO":u.aoMap=a(c,n.mapAORepeat,n.mapAOOffset,n.mapAOWrap,n.mapAOAnisotropy);break;case"mapAORepeat":case"mapAOOffset":case"mapAOWrap":case"mapAOAnisotropy":break;case"mapBump":u.bumpMap=a(c,n.mapBumpRepeat,n.mapBumpOffset,n.mapBumpWrap,n.mapBumpAnisotropy);break;case"mapBumpScale":u.bumpScale=c;break;case"mapBumpRepeat":case"mapBumpOffset":case"mapBumpWrap":case"mapBumpAnisotropy":break;case"mapNormal":u.normalMap=a(c,n.mapNormalRepeat,n.mapNormalOffset,n.mapNormalWrap,n.mapNormalAnisotropy);break;case"mapNormalFactor":u.normalScale=[c,c];break;case"mapNormalRepeat":case"mapNormalOffset":case"mapNormalWrap":case"mapNormalAnisotropy":break;case"mapSpecular":u.specularMap=a(c,n.mapSpecularRepeat,n.mapSpecularOffset,n.mapSpecularWrap,n.mapSpecularAnisotropy);break;case"mapSpecularRepeat":case"mapSpecularOffset":case"mapSpecularWrap":case"mapSpecularAnisotropy":break;case"mapMetalness":u.metalnessMap=a(c,n.mapMetalnessRepeat,n.mapMetalnessOffset,n.mapMetalnessWrap,n.mapMetalnessAnisotropy);break;case"mapMetalnessRepeat":case"mapMetalnessOffset":case"mapMetalnessWrap":case"mapMetalnessAnisotropy":break;case"mapRoughness":u.roughnessMap=a(c,n.mapRoughnessRepeat,n.mapRoughnessOffset,n.mapRoughnessWrap,n.mapRoughnessAnisotropy);break;case"mapRoughnessRepeat":case"mapRoughnessOffset":case"mapRoughnessWrap":case"mapRoughnessAnisotropy":break;case"mapAlpha":u.alphaMap=a(c,n.mapAlphaRepeat,n.mapAlphaOffset,n.mapAlphaWrap,n.mapAlphaAnisotropy);break;case"mapAlphaRepeat":case"mapAlphaOffset":case"mapAlphaWrap":case"mapAlphaAnisotropy":break;case"flipSided":u.side=Ai;break;case"doubleSided":u.side=Pi;break;case"transparency":console.warn("THREE.Loader.createMaterial: transparency has been renamed to opacity"),u.opacity=c;break;case"depthTest":case"depthWrite":case"colorWrite":case"opacity":case"reflectivity":case"transparent":case"visible":case"wireframe":u[l]=c;break;case"vertexColors":c===!0&&(u.vertexColors=Li),"face"===c&&(u.vertexColors=Di);break;default:console.error("THREE.Loader.createMaterial: Unsupported",l,c)}}return"MeshBasicMaterial"===u.type&&delete u.emissive,"MeshPhongMaterial"!==u.type&&delete u.specular,u.opacity<1&&(u.transparent=!0),r.setTextures(s),r.parse(u)}}()},tn.Handlers={handlers:[],add:function(t,e){this.handlers.push(t,e)},get:function(t){for(var e=this.handlers,r=0,n=e.length;r<n;r+=2){var i=e[r],o=e[r+1];if(i.test(t))return o}return null}},Object.assign(en.prototype,{load:function(t,e,r,n){var i=this,o=this.texturePath&&"string"==typeof this.texturePath?this.texturePath:tn.prototype.extractUrlBase(t),a=new Tr(this.manager);a.setWithCredentials(this.withCredentials),a.load(t,function(r){var n=JSON.parse(r),a=n.metadata;if(void 0!==a){var s=a.type;if(void 0!==s){if("object"===s.toLowerCase())return void console.error("THREE.JSONLoader: "+t+" should be loaded with THREE.ObjectLoader instead.");if("scene"===s.toLowerCase())return void console.error("THREE.JSONLoader: "+t+" should be loaded with THREE.SceneLoader instead.")}}var u=i.parse(n,o);e(u.geometry,u.materials)},r,n)},setTexturePath:function(t){this.texturePath=t},parse:function(t,e){function n(e){function n(t,e){return t&1<<e}var i,o,a,s,c,h,f,d,p,v,m,g,y,_,x,b,w,T,E,S,M,A,P,C,O,R,D,L=t.faces,I=t.vertices,F=t.normals,N=t.colors,k=0;if(void 0!==t.uvs){for(i=0;i<t.uvs.length;i++)t.uvs[i].length&&k++;for(i=0;i<k;i++)u.faceVertexUvs[i]=[]}for(s=0,c=I.length;s<c;)T=new l,T.x=I[s++]*e,T.y=I[s++]*e,T.z=I[s++]*e,u.vertices.push(T);for(s=0,c=L.length;s<c;)if(v=L[s++],m=n(v,0),g=n(v,1),y=n(v,3),_=n(v,4),x=n(v,5),b=n(v,6),w=n(v,7),m){if(S=new dt,S.a=L[s],S.b=L[s+1],S.c=L[s+3],M=new dt,M.a=L[s+1],M.b=L[s+2],M.c=L[s+3],s+=4,g&&(p=L[s++],S.materialIndex=p,M.materialIndex=p),a=u.faces.length,y)for(i=0;i<k;i++)for(C=t.uvs[i],u.faceVertexUvs[i][a]=[],u.faceVertexUvs[i][a+1]=[],o=0;o<4;o++)d=L[s++],R=C[2*d],D=C[2*d+1],O=new r(R,D),2!==o&&u.faceVertexUvs[i][a].push(O),0!==o&&u.faceVertexUvs[i][a+1].push(O);if(_&&(f=3*L[s++],S.normal.set(F[f++],F[f++],F[f]),M.normal.copy(S.normal)),x)for(i=0;i<4;i++)f=3*L[s++],P=new l(F[f++],F[f++],F[f]),2!==i&&S.vertexNormals.push(P),0!==i&&M.vertexNormals.push(P);if(b&&(h=L[s++],A=N[h],S.color.setHex(A),M.color.setHex(A)),w)for(i=0;i<4;i++)h=L[s++],A=N[h],2!==i&&S.vertexColors.push(new W(A)),0!==i&&M.vertexColors.push(new W(A));u.faces.push(S),u.faces.push(M)}else{if(E=new dt,E.a=L[s++],E.b=L[s++],E.c=L[s++],g&&(p=L[s++],E.materialIndex=p),a=u.faces.length,y)for(i=0;i<k;i++)for(C=t.uvs[i],u.faceVertexUvs[i][a]=[],o=0;o<3;o++)d=L[s++],R=C[2*d],D=C[2*d+1],O=new r(R,D),u.faceVertexUvs[i][a].push(O);if(_&&(f=3*L[s++],E.normal.set(F[f++],F[f++],F[f])),x)for(i=0;i<3;i++)f=3*L[s++],P=new l(F[f++],F[f++],F[f]),E.vertexNormals.push(P);if(b&&(h=L[s++],E.color.setHex(N[h])),w)for(i=0;i<3;i++)h=L[s++],E.vertexColors.push(new W(N[h]));u.faces.push(E)}}function i(){var e=void 0!==t.influencesPerVertex?t.influencesPerVertex:2;if(t.skinWeights)for(var r=0,n=t.skinWeights.length;r<n;r+=e){var i=t.skinWeights[r],a=e>1?t.skinWeights[r+1]:0,s=e>2?t.skinWeights[r+2]:0,l=e>3?t.skinWeights[r+3]:0;u.skinWeights.push(new o(i,a,s,l))}if(t.skinIndices)for(var r=0,n=t.skinIndices.length;r<n;r+=e){var c=t.skinIndices[r],h=e>1?t.skinIndices[r+1]:0,f=e>2?t.skinIndices[r+2]:0,d=e>3?t.skinIndices[r+3]:0;u.skinIndices.push(new o(c,h,f,d))}u.bones=t.bones,u.bones&&u.bones.length>0&&(u.skinWeights.length!==u.skinIndices.length||u.skinIndices.length!==u.vertices.length)&&console.warn("When skinning, number of vertices ("+u.vertices.length+"), skinIndices ("+u.skinIndices.length+"), and skinWeights ("+u.skinWeights.length+") should match.")}function a(e){if(void 0!==t.morphTargets)for(var r=0,n=t.morphTargets.length;r<n;r++){u.morphTargets[r]={},u.morphTargets[r].name=t.morphTargets[r].name,u.morphTargets[r].vertices=[];for(var i=u.morphTargets[r].vertices,o=t.morphTargets[r].vertices,a=0,s=o.length;a<s;a+=3){var c=new l;c.x=o[a]*e,c.y=o[a+1]*e,c.z=o[a+2]*e,i.push(c)}}if(void 0!==t.morphColors&&t.morphColors.length>0){console.warn('THREE.JSONLoader: "morphColors" no longer supported. Using them as face colors.');for(var h=u.faces,f=t.morphColors[0].colors,r=0,n=h.length;r<n;r++)h[r].color.fromArray(f,3*r)}}function s(){var e=[],r=[];void 0!==t.animation&&r.push(t.animation),void 0!==t.animations&&(t.animations.length?r=r.concat(t.animations):r.push(t.animations));for(var n=0;n<r.length;n++){var i=Jr.parseAnimation(r[n],u.bones);i&&e.push(i)}if(u.morphTargets){var o=Jr.CreateClipsFromMorphTargetSequences(u.morphTargets,10);e=e.concat(o)}e.length>0&&(u.animations=e)}var u=new Mt,c=void 0!==t.scale?1/t.scale:1;if(n(c),i(),a(c),s(),u.computeFaceNormals(),u.computeBoundingSphere(),void 0===t.materials||0===t.materials.length)return{geometry:u};var h=tn.prototype.initMaterials(t.materials,e,this.crossOrigin);return{geometry:u,materials:h}}}),Object.assign(rn.prototype,{load:function(t,e,r,n){""===this.texturePath&&(this.texturePath=t.substring(0,t.lastIndexOf("/")+1));var i=this,o=new Tr(i.manager);o.load(t,function(t){i.parse(JSON.parse(t),e)},r,n)},setTexturePath:function(t){this.texturePath=t},setCrossOrigin:function(t){this.crossOrigin=t},parse:function(t,e){var r=this.parseGeometries(t.geometries),n=this.parseImages(t.images,function(){void 0!==e&&e(a)}),i=this.parseTextures(t.textures,n),o=this.parseMaterials(t.materials,i),a=this.parseObject(t.object,r,o);return t.animations&&(a.animations=this.parseAnimations(t.animations)),void 0!==t.images&&0!==t.images.length||void 0!==e&&e(a),a},parseGeometries:function(t){var e={};if(void 0!==t)for(var r=new en,n=new $r,i=0,o=t.length;i<o;i++){var a,s=t[i];switch(s.type){case"PlaneGeometry":case"PlaneBufferGeometry":a=new Ju[s.type](s.width,s.height,s.widthSegments,s.heightSegments);break;case"BoxGeometry":case"BoxBufferGeometry":case"CubeGeometry":a=new Ju[s.type](s.width,s.height,s.depth,s.widthSegments,s.heightSegments,s.depthSegments);break;case"CircleGeometry":case"CircleBufferGeometry":a=new Ju[s.type](s.radius,s.segments,s.thetaStart,s.thetaLength);break;case"CylinderGeometry":case"CylinderBufferGeometry":a=new Ju[s.type](s.radiusTop,s.radiusBottom,s.height,s.radialSegments,s.heightSegments,s.openEnded,s.thetaStart,s.thetaLength);break;case"ConeGeometry":case"ConeBufferGeometry":a=new Ju[s.type](s.radius,s.height,s.radialSegments,s.heightSegments,s.openEnded,s.thetaStart,s.thetaLength);break;case"SphereGeometry":case"SphereBufferGeometry":a=new Ju[s.type](s.radius,s.widthSegments,s.heightSegments,s.phiStart,s.phiLength,s.thetaStart,s.thetaLength);break;case"DodecahedronGeometry":case"IcosahedronGeometry":case"OctahedronGeometry":case"TetrahedronGeometry":a=new Ju[s.type](s.radius,s.detail);break;case"RingGeometry":case"RingBufferGeometry":a=new Ju[s.type](s.innerRadius,s.outerRadius,s.thetaSegments,s.phiSegments,s.thetaStart,s.thetaLength);break;case"TorusGeometry":case"TorusBufferGeometry":a=new Ju[s.type](s.radius,s.tube,s.radialSegments,s.tubularSegments,s.arc);break;case"TorusKnotGeometry":case"TorusKnotBufferGeometry":a=new Ju[s.type](s.radius,s.tube,s.tubularSegments,s.radialSegments,s.p,s.q);break;case"LatheGeometry":case"LatheBufferGeometry":a=new Ju[s.type](s.points,s.segments,s.phiStart,s.phiLength);break;case"BufferGeometry":a=n.parse(s);break;case"Geometry":a=r.parse(s.data,this.texturePath).geometry;break;default:console.warn('THREE.ObjectLoader: Unsupported geometry type "'+s.type+'"');continue}a.uuid=s.uuid,void 0!==s.name&&(a.name=s.name),e[s.uuid]=a}return e},parseMaterials:function(t,e){var r={};if(void 0!==t){var n=new Qr;n.setTextures(e);for(var i=0,o=t.length;i<o;i++){var a=n.parse(t[i]);r[a.uuid]=a}}return r},parseAnimations:function(t){for(var e=[],r=0;r<t.length;r++){var n=Jr.parse(t[r]);e.push(n)}return e},parseImages:function(t,e){function r(t){return n.manager.itemStart(t),a.load(t,function(){n.manager.itemEnd(t)},void 0,function(){n.manager.itemError(t)})}var n=this,i={};if(void 0!==t&&t.length>0){var o=new wr(e),a=new Mr(o);a.setCrossOrigin(this.crossOrigin);for(var s=0,u=t.length;s<u;s++){var l=t[s],c=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(l.url)?l.url:n.texturePath+l.url;i[l.uuid]=r(c)}}return i},parseTextures:function(t,e){function r(t,e){return"number"==typeof t?t:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",t),e[t])}var i={};if(void 0!==t)for(var o=0,a=t.length;o<a;o++){var s=t[o];void 0===s.image&&console.warn('THREE.ObjectLoader: No "image" specified for',s.uuid),void 0===e[s.image]&&console.warn("THREE.ObjectLoader: Undefined image",s.image);var u=new n(e[s.image]);u.needsUpdate=!0,u.uuid=s.uuid,void 0!==s.name&&(u.name=s.name),void 0!==s.mapping&&(u.mapping=r(s.mapping,Po)),void 0!==s.offset&&u.offset.fromArray(s.offset),void 0!==s.repeat&&u.repeat.fromArray(s.repeat),void 0!==s.wrap&&(u.wrapS=r(s.wrap[0],Do),u.wrapT=r(s.wrap[1],Do)),void 0!==s.minFilter&&(u.minFilter=r(s.minFilter,Bo)),void 0!==s.magFilter&&(u.magFilter=r(s.magFilter,Bo)),void 0!==s.anisotropy&&(u.anisotropy=s.anisotropy),void 0!==s.flipY&&(u.flipY=s.flipY),i[s.uuid]=u}return i},parseObject:function(){var t=new c;return function(e,r,n){function i(t){return void 0===r[t]&&console.warn("THREE.ObjectLoader: Undefined geometry",t),r[t]}function o(t){if(void 0!==t)return void 0===n[t]&&console.warn("THREE.ObjectLoader: Undefined material",t),n[t]}var a;switch(e.type){case"Scene":a=new he,void 0!==e.background&&Number.isInteger(e.background)&&(a.background=new W(e.background)),void 0!==e.fog&&("Fog"===e.fog.type?a.fog=new ce(e.fog.color,e.fog.near,e.fog.far):"FogExp2"===e.fog.type&&(a.fog=new le(e.fog.color,e.fog.density)));break;case"PerspectiveCamera":a=new It(e.fov,e.aspect,e.near,e.far),void 0!==e.focus&&(a.focus=e.focus),void 0!==e.zoom&&(a.zoom=e.zoom),void 0!==e.filmGauge&&(a.filmGauge=e.filmGauge),void 0!==e.filmOffset&&(a.filmOffset=e.filmOffset),void 0!==e.view&&(a.view=Object.assign({},e.view));break;case"OrthographicCamera":a=new Ft(e.left,e.right,e.top,e.bottom,e.near,e.far);break;case"AmbientLight":a=new kr(e.color,e.intensity);break;case"DirectionalLight":a=new Nr(e.color,e.intensity);break;case"PointLight":a=new Ir(e.color,e.intensity,e.distance,e.decay);break;case"SpotLight":a=new Lr(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay);break;case"HemisphereLight":a=new Or(e.color,e.groundColor,e.intensity);break;case"Mesh":var s=i(e.geometry),u=o(e.material);a=s.bones&&s.bones.length>0?new _e(s,u):new Ot(s,u);break;case"LOD":a=new ve;break;case"Line":a=new be(i(e.geometry),o(e.material),e.mode);break;case"LineSegments":a=new we(i(e.geometry),o(e.material));break;case"PointCloud":case"Points":a=new Ee(i(e.geometry),o(e.material));break;case"Sprite":a=new pe(o(e.material));break;case"Group":a=new Se;break;default:a=new lt}if(a.uuid=e.uuid,void 0!==e.name&&(a.name=e.name),void 0!==e.matrix?(t.fromArray(e.matrix),t.decompose(a.position,a.quaternion,a.scale)):(void 0!==e.position&&a.position.fromArray(e.position),void 0!==e.rotation&&a.rotation.fromArray(e.rotation),void 0!==e.quaternion&&a.quaternion.fromArray(e.quaternion),void 0!==e.scale&&a.scale.fromArray(e.scale)),void 0!==e.castShadow&&(a.castShadow=e.castShadow),void 0!==e.receiveShadow&&(a.receiveShadow=e.receiveShadow),e.shadow&&(void 0!==e.shadow.bias&&(a.shadow.bias=e.shadow.bias),void 0!==e.shadow.radius&&(a.shadow.radius=e.shadow.radius),void 0!==e.shadow.mapSize&&a.shadow.mapSize.fromArray(e.shadow.mapSize),void 0!==e.shadow.camera&&(a.shadow.camera=this.parseObject(e.shadow.camera))),void 0!==e.visible&&(a.visible=e.visible),void 0!==e.userData&&(a.userData=e.userData),void 0!==e.children)for(var l in e.children)a.add(this.parseObject(e.children[l],r,n));if("LOD"===e.type)for(var c=e.levels,h=0;h<c.length;h++){var f=c[h],l=a.getObjectByProperty("uuid",f.object);void 0!==l&&a.addLevel(l,f.distance)}return a}}()}),nn.prototype={constructor:nn,getPoint:function(t){return console.warn("THREE.Curve: Warning, getPoint() not implemented!"),null},getPointAt:function(t){var e=this.getUtoTmapping(t);return this.getPoint(e)},getPoints:function(t){t||(t=5);for(var e=[],r=0;r<=t;r++)e.push(this.getPoint(r/t));return e},getSpacedPoints:function(t){t||(t=5);for(var e=[],r=0;r<=t;r++)e.push(this.getPointAt(r/t));return e},getLength:function(){var t=this.getLengths();return t[t.length-1]},getLengths:function(t){if(t||(t=this.__arcLengthDivisions?this.__arcLengthDivisions:200),this.cacheArcLengths&&this.cacheArcLengths.length===t+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var e,r,n=[],i=this.getPoint(0),o=0;for(n.push(0),r=1;r<=t;r++)e=this.getPoint(r/t),o+=e.distanceTo(i),n.push(o),i=e;return this.cacheArcLengths=n,n},updateArcLengths:function(){this.needsUpdate=!0,this.getLengths()},getUtoTmapping:function(t,e){var r,n=this.getLengths(),i=0,o=n.length;r=e?e:t*n[o-1];for(var a,s=0,u=o-1;s<=u;)if(i=Math.floor(s+(u-s)/2),a=n[i]-r,a<0)s=i+1;else{if(!(a>0)){u=i;break}u=i-1}if(i=u,n[i]===r){var l=i/(o-1);return l}var c=n[i],h=n[i+1],f=h-c,d=(r-c)/f,l=(i+d)/(o-1);return l},getTangent:function(t){var e=1e-4,r=t-e,n=t+e;r<0&&(r=0),n>1&&(n=1);var i=this.getPoint(r),o=this.getPoint(n),a=o.clone().sub(i);return a.normalize()},getTangentAt:function(t){var e=this.getUtoTmapping(t);return this.getTangent(e)},computeFrenetFrames:function(t,e){var r,n,i,o=new l,a=[],s=[],u=[],h=new l,f=new c;for(r=0;r<=t;r++)n=r/t,a[r]=this.getTangentAt(n),a[r].normalize();s[0]=new l,u[0]=new l;var d=Number.MAX_VALUE,p=Math.abs(a[0].x),v=Math.abs(a[0].y),m=Math.abs(a[0].z);for(p<=d&&(d=p,o.set(1,0,0)),v<=d&&(d=v,o.set(0,1,0)),m<=d&&o.set(0,0,1),h.crossVectors(a[0],o).normalize(),s[0].crossVectors(a[0],h),u[0].crossVectors(a[0],s[0]),r=1;r<=t;r++)s[r]=s[r-1].clone(),u[r]=u[r-1].clone(),h.crossVectors(a[r-1],a[r]),h.length()>Number.EPSILON&&(h.normalize(),i=Math.acos(ka.clamp(a[r-1].dot(a[r]),-1,1)),s[r].applyMatrix4(f.makeRotationAxis(h,i))),u[r].crossVectors(a[r],s[r]);if(e===!0)for(i=Math.acos(ka.clamp(s[0].dot(s[t]),-1,1)),i/=t,a[0].dot(h.crossVectors(s[0],s[t]))>0&&(i=-i),r=1;r<=t;r++)s[r].applyMatrix4(f.makeRotationAxis(a[r],i*r)),u[r].crossVectors(a[r],s[r]);return{tangents:a,normals:s,binormals:u}}},nn.create=function(t,e){return t.prototype=Object.create(nn.prototype),t.prototype.constructor=t,t.prototype.getPoint=e,t},on.prototype=Object.create(nn.prototype),on.prototype.constructor=on,on.prototype.isLineCurve=!0,on.prototype.getPoint=function(t){if(1===t)return this.v2.clone();var e=this.v2.clone().sub(this.v1);return e.multiplyScalar(t).add(this.v1),e},on.prototype.getPointAt=function(t){return this.getPoint(t)},on.prototype.getTangent=function(t){var e=this.v2.clone().sub(this.v1);return e.normalize()},an.prototype=Object.assign(Object.create(nn.prototype),{constructor:an,add:function(t){this.curves.push(t)},closePath:function(){var t=this.curves[0].getPoint(0),e=this.curves[this.curves.length-1].getPoint(1);t.equals(e)||this.curves.push(new on(e,t))},getPoint:function(t){for(var e=t*this.getLength(),r=this.getCurveLengths(),n=0;n<r.length;){if(r[n]>=e){var i=r[n]-e,o=this.curves[n],a=o.getLength(),s=0===a?0:1-i/a;return o.getPointAt(s)}n++}return null},getLength:function(){var t=this.getCurveLengths();return t[t.length-1]},updateArcLengths:function(){this.needsUpdate=!0,this.cacheLengths=null,this.getLengths()},getCurveLengths:function(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;for(var t=[],e=0,r=0,n=this.curves.length;r<n;r++)e+=this.curves[r].getLength(),t.push(e);return this.cacheLengths=t,t},getSpacedPoints:function(t){t||(t=40);for(var e=[],r=0;r<=t;r++)e.push(this.getPoint(r/t));return this.autoClose&&e.push(e[0]),e},getPoints:function(t){t=t||12;for(var e,r=[],n=0,i=this.curves;n<i.length;n++)for(var o=i[n],a=o&&o.isEllipseCurve?2*t:o&&o.isLineCurve?1:o&&o.isSplineCurve?t*o.points.length:t,s=o.getPoints(a),u=0;u<s.length;u++){var l=s[u];e&&e.equals(l)||(r.push(l),e=l)}return this.autoClose&&r.length>1&&!r[r.length-1].equals(r[0])&&r.push(r[0]),r},createPointsGeometry:function(t){var e=this.getPoints(t);return this.createGeometry(e)},createSpacedPointsGeometry:function(t){var e=this.getSpacedPoints(t);return this.createGeometry(e)},createGeometry:function(t){for(var e=new Mt,r=0,n=t.length;r<n;r++){var i=t[r];e.vertices.push(new l(i.x,i.y,i.z||0))}return e}}),sn.prototype=Object.create(nn.prototype),sn.prototype.constructor=sn,sn.prototype.isEllipseCurve=!0,sn.prototype.getPoint=function(t){for(var e=2*Math.PI,n=this.aEndAngle-this.aStartAngle,i=Math.abs(n)<Number.EPSILON;n<0;)n+=e;for(;n>e;)n-=e;n<Number.EPSILON&&(n=i?0:e),this.aClockwise!==!0||i||(n===e?n=-e:n-=e);var o=this.aStartAngle+t*n,a=this.aX+this.xRadius*Math.cos(o),s=this.aY+this.yRadius*Math.sin(o);if(0!==this.aRotation){var u=Math.cos(this.aRotation),l=Math.sin(this.aRotation),c=a-this.aX,h=s-this.aY;a=c*u-h*l+this.aX,s=c*l+h*u+this.aY}return new r(a,s)};var il={tangentQuadraticBezier:function(t,e,r,n){return 2*(1-t)*(r-e)+2*t*(n-r)},tangentCubicBezier:function(t,e,r,n,i){return-3*e*(1-t)*(1-t)+3*r*(1-t)*(1-t)-6*t*r*(1-t)+6*t*n*(1-t)-3*t*t*n+3*t*t*i},tangentSpline:function(t,e,r,n,i){var o=6*t*t-6*t,a=3*t*t-4*t+1,s=-6*t*t+6*t,u=3*t*t-2*t;return o+a+s+u},interpolate:function(t,e,r,n,i){var o=.5*(r-t),a=.5*(n-e),s=i*i,u=i*s;return(2*e-2*r+o+a)*u+(-3*e+3*r-2*o-a)*s+o*i+e}};un.prototype=Object.create(nn.prototype),un.prototype.constructor=un,un.prototype.isSplineCurve=!0,un.prototype.getPoint=function(t){var e=this.points,n=(e.length-1)*t,i=Math.floor(n),o=n-i,a=e[0===i?i:i-1],s=e[i],u=e[i>e.length-2?e.length-1:i+1],l=e[i>e.length-3?e.length-1:i+2],c=il.interpolate;return new r(c(a.x,s.x,u.x,l.x,o),c(a.y,s.y,u.y,l.y,o))},ln.prototype=Object.create(nn.prototype),ln.prototype.constructor=ln,ln.prototype.getPoint=function(t){var e=Ku.b3;return new r(e(t,this.v0.x,this.v1.x,this.v2.x,this.v3.x),e(t,this.v0.y,this.v1.y,this.v2.y,this.v3.y))},ln.prototype.getTangent=function(t){var e=il.tangentCubicBezier;return new r(e(t,this.v0.x,this.v1.x,this.v2.x,this.v3.x),e(t,this.v0.y,this.v1.y,this.v2.y,this.v3.y)).normalize()},cn.prototype=Object.create(nn.prototype),cn.prototype.constructor=cn,cn.prototype.getPoint=function(t){var e=Ku.b2;return new r(e(t,this.v0.x,this.v1.x,this.v2.x),e(t,this.v0.y,this.v1.y,this.v2.y))},cn.prototype.getTangent=function(t){var e=il.tangentQuadraticBezier;return new r(e(t,this.v0.x,this.v1.x,this.v2.x),e(t,this.v0.y,this.v1.y,this.v2.y)).normalize()};var ol=Object.assign(Object.create(an.prototype),{fromPoints:function(t){this.moveTo(t[0].x,t[0].y);for(var e=1,r=t.length;e<r;e++)this.lineTo(t[e].x,t[e].y)},moveTo:function(t,e){this.currentPoint.set(t,e)},lineTo:function(t,e){var n=new on(this.currentPoint.clone(),new r(t,e));this.curves.push(n),this.currentPoint.set(t,e)},quadraticCurveTo:function(t,e,n,i){var o=new cn(this.currentPoint.clone(),new r(t,e),new r(n,i));this.curves.push(o),this.currentPoint.set(n,i)},bezierCurveTo:function(t,e,n,i,o,a){var s=new ln(this.currentPoint.clone(),new r(t,e),new r(n,i),new r(o,a));this.curves.push(s),this.currentPoint.set(o,a)},splineThru:function(t){var e=[this.currentPoint.clone()].concat(t),r=new un(e);this.curves.push(r),this.currentPoint.copy(t[t.length-1])},arc:function(t,e,r,n,i,o){var a=this.currentPoint.x,s=this.currentPoint.y;this.absarc(t+a,e+s,r,n,i,o)},absarc:function(t,e,r,n,i,o){this.absellipse(t,e,r,r,n,i,o)},ellipse:function(t,e,r,n,i,o,a,s){var u=this.currentPoint.x,l=this.currentPoint.y;this.absellipse(t+u,e+l,r,n,i,o,a,s)},absellipse:function(t,e,r,n,i,o,a,s){var u=new sn(t,e,r,n,i,o,a,s);if(this.curves.length>0){var l=u.getPoint(0);l.equals(this.currentPoint)||this.lineTo(l.x,l.y)}this.curves.push(u);var c=u.getPoint(1);this.currentPoint.copy(c)}});hn.prototype=Object.assign(Object.create(ol),{constructor:hn,getPointsHoles:function(t){for(var e=[],r=0,n=this.holes.length;r<n;r++)e[r]=this.holes[r].getPoints(t);return e},extractAllPoints:function(t){return{shape:this.getPoints(t),holes:this.getPointsHoles(t)}},extractPoints:function(t){return this.extractAllPoints(t)}}),fn.prototype=ol,ol.constructor=fn,dn.prototype={moveTo:function(t,e){this.currentPath=new fn,this.subPaths.push(this.currentPath),this.currentPath.moveTo(t,e)},lineTo:function(t,e){this.currentPath.lineTo(t,e)},quadraticCurveTo:function(t,e,r,n){this.currentPath.quadraticCurveTo(t,e,r,n)},bezierCurveTo:function(t,e,r,n,i,o){this.currentPath.bezierCurveTo(t,e,r,n,i,o)},splineThru:function(t){this.currentPath.splineThru(t)},toShapes:function(t,e){function r(t){for(var e=[],r=0,n=t.length;r<n;r++){var i=t[r],o=new hn;o.curves=i.curves,e.push(o)}return e}function n(t,e){for(var r=e.length,n=!1,i=r-1,o=0;o<r;i=o++){var a=e[i],s=e[o],u=s.x-a.x,l=s.y-a.y;if(Math.abs(l)>Number.EPSILON){if(l<0&&(a=e[o],u=-u,s=e[i],l=-l),t.y<a.y||t.y>s.y)continue;if(t.y===a.y){if(t.x===a.x)return!0}else{var c=l*(t.x-a.x)-u*(t.y-a.y);if(0===c)return!0;if(c<0)continue;n=!n}}else{if(t.y!==a.y)continue;if(s.x<=t.x&&t.x<=a.x||a.x<=t.x&&t.x<=s.x)return!0}}return n}var i=Ku.isClockWise,o=this.subPaths;if(0===o.length)return[];if(e===!0)return r(o);var a,s,u,l=[];if(1===o.length)return s=o[0],u=new hn,u.curves=s.curves,l.push(u),l;var c=!i(o[0].getPoints());c=t?!c:c;var h,f=[],d=[],p=[],v=0;d[v]=void 0,p[v]=[];for(var m=0,g=o.length;m<g;m++)s=o[m],h=s.getPoints(),a=i(h),a=t?!a:a,a?(!c&&d[v]&&v++,d[v]={s:new hn,p:h},d[v].s.curves=s.curves,c&&v++,p[v]=[]):p[v].push({h:s,p:h[0]});if(!d[0])return r(o);if(d.length>1){for(var y=!1,_=[],x=0,b=d.length;x<b;x++)f[x]=[];for(var x=0,b=d.length;x<b;x++)for(var w=p[x],T=0;T<w.length;T++){for(var E=w[T],S=!0,M=0;M<d.length;M++)n(E.p,d[M].p)&&(x!==M&&_.push({froms:x,tos:M,hole:T}),S?(S=!1,f[M].push(E)):y=!0);S&&f[x].push(E)}_.length>0&&(y||(p=f))}for(var A,m=0,P=d.length;m<P;m++){u=d[m].s,l.push(u),A=p[m];for(var C=0,O=A.length;C<O;C++)u.holes.push(A[C].h)}return l}},Object.assign(pn.prototype,{isFont:!0,generateShapes:function(t,e,r){function n(t){for(var r=String(t).split(""),n=e/o.resolution,a=0,s=[],u=0;u<r.length;u++){
var l=i(r[u],n,a);a+=l.offset,s.push(l.path)}return s}function i(t,e,n){var i=o.glyphs[t]||o.glyphs["?"];if(i){var a,s,u,l,c,h,f,d,p,v,m,g=new dn,y=[],_=Ku.b2,x=Ku.b3;if(i.o)for(var b=i._cachedOutline||(i._cachedOutline=i.o.split(" ")),w=0,T=b.length;w<T;){var E=b[w++];switch(E){case"m":a=b[w++]*e+n,s=b[w++]*e,g.moveTo(a,s);break;case"l":a=b[w++]*e+n,s=b[w++]*e,g.lineTo(a,s);break;case"q":if(u=b[w++]*e+n,l=b[w++]*e,f=b[w++]*e+n,d=b[w++]*e,g.quadraticCurveTo(f,d,u,l),m=y[y.length-1]){c=m.x,h=m.y;for(var S=1;S<=r;S++){var M=S/r;_(M,c,f,u),_(M,h,d,l)}}break;case"b":if(u=b[w++]*e+n,l=b[w++]*e,f=b[w++]*e+n,d=b[w++]*e,p=b[w++]*e+n,v=b[w++]*e,g.bezierCurveTo(f,d,p,v,u,l),m=y[y.length-1]){c=m.x,h=m.y;for(var S=1;S<=r;S++){var M=S/r;x(M,c,f,p,u),x(M,h,d,v,l)}}}}return{offset:i.ha*e,path:g}}}void 0===e&&(e=100),void 0===r&&(r=4);for(var o=this.data,a=n(t),s=[],u=0,l=a.length;u<l;u++)Array.prototype.push.apply(s,a[u].toShapes());return s}}),Object.assign(vn.prototype,{load:function(t,e,r,n){var i=this,o=new Tr(this.manager);o.load(t,function(t){var r;try{r=JSON.parse(t)}catch(e){console.warn("THREE.FontLoader: typeface.js support is being deprecated. Use typeface.json instead."),r=JSON.parse(t.substring(65,t.length-2))}var n=i.parse(r);e&&e(n)},r,n)},parse:function(t){return new pn(t)}});var al;Object.assign(gn.prototype,{load:function(t,e,r,n){var i=new Tr(this.manager);i.setResponseType("arraybuffer"),i.load(t,function(t){var r=mn();r.decodeAudioData(t,function(t){e(t)})},r,n)}}),Object.assign(yn.prototype,{update:function(){var t,e,r,n,i,o,a,s=new c,u=new c;return function(l){var c=t!==this||e!==l.focus||r!==l.fov||n!==l.aspect*this.aspect||i!==l.near||o!==l.far||a!==l.zoom;if(c){t=this,e=l.focus,r=l.fov,n=l.aspect*this.aspect,i=l.near,o=l.far,a=l.zoom;var h,f,d=l.projectionMatrix.clone(),p=this.eyeSep/2,v=p*i/e,m=i*Math.tan(ka.DEG2RAD*r*.5)/a;u.elements[12]=-p,s.elements[12]=p,h=-m*n+v,f=m*n+v,d.elements[0]=2*i/(f-h),d.elements[8]=(f+h)/(f-h),this.cameraL.projectionMatrix.copy(d),h=-m*n-v,f=m*n-v,d.elements[0]=2*i/(f-h),d.elements[8]=(f+h)/(f-h),this.cameraR.projectionMatrix.copy(d)}this.cameraL.matrixWorld.copy(l.matrixWorld).multiply(u),this.cameraR.matrixWorld.copy(l.matrixWorld).multiply(s)}}()}),_n.prototype=Object.create(lt.prototype),_n.prototype.constructor=_n,xn.prototype=Object.assign(Object.create(lt.prototype),{constructor:xn,getInput:function(){return this.gain},removeFilter:function(){null!==this.filter&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null)},getFilter:function(){return this.filter},setFilter:function(t){null!==this.filter?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=t,this.gain.connect(this.filter),this.filter.connect(this.context.destination)},getMasterVolume:function(){return this.gain.gain.value},setMasterVolume:function(t){this.gain.gain.value=t},updateMatrixWorld:function(){var t=new l,e=new u,r=new l,n=new l;return function(i){lt.prototype.updateMatrixWorld.call(this,i);var o=this.context.listener,a=this.up;this.matrixWorld.decompose(t,e,r),n.set(0,0,-1).applyQuaternion(e),o.setPosition(t.x,t.y,t.z),o.setOrientation(n.x,n.y,n.z,a.x,a.y,a.z)}}()}),bn.prototype=Object.assign(Object.create(lt.prototype),{constructor:bn,getOutput:function(){return this.gain},setNodeSource:function(t){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=t,this.connect(),this},setBuffer:function(t){return this.source.buffer=t,this.sourceType="buffer",this.autoplay&&this.play(),this},play:function(){if(this.isPlaying===!0)return void console.warn("THREE.Audio: Audio is already playing.");if(this.hasPlaybackControl===!1)return void console.warn("THREE.Audio: this Audio has no playback control.");var t=this.context.createBufferSource();return t.buffer=this.source.buffer,t.loop=this.source.loop,t.onended=this.source.onended,t.start(0,this.startTime),t.playbackRate.value=this.playbackRate,this.isPlaying=!0,this.source=t,this.connect()},pause:function(){return this.hasPlaybackControl===!1?void console.warn("THREE.Audio: this Audio has no playback control."):(this.source.stop(),this.startTime=this.context.currentTime,this.isPlaying=!1,this)},stop:function(){return this.hasPlaybackControl===!1?void console.warn("THREE.Audio: this Audio has no playback control."):(this.source.stop(),this.startTime=0,this.isPlaying=!1,this)},connect:function(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(var t=1,e=this.filters.length;t<e;t++)this.filters[t-1].connect(this.filters[t]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this},disconnect:function(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(var t=1,e=this.filters.length;t<e;t++)this.filters[t-1].disconnect(this.filters[t]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this},getFilters:function(){return this.filters},setFilters:function(t){return t||(t=[]),this.isPlaying===!0?(this.disconnect(),this.filters=t,this.connect()):this.filters=t,this},getFilter:function(){return this.getFilters()[0]},setFilter:function(t){return this.setFilters(t?[t]:[])},setPlaybackRate:function(t){return this.hasPlaybackControl===!1?void console.warn("THREE.Audio: this Audio has no playback control."):(this.playbackRate=t,this.isPlaying===!0&&(this.source.playbackRate.value=this.playbackRate),this)},getPlaybackRate:function(){return this.playbackRate},onEnded:function(){this.isPlaying=!1},getLoop:function(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.source.loop},setLoop:function(t){return this.hasPlaybackControl===!1?void console.warn("THREE.Audio: this Audio has no playback control."):void(this.source.loop=t)},getVolume:function(){return this.gain.gain.value},setVolume:function(t){return this.gain.gain.value=t,this}}),wn.prototype=Object.assign(Object.create(bn.prototype),{constructor:wn,getOutput:function(){return this.panner},getRefDistance:function(){return this.panner.refDistance},setRefDistance:function(t){this.panner.refDistance=t},getRolloffFactor:function(){return this.panner.rolloffFactor},setRolloffFactor:function(t){this.panner.rolloffFactor=t},getDistanceModel:function(){return this.panner.distanceModel},setDistanceModel:function(t){this.panner.distanceModel=t},getMaxDistance:function(){return this.panner.maxDistance},setMaxDistance:function(t){this.panner.maxDistance=t},updateMatrixWorld:function(){var t=new l;return function(e){lt.prototype.updateMatrixWorld.call(this,e),t.setFromMatrixPosition(this.matrixWorld),this.panner.setPosition(t.x,t.y,t.z)}}()}),Object.assign(Tn.prototype,{getFrequencyData:function(){return this.analyser.getByteFrequencyData(this.data),this.data},getAverageFrequency:function(){for(var t=0,e=this.getFrequencyData(),r=0;r<e.length;r++)t+=e[r];return t/e.length}}),En.prototype={constructor:En,accumulate:function(t,e){var r=this.buffer,n=this.valueSize,i=t*n+n,o=this.cumulativeWeight;if(0===o){for(var a=0;a!==n;++a)r[i+a]=r[a];o=e}else{o+=e;var s=e/o;this._mixBufferRegion(r,i,0,s,n)}this.cumulativeWeight=o},apply:function(t){var e=this.valueSize,r=this.buffer,n=t*e+e,i=this.cumulativeWeight,o=this.binding;if(this.cumulativeWeight=0,i<1){var a=3*e;this._mixBufferRegion(r,n,a,1-i,e)}for(var s=e,u=e+e;s!==u;++s)if(r[s]!==r[s+e]){o.setValue(r,n);break}},saveOriginalState:function(){var t=this.binding,e=this.buffer,r=this.valueSize,n=3*r;t.getValue(e,n);for(var i=r,o=n;i!==o;++i)e[i]=e[n+i%r];this.cumulativeWeight=0},restoreOriginalState:function(){var t=3*this.valueSize;this.binding.setValue(this.buffer,t)},_select:function(t,e,r,n,i){if(n>=.5)for(var o=0;o!==i;++o)t[e+o]=t[r+o]},_slerp:function(t,e,r,n,i){u.slerpFlat(t,e,t,e,t,r,n)},_lerp:function(t,e,r,n,i){for(var o=1-n,a=0;a!==i;++a){var s=e+a;t[s]=t[s]*o+t[r+a]*n}}},Sn.prototype={constructor:Sn,getValue:function(t,e){this.bind(),this.getValue(t,e)},setValue:function(t,e){this.bind(),this.setValue(t,e)},bind:function(){var t=this.node,e=this.parsedPath,r=e.objectName,n=e.propertyName,i=e.propertyIndex;if(t||(t=Sn.findNode(this.rootNode,e.nodeName)||this.rootNode,this.node=t),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!t)return void console.error("  trying to update node for track: "+this.path+" but it wasn't found.");if(r){var o=e.objectIndex;switch(r){case"materials":if(!t.material)return void console.error("  can not bind to material as node does not have a material",this);if(!t.material.materials)return void console.error("  can not bind to material.materials as node.material does not have a materials array",this);t=t.material.materials;break;case"bones":if(!t.skeleton)return void console.error("  can not bind to bones as node does not have a skeleton",this);t=t.skeleton.bones;for(var a=0;a<t.length;a++)if(t[a].name===o){o=a;break}break;default:if(void 0===t[r])return void console.error("  can not bind to objectName of node, undefined",this);t=t[r]}if(void 0!==o){if(void 0===t[o])return void console.error("  trying to bind to objectIndex of objectName, but is undefined:",this,t);t=t[o]}}var s=t[n];if(void 0===s){var u=e.nodeName;return void console.error("  trying to update property for track: "+u+"."+n+" but it wasn't found.",t)}var l=this.Versioning.None;void 0!==t.needsUpdate?(l=this.Versioning.NeedsUpdate,this.targetObject=t):void 0!==t.matrixWorldNeedsUpdate&&(l=this.Versioning.MatrixWorldNeedsUpdate,this.targetObject=t);var c=this.BindingType.Direct;if(void 0!==i){if("morphTargetInfluences"===n){if(!t.geometry)return void console.error("  can not bind to morphTargetInfluences becasuse node does not have a geometry",this);if(!t.geometry.morphTargets)return void console.error("  can not bind to morphTargetInfluences becasuse node does not have a geometry.morphTargets",this);for(var a=0;a<this.node.geometry.morphTargets.length;a++)if(t.geometry.morphTargets[a].name===i){i=a;break}}c=this.BindingType.ArrayElement,this.resolvedProperty=s,this.propertyIndex=i}else void 0!==s.fromArray&&void 0!==s.toArray?(c=this.BindingType.HasFromToArray,this.resolvedProperty=s):void 0!==s.length?(c=this.BindingType.EntireArray,this.resolvedProperty=s):this.propertyName=n;this.getValue=this.GetterByBindingType[c],this.setValue=this.SetterByBindingTypeAndVersioning[c][l]},unbind:function(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}},Object.assign(Sn.prototype,{_getValue_unavailable:function(){},_setValue_unavailable:function(){},_getValue_unbound:Sn.prototype.getValue,_setValue_unbound:Sn.prototype.setValue,BindingType:{Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},Versioning:{None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},GetterByBindingType:[function(t,e){t[e]=this.node[this.propertyName]},function(t,e){for(var r=this.resolvedProperty,n=0,i=r.length;n!==i;++n)t[e++]=r[n]},function(t,e){t[e]=this.resolvedProperty[this.propertyIndex]},function(t,e){this.resolvedProperty.toArray(t,e)}],SetterByBindingTypeAndVersioning:[[function(t,e){this.node[this.propertyName]=t[e]},function(t,e){this.node[this.propertyName]=t[e],this.targetObject.needsUpdate=!0},function(t,e){this.node[this.propertyName]=t[e],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(t,e){for(var r=this.resolvedProperty,n=0,i=r.length;n!==i;++n)r[n]=t[e++]},function(t,e){for(var r=this.resolvedProperty,n=0,i=r.length;n!==i;++n)r[n]=t[e++];this.targetObject.needsUpdate=!0},function(t,e){for(var r=this.resolvedProperty,n=0,i=r.length;n!==i;++n)r[n]=t[e++];this.targetObject.matrixWorldNeedsUpdate=!0}],[function(t,e){this.resolvedProperty[this.propertyIndex]=t[e]},function(t,e){this.resolvedProperty[this.propertyIndex]=t[e],this.targetObject.needsUpdate=!0},function(t,e){this.resolvedProperty[this.propertyIndex]=t[e],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(t,e){this.resolvedProperty.fromArray(t,e)},function(t,e){this.resolvedProperty.fromArray(t,e),this.targetObject.needsUpdate=!0},function(t,e){this.resolvedProperty.fromArray(t,e),this.targetObject.matrixWorldNeedsUpdate=!0}]]}),Sn.Composite=function(t,e,r){var n=r||Sn.parseTrackName(e);this._targetGroup=t,this._bindings=t.subscribe_(e,n)},Sn.Composite.prototype={constructor:Sn.Composite,getValue:function(t,e){this.bind();var r=this._targetGroup.nCachedObjects_,n=this._bindings[r];void 0!==n&&n.getValue(t,e)},setValue:function(t,e){for(var r=this._bindings,n=this._targetGroup.nCachedObjects_,i=r.length;n!==i;++n)r[n].setValue(t,e)},bind:function(){for(var t=this._bindings,e=this._targetGroup.nCachedObjects_,r=t.length;e!==r;++e)t[e].bind()},unbind:function(){for(var t=this._bindings,e=this._targetGroup.nCachedObjects_,r=t.length;e!==r;++e)t[e].unbind()}},Sn.create=function(t,e,r){return t&&t.isAnimationObjectGroup?new Sn.Composite(t,e,r):new Sn(t,e,r)},Sn.parseTrackName=function(t){var e=/^((?:\w+[\/:])*)(\w+)?(?:\.(\w+)(?:\[(.+)\])?)?\.(\w+)(?:\[(.+)\])?$/,r=e.exec(t);if(!r)throw new Error("cannot parse trackName at all: "+t);var n={nodeName:r[2],objectName:r[3],objectIndex:r[4],propertyName:r[5],propertyIndex:r[6]};if(null===n.propertyName||0===n.propertyName.length)throw new Error("can not parse propertyName from trackName: "+t);return n},Sn.findNode=function(t,e){if(!e||""===e||"root"===e||"."===e||e===-1||e===t.name||e===t.uuid)return t;if(t.skeleton){var r=function(t){for(var r=0;r<t.bones.length;r++){var n=t.bones[r];if(n.name===e)return n}return null},n=r(t.skeleton);if(n)return n}if(t.children){var i=function(t){for(var r=0;r<t.length;r++){var n=t[r];if(n.name===e||n.uuid===e)return n;var o=i(n.children);if(o)return o}return null},o=i(t.children);if(o)return o}return null},Mn.prototype={constructor:Mn,isAnimationObjectGroup:!0,add:function(t){for(var e=this._objects,r=e.length,n=this.nCachedObjects_,i=this._indicesByUUID,o=this._paths,a=this._parsedPaths,s=this._bindings,u=s.length,l=0,c=arguments.length;l!==c;++l){var h=arguments[l],f=h.uuid,d=i[f];if(void 0===d){d=r++,i[f]=d,e.push(h);for(var p=0,v=u;p!==v;++p)s[p].push(new Sn(h,o[p],a[p]))}else if(d<n){var m=e[d],g=--n,y=e[g];i[y.uuid]=d,e[d]=y,i[f]=g,e[g]=h;for(var p=0,v=u;p!==v;++p){var _=s[p],x=_[g],b=_[d];_[d]=x,void 0===b&&(b=new Sn(h,o[p],a[p])),_[g]=b}}else e[d]!==m&&console.error("Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes...")}this.nCachedObjects_=n},remove:function(t){for(var e=this._objects,r=this.nCachedObjects_,n=this._indicesByUUID,i=this._bindings,o=i.length,a=0,s=arguments.length;a!==s;++a){var u=arguments[a],l=u.uuid,c=n[l];if(void 0!==c&&c>=r){var h=r++,f=e[h];n[f.uuid]=c,e[c]=f,n[l]=h,e[h]=u;for(var d=0,p=o;d!==p;++d){var v=i[d],m=v[h],g=v[c];v[c]=m,v[h]=g}}}this.nCachedObjects_=r},uncache:function(t){for(var e=this._objects,r=e.length,n=this.nCachedObjects_,i=this._indicesByUUID,o=this._bindings,a=o.length,s=0,u=arguments.length;s!==u;++s){var l=arguments[s],c=l.uuid,h=i[c];if(void 0!==h)if(delete i[c],h<n){var f=--n,d=e[f],p=--r,v=e[p];i[d.uuid]=h,e[h]=d,i[v.uuid]=f,e[f]=v,e.pop();for(var m=0,g=a;m!==g;++m){var y=o[m],_=y[f],x=y[p];y[h]=_,y[f]=x,y.pop()}}else{var p=--r,v=e[p];i[v.uuid]=h,e[h]=v,e.pop();for(var m=0,g=a;m!==g;++m){var y=o[m];y[h]=y[p],y.pop()}}}this.nCachedObjects_=n},subscribe_:function(t,e){var r=this._bindingsIndicesByPath,n=r[t],i=this._bindings;if(void 0!==n)return i[n];var o=this._paths,a=this._parsedPaths,s=this._objects,u=s.length,l=this.nCachedObjects_,c=new Array(u);n=i.length,r[t]=n,o.push(t),a.push(e),i.push(c);for(var h=l,f=s.length;h!==f;++h){var d=s[h];c[h]=new Sn(d,t,e)}return c},unsubscribe_:function(t){var e=this._bindingsIndicesByPath,r=e[t];if(void 0!==r){var n=this._paths,i=this._parsedPaths,o=this._bindings,a=o.length-1,s=o[a],u=t[a];e[u]=r,o[r]=s,o.pop(),i[r]=i[a],i.pop(),n[r]=n[a],n.pop()}}},An.prototype={constructor:An,play:function(){return this._mixer._activateAction(this),this},stop:function(){return this._mixer._deactivateAction(this),this.reset()},reset:function(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()},isRunning:function(){return this.enabled&&!this.paused&&0!==this.timeScale&&null===this._startTime&&this._mixer._isActiveAction(this)},isScheduled:function(){return this._mixer._isActiveAction(this)},startAt:function(t){return this._startTime=t,this},setLoop:function(t,e){return this.loop=t,this.repetitions=e,this},setEffectiveWeight:function(t){return this.weight=t,this._effectiveWeight=this.enabled?t:0,this.stopFading()},getEffectiveWeight:function(){return this._effectiveWeight},fadeIn:function(t){return this._scheduleFading(t,0,1)},fadeOut:function(t){return this._scheduleFading(t,1,0)},crossFadeFrom:function(t,e,r){if(t.fadeOut(e),this.fadeIn(e),r){var n=this._clip.duration,i=t._clip.duration,o=i/n,a=n/i;t.warp(1,o,e),this.warp(a,1,e)}return this},crossFadeTo:function(t,e,r){return t.crossFadeFrom(this,e,r)},stopFading:function(){var t=this._weightInterpolant;return null!==t&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(t)),this},setEffectiveTimeScale:function(t){return this.timeScale=t,this._effectiveTimeScale=this.paused?0:t,this.stopWarping()},getEffectiveTimeScale:function(){return this._effectiveTimeScale},setDuration:function(t){return this.timeScale=this._clip.duration/t,this.stopWarping()},syncWith:function(t){return this.time=t.time,this.timeScale=t.timeScale,this.stopWarping()},halt:function(t){return this.warp(this._effectiveTimeScale,0,t)},warp:function(t,e,r){var n=this._mixer,i=n.time,o=this._timeScaleInterpolant,a=this.timeScale;null===o&&(o=n._lendControlInterpolant(),this._timeScaleInterpolant=o);var s=o.parameterPositions,u=o.sampleValues;return s[0]=i,s[1]=i+r,u[0]=t/a,u[1]=e/a,this},stopWarping:function(){var t=this._timeScaleInterpolant;return null!==t&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(t)),this},getMixer:function(){return this._mixer},getClip:function(){return this._clip},getRoot:function(){return this._localRoot||this._mixer._root},_update:function(t,e,r,n){var i=this._startTime;if(null!==i){var o=(t-i)*r;if(o<0||0===r)return;this._startTime=null,e=r*o}e*=this._updateTimeScale(t);var a=this._updateTime(e),s=this._updateWeight(t);if(s>0)for(var u=this._interpolants,l=this._propertyBindings,c=0,h=u.length;c!==h;++c)u[c].evaluate(a),l[c].accumulate(n,s)},_updateWeight:function(t){var e=0;if(this.enabled){e=this.weight;var r=this._weightInterpolant;if(null!==r){var n=r.evaluate(t)[0];e*=n,t>r.parameterPositions[1]&&(this.stopFading(),0===n&&(this.enabled=!1))}}return this._effectiveWeight=e,e},_updateTimeScale:function(t){var e=0;if(!this.paused){e=this.timeScale;var r=this._timeScaleInterpolant;if(null!==r){var n=r.evaluate(t)[0];e*=n,t>r.parameterPositions[1]&&(this.stopWarping(),0===e?this.paused=!0:this.timeScale=e)}}return this._effectiveTimeScale=e,e},_updateTime:function(t){var e=this.time+t;if(0===t)return e;var r=this._clip.duration,n=this.loop,i=this._loopCount;if(n===va){i===-1&&(this.loopCount=0,this._setEndings(!0,!0,!1));t:{if(e>=r)e=r;else{if(!(e<0))break t;e=0}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this._mixer.dispatchEvent({type:"finished",action:this,direction:t<0?-1:1})}}else{var o=n===ga;if(i===-1&&(t>=0?(i=0,this._setEndings(!0,0===this.repetitions,o)):this._setEndings(0===this.repetitions,!0,o)),e>=r||e<0){var a=Math.floor(e/r);e-=r*a,i+=Math.abs(a);var s=this.repetitions-i;if(s<0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,e=t>0?r:0,this._mixer.dispatchEvent({type:"finished",action:this,direction:t>0?1:-1});else{if(0===s){var u=t<0;this._setEndings(u,!u,o)}else this._setEndings(!1,!1,o);this._loopCount=i,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:a})}}if(o&&1===(1&i))return this.time=e,r-e}return this.time=e,e},_setEndings:function(t,e,r){var n=this._interpolantSettings;r?(n.endingStart=wa,n.endingEnd=wa):(t?n.endingStart=this.zeroSlopeAtStart?wa:ba:n.endingStart=Ta,e?n.endingEnd=this.zeroSlopeAtEnd?wa:ba:n.endingEnd=Ta)},_scheduleFading:function(t,e,r){var n=this._mixer,i=n.time,o=this._weightInterpolant;null===o&&(o=n._lendControlInterpolant(),this._weightInterpolant=o);var a=o.parameterPositions,s=o.sampleValues;return a[0]=i,s[0]=e,a[1]=i+t,s[1]=r,this}},Object.assign(Pn.prototype,e.prototype,{clipAction:function(t,e){var r=e||this._root,n=r.uuid,i="string"==typeof t?Jr.findByName(r,t):t,o=null!==i?i.uuid:t,a=this._actionsByClip[o],s=null;if(void 0!==a){var u=a.actionByRoot[n];if(void 0!==u)return u;s=a.knownActions[0],null===i&&(i=s._clip)}if(null===i)return null;var l=new An(this,i,e);return this._bindAction(l,s),this._addInactiveAction(l,o,n),l},existingAction:function(t,e){var r=e||this._root,n=r.uuid,i="string"==typeof t?Jr.findByName(r,t):t,o=i?i.uuid:t,a=this._actionsByClip[o];return void 0!==a?a.actionByRoot[n]||null:null},stopAllAction:function(){var t=this._actions,e=this._nActiveActions,r=this._bindings,n=this._nActiveBindings;this._nActiveActions=0,this._nActiveBindings=0;for(var i=0;i!==e;++i)t[i].reset();for(var i=0;i!==n;++i)r[i].useCount=0;return this},update:function(t){t*=this.timeScale;for(var e=this._actions,r=this._nActiveActions,n=this.time+=t,i=Math.sign(t),o=this._accuIndex^=1,a=0;a!==r;++a){var s=e[a];s.enabled&&s._update(n,t,i,o)}for(var u=this._bindings,l=this._nActiveBindings,a=0;a!==l;++a)u[a].apply(o);return this},getRoot:function(){return this._root},uncacheClip:function(t){var e=this._actions,r=t.uuid,n=this._actionsByClip,i=n[r];if(void 0!==i){for(var o=i.knownActions,a=0,s=o.length;a!==s;++a){var u=o[a];this._deactivateAction(u);var l=u._cacheIndex,c=e[e.length-1];u._cacheIndex=null,u._byClipCacheIndex=null,c._cacheIndex=l,e[l]=c,e.pop(),this._removeInactiveBindingsForAction(u)}delete n[r]}},uncacheRoot:function(t){var e=t.uuid,r=this._actionsByClip;for(var n in r){var i=r[n].actionByRoot,o=i[e];void 0!==o&&(this._deactivateAction(o),this._removeInactiveAction(o))}var a=this._bindingsByRootAndName,s=a[e];if(void 0!==s)for(var u in s){var l=s[u];l.restoreOriginalState(),this._removeInactiveBinding(l)}},uncacheAction:function(t,e){var r=this.existingAction(t,e);null!==r&&(this._deactivateAction(r),this._removeInactiveAction(r))}}),Object.assign(Pn.prototype,{_bindAction:function(t,e){var r=t._localRoot||this._root,n=t._clip.tracks,i=n.length,o=t._propertyBindings,a=t._interpolants,s=r.uuid,u=this._bindingsByRootAndName,l=u[s];void 0===l&&(l={},u[s]=l);for(var c=0;c!==i;++c){var h=n[c],f=h.name,d=l[f];if(void 0!==d)o[c]=d;else{if(d=o[c],void 0!==d){null===d._cacheIndex&&(++d.referenceCount,this._addInactiveBinding(d,s,f));continue}var p=e&&e._propertyBindings[c].binding.parsedPath;d=new En(Sn.create(r,f,p),h.ValueTypeName,h.getValueSize()),++d.referenceCount,this._addInactiveBinding(d,s,f),o[c]=d}a[c].resultBuffer=d.buffer}},_activateAction:function(t){if(!this._isActiveAction(t)){if(null===t._cacheIndex){var e=(t._localRoot||this._root).uuid,r=t._clip.uuid,n=this._actionsByClip[r];this._bindAction(t,n&&n.knownActions[0]),this._addInactiveAction(t,r,e)}for(var i=t._propertyBindings,o=0,a=i.length;o!==a;++o){var s=i[o];0===s.useCount++&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(t)}},_deactivateAction:function(t){if(this._isActiveAction(t)){for(var e=t._propertyBindings,r=0,n=e.length;r!==n;++r){var i=e[r];0===--i.useCount&&(i.restoreOriginalState(),this._takeBackBinding(i))}this._takeBackAction(t)}},_initMemoryManager:function(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;var t=this;this.stats={actions:{get total(){return t._actions.length},get inUse(){return t._nActiveActions}},bindings:{get total(){return t._bindings.length},get inUse(){return t._nActiveBindings}},controlInterpolants:{get total(){return t._controlInterpolants.length},get inUse(){return t._nActiveControlInterpolants}}}},_isActiveAction:function(t){var e=t._cacheIndex;return null!==e&&e<this._nActiveActions},_addInactiveAction:function(t,e,r){var n=this._actions,i=this._actionsByClip,o=i[e];if(void 0===o)o={knownActions:[t],actionByRoot:{}},t._byClipCacheIndex=0,i[e]=o;else{var a=o.knownActions;t._byClipCacheIndex=a.length,a.push(t)}t._cacheIndex=n.length,n.push(t),o.actionByRoot[r]=t},_removeInactiveAction:function(t){var e=this._actions,r=e[e.length-1],n=t._cacheIndex;r._cacheIndex=n,e[n]=r,e.pop(),t._cacheIndex=null;var i=t._clip.uuid,o=this._actionsByClip,a=o[i],s=a.knownActions,u=s[s.length-1],l=t._byClipCacheIndex;u._byClipCacheIndex=l,s[l]=u,s.pop(),t._byClipCacheIndex=null;var c=a.actionByRoot,h=(e._localRoot||this._root).uuid;delete c[h],0===s.length&&delete o[i],this._removeInactiveBindingsForAction(t)},_removeInactiveBindingsForAction:function(t){for(var e=t._propertyBindings,r=0,n=e.length;r!==n;++r){var i=e[r];0===--i.referenceCount&&this._removeInactiveBinding(i)}},_lendAction:function(t){var e=this._actions,r=t._cacheIndex,n=this._nActiveActions++,i=e[n];t._cacheIndex=n,e[n]=t,i._cacheIndex=r,e[r]=i},_takeBackAction:function(t){var e=this._actions,r=t._cacheIndex,n=--this._nActiveActions,i=e[n];t._cacheIndex=n,e[n]=t,i._cacheIndex=r,e[r]=i},_addInactiveBinding:function(t,e,r){var n=this._bindingsByRootAndName,i=n[e],o=this._bindings;void 0===i&&(i={},n[e]=i),i[r]=t,t._cacheIndex=o.length,o.push(t)},_removeInactiveBinding:function(t){var e=this._bindings,r=t.binding,n=r.rootNode.uuid,i=r.path,o=this._bindingsByRootAndName,a=o[n],s=e[e.length-1],u=t._cacheIndex;s._cacheIndex=u,e[u]=s,e.pop(),delete a[i];t:{for(var l in a)break t;delete o[n]}},_lendBinding:function(t){var e=this._bindings,r=t._cacheIndex,n=this._nActiveBindings++,i=e[n];t._cacheIndex=n,e[n]=t,i._cacheIndex=r,e[r]=i},_takeBackBinding:function(t){var e=this._bindings,r=t._cacheIndex,n=--this._nActiveBindings,i=e[n];t._cacheIndex=n,e[n]=t,i._cacheIndex=r,e[r]=i},_lendControlInterpolant:function(){var t=this._controlInterpolants,e=this._nActiveControlInterpolants++,r=t[e];return void 0===r&&(r=new zr(new Float32Array(2),new Float32Array(2),1,this._controlInterpolantsResultBuffer),r.__cacheIndex=e,t[e]=r),r},_takeBackControlInterpolant:function(t){var e=this._controlInterpolants,r=t.__cacheIndex,n=--this._nActiveControlInterpolants,i=e[n];t.__cacheIndex=n,e[n]=t,i.__cacheIndex=r,e[r]=i},_controlInterpolantsResultBuffer:new Float32Array(1)}),On.prototype=Object.create(Ct.prototype),On.prototype.constructor=On,On.prototype.isInstancedBufferGeometry=!0,On.prototype.addGroup=function(t,e,r){this.groups.push({start:t,count:e,materialIndex:r})},On.prototype.copy=function(t){var e=t.index;null!==e&&this.setIndex(e.clone());var r=t.attributes;for(var n in r){var i=r[n];this.addAttribute(n,i.clone())}for(var o=t.groups,a=0,s=o.length;a<s;a++){var u=o[a];this.addGroup(u.start,u.count,u.materialIndex)}return this},Rn.prototype={constructor:Rn,isInterleavedBufferAttribute:!0,get count(){return this.data.count},get array(){return this.data.array},setX:function(t,e){return this.data.array[t*this.data.stride+this.offset]=e,this},setY:function(t,e){return this.data.array[t*this.data.stride+this.offset+1]=e,this},setZ:function(t,e){return this.data.array[t*this.data.stride+this.offset+2]=e,this},setW:function(t,e){return this.data.array[t*this.data.stride+this.offset+3]=e,this},getX:function(t){return this.data.array[t*this.data.stride+this.offset]},getY:function(t){return this.data.array[t*this.data.stride+this.offset+1]},getZ:function(t){return this.data.array[t*this.data.stride+this.offset+2]},getW:function(t){return this.data.array[t*this.data.stride+this.offset+3]},setXY:function(t,e,r){return t=t*this.data.stride+this.offset,this.data.array[t+0]=e,this.data.array[t+1]=r,this},setXYZ:function(t,e,r,n){return t=t*this.data.stride+this.offset,this.data.array[t+0]=e,this.data.array[t+1]=r,this.data.array[t+2]=n,this},setXYZW:function(t,e,r,n,i){return t=t*this.data.stride+this.offset,this.data.array[t+0]=e,this.data.array[t+1]=r,this.data.array[t+2]=n,this.data.array[t+3]=i,this}},Dn.prototype={constructor:Dn,isInterleavedBuffer:!0,set needsUpdate(t){t===!0&&this.version++},setArray:function(t){if(Array.isArray(t))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.count=void 0!==t?t.length/this.stride:0,this.array=t},setDynamic:function(t){return this.dynamic=t,this},copy:function(t){return this.array=new t.array.constructor(t.array),this.count=t.count,this.stride=t.stride,this.dynamic=t.dynamic,this},copyAt:function(t,e,r){t*=this.stride,r*=e.stride;for(var n=0,i=this.stride;n<i;n++)this.array[t+n]=e.array[r+n];return this},set:function(t,e){return void 0===e&&(e=0),this.array.set(t,e),this},clone:function(){return(new this.constructor).copy(this)}},Ln.prototype=Object.create(Dn.prototype),Ln.prototype.constructor=Ln,Ln.prototype.isInstancedInterleavedBuffer=!0,Ln.prototype.copy=function(t){return Dn.prototype.copy.call(this,t),this.meshPerAttribute=t.meshPerAttribute,this},In.prototype=Object.create(vt.prototype),In.prototype.constructor=In,In.prototype.isInstancedBufferAttribute=!0,In.prototype.copy=function(t){return vt.prototype.copy.call(this,t),this.meshPerAttribute=t.meshPerAttribute,this},Fn.prototype={constructor:Fn,linePrecision:1,set:function(t,e){this.ray.set(t,e)},setFromCamera:function(t,e){e&&e.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(t.x,t.y,.5).unproject(e).sub(this.ray.origin).normalize()):e&&e.isOrthographicCamera?(this.ray.origin.set(t.x,t.y,(e.near+e.far)/(e.near-e.far)).unproject(e),this.ray.direction.set(0,0,-1).transformDirection(e.matrixWorld)):console.error("THREE.Raycaster: Unsupported camera type.")},intersectObject:function(t,e){var r=[];return kn(t,this,r,e),r.sort(Nn),r},intersectObjects:function(t,e){var r=[];if(Array.isArray(t)===!1)return console.warn("THREE.Raycaster.intersectObjects: objects is not an Array."),r;for(var n=0,i=t.length;n<i;n++)kn(t[n],this,r,e);return r.sort(Nn),r}},Un.prototype={constructor:Un,start:function(){this.startTime=(performance||Date).now(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0},stop:function(){this.getElapsedTime(),this.running=!1},getElapsedTime:function(){return this.getDelta(),this.elapsedTime},getDelta:function(){var t=0;if(this.autoStart&&!this.running&&this.start(),this.running){var e=(performance||Date).now();t=(e-this.oldTime)/1e3,this.oldTime=e,this.elapsedTime+=t}return t}},zn.prototype={constructor:zn,set:function(t,e,r){return this.radius=t,this.phi=e,this.theta=r,this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.radius=t.radius,this.phi=t.phi,this.theta=t.theta,this},makeSafe:function(){var t=1e-6;return this.phi=Math.max(t,Math.min(Math.PI-t,this.phi)),this},setFromVector3:function(t){return this.radius=t.length(),0===this.radius?(this.theta=0,this.phi=0):(this.theta=Math.atan2(t.x,t.z),this.phi=Math.acos(ka.clamp(t.y/this.radius,-1,1))),this}},jn.prototype=Object.create(Ot.prototype),jn.prototype.constructor=jn,jn.prototype.createAnimation=function(t,e,r,n){var i={start:e,end:r,length:r-e+1,fps:n,duration:(r-e)/n,lastFrame:0,currentFrame:0,active:!1,time:0,direction:1,weight:1,directionBackwards:!1,mirroredLoop:!1};this.animationsMap[t]=i,this.animationsList.push(i)},jn.prototype.autoCreateAnimations=function(t){for(var e,r=/([a-z]+)_?(\d+)/i,n={},i=this.geometry,o=0,a=i.morphTargets.length;o<a;o++){var s=i.morphTargets[o],u=s.name.match(r);if(u&&u.length>1){var l=u[1];n[l]||(n[l]={start:1/0,end:-(1/0)});var c=n[l];o<c.start&&(c.start=o),o>c.end&&(c.end=o),e||(e=l)}}for(var l in n){var c=n[l];this.createAnimation(l,c.start,c.end,t);
}this.firstAnimation=e},jn.prototype.setAnimationDirectionForward=function(t){var e=this.animationsMap[t];e&&(e.direction=1,e.directionBackwards=!1)},jn.prototype.setAnimationDirectionBackward=function(t){var e=this.animationsMap[t];e&&(e.direction=-1,e.directionBackwards=!0)},jn.prototype.setAnimationFPS=function(t,e){var r=this.animationsMap[t];r&&(r.fps=e,r.duration=(r.end-r.start)/r.fps)},jn.prototype.setAnimationDuration=function(t,e){var r=this.animationsMap[t];r&&(r.duration=e,r.fps=(r.end-r.start)/r.duration)},jn.prototype.setAnimationWeight=function(t,e){var r=this.animationsMap[t];r&&(r.weight=e)},jn.prototype.setAnimationTime=function(t,e){var r=this.animationsMap[t];r&&(r.time=e)},jn.prototype.getAnimationTime=function(t){var e=0,r=this.animationsMap[t];return r&&(e=r.time),e},jn.prototype.getAnimationDuration=function(t){var e=-1,r=this.animationsMap[t];return r&&(e=r.duration),e},jn.prototype.playAnimation=function(t){var e=this.animationsMap[t];e?(e.time=0,e.active=!0):console.warn("THREE.MorphBlendMesh: animation["+t+"] undefined in .playAnimation()")},jn.prototype.stopAnimation=function(t){var e=this.animationsMap[t];e&&(e.active=!1)},jn.prototype.update=function(t){for(var e=0,r=this.animationsList.length;e<r;e++){var n=this.animationsList[e];if(n.active){var i=n.duration/n.length;n.time+=n.direction*t,n.mirroredLoop?(n.time>n.duration||n.time<0)&&(n.direction*=-1,n.time>n.duration&&(n.time=n.duration,n.directionBackwards=!0),n.time<0&&(n.time=0,n.directionBackwards=!1)):(n.time=n.time%n.duration,n.time<0&&(n.time+=n.duration));var o=n.start+ka.clamp(Math.floor(n.time/i),0,n.length-1),a=n.weight;o!==n.currentFrame&&(this.morphTargetInfluences[n.lastFrame]=0,this.morphTargetInfluences[n.currentFrame]=1*a,this.morphTargetInfluences[o]=0,n.lastFrame=n.currentFrame,n.currentFrame=o);var s=n.time%i/i;n.directionBackwards&&(s=1-s),n.currentFrame!==n.lastFrame?(this.morphTargetInfluences[n.currentFrame]=s*a,this.morphTargetInfluences[n.lastFrame]=(1-s)*a):this.morphTargetInfluences[n.currentFrame]=a}}},Gn.prototype=Object.create(lt.prototype),Gn.prototype.constructor=Gn,Gn.prototype.isImmediateRenderObject=!0,Hn.prototype=Object.create(we.prototype),Hn.prototype.constructor=Hn,Hn.prototype.update=function(){var t=new l,e=new l,r=new rt;return function(){var n=["a","b","c"];this.object.updateMatrixWorld(!0),r.getNormalMatrix(this.object.matrixWorld);var i=this.object.matrixWorld,o=this.geometry.attributes.position,a=this.object.geometry;if(a&&a.isGeometry)for(var s=a.vertices,u=a.faces,l=0,c=0,h=u.length;c<h;c++)for(var f=u[c],d=0,p=f.vertexNormals.length;d<p;d++){var v=s[f[n[d]]],m=f.vertexNormals[d];t.copy(v).applyMatrix4(i),e.copy(m).applyMatrix3(r).normalize().multiplyScalar(this.size).add(t),o.setXYZ(l,t.x,t.y,t.z),l+=1,o.setXYZ(l,e.x,e.y,e.z),l+=1}else if(a&&a.isBufferGeometry)for(var g=a.attributes.position,y=a.attributes.normal,l=0,d=0,p=g.count;d<p;d++)t.set(g.getX(d),g.getY(d),g.getZ(d)).applyMatrix4(i),e.set(y.getX(d),y.getY(d),y.getZ(d)),e.applyMatrix3(r).normalize().multiplyScalar(this.size).add(t),o.setXYZ(l,t.x,t.y,t.z),l+=1,o.setXYZ(l,e.x,e.y,e.z),l+=1;return o.needsUpdate=!0,this}}(),Xn.prototype=Object.create(lt.prototype),Xn.prototype.constructor=Xn,Xn.prototype.dispose=function(){this.cone.geometry.dispose(),this.cone.material.dispose()},Xn.prototype.update=function(){var t=new l,e=new l;return function(){var r=this.light.distance?this.light.distance:1e3,n=r*Math.tan(this.light.angle);this.cone.scale.set(n,n,r),t.setFromMatrixPosition(this.light.matrixWorld),e.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(e.sub(t)),this.cone.material.color.copy(this.light.color).multiplyScalar(this.light.intensity)}}(),Vn.prototype=Object.create(we.prototype),Vn.prototype.constructor=Vn,Vn.prototype.getBoneList=function(t){var e=[];t&&t.isBone&&e.push(t);for(var r=0;r<t.children.length;r++)e.push.apply(e,this.getBoneList(t.children[r]));return e},Vn.prototype.update=function(){for(var t=this.geometry,e=(new c).getInverse(this.root.matrixWorld),r=new c,n=0,i=0;i<this.bones.length;i++){var o=this.bones[i];o.parent&&o.parent.isBone&&(r.multiplyMatrices(e,o.matrixWorld),t.vertices[n].setFromMatrixPosition(r),r.multiplyMatrices(e,o.parent.matrixWorld),t.vertices[n+1].setFromMatrixPosition(r),n+=2)}t.verticesNeedUpdate=!0,t.computeBoundingSphere()},Wn.prototype=Object.create(Ot.prototype),Wn.prototype.constructor=Wn,Wn.prototype.dispose=function(){this.geometry.dispose(),this.material.dispose()},Wn.prototype.update=function(){this.material.color.copy(this.light.color).multiplyScalar(this.light.intensity)},Yn.prototype=Object.create(lt.prototype),Yn.prototype.constructor=Yn,Yn.prototype.dispose=function(){this.lightSphere.geometry.dispose(),this.lightSphere.material.dispose()},Yn.prototype.update=function(){var t=new l;return function(){this.colors[0].copy(this.light.color).multiplyScalar(this.light.intensity),this.colors[1].copy(this.light.groundColor).multiplyScalar(this.light.intensity),this.lightSphere.lookAt(t.setFromMatrixPosition(this.light.matrixWorld).negate()),this.lightSphere.geometry.colorsNeedUpdate=!0}}(),qn.prototype=Object.create(we.prototype),qn.prototype.constructor=qn,qn.prototype.setColors=function(){console.error("THREE.GridHelper: setColors() has been deprecated, pass them in the constructor instead.")},Zn.prototype=Object.create(we.prototype),Zn.prototype.constructor=Zn,Zn.prototype.update=function(){var t=new l,e=new l,r=new rt;return function(){this.object.updateMatrixWorld(!0),r.getNormalMatrix(this.object.matrixWorld);for(var n=this.object.matrixWorld,i=this.geometry.attributes.position,o=this.object.geometry,a=o.vertices,s=o.faces,u=0,l=0,c=s.length;l<c;l++){var h=s[l],f=h.normal;t.copy(a[h.a]).add(a[h.b]).add(a[h.c]).divideScalar(3).applyMatrix4(n),e.copy(f).applyMatrix3(r).normalize().multiplyScalar(this.size).add(t),i.setXYZ(u,t.x,t.y,t.z),u+=1,i.setXYZ(u,e.x,e.y,e.z),u+=1}return i.needsUpdate=!0,this}}(),Kn.prototype=Object.create(lt.prototype),Kn.prototype.constructor=Kn,Kn.prototype.dispose=function(){var t=this.children[0],e=this.children[1];t.geometry.dispose(),t.material.dispose(),e.geometry.dispose(),e.material.dispose()},Kn.prototype.update=function(){var t=new l,e=new l,r=new l;return function(){t.setFromMatrixPosition(this.light.matrixWorld),e.setFromMatrixPosition(this.light.target.matrixWorld),r.subVectors(e,t);var n=this.children[0],i=this.children[1];n.lookAt(r),n.material.color.copy(this.light.color).multiplyScalar(this.light.intensity),i.lookAt(r),i.scale.z=r.length()}}(),Jn.prototype=Object.create(we.prototype),Jn.prototype.constructor=Jn,Jn.prototype.update=function(){function t(t,o,a,s){n.set(o,a,s).unproject(i);var u=r[t];if(void 0!==u)for(var l=0,c=u.length;l<c;l++)e.vertices[u[l]].copy(n)}var e,r,n=new l,i=new Lt;return function(){e=this.geometry,r=this.pointMap;var n=1,o=1;i.projectionMatrix.copy(this.camera.projectionMatrix),t("c",0,0,-1),t("t",0,0,1),t("n1",-n,-o,-1),t("n2",n,-o,-1),t("n3",-n,o,-1),t("n4",n,o,-1),t("f1",-n,-o,1),t("f2",n,-o,1),t("f3",-n,o,1),t("f4",n,o,1),t("u1",.7*n,1.1*o,-1),t("u2",.7*-n,1.1*o,-1),t("u3",0,2*o,-1),t("cf1",-n,0,1),t("cf2",n,0,1),t("cf3",0,-o,1),t("cf4",0,o,1),t("cn1",-n,0,-1),t("cn2",n,0,-1),t("cn3",0,-o,-1),t("cn4",0,o,-1),e.verticesNeedUpdate=!0}}(),Qn.prototype=Object.create(Ot.prototype),Qn.prototype.constructor=Qn,Qn.prototype.update=function(){this.box.setFromObject(this.object),this.box.getSize(this.scale),this.box.getCenter(this.position)},$n.prototype=Object.create(we.prototype),$n.prototype.constructor=$n,$n.prototype.update=function(){var t=new tt;return function(e){if(e&&e.isBox3?t.copy(e):t.setFromObject(e),!t.isEmpty()){var r=t.min,n=t.max,i=this.geometry.attributes.position,o=i.array;o[0]=n.x,o[1]=n.y,o[2]=n.z,o[3]=r.x,o[4]=n.y,o[5]=n.z,o[6]=r.x,o[7]=r.y,o[8]=n.z,o[9]=n.x,o[10]=r.y,o[11]=n.z,o[12]=n.x,o[13]=n.y,o[14]=r.z,o[15]=r.x,o[16]=n.y,o[17]=r.z,o[18]=r.x,o[19]=r.y,o[20]=r.z,o[21]=n.x,o[22]=r.y,o[23]=r.z,i.needsUpdate=!0,this.geometry.computeBoundingSphere()}}}();var sl=new Ct;sl.addAttribute("position",new Tt([0,0,0,0,1,0],3));var ul=new ar(0,.5,1,5,1);ul.translate(0,-.5,0),ti.prototype=Object.create(lt.prototype),ti.prototype.constructor=ti,ti.prototype.setDirection=function(){var t,e=new l;return function(r){r.y>.99999?this.quaternion.set(0,0,0,1):r.y<-.99999?this.quaternion.set(1,0,0,0):(e.set(r.z,0,-r.x).normalize(),t=Math.acos(r.y),this.quaternion.setFromAxisAngle(e,t))}}(),ti.prototype.setLength=function(t,e,r){void 0===e&&(e=.2*t),void 0===r&&(r=.2*e),this.line.scale.set(1,Math.max(0,t-e),1),this.line.updateMatrix(),this.cone.scale.set(r,e,r),this.cone.position.y=t,this.cone.updateMatrix()},ti.prototype.setColor=function(t){this.line.material.color.copy(t),this.cone.material.color.copy(t)},ei.prototype=Object.create(we.prototype),ei.prototype.constructor=ei;var ll=function(){function t(){}var e=new l,r=new t,n=new t,i=new t;return t.prototype.init=function(t,e,r,n){this.c0=t,this.c1=r,this.c2=-3*t+3*e-2*r-n,this.c3=2*t-2*e+r+n},t.prototype.initNonuniformCatmullRom=function(t,e,r,n,i,o,a){var s=(e-t)/i-(r-t)/(i+o)+(r-e)/o,u=(r-e)/o-(n-e)/(o+a)+(n-r)/a;s*=o,u*=o,this.init(e,r,s,u)},t.prototype.initCatmullRom=function(t,e,r,n,i){this.init(e,r,i*(r-t),i*(n-e))},t.prototype.calc=function(t){var e=t*t,r=e*t;return this.c0+this.c1*t+this.c2*e+this.c3*r},nn.create(function(t){this.points=t||[],this.closed=!1},function(t){var o,a,s,u,c=this.points;u=c.length,u<2&&console.log("duh, you need at least 2 points"),o=(u-(this.closed?0:1))*t,a=Math.floor(o),s=o-a,this.closed?a+=a>0?0:(Math.floor(Math.abs(a)/c.length)+1)*c.length:0===s&&a===u-1&&(a=u-2,s=1);var h,f,d,p;if(this.closed||a>0?h=c[(a-1)%u]:(e.subVectors(c[0],c[1]).add(c[0]),h=e),f=c[a%u],d=c[(a+1)%u],this.closed||a+2<u?p=c[(a+2)%u]:(e.subVectors(c[u-1],c[u-2]).add(c[u-1]),p=e),void 0===this.type||"centripetal"===this.type||"chordal"===this.type){var v="chordal"===this.type?.5:.25,m=Math.pow(h.distanceToSquared(f),v),g=Math.pow(f.distanceToSquared(d),v),y=Math.pow(d.distanceToSquared(p),v);g<1e-4&&(g=1),m<1e-4&&(m=g),y<1e-4&&(y=g),r.initNonuniformCatmullRom(h.x,f.x,d.x,p.x,m,g,y),n.initNonuniformCatmullRom(h.y,f.y,d.y,p.y,m,g,y),i.initNonuniformCatmullRom(h.z,f.z,d.z,p.z,m,g,y)}else if("catmullrom"===this.type){var _=void 0!==this.tension?this.tension:.5;r.initCatmullRom(h.x,f.x,d.x,p.x,_),n.initCatmullRom(h.y,f.y,d.y,p.y,_),i.initCatmullRom(h.z,f.z,d.z,p.z,_)}var x=new l(r.calc(s),n.calc(s),i.calc(s));return x})}();ri.prototype=Object.create(ll.prototype);var cl=nn.create(function(t){console.warn("THREE.SplineCurve3 will be deprecated. Please use THREE.CatmullRomCurve3"),this.points=void 0===t?[]:t},function(t){var e=this.points,r=(e.length-1)*t,n=Math.floor(r),i=r-n,o=e[0==n?n:n-1],a=e[n],s=e[n>e.length-2?e.length-1:n+1],u=e[n>e.length-3?e.length-1:n+2],c=il.interpolate;return new l(c(o.x,a.x,s.x,u.x,i),c(o.y,a.y,s.y,u.y,i),c(o.z,a.z,s.z,u.z,i))}),hl=nn.create(function(t,e,r,n){this.v0=t,this.v1=e,this.v2=r,this.v3=n},function(t){var e=Ku.b3;return new l(e(t,this.v0.x,this.v1.x,this.v2.x,this.v3.x),e(t,this.v0.y,this.v1.y,this.v2.y,this.v3.y),e(t,this.v0.z,this.v1.z,this.v2.z,this.v3.z))}),fl=nn.create(function(t,e,r){this.v0=t,this.v1=e,this.v2=r},function(t){var e=Ku.b2;return new l(e(t,this.v0.x,this.v1.x,this.v2.x),e(t,this.v0.y,this.v1.y,this.v2.y),e(t,this.v0.z,this.v1.z,this.v2.z))}),dl=nn.create(function(t,e){this.v1=t,this.v2=e},function(t){if(1===t)return this.v2.clone();var e=new l;return e.subVectors(this.v2,this.v1),e.multiplyScalar(t),e.add(this.v1),e});ni.prototype=Object.create(sn.prototype),ni.prototype.constructor=ni;var pl={createMultiMaterialObject:function(t,e){for(var r=new Se,n=0,i=e.length;n<i;n++)r.add(new Ot(t,e[n]));return r},detach:function(t,e,r){t.applyMatrix(e.matrixWorld),e.remove(t),r.add(t)},attach:function(t,e,r){var n=new c;n.getInverse(r.matrixWorld),t.applyMatrix(n),e.remove(t),r.add(t)}},vl=0,ml=1;Object.assign(Y.prototype,{center:function(t){return console.warn("THREE.Box2: .center() has been renamed to .getCenter()."),this.getCenter(t)},empty:function(){return console.warn("THREE.Box2: .empty() has been renamed to .isEmpty()."),this.isEmpty()},isIntersectionBox:function(t){return console.warn("THREE.Box2: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(t)},size:function(t){return console.warn("THREE.Box2: .size() has been renamed to .getSize()."),this.getSize(t)}}),Object.assign(tt.prototype,{center:function(t){return console.warn("THREE.Box3: .center() has been renamed to .getCenter()."),this.getCenter(t)},empty:function(){return console.warn("THREE.Box3: .empty() has been renamed to .isEmpty()."),this.isEmpty()},isIntersectionBox:function(t){return console.warn("THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(t)},isIntersectionSphere:function(t){return console.warn("THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(t)},size:function(t){return console.warn("THREE.Box3: .size() has been renamed to .getSize()."),this.getSize(t)}}),Object.assign(ht.prototype,{center:function(t){return console.warn("THREE.Line3: .center() has been renamed to .getCenter()."),this.getCenter(t)}}),Object.assign(rt.prototype,{multiplyVector3:function(t){return console.warn("THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead."),t.applyMatrix3(this)},multiplyVector3Array:function(t){return console.warn("THREE.Matrix3: .multiplyVector3Array() has been renamed. Use matrix.applyToVector3Array( array ) instead."),this.applyToVector3Array(t)}}),Object.assign(c.prototype,{extractPosition:function(t){return console.warn("THREE.Matrix4: .extractPosition() has been renamed to .copyPosition()."),this.copyPosition(t)},setRotationFromQuaternion:function(t){return console.warn("THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion()."),this.makeRotationFromQuaternion(t)},multiplyVector3:function(t){return console.warn("THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) or vector.applyProjection( matrix ) instead."),t.applyProjection(this)},multiplyVector4:function(t){return console.warn("THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead."),t.applyMatrix4(this)},multiplyVector3Array:function(t){return console.warn("THREE.Matrix4: .multiplyVector3Array() has been renamed. Use matrix.applyToVector3Array( array ) instead."),this.applyToVector3Array(t)},rotateAxis:function(t){console.warn("THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead."),t.transformDirection(this)},crossVector:function(t){return console.warn("THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead."),t.applyMatrix4(this)},translate:function(t){console.error("THREE.Matrix4: .translate() has been removed.")},rotateX:function(t){console.error("THREE.Matrix4: .rotateX() has been removed.")},rotateY:function(t){console.error("THREE.Matrix4: .rotateY() has been removed.")},rotateZ:function(t){console.error("THREE.Matrix4: .rotateZ() has been removed.")},rotateByAxis:function(t,e){console.error("THREE.Matrix4: .rotateByAxis() has been removed.")}}),Object.assign(nt.prototype,{isIntersectionLine:function(t){return console.warn("THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine()."),this.intersectsLine(t)}}),Object.assign(u.prototype,{multiplyVector3:function(t){return console.warn("THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead."),t.applyQuaternion(this)}}),Object.assign(at.prototype,{isIntersectionBox:function(t){return console.warn("THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(t)},isIntersectionPlane:function(t){return console.warn("THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane()."),this.intersectsPlane(t)},isIntersectionSphere:function(t){return console.warn("THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(t)}}),Object.assign(hn.prototype,{extrude:function(t){return console.warn("THREE.Shape: .extrude() has been removed. Use ExtrudeGeometry() instead."),new Ze(this,t)},makeGeometry:function(t){return console.warn("THREE.Shape: .makeGeometry() has been removed. Use ShapeGeometry() instead."),new ir(this,t)}}),Object.assign(l.prototype,{setEulerFromRotationMatrix:function(){console.error("THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.")},setEulerFromQuaternion:function(){console.error("THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.")},getPositionFromMatrix:function(t){return console.warn("THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition()."),this.setFromMatrixPosition(t)},getScaleFromMatrix:function(t){return console.warn("THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale()."),this.setFromMatrixScale(t)},getColumnFromMatrix:function(t,e){return console.warn("THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn()."),this.setFromMatrixColumn(e,t)}}),Object.assign(lt.prototype,{getChildByName:function(t){return console.warn("THREE.Object3D: .getChildByName() has been renamed to .getObjectByName()."),this.getObjectByName(t)},renderDepth:function(t){console.warn("THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.")},translate:function(t,e){return console.warn("THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead."),this.translateOnAxis(e,t)}}),Object.defineProperties(lt.prototype,{eulerOrder:{get:function(){return console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order},set:function(t){console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order=t}},useQuaternion:{get:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")},set:function(t){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")}}}),Object.defineProperties(ve.prototype,{objects:{get:function(){return console.warn("THREE.LOD: .objects has been renamed to .levels."),this.levels}}}),It.prototype.setLens=function(t,e){console.warn("THREE.PerspectiveCamera.setLens is deprecated. Use .setFocalLength and .filmGauge for a photographic setup."),void 0!==e&&(this.filmGauge=e),this.setFocalLength(t)},Object.defineProperties(Cr.prototype,{onlyShadow:{set:function(t){console.warn("THREE.Light: .onlyShadow has been removed.")}},shadowCameraFov:{set:function(t){console.warn("THREE.Light: .shadowCameraFov is now .shadow.camera.fov."),this.shadow.camera.fov=t}},shadowCameraLeft:{set:function(t){console.warn("THREE.Light: .shadowCameraLeft is now .shadow.camera.left."),this.shadow.camera.left=t}},shadowCameraRight:{set:function(t){console.warn("THREE.Light: .shadowCameraRight is now .shadow.camera.right."),this.shadow.camera.right=t}},shadowCameraTop:{set:function(t){console.warn("THREE.Light: .shadowCameraTop is now .shadow.camera.top."),this.shadow.camera.top=t}},shadowCameraBottom:{set:function(t){console.warn("THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom."),this.shadow.camera.bottom=t}},shadowCameraNear:{set:function(t){console.warn("THREE.Light: .shadowCameraNear is now .shadow.camera.near."),this.shadow.camera.near=t}},shadowCameraFar:{set:function(t){console.warn("THREE.Light: .shadowCameraFar is now .shadow.camera.far."),this.shadow.camera.far=t}},shadowCameraVisible:{set:function(t){console.warn("THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead.")}},shadowBias:{set:function(t){console.warn("THREE.Light: .shadowBias is now .shadow.bias."),this.shadow.bias=t}},shadowDarkness:{set:function(t){console.warn("THREE.Light: .shadowDarkness has been removed.")}},shadowMapWidth:{set:function(t){console.warn("THREE.Light: .shadowMapWidth is now .shadow.mapSize.width."),this.shadow.mapSize.width=t}},shadowMapHeight:{set:function(t){console.warn("THREE.Light: .shadowMapHeight is now .shadow.mapSize.height."),this.shadow.mapSize.height=t}}}),Object.defineProperties(vt.prototype,{length:{get:function(){return console.warn("THREE.BufferAttribute: .length has been deprecated. Please use .count."),this.array.length}}}),Object.assign(Ct.prototype,{addIndex:function(t){console.warn("THREE.BufferGeometry: .addIndex() has been renamed to .setIndex()."),this.setIndex(t)},addDrawCall:function(t,e,r){void 0!==r&&console.warn("THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset."),console.warn("THREE.BufferGeometry: .addDrawCall() is now .addGroup()."),this.addGroup(t,e)},clearDrawCalls:function(){console.warn("THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups()."),this.clearGroups()},computeTangents:function(){console.warn("THREE.BufferGeometry: .computeTangents() has been removed.")},computeOffsets:function(){console.warn("THREE.BufferGeometry: .computeOffsets() has been removed.")}}),Object.defineProperties(Ct.prototype,{drawcalls:{get:function(){return console.error("THREE.BufferGeometry: .drawcalls has been renamed to .groups."),this.groups}},offsets:{get:function(){return console.warn("THREE.BufferGeometry: .offsets has been renamed to .groups."),this.groups}}}),Object.defineProperties(K.prototype,{wrapAround:{get:function(){console.warn("THREE."+this.type+": .wrapAround has been removed.")},set:function(t){console.warn("THREE."+this.type+": .wrapAround has been removed.")}},wrapRGB:{get:function(){return console.warn("THREE."+this.type+": .wrapRGB has been removed."),new W}}}),Object.defineProperties(yr.prototype,{metal:{get:function(){return console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead."),!1},set:function(t){console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead")}}}),Object.defineProperties(Q.prototype,{derivatives:{get:function(){return console.warn("THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives},set:function(t){console.warn("THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives=t}}}),e.prototype=Object.assign(Object.create({constructor:e,apply:function(t){console.warn("THREE.EventDispatcher: .apply is deprecated, just inherit or Object.assign the prototype to mix-in."),Object.assign(t,this)}}),e.prototype),Object.defineProperties(Cn.prototype,{dynamic:{set:function(t){console.warn("THREE.Uniform: .dynamic has been removed. Use object.onBeforeRender() instead.")}},onUpdate:{value:function(){return console.warn("THREE.Uniform: .onUpdate() has been removed. Use object.onBeforeRender() instead."),this}}}),Object.assign(ue.prototype,{supportsFloatTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( 'OES_texture_float' )."),this.extensions.get("OES_texture_float")},supportsHalfFloatTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( 'OES_texture_half_float' )."),this.extensions.get("OES_texture_half_float")},supportsStandardDerivatives:function(){return console.warn("THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( 'OES_standard_derivatives' )."),this.extensions.get("OES_standard_derivatives")},supportsCompressedTextureS3TC:function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( 'WEBGL_compressed_texture_s3tc' )."),this.extensions.get("WEBGL_compressed_texture_s3tc")},supportsCompressedTexturePVRTC:function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( 'WEBGL_compressed_texture_pvrtc' )."),this.extensions.get("WEBGL_compressed_texture_pvrtc")},supportsBlendMinMax:function(){return console.warn("THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( 'EXT_blend_minmax' )."),this.extensions.get("EXT_blend_minmax")},supportsVertexTextures:function(){return this.capabilities.vertexTextures},supportsInstancedArrays:function(){return console.warn("THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( 'ANGLE_instanced_arrays' )."),this.extensions.get("ANGLE_instanced_arrays")},enableScissorTest:function(t){console.warn("THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest()."),this.setScissorTest(t)},initMaterial:function(){console.warn("THREE.WebGLRenderer: .initMaterial() has been removed.")},addPrePlugin:function(){console.warn("THREE.WebGLRenderer: .addPrePlugin() has been removed.")},addPostPlugin:function(){console.warn("THREE.WebGLRenderer: .addPostPlugin() has been removed.")},updateShadowMap:function(){console.warn("THREE.WebGLRenderer: .updateShadowMap() has been removed.")}}),Object.defineProperties(ue.prototype,{shadowMapEnabled:{get:function(){return this.shadowMap.enabled},set:function(t){console.warn("THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled."),this.shadowMap.enabled=t}},shadowMapType:{get:function(){return this.shadowMap.type},set:function(t){console.warn("THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type."),this.shadowMap.type=t}},shadowMapCullFace:{get:function(){return this.shadowMap.cullFace},set:function(t){console.warn("THREE.WebGLRenderer: .shadowMapCullFace is now .shadowMap.cullFace."),this.shadowMap.cullFace=t}}}),Object.defineProperties(ot.prototype,{cullFace:{get:function(){return this.renderReverseSided?_i:yi},set:function(t){var e=t!==yi;console.warn("WebGLRenderer: .shadowMap.cullFace is deprecated. Set .shadowMap.renderReverseSided to "+e+"."),this.renderReverseSided=e}}}),Object.defineProperties(a.prototype,{wrapS:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS},set:function(t){console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS=t}},wrapT:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT},set:function(t){console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT=t}},magFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter},set:function(t){console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter=t}},minFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter},set:function(t){console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter=t}},anisotropy:{get:function(){return console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy},set:function(t){console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy=t}},offset:{get:function(){return console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset},set:function(t){console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset=t}},repeat:{get:function(){return console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat},set:function(t){console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat=t}},format:{get:function(){return console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format},set:function(t){console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format=t}},type:{get:function(){return console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type},set:function(t){console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type=t}},generateMipmaps:{get:function(){return console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps},set:function(t){console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps=t}}}),Object.assign(bn.prototype,{load:function(t){console.warn("THREE.Audio: .load has been deprecated. Please use THREE.AudioLoader.");var e=this,r=new gn;return r.load(t,function(t){e.setBuffer(t)}),this}}),Object.assign(Tn.prototype,{getData:function(t){return console.warn("THREE.AudioAnalyser: .getData() is now .getFrequencyData()."),this.getFrequencyData()}});var gl={merge:function(t,e,r){console.warn("THREE.GeometryUtils: .merge() has been moved to Geometry. Use geometry.merge( geometry2, matrix, materialIndexOffset ) instead.");var n;e.isMesh&&(e.matrixAutoUpdate&&e.updateMatrix(),n=e.matrix,e=e.geometry),t.merge(e,n,r)},center:function(t){return console.warn("THREE.GeometryUtils: .center() has been moved to Geometry. Use geometry.center() instead."),t.center()}},yl={crossOrigin:void 0,loadTexture:function(t,e,r,n){console.warn("THREE.ImageUtils.loadTexture has been deprecated. Use THREE.TextureLoader() instead.");var i=new Pr;i.setCrossOrigin(this.crossOrigin);var o=i.load(t,r,void 0,n);return e&&(o.mapping=e),o},loadTextureCube:function(t,e,r,n){console.warn("THREE.ImageUtils.loadTextureCube has been deprecated. Use THREE.CubeTextureLoader() instead.");var i=new Ar;i.setCrossOrigin(this.crossOrigin);var o=i.load(t,r,void 0,n);return e&&(o.mapping=e),o},loadCompressedTexture:function(){console.error("THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.")},loadCompressedTextureCube:function(){console.error("THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.")}};t.WebGLRenderTargetCube=s,t.WebGLRenderTarget=a,t.WebGLRenderer=ue,t.ShaderLib=Vu,t.UniformsLib=Xu,t.UniformsUtils=Xa,t.ShaderChunk=Gu,t.FogExp2=le,t.Fog=ce,t.Scene=he,t.LensFlare=fe,t.Sprite=pe,t.LOD=ve,t.SkinnedMesh=_e,t.Skeleton=ge,t.Bone=ye,t.Mesh=Ot,t.LineSegments=we,t.Line=be,t.Points=Ee,t.Group=Se,t.VideoTexture=Me,t.DataTexture=me,t.CompressedTexture=Ae,t.CubeTexture=h,t.CanvasTexture=Pe,t.DepthTexture=Ce,t.TextureIdCount=i,t.Texture=n,t.MaterialIdCount=J,t.CompressedTextureLoader=Er,t.BinaryTextureLoader=Sr,t.DataTextureLoader=el,t.CubeTextureLoader=Ar,t.TextureLoader=Pr,t.ObjectLoader=rn,t.MaterialLoader=Qr,t.BufferGeometryLoader=$r,t.DefaultLoadingManager=tl,t.LoadingManager=wr,t.JSONLoader=en,t.ImageLoader=Mr,t.FontLoader=vn,t.XHRLoader=Tr,t.Loader=tn,t.Cache=$u,t.AudioLoader=gn,t.SpotLightShadow=Dr,t.SpotLight=Lr,t.PointLight=Ir,t.HemisphereLight=Or,t.DirectionalLightShadow=Fr,t.DirectionalLight=Nr,t.AmbientLight=kr,t.LightShadow=Rr,t.Light=Cr,t.StereoCamera=yn,t.PerspectiveCamera=It,t.OrthographicCamera=Ft,t.CubeCamera=_n,t.Camera=Lt,t.AudioListener=xn,t.PositionalAudio=wn,t.getAudioContext=mn,t.AudioAnalyser=Tn,t.Audio=bn,t.VectorKeyframeTrack=Hr,t.StringKeyframeTrack=Yr,t.QuaternionKeyframeTrack=Vr,t.NumberKeyframeTrack=Wr,t.ColorKeyframeTrack=Zr,t.BooleanKeyframeTrack=qr,t.PropertyMixer=En,t.PropertyBinding=Sn,t.KeyframeTrack=Kr,t.AnimationUtils=rl,t.AnimationObjectGroup=Mn,t.AnimationMixer=Pn,t.AnimationClip=Jr,t.Uniform=Cn,t.InstancedBufferGeometry=On,t.BufferGeometry=Ct,t.GeometryIdCount=At,t.Geometry=Mt,t.InterleavedBufferAttribute=Rn,t.InstancedInterleavedBuffer=Ln,t.InterleavedBuffer=Dn,t.InstancedBufferAttribute=In,t.DynamicBufferAttribute=St,t.Float64Attribute=Et,t.Float32Attribute=Tt,t.Uint32Attribute=wt,t.Int32Attribute=bt,t.Uint16Attribute=xt,
t.Int16Attribute=_t,t.Uint8ClampedAttribute=yt,t.Uint8Attribute=gt,t.Int8Attribute=mt,t.BufferAttribute=vt,t.Face3=dt,t.Object3DIdCount=ct,t.Object3D=lt,t.Raycaster=Fn,t.Layers=ut,t.EventDispatcher=e,t.Clock=Un,t.QuaternionLinearInterpolant=Xr,t.LinearInterpolant=zr,t.DiscreteInterpolant=jr,t.CubicInterpolant=Br,t.Interpolant=Ur,t.Triangle=ft,t.Spline=Bn,t.Math=ka,t.Spherical=zn,t.Plane=nt,t.Frustum=it,t.Sphere=et,t.Ray=at,t.Matrix4=c,t.Matrix3=rt,t.Box3=tt,t.Box2=Y,t.Line3=ht,t.Euler=st,t.Vector4=o,t.Vector3=l,t.Vector2=r,t.Quaternion=u,t.ColorKeywords=Hu,t.Color=W,t.MorphBlendMesh=jn,t.ImmediateRenderObject=Gn,t.VertexNormalsHelper=Hn,t.SpotLightHelper=Xn,t.SkeletonHelper=Vn,t.PointLightHelper=Wn,t.HemisphereLightHelper=Yn,t.GridHelper=qn,t.FaceNormalsHelper=Zn,t.DirectionalLightHelper=Kn,t.CameraHelper=Jn,t.BoundingBoxHelper=Qn,t.BoxHelper=$n,t.ArrowHelper=ti,t.AxisHelper=ei,t.ClosedSplineCurve3=ri,t.CatmullRomCurve3=ll,t.SplineCurve3=cl,t.CubicBezierCurve3=hl,t.QuadraticBezierCurve3=fl,t.LineCurve3=dl,t.ArcCurve=ni,t.EllipseCurve=sn,t.SplineCurve=un,t.CubicBezierCurve=ln,t.QuadraticBezierCurve=cn,t.LineCurve=on,t.Shape=hn,t.ShapePath=dn,t.Path=fn,t.Font=pn,t.CurvePath=an,t.Curve=nn,t.ShapeUtils=Ku,t.SceneUtils=pl,t.CurveUtils=il,t.WireframeGeometry=Oe,t.ParametricGeometry=De,t.ParametricBufferGeometry=Re,t.TetrahedronGeometry=Fe,t.TetrahedronBufferGeometry=Ie,t.OctahedronGeometry=ke,t.OctahedronBufferGeometry=Ne,t.IcosahedronGeometry=Be,t.IcosahedronBufferGeometry=Ue,t.DodecahedronGeometry=je,t.DodecahedronBufferGeometry=ze,t.PolyhedronGeometry=Ge,t.PolyhedronBufferGeometry=Le,t.TubeGeometry=Xe,t.TubeBufferGeometry=He,t.TorusKnotGeometry=We,t.TorusKnotBufferGeometry=Ve,t.TorusGeometry=qe,t.TorusBufferGeometry=Ye,t.TextGeometry=Ke,t.SphereBufferGeometry=Je,t.SphereGeometry=Qe,t.RingGeometry=tr,t.RingBufferGeometry=$e,t.PlaneBufferGeometry=Dt,t.PlaneGeometry=er,t.LatheGeometry=nr,t.LatheBufferGeometry=rr,t.ShapeGeometry=ir,t.ExtrudeGeometry=Ze,t.EdgesGeometry=or,t.ConeGeometry=ur,t.ConeBufferGeometry=lr;t.CylinderGeometry=sr;t.CylinderBufferGeometry=ar,t.CircleBufferGeometry=cr,t.CircleGeometry=hr,t.BoxBufferGeometry=Rt,t.BoxGeometry=fr,t.ShadowMaterial=dr,t.SpriteMaterial=de,t.RawShaderMaterial=pr,t.ShaderMaterial=Q,t.PointsMaterial=Te,t.MultiMaterial=vr,t.MeshPhysicalMaterial=gr,t.MeshStandardMaterial=mr,t.MeshPhongMaterial=yr,t.MeshNormalMaterial=_r,t.MeshLambertMaterial=xr,t.MeshDepthMaterial=$,t.MeshBasicMaterial=pt,t.LineDashedMaterial=br,t.LineBasicMaterial=xe,t.Material=K,t.REVISION=vi,t.MOUSE=mi,t.CullFaceNone=gi,t.CullFaceBack=yi,t.CullFaceFront=_i,t.CullFaceFrontBack=xi,t.FrontFaceDirectionCW=bi,t.FrontFaceDirectionCCW=wi,t.BasicShadowMap=Ti,t.PCFShadowMap=Ei,t.PCFSoftShadowMap=Si,t.FrontSide=Mi,t.BackSide=Ai,t.DoubleSide=Pi,t.FlatShading=Ci,t.SmoothShading=Oi,t.NoColors=Ri,t.FaceColors=Di,t.VertexColors=Li,t.NoBlending=Ii,t.NormalBlending=Fi,t.AdditiveBlending=Ni,t.SubtractiveBlending=ki,t.MultiplyBlending=Ui,t.CustomBlending=Bi,t.BlendingMode=zi,t.AddEquation=ji,t.SubtractEquation=Gi,t.ReverseSubtractEquation=Hi,t.MinEquation=Xi,t.MaxEquation=Vi,t.ZeroFactor=Wi,t.OneFactor=Yi,t.SrcColorFactor=qi,t.OneMinusSrcColorFactor=Zi,t.SrcAlphaFactor=Ki,t.OneMinusSrcAlphaFactor=Ji,t.DstAlphaFactor=Qi,t.OneMinusDstAlphaFactor=$i,t.DstColorFactor=to,t.OneMinusDstColorFactor=eo,t.SrcAlphaSaturateFactor=ro,t.NeverDepth=no,t.AlwaysDepth=io,t.LessDepth=oo,t.LessEqualDepth=ao,t.EqualDepth=so,t.GreaterEqualDepth=uo,t.GreaterDepth=lo,t.NotEqualDepth=co,t.MultiplyOperation=ho,t.MixOperation=fo,t.AddOperation=po,t.NoToneMapping=vo,t.LinearToneMapping=mo,t.ReinhardToneMapping=go,t.Uncharted2ToneMapping=yo,t.CineonToneMapping=_o,t.UVMapping=xo,t.CubeReflectionMapping=bo,t.CubeRefractionMapping=wo,t.EquirectangularReflectionMapping=To,t.EquirectangularRefractionMapping=Eo,t.SphericalReflectionMapping=So,t.CubeUVReflectionMapping=Mo,t.CubeUVRefractionMapping=Ao,t.TextureMapping=Po,t.RepeatWrapping=Co,t.ClampToEdgeWrapping=Oo,t.MirroredRepeatWrapping=Ro,t.TextureWrapping=Do,t.NearestFilter=Lo,t.NearestMipMapNearestFilter=Io,t.NearestMipMapLinearFilter=Fo,t.LinearFilter=No,t.LinearMipMapNearestFilter=ko,t.LinearMipMapLinearFilter=Uo,t.TextureFilter=Bo,t.UnsignedByteType=zo,t.ByteType=jo,t.ShortType=Go,t.UnsignedShortType=Ho,t.IntType=Xo,t.UnsignedIntType=Vo,t.FloatType=Wo,t.HalfFloatType=Yo,t.UnsignedShort4444Type=qo,t.UnsignedShort5551Type=Zo,t.UnsignedShort565Type=Ko,t.UnsignedInt248Type=Jo,t.AlphaFormat=Qo,t.RGBFormat=$o,t.RGBAFormat=ta,t.LuminanceFormat=ea,t.LuminanceAlphaFormat=ra,t.RGBEFormat=na,t.DepthFormat=ia,t.DepthStencilFormat=oa,t.RGB_S3TC_DXT1_Format=aa,t.RGBA_S3TC_DXT1_Format=sa,t.RGBA_S3TC_DXT3_Format=ua,t.RGBA_S3TC_DXT5_Format=la,t.RGB_PVRTC_4BPPV1_Format=ca,t.RGB_PVRTC_2BPPV1_Format=ha,t.RGBA_PVRTC_4BPPV1_Format=fa,t.RGBA_PVRTC_2BPPV1_Format=da,t.RGB_ETC1_Format=pa,t.LoopOnce=va,t.LoopRepeat=ma,t.LoopPingPong=ga,t.InterpolateDiscrete=ya,t.InterpolateLinear=_a,t.InterpolateSmooth=xa,t.ZeroCurvatureEnding=ba,t.ZeroSlopeEnding=wa,t.WrapAroundEnding=Ta,t.TrianglesDrawMode=Ea,t.TriangleStripDrawMode=Sa,t.TriangleFanDrawMode=Ma,t.LinearEncoding=Aa,t.sRGBEncoding=Pa,t.GammaEncoding=Ca,t.RGBEEncoding=Oa,t.LogLuvEncoding=Ra,t.RGBM7Encoding=Da,t.RGBM16Encoding=La,t.RGBDEncoding=Ia,t.BasicDepthPacking=Fa,t.RGBADepthPacking=Na,t.CubeGeometry=fr,t.Face4=ii,t.LineStrip=vl,t.LinePieces=ml,t.MeshFaceMaterial=vr,t.PointCloud=oi,t.Particle=pe,t.ParticleSystem=ai,t.PointCloudMaterial=si,t.ParticleBasicMaterial=ui,t.ParticleSystemMaterial=li,t.Vertex=ci,t.EdgesHelper=hi,t.WireframeHelper=fi,t.GeometryUtils=gl,t.ImageUtils=yl,t.Projector=di,t.CanvasRenderer=pi,Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"AudioContext",{get:function(){return t.getAudioContext()}})})},,,,,,,,,,function(t,e,r){(function(e){/*!
	 * Vue.js v2.3.4
	 * (c) 2014-2017 Evan You
	 * Released under the MIT License.
	 */
!function(e,r){t.exports=r()}(this,function(){"use strict";function t(t){return void 0===t||null===t}function r(t){return void 0!==t&&null!==t}function n(t){return t===!0}function i(t){return t===!1}function o(t){return"string"==typeof t||"number"==typeof t}function a(t){return null!==t&&"object"==typeof t}function s(t){return"[object Object]"===Ji.call(t)}function u(t){return"[object RegExp]"===Ji.call(t)}function l(t){return null==t?"":"object"==typeof t?JSON.stringify(t,null,2):String(t)}function c(t){var e=parseFloat(t);return isNaN(e)?t:e}function h(t,e){for(var r=Object.create(null),n=t.split(","),i=0;i<n.length;i++)r[n[i]]=!0;return e?function(t){return r[t.toLowerCase()]}:function(t){return r[t]}}function f(t,e){if(t.length){var r=t.indexOf(e);if(r>-1)return t.splice(r,1)}}function d(t,e){return $i.call(t,e)}function p(t){var e=Object.create(null);return function(r){var n=e[r];return n||(e[r]=t(r))}}function v(t,e){function r(r){var n=arguments.length;return n?n>1?t.apply(e,arguments):t.call(e,r):t.call(e)}return r._length=t.length,r}function m(t,e){e=e||0;for(var r=t.length-e,n=new Array(r);r--;)n[r]=t[r+e];return n}function g(t,e){for(var r in e)t[r]=e[r];return t}function y(t){for(var e={},r=0;r<t.length;r++)t[r]&&g(e,t[r]);return e}function _(){}function x(t){return t.reduce(function(t,e){return t.concat(e.staticKeys||[])},[]).join(",")}function b(t,e){var r=a(t),n=a(e);if(!r||!n)return!r&&!n&&String(t)===String(e);try{return JSON.stringify(t)===JSON.stringify(e)}catch(r){return t===e}}function w(t,e){for(var r=0;r<t.length;r++)if(b(t[r],e))return r;return-1}function T(t){var e=!1;return function(){e||(e=!0,t.apply(this,arguments))}}function E(t){var e=(t+"").charCodeAt(0);return 36===e||95===e}function S(t,e,r,n){Object.defineProperty(t,e,{value:r,enumerable:!!n,writable:!0,configurable:!0})}function M(t){if(!fo.test(t)){var e=t.split(".");return function(t){for(var r=0;r<e.length;r++){if(!t)return;t=t[e[r]]}return t}}}function A(t,e,r){if(co.errorHandler)co.errorHandler.call(null,t,e,r);else{if(po("Error in "+r+': "'+t.toString()+'"',e),!To||"undefined"==typeof console)throw t;console.error(t)}}function P(t){return"function"==typeof t&&/native code/.test(t.toString())}function C(t){zo.target&&jo.push(zo.target),zo.target=t}function O(){zo.target=jo.pop()}function R(t,e){t.__proto__=e}function D(t,e,r){for(var n=0,i=r.length;n<i;n++){var o=r[n];S(t,o,e[o])}}function L(t,e){if(a(t)){var r;return d(t,"__ob__")&&t.__ob__ instanceof Wo?r=t.__ob__:Vo.shouldConvert&&!Fo()&&(Array.isArray(t)||s(t))&&Object.isExtensible(t)&&!t._isVue&&(r=new Wo(t)),e&&r&&r.vmCount++,r}}function I(t,e,r,n){var i=new zo,o=Object.getOwnPropertyDescriptor(t,e);if(!o||o.configurable!==!1){var a=o&&o.get,s=o&&o.set,u=L(r);Object.defineProperty(t,e,{enumerable:!0,configurable:!0,get:function(){var e=a?a.call(t):r;return zo.target&&(i.depend(),u&&u.dep.depend(),Array.isArray(e)&&k(e)),e},set:function(e){var o=a?a.call(t):r;e===o||e!==e&&o!==o||(n&&n(),s?s.call(t,e):r=e,u=L(e),i.notify())}})}}function F(t,e,r){if(Array.isArray(t)&&"number"==typeof e)return t.length=Math.max(t.length,e),t.splice(e,1,r),r;if(d(t,e))return t[e]=r,r;var n=t.__ob__;return t._isVue||n&&n.vmCount?(po("Avoid adding reactive properties to a Vue instance or its root $data at runtime - declare it upfront in the data option."),r):n?(I(n.value,e,r),n.dep.notify(),r):(t[e]=r,r)}function N(t,e){if(Array.isArray(t)&&"number"==typeof e)return void t.splice(e,1);var r=t.__ob__;return t._isVue||r&&r.vmCount?void po("Avoid deleting properties on a Vue instance or its root $data - just set it to null."):void(d(t,e)&&(delete t[e],r&&r.dep.notify()))}function k(t){for(var e=void 0,r=0,n=t.length;r<n;r++)e=t[r],e&&e.__ob__&&e.__ob__.dep.depend(),Array.isArray(e)&&k(e)}function U(t,e){if(!e)return t;for(var r,n,i,o=Object.keys(e),a=0;a<o.length;a++)r=o[a],n=t[r],i=e[r],d(t,r)?s(n)&&s(i)&&U(n,i):F(t,r,i);return t}function B(t,e){return e?t?t.concat(e):Array.isArray(e)?e:[e]:t}function z(t,e){var r=Object.create(t||null);return e?g(r,e):r}function j(t){for(var e in t.components){var r=e.toLowerCase();(Qi(r)||co.isReservedTag(r))&&po("Do not use built-in or reserved HTML elements as component id: "+e)}}function G(t){var e=t.props;if(e){var r,n,i,o={};if(Array.isArray(e))for(r=e.length;r--;)n=e[r],"string"==typeof n?(i=eo(n),o[i]={type:null}):po("props must be strings when using array syntax.");else if(s(e))for(var a in e)n=e[a],i=eo(a),o[i]=s(n)?n:{type:n};t.props=o}}function H(t){var e=t.directives;if(e)for(var r in e){var n=e[r];"function"==typeof n&&(e[r]={bind:n,update:n})}}function X(t,e,r){function n(n){var i=Yo[n]||Ko;u[n]=i(t[n],e[n],r,n)}j(e),"function"==typeof e&&(e=e.options),G(e),H(e);var i=e.extends;if(i&&(t=X(t,i,r)),e.mixins)for(var o=0,a=e.mixins.length;o<a;o++)t=X(t,e.mixins[o],r);var s,u={};for(s in t)n(s);for(s in e)d(t,s)||n(s);return u}function V(t,e,r,n){if("string"==typeof r){var i=t[e];if(d(i,r))return i[r];var o=eo(r);if(d(i,o))return i[o];var a=ro(o);if(d(i,a))return i[a];var s=i[r]||i[o]||i[a];return n&&!s&&po("Failed to resolve "+e.slice(0,-1)+": "+r,t),s}}function W(t,e,r,n){var i=e[t],o=!d(r,t),a=r[t];if(J(Boolean,i.type)&&(o&&!d(i,"default")?a=!1:J(String,i.type)||""!==a&&a!==io(t)||(a=!0)),void 0===a){a=Y(n,i,t);var s=Vo.shouldConvert;Vo.shouldConvert=!0,L(a),Vo.shouldConvert=s}return q(i,t,a,n,o),a}function Y(t,e,r){if(d(e,"default")){var n=e.default;return a(n)&&po('Invalid default value for prop "'+r+'": Props with type Object/Array must use a factory function to return the default value.',t),t&&t.$options.propsData&&void 0===t.$options.propsData[r]&&void 0!==t._props[r]?t._props[r]:"function"==typeof n&&"Function"!==K(e.type)?n.call(t):n}}function q(t,e,r,n,i){if(t.required&&i)return void po('Missing required prop: "'+e+'"',n);if(null!=r||t.required){var o=t.type,a=!o||o===!0,s=[];if(o){Array.isArray(o)||(o=[o]);for(var u=0;u<o.length&&!a;u++){var l=Z(r,o[u]);s.push(l.expectedType||""),a=l.valid}}if(!a)return void po('Invalid prop: type check failed for prop "'+e+'". Expected '+s.map(ro).join(", ")+", got "+Object.prototype.toString.call(r).slice(8,-1)+".",n);var c=t.validator;c&&(c(r)||po('Invalid prop: custom validator check failed for prop "'+e+'".',n))}}function Z(t,e){var r,n=K(e);return r=Jo.test(n)?typeof t===n.toLowerCase():"Object"===n?s(t):"Array"===n?Array.isArray(t):t instanceof e,{valid:r,expectedType:n}}function K(t){var e=t&&t.toString().match(/^\s*function (\w+)/);return e?e[1]:""}function J(t,e){if(!Array.isArray(e))return K(e)===K(t);for(var r=0,n=e.length;r<n;r++)if(K(e[r])===K(t))return!0;return!1}function Q(t){return new aa(void 0,void 0,void 0,String(t))}function $(t){var e=new aa(t.tag,t.data,t.children,t.text,t.elm,t.context,t.componentOptions);return e.ns=t.ns,e.isStatic=t.isStatic,e.key=t.key,e.isComment=t.isComment,e.isCloned=!0,e}function tt(t){for(var e=t.length,r=new Array(e),n=0;n<e;n++)r[n]=$(t[n]);return r}function et(t){function e(){var t=arguments,r=e.fns;if(!Array.isArray(r))return r.apply(null,arguments);for(var n=0;n<r.length;n++)r[n].apply(null,t)}return e.fns=t,e}function rt(e,r,n,i,o){var a,s,u,l;for(a in e)s=e[a],u=r[a],l=ca(a),t(s)?po('Invalid handler for event "'+l.name+'": got '+String(s),o):t(u)?(t(s.fns)&&(s=e[a]=et(s)),n(l.name,s,l.once,l.capture,l.passive)):s!==u&&(u.fns=s,e[a]=u);for(a in r)t(e[a])&&(l=ca(a),i(l.name,r[a],l.capture))}function nt(e,i,o){function a(){o.apply(this,arguments),f(s.fns,a)}var s,u=e[i];t(u)?s=et([a]):r(u.fns)&&n(u.merged)?(s=u,s.fns.push(a)):s=et([u,a]),s.merged=!0,e[i]=s}function it(e,n,i){var o=n.options.props;if(!t(o)){var a={},s=e.attrs,u=e.props;if(r(s)||r(u))for(var l in o){var c=io(l),h=l.toLowerCase();l!==h&&s&&d(s,h)&&vo('Prop "'+h+'" is passed to component '+mo(i||n)+', but the declared prop name is "'+l+'". Note that HTML attributes are case-insensitive and camelCased props need to use their kebab-case equivalents when using in-DOM templates. You should probably use "'+c+'" instead of "'+l+'".'),ot(a,u,l,c,!0)||ot(a,s,l,c,!1)}return a}}function ot(t,e,n,i,o){if(r(e)){if(d(e,n))return t[n]=e[n],o||delete e[n],!0;if(d(e,i))return t[n]=e[i],o||delete e[i],!0}return!1}function at(t){for(var e=0;e<t.length;e++)if(Array.isArray(t[e]))return Array.prototype.concat.apply([],t);return t}function st(t){return o(t)?[Q(t)]:Array.isArray(t)?lt(t):void 0}function ut(t){return r(t)&&r(t.text)&&i(t.isComment)}function lt(e,i){var a,s,u,l=[];for(a=0;a<e.length;a++)s=e[a],t(s)||"boolean"==typeof s||(u=l[l.length-1],Array.isArray(s)?l.push.apply(l,lt(s,(i||"")+"_"+a)):o(s)?ut(u)?u.text+=String(s):""!==s&&l.push(Q(s)):ut(s)&&ut(u)?l[l.length-1]=Q(u.text+s.text):(n(e._isVList)&&r(s.tag)&&t(s.key)&&r(i)&&(s.key="__vlist"+i+"_"+a+"__"),l.push(s)));return l}function ct(t,e){return a(t)?e.extend(t):t}function ht(e,i,o){if(n(e.error)&&r(e.errorComp))return e.errorComp;if(r(e.resolved))return e.resolved;if(n(e.loading)&&r(e.loadingComp))return e.loadingComp;if(!r(e.contexts)){var s=e.contexts=[o],u=!0,l=function(){for(var t=0,e=s.length;t<e;t++)s[t].$forceUpdate()},c=T(function(t){e.resolved=ct(t,i),u||l()}),h=T(function(t){po("Failed to resolve async component: "+String(e)+(t?"\nReason: "+t:"")),r(e.errorComp)&&(e.error=!0,l())}),f=e(c,h);return a(f)&&("function"==typeof f.then?t(e.resolved)&&f.then(c,h):r(f.component)&&"function"==typeof f.component.then&&(f.component.then(c,h),r(f.error)&&(e.errorComp=ct(f.error,i)),r(f.loading)&&(e.loadingComp=ct(f.loading,i),0===f.delay?e.loading=!0:setTimeout(function(){t(e.resolved)&&t(e.error)&&(e.loading=!0,l())},f.delay||200)),r(f.timeout)&&setTimeout(function(){t(e.resolved)&&h("timeout ("+f.timeout+"ms)")},f.timeout))),u=!1,e.loading?e.loadingComp:e.resolved}e.contexts.push(o)}function ft(t){if(Array.isArray(t))for(var e=0;e<t.length;e++){var n=t[e];if(r(n)&&r(n.componentOptions))return n}}function dt(t){t._events=Object.create(null),t._hasHookEvent=!1;var e=t.$options._parentListeners;e&&mt(t,e)}function pt(t,e,r){r?ua.$once(t,e):ua.$on(t,e)}function vt(t,e){ua.$off(t,e)}function mt(t,e,r){ua=t,rt(e,r||{},pt,vt,t)}function gt(t){var e=/^hook:/;t.prototype.$on=function(t,r){var n=this,i=this;if(Array.isArray(t))for(var o=0,a=t.length;o<a;o++)n.$on(t[o],r);else(i._events[t]||(i._events[t]=[])).push(r),e.test(t)&&(i._hasHookEvent=!0);return i},t.prototype.$once=function(t,e){function r(){n.$off(t,r),e.apply(n,arguments)}var n=this;return r.fn=e,n.$on(t,r),n},t.prototype.$off=function(t,e){var r=this,n=this;if(!arguments.length)return n._events=Object.create(null),n;if(Array.isArray(t)){for(var i=0,o=t.length;i<o;i++)r.$off(t[i],e);return n}var a=n._events[t];if(!a)return n;if(1===arguments.length)return n._events[t]=null,n;for(var s,u=a.length;u--;)if(s=a[u],s===e||s.fn===e){a.splice(u,1);break}return n},t.prototype.$emit=function(t){var e=this,r=t.toLowerCase();r!==t&&e._events[r]&&vo('Event "'+r+'" is emitted in component '+mo(e)+' but the handler is registered for "'+t+'". Note that HTML attributes are case-insensitive and you cannot use v-on to listen to camelCase events when using in-DOM templates. You should probably use "'+io(t)+'" instead of "'+t+'".');var n=e._events[t];if(n){n=n.length>1?m(n):n;for(var i=m(arguments,1),o=0,a=n.length;o<a;o++)n[o].apply(e,i)}return e}}function yt(t,e){var r={};if(!t)return r;for(var n=[],i=0,o=t.length;i<o;i++){var a=t[i];if(a.context!==e&&a.functionalContext!==e||!a.data||null==a.data.slot)n.push(a);else{var s=a.data.slot,u=r[s]||(r[s]=[]);"template"===a.tag?u.push.apply(u,a.children):u.push(a)}}return n.every(_t)||(r.default=n),r}function _t(t){return t.isComment||" "===t.text}function xt(t,e){e=e||{};for(var r=0;r<t.length;r++)Array.isArray(t[r])?xt(t[r],e):e[t[r].key]=t[r].fn;return e}function bt(t){var e=t.$options,r=e.parent;if(r&&!e.abstract){for(;r.$options.abstract&&r.$parent;)r=r.$parent;r.$children.push(t)}t.$parent=r,t.$root=r?r.$root:t,t.$children=[],t.$refs={},t._watcher=null,t._inactive=null,t._directInactive=!1,t._isMounted=!1,t._isDestroyed=!1,t._isBeingDestroyed=!1}function wt(t){t.prototype._update=function(t,e){var r=this;r._isMounted&&Pt(r,"beforeUpdate");var n=r.$el,i=r._vnode,o=ha;ha=r,r._vnode=t,i?r.$el=r.__patch__(i,t):r.$el=r.__patch__(r.$el,t,e,!1,r.$options._parentElm,r.$options._refElm),ha=o,n&&(n.__vue__=null),r.$el&&(r.$el.__vue__=r),r.$vnode&&r.$parent&&r.$vnode===r.$parent._vnode&&(r.$parent.$el=r.$el)},t.prototype.$forceUpdate=function(){var t=this;t._watcher&&t._watcher.update()},t.prototype.$destroy=function(){var t=this;if(!t._isBeingDestroyed){Pt(t,"beforeDestroy"),t._isBeingDestroyed=!0;var e=t.$parent;!e||e._isBeingDestroyed||t.$options.abstract||f(e.$children,t),t._watcher&&t._watcher.teardown();for(var r=t._watchers.length;r--;)t._watchers[r].teardown();t._data.__ob__&&t._data.__ob__.vmCount--,t._isDestroyed=!0,t.__patch__(t._vnode,null),Pt(t,"destroyed"),t.$off(),t.$el&&(t.$el.__vue__=null),t.$options._parentElm=t.$options._refElm=null}}}function Tt(t,e,r){t.$el=e,t.$options.render||(t.$options.render=la,t.$options.template&&"#"!==t.$options.template.charAt(0)||t.$options.el||e?po("You are using the runtime-only build of Vue where the template compiler is not available. Either pre-compile the templates into render functions, or use the compiler-included build.",t):po("Failed to mount component: template or render function not defined.",t)),Pt(t,"beforeMount");var n;return n=co.performance&&qo?function(){var e=t._name,n=t._uid,i="vue-perf-start:"+n,o="vue-perf-end:"+n;qo(i);var a=t._render();qo(o),Zo(e+" render",i,o),qo(i),t._update(a,r),qo(o),Zo(e+" patch",i,o)}:function(){t._update(t._render(),r)},t._watcher=new ba(t,n,_),r=!1,null==t.$vnode&&(t._isMounted=!0,Pt(t,"mounted")),t}function Et(t,e,r,n,i){var o=!!(i||t.$options._renderChildren||n.data.scopedSlots||t.$scopedSlots!==ho);if(t.$options._parentVnode=n,t.$vnode=n,t._vnode&&(t._vnode.parent=n),t.$options._renderChildren=i,e&&t.$options.props){Vo.shouldConvert=!1,Vo.isSettingProps=!0;for(var a=t._props,s=t.$options._propKeys||[],u=0;u<s.length;u++){var l=s[u];a[l]=W(l,t.$options.props,e,t)}Vo.shouldConvert=!0,Vo.isSettingProps=!1,t.$options.propsData=e}if(r){var c=t.$options._parentListeners;t.$options._parentListeners=r,mt(t,r,c)}o&&(t.$slots=yt(i,n.context),t.$forceUpdate())}function St(t){for(;t&&(t=t.$parent);)if(t._inactive)return!0;return!1}function Mt(t,e){if(e){if(t._directInactive=!1,St(t))return}else if(t._directInactive)return;if(t._inactive||null===t._inactive){t._inactive=!1;for(var r=0;r<t.$children.length;r++)Mt(t.$children[r]);Pt(t,"activated")}}function At(t,e){if(!(e&&(t._directInactive=!0,St(t))||t._inactive)){t._inactive=!0;for(var r=0;r<t.$children.length;r++)At(t.$children[r]);Pt(t,"deactivated")}}function Pt(t,e){var r=t.$options[e];if(r)for(var n=0,i=r.length;n<i;n++)try{r[n].call(t)}catch(r){A(r,t,e+" hook")}t._hasHookEvent&&t.$emit("hook:"+e)}function Ct(){_a=da.length=pa.length=0,va={},ma={},ga=ya=!1}function Ot(){ya=!0;var t,e;for(da.sort(function(t,e){return t.id-e.id}),_a=0;_a<da.length;_a++)if(t=da[_a],e=t.id,va[e]=null,t.run(),null!=va[e]&&(ma[e]=(ma[e]||0)+1,ma[e]>fa)){po("You may have an infinite update loop "+(t.user?'in watcher with expression "'+t.expression+'"':"in a component render function."),t.vm);break}var r=pa.slice(),n=da.slice();Ct(),Lt(r),Rt(n),No&&co.devtools&&No.emit("flush")}function Rt(t){for(var e=t.length;e--;){var r=t[e],n=r.vm;n._watcher===r&&n._isMounted&&Pt(n,"updated")}}function Dt(t){t._inactive=!1,pa.push(t)}function Lt(t){for(var e=0;e<t.length;e++)t[e]._inactive=!0,Mt(t[e],!0)}function It(t){var e=t.id;if(null==va[e]){if(va[e]=!0,ya){for(var r=da.length-1;r>_a&&da[r].id>t.id;)r--;da.splice(r+1,0,t)}else da.push(t);ga||(ga=!0,Uo(Ot))}}function Ft(t){wa.clear(),Nt(t,wa)}function Nt(t,e){var r,n,i=Array.isArray(t);if((i||a(t))&&Object.isExtensible(t)){if(t.__ob__){var o=t.__ob__.dep.id;if(e.has(o))return;e.add(o)}if(i)for(r=t.length;r--;)Nt(t[r],e);else for(n=Object.keys(t),r=n.length;r--;)Nt(t[n[r]],e)}}function kt(t,e,r){Ta.get=function(){return this[e][r]},Ta.set=function(t){this[e][r]=t},Object.defineProperty(t,r,Ta)}function Ut(t){t._watchers=[];var e=t.$options;e.props&&Bt(t,e.props),e.methods&&Vt(t,e.methods),e.data?zt(t):L(t._data={},!0),e.computed&&Gt(t,e.computed),e.watch&&Wt(t,e.watch)}function Bt(t,e){var r=t.$options.propsData||{},n=t._props={},i=t.$options._propKeys=[],o=!t.$parent;Vo.shouldConvert=o;var a=function(o){i.push(o);var a=W(o,e,r,t);(Ea[o]||co.isReservedAttr(o))&&po('"'+o+'" is a reserved attribute and cannot be used as component prop.',t),I(n,o,a,function(){t.$parent&&!Vo.isSettingProps&&po("Avoid mutating a prop directly since the value will be overwritten whenever the parent component re-renders. Instead, use a data or computed property based on the prop's value. Prop being mutated: \""+o+'"',t)}),o in t||kt(t,"_props",o)};for(var s in e)a(s);Vo.shouldConvert=!0}function zt(t){var e=t.$options.data;e=t._data="function"==typeof e?jt(e,t):e||{},s(e)||(e={},po("data functions should return an object:\nhttps://vuejs.org/v2/guide/components.html#data-Must-Be-a-Function",t));for(var r=Object.keys(e),n=t.$options.props,i=r.length;i--;)n&&d(n,r[i])?po('The data property "'+r[i]+'" is already declared as a prop. Use prop default value instead.',t):E(r[i])||kt(t,"_data",r[i]);L(e,!0)}function jt(t,e){try{return t.call(e)}catch(t){return A(t,e,"data()"),{}}}function Gt(t,e){var r=t._computedWatchers=Object.create(null);for(var n in e){var i=e[n],o="function"==typeof i?i:i.get;void 0===o&&(po('No getter function has been defined for computed property "'+n+'".',t),o=_),r[n]=new ba(t,o,_,Sa),n in t?n in t.$data?po('The computed property "'+n+'" is already defined in data.',t):t.$options.props&&n in t.$options.props&&po('The computed property "'+n+'" is already defined as a prop.',t):Ht(t,n,i)}}function Ht(t,e,r){"function"==typeof r?(Ta.get=Xt(e),Ta.set=_):(Ta.get=r.get?r.cache!==!1?Xt(e):r.get:_,Ta.set=r.set?r.set:_),Object.defineProperty(t,e,Ta)}function Xt(t){return function(){var e=this._computedWatchers&&this._computedWatchers[t];if(e)return e.dirty&&e.evaluate(),zo.target&&e.depend(),e.value}}function Vt(t,e){var r=t.$options.props;for(var n in e)t[n]=null==e[n]?_:v(e[n],t),null==e[n]&&po('method "'+n+'" has an undefined value in the component definition. Did you reference the function correctly?',t),r&&d(r,n)&&po('method "'+n+'" has already been defined as a prop.',t)}function Wt(t,e){for(var r in e){var n=e[r];if(Array.isArray(n))for(var i=0;i<n.length;i++)Yt(t,r,n[i]);else Yt(t,r,n)}}function Yt(t,e,r){var n;s(r)&&(n=r,r=r.handler),"string"==typeof r&&(r=t[r]),t.$watch(e,r,n)}function qt(t){var e={};e.get=function(){return this._data};var r={};r.get=function(){return this._props},e.set=function(t){po("Avoid replacing instance root $data. Use nested data properties instead.",this)},r.set=function(){po("$props is readonly.",this)},Object.defineProperty(t.prototype,"$data",e),Object.defineProperty(t.prototype,"$props",r),t.prototype.$set=F,t.prototype.$delete=N,t.prototype.$watch=function(t,e,r){var n=this;r=r||{},r.user=!0;var i=new ba(n,t,e,r);return r.immediate&&e.call(n,i.value),function(){i.teardown()}}}function Zt(t){var e=t.$options.provide;e&&(t._provided="function"==typeof e?e.call(t):e)}function Kt(t){var e=Jt(t.$options.inject,t);e&&Object.keys(e).forEach(function(r){I(t,r,e[r],function(){po('Avoid mutating an injected value directly since the changes will be overwritten whenever the provided component re-renders. injection being mutated: "'+r+'"',t)})})}function Jt(t,e){if(t){for(var r=Array.isArray(t),n=Object.create(null),i=r?t:ko?Reflect.ownKeys(t):Object.keys(t),o=0;o<i.length;o++)for(var a=i[o],s=r?a:t[a],u=e;u;){if(u._provided&&s in u._provided){n[a]=u._provided[s];break}u=u.$parent}return n}}function Qt(t,e,n,i,o){var a={},s=t.options.props;if(r(s))for(var u in s)a[u]=W(u,s,e||{});else r(n.attrs)&&$t(a,n.attrs),r(n.props)&&$t(a,n.props);var l=Object.create(i),c=function(t,e,r,n){return oe(l,t,e,r,n,!0)},h=t.options.render.call(null,c,{data:n,props:a,children:o,parent:i,listeners:n.on||{},injections:Jt(t.options.inject,i),slots:function(){return yt(o,i)}});return h instanceof aa&&(h.functionalContext=i,h.functionalOptions=t.options,n.slot&&((h.data||(h.data={})).slot=n.slot)),h}function $t(t,e){for(var r in e)t[eo(r)]=e[r]}function te(e,i,o,s,u){if(!t(e)){var l=o.$options._base;if(a(e)&&(e=l.extend(e)),"function"!=typeof e)return void po("Invalid Component definition: "+String(e),o);if(!t(e.cid)||(e=ht(e,l,o),void 0!==e)){be(e),i=i||{},r(i.model)&&ie(e.options,i);var c=it(i,e,u);if(n(e.options.functional))return Qt(e,c,i,o,s);var h=i.on;i.on=i.nativeOn,n(e.options.abstract)&&(i={}),re(i);var f=e.options.name||u,d=new aa("vue-component-"+e.cid+(f?"-"+f:""),i,void 0,void 0,void 0,o,{Ctor:e,propsData:c,listeners:h,tag:u,children:s});return d}}}function ee(t,e,n,i){var o=t.componentOptions,a={_isComponent:!0,parent:e,propsData:o.propsData,_componentTag:o.tag,_parentVnode:t,_parentListeners:o.listeners,_renderChildren:o.children,_parentElm:n||null,_refElm:i||null},s=t.data.inlineTemplate;return r(s)&&(a.render=s.render,a.staticRenderFns=s.staticRenderFns),new o.Ctor(a)}function re(t){t.hook||(t.hook={});for(var e=0;e<Aa.length;e++){var r=Aa[e],n=t.hook[r],i=Ma[r];t.hook[r]=n?ne(i,n):i}}function ne(t,e){return function(r,n,i,o){t(r,n,i,o),e(r,n,i,o)}}function ie(t,e){var n=t.model&&t.model.prop||"value",i=t.model&&t.model.event||"input";(e.props||(e.props={}))[n]=e.model.value;var o=e.on||(e.on={});r(o[i])?o[i]=[e.model.callback].concat(o[i]):o[i]=e.model.callback}function oe(t,e,r,i,a,s){return(Array.isArray(r)||o(r))&&(a=i,i=r,r=void 0),n(s)&&(a=Ca),ae(t,e,r,i,a)}function ae(t,e,n,i,o){if(r(n)&&r(n.__ob__))return po("Avoid using observed data object as vnode data: "+JSON.stringify(n)+"\nAlways create fresh vnode data objects in each render!",t),la();if(!e)return la();Array.isArray(i)&&"function"==typeof i[0]&&(n=n||{},n.scopedSlots={default:i[0]},i.length=0),o===Ca?i=st(i):o===Pa&&(i=at(i));var a,s;if("string"==typeof e){var u;s=co.getTagNamespace(e),a=co.isReservedTag(e)?new aa(co.parsePlatformTagName(e),n,i,void 0,void 0,t):r(u=V(t.$options,"components",e))?te(u,n,t,i,e):new aa(e,n,i,void 0,void 0,t)}else a=te(e,n,t,i);return r(a)?(s&&se(a,s),a):la()}function se(e,n){if(e.ns=n,"foreignObject"!==e.tag&&r(e.children))for(var i=0,o=e.children.length;i<o;i++){var a=e.children[i];r(a.tag)&&t(a.ns)&&se(a,n)}}function ue(t,e){var n,i,o,s,u;if(Array.isArray(t)||"string"==typeof t)for(n=new Array(t.length),i=0,o=t.length;i<o;i++)n[i]=e(t[i],i);else if("number"==typeof t)for(n=new Array(t),i=0;i<t;i++)n[i]=e(i+1,i);else if(a(t))for(s=Object.keys(t),n=new Array(s.length),i=0,o=s.length;i<o;i++)u=s[i],n[i]=e(t[u],u,i);return r(n)&&(n._isVList=!0),n}function le(t,e,r,n){var i=this.$scopedSlots[t];if(i)return r=r||{},n&&g(r,n),i(r)||e;var o=this.$slots[t];return o&&(o._rendered&&po('Duplicate presence of slot "'+t+'" found in the same render tree - this will likely cause render errors.',this),o._rendered=!0),o||e}function ce(t){return V(this.$options,"filters",t,!0)||ao}function he(t,e,r){var n=co.keyCodes[e]||r;return Array.isArray(n)?n.indexOf(t)===-1:n!==t}function fe(t,e,r,n){if(r)if(a(r)){Array.isArray(r)&&(r=y(r));var i;for(var o in r){if("class"===o||"style"===o)i=t;else{var s=t.attrs&&t.attrs.type;i=n||co.mustUseProp(e,s,o)?t.domProps||(t.domProps={}):t.attrs||(t.attrs={})}o in i||(i[o]=r[o])}}else po("v-bind without argument expects an Object or Array value",this);return t}function de(t,e){var r=this._staticTrees[t];return r&&!e?Array.isArray(r)?tt(r):$(r):(r=this._staticTrees[t]=this.$options.staticRenderFns[t].call(this._renderProxy),ve(r,"__static__"+t,!1),r)}function pe(t,e,r){return ve(t,"__once__"+e+(r?"_"+r:""),!0),t}function ve(t,e,r){if(Array.isArray(t))for(var n=0;n<t.length;n++)t[n]&&"string"!=typeof t[n]&&me(t[n],e+"_"+n,r);else me(t,e,r)}function me(t,e,r){t.isStatic=!0,t.key=e,t.isOnce=r}function ge(t){t._vnode=null,t._staticTrees=null;var e=t.$vnode=t.$options._parentVnode,r=e&&e.context;t.$slots=yt(t.$options._renderChildren,r),t.$scopedSlots=ho,t._c=function(e,r,n,i){return oe(t,e,r,n,i,!1)},t.$createElement=function(e,r,n,i){return oe(t,e,r,n,i,!0)}}function ye(t){t.prototype.$nextTick=function(t){return Uo(t,this)},t.prototype._render=function(){var t=this,e=t.$options,r=e.render,n=e.staticRenderFns,i=e._parentVnode;if(t._isMounted)for(var o in t.$slots)t.$slots[o]=tt(t.$slots[o]);t.$scopedSlots=i&&i.data.scopedSlots||ho,n&&!t._staticTrees&&(t._staticTrees=[]),t.$vnode=i;var a;try{a=r.call(t._renderProxy,t.$createElement)}catch(e){A(e,t,"render function"),a=t.$options.renderError?t.$options.renderError.call(t._renderProxy,t.$createElement,e):t._vnode}return a instanceof aa||(Array.isArray(a)&&po("Multiple root nodes returned from render function. Render function should return a single root node.",t),a=la()),a.parent=i,a},t.prototype._o=pe,t.prototype._n=c,t.prototype._s=l,t.prototype._l=ue,t.prototype._t=le,t.prototype._q=b,t.prototype._i=w,t.prototype._m=de,t.prototype._f=ce,t.prototype._k=he,t.prototype._b=fe,t.prototype._v=Q,t.prototype._e=la,t.prototype._u=xt}function _e(t){t.prototype._init=function(t){var e=this;e._uid=Oa++;var r,n;co.performance&&qo&&(r="vue-perf-init:"+e._uid,n="vue-perf-end:"+e._uid,qo(r)),e._isVue=!0,t&&t._isComponent?xe(e,t):e.$options=X(be(e.constructor),t||{},e),$o(e),e._self=e,bt(e),dt(e),ge(e),Pt(e,"beforeCreate"),Kt(e),Ut(e),Zt(e),Pt(e,"created"),co.performance&&qo&&(e._name=mo(e,!1),qo(n),Zo(e._name+" init",r,n)),e.$options.el&&e.$mount(e.$options.el)}}function xe(t,e){var r=t.$options=Object.create(t.constructor.options);r.parent=e.parent,r.propsData=e.propsData,r._parentVnode=e._parentVnode,r._parentListeners=e._parentListeners,r._renderChildren=e._renderChildren,r._componentTag=e._componentTag,r._parentElm=e._parentElm,r._refElm=e._refElm,e.render&&(r.render=e.render,r.staticRenderFns=e.staticRenderFns)}function be(t){var e=t.options;if(t.super){var r=be(t.super),n=t.superOptions;if(r!==n){t.superOptions=r;var i=we(t);i&&g(t.extendOptions,i),e=t.options=X(r,t.extendOptions),e.name&&(e.components[e.name]=t)}}return e}function we(t){var e,r=t.options,n=t.extendOptions,i=t.sealedOptions;for(var o in r)r[o]!==i[o]&&(e||(e={}),e[o]=Te(r[o],n[o],i[o]));return e}function Te(t,e,r){if(Array.isArray(t)){var n=[];r=Array.isArray(r)?r:[r],e=Array.isArray(e)?e:[e];for(var i=0;i<t.length;i++)(e.indexOf(t[i])>=0||r.indexOf(t[i])<0)&&n.push(t[i]);return n}return t}function Ee(t){this instanceof Ee||po("Vue is a constructor and should be called with the `new` keyword"),this._init(t)}function Se(t){t.use=function(t){if(t.installed)return this;var e=m(arguments,1);return e.unshift(this),"function"==typeof t.install?t.install.apply(t,e):"function"==typeof t&&t.apply(null,e),t.installed=!0,this}}function Me(t){t.mixin=function(t){return this.options=X(this.options,t),this}}function Ae(t){t.cid=0;var e=1;t.extend=function(t){t=t||{};var r=this,n=r.cid,i=t._Ctor||(t._Ctor={});if(i[n])return i[n];var o=t.name||r.options.name;/^[a-zA-Z][\w-]*$/.test(o)||po('Invalid component name: "'+o+'". Component names can only contain alphanumeric characters and the hyphen, and must start with a letter.');var a=function(t){this._init(t)};return a.prototype=Object.create(r.prototype),a.prototype.constructor=a,a.cid=e++,a.options=X(r.options,t),a.super=r,a.options.props&&Pe(a),a.options.computed&&Ce(a),a.extend=r.extend,a.mixin=r.mixin,a.use=r.use,uo.forEach(function(t){a[t]=r[t]}),o&&(a.options.components[o]=a),a.superOptions=r.options,a.extendOptions=t,a.sealedOptions=g({},a.options),i[n]=a,a}}function Pe(t){var e=t.options.props;for(var r in e)kt(t.prototype,"_props",r)}function Ce(t){var e=t.options.computed;for(var r in e)Ht(t.prototype,r,e[r])}function Oe(t){uo.forEach(function(e){t[e]=function(t,r){return r?("component"===e&&co.isReservedTag(t)&&po("Do not use built-in or reserved HTML elements as component id: "+t),"component"===e&&s(r)&&(r.name=r.name||t,r=this.options._base.extend(r)),"directive"===e&&"function"==typeof r&&(r={bind:r,update:r}),this.options[e+"s"][t]=r,r):this.options[e+"s"][t]}})}function Re(t){return t&&(t.Ctor.options.name||t.tag)}function De(t,e){return"string"==typeof t?t.split(",").indexOf(e)>-1:!!u(t)&&t.test(e)}function Le(t,e,r){for(var n in t){var i=t[n];if(i){var o=Re(i.componentOptions);o&&!r(o)&&(i!==e&&Ie(i),t[n]=null)}}}function Ie(t){t&&t.componentInstance.$destroy()}function Fe(t){var e={};e.get=function(){return co},e.set=function(){po("Do not replace the Vue.config object, set individual fields instead.")},Object.defineProperty(t,"config",e),t.util={warn:po,extend:g,mergeOptions:X,defineReactive:I},t.set=F,t.delete=N,t.nextTick=Uo,t.options=Object.create(null),uo.forEach(function(e){t.options[e+"s"]=Object.create(null)}),t.options._base=t,g(t.options.components,La),Se(t),Me(t),Ae(t),Oe(t)}function Ne(t){for(var e=t.data,n=t,i=t;r(i.componentInstance);)i=i.componentInstance._vnode,i.data&&(e=ke(i.data,e));for(;r(n=n.parent);)n.data&&(e=ke(e,n.data));return Ue(e)}function ke(t,e){return{staticClass:Be(t.staticClass,e.staticClass),class:r(t.class)?[t.class,e.class]:e.class}}function Ue(t){var e=t.class,n=t.staticClass;return r(n)||r(e)?Be(n,ze(e)):""}function Be(t,e){return t?e?t+" "+e:t:e||""}function ze(e){if(t(e))return"";if("string"==typeof e)return e;var n="";if(Array.isArray(e)){for(var i,o=0,s=e.length;o<s;o++)r(e[o])&&r(i=ze(e[o]))&&""!==i&&(n+=i+" ");return n.slice(0,-1)}if(a(e)){for(var u in e)e[u]&&(n+=u+" ");return n.slice(0,-1)}return n}function je(t){return ts(t)?"svg":"math"===t?"math":void 0}function Ge(t){if(!To)return!0;if(rs(t))return!1;if(t=t.toLowerCase(),null!=ns[t])return ns[t];var e=document.createElement(t);return t.indexOf("-")>-1?ns[t]=e.constructor===window.HTMLUnknownElement||e.constructor===window.HTMLElement:ns[t]=/HTMLUnknownElement/.test(e.toString())}function He(t){if("string"==typeof t){var e=document.querySelector(t);return e?e:(po("Cannot find element: "+t),document.createElement("div"))}return t}function Xe(t,e){var r=document.createElement(t);return"select"!==t?r:(e.data&&e.data.attrs&&void 0!==e.data.attrs.multiple&&r.setAttribute("multiple","multiple"),r)}function Ve(t,e){return document.createElementNS(Qa[t],e)}function We(t){return document.createTextNode(t)}function Ye(t){return document.createComment(t)}function qe(t,e,r){t.insertBefore(e,r)}function Ze(t,e){t.removeChild(e)}function Ke(t,e){t.appendChild(e)}function Je(t){return t.parentNode}function Qe(t){return t.nextSibling}function $e(t){return t.tagName}function tr(t,e){t.textContent=e}function er(t,e,r){t.setAttribute(e,r)}function rr(t,e){var r=t.data.ref;if(r){var n=t.context,i=t.componentInstance||t.elm,o=n.$refs;e?Array.isArray(o[r])?f(o[r],i):o[r]===i&&(o[r]=void 0):t.data.refInFor?Array.isArray(o[r])&&o[r].indexOf(i)<0?o[r].push(i):o[r]=[i]:o[r]=i}}function nr(t,e){return t.key===e.key&&t.tag===e.tag&&t.isComment===e.isComment&&r(t.data)===r(e.data)&&ir(t,e)}function ir(t,e){if("input"!==t.tag)return!0;var n,i=r(n=t.data)&&r(n=n.attrs)&&n.type,o=r(n=e.data)&&r(n=n.attrs)&&n.type;return i===o}function or(t,e,n){var i,o,a={};for(i=e;i<=n;++i)o=t[i].key,r(o)&&(a[o]=i);return a}function ar(e){function i(t){return new aa(R.tagName(t).toLowerCase(),{},[],void 0,t)}function a(t,e){function r(){0===--r.listeners&&s(t)}return r.listeners=e,r}function s(t){var e=R.parentNode(t);r(e)&&R.removeChild(e,t)}function u(t,e,i,o,a){if(t.isRootInsert=!a,!l(t,e,i,o)){var s=t.data,u=t.children,c=t.tag;r(c)?(s&&s.pre&&D++,D||t.ns||co.ignoredElements.length&&co.ignoredElements.indexOf(c)>-1||!co.isUnknownElement(c)||po("Unknown custom element: <"+c+'> - did you register the component correctly? For recursive components, make sure to provide the "name" option.',t.context),t.elm=t.ns?R.createElementNS(t.ns,c):R.createElement(c,t),g(t),p(t,u,e),r(s)&&m(t,e),d(i,t.elm,o),s&&s.pre&&D--):n(t.isComment)?(t.elm=R.createComment(t.text),d(i,t.elm,o)):(t.elm=R.createTextNode(t.text),
d(i,t.elm,o))}}function l(t,e,i,o){var a=t.data;if(r(a)){var s=r(t.componentInstance)&&a.keepAlive;if(r(a=a.hook)&&r(a=a.init)&&a(t,!1,i,o),r(t.componentInstance))return c(t,e),n(s)&&f(t,e,i,o),!0}}function c(t,e){r(t.data.pendingInsert)&&(e.push.apply(e,t.data.pendingInsert),t.data.pendingInsert=null),t.elm=t.componentInstance.$el,v(t)?(m(t,e),g(t)):(rr(t),e.push(t))}function f(t,e,n,i){for(var o,a=t;a.componentInstance;)if(a=a.componentInstance._vnode,r(o=a.data)&&r(o=o.transition)){for(o=0;o<C.activate.length;++o)C.activate[o](as,a);e.push(a);break}d(n,t.elm,i)}function d(t,e,n){r(t)&&(r(n)?n.parentNode===t&&R.insertBefore(t,e,n):R.appendChild(t,e))}function p(t,e,r){if(Array.isArray(e))for(var n=0;n<e.length;++n)u(e[n],r,t.elm,null,!0);else o(t.text)&&R.appendChild(t.elm,R.createTextNode(t.text))}function v(t){for(;t.componentInstance;)t=t.componentInstance._vnode;return r(t.tag)}function m(t,e){for(var n=0;n<C.create.length;++n)C.create[n](as,t);A=t.data.hook,r(A)&&(r(A.create)&&A.create(as,t),r(A.insert)&&e.push(t))}function g(t){for(var e,n=t;n;)r(e=n.context)&&r(e=e.$options._scopeId)&&R.setAttribute(t.elm,e,""),n=n.parent;r(e=ha)&&e!==t.context&&r(e=e.$options._scopeId)&&R.setAttribute(t.elm,e,"")}function y(t,e,r,n,i,o){for(;n<=i;++n)u(r[n],o,t,e)}function _(t){var e,n,i=t.data;if(r(i))for(r(e=i.hook)&&r(e=e.destroy)&&e(t),e=0;e<C.destroy.length;++e)C.destroy[e](t);if(r(e=t.children))for(n=0;n<t.children.length;++n)_(t.children[n])}function x(t,e,n,i){for(;n<=i;++n){var o=e[n];r(o)&&(r(o.tag)?(b(o),_(o)):s(o.elm))}}function b(t,e){if(r(e)||r(t.data)){var n,i=C.remove.length+1;for(r(e)?e.listeners+=i:e=a(t.elm,i),r(n=t.componentInstance)&&r(n=n._vnode)&&r(n.data)&&b(n,e),n=0;n<C.remove.length;++n)C.remove[n](t,e);r(n=t.data.hook)&&r(n=n.remove)?n(t,e):e()}else s(t.elm)}function w(e,n,i,o,a){for(var s,l,c,h,f=0,d=0,p=n.length-1,v=n[0],m=n[p],g=i.length-1,_=i[0],b=i[g],w=!a;f<=p&&d<=g;)t(v)?v=n[++f]:t(m)?m=n[--p]:nr(v,_)?(T(v,_,o),v=n[++f],_=i[++d]):nr(m,b)?(T(m,b,o),m=n[--p],b=i[--g]):nr(v,b)?(T(v,b,o),w&&R.insertBefore(e,v.elm,R.nextSibling(m.elm)),v=n[++f],b=i[--g]):nr(m,_)?(T(m,_,o),w&&R.insertBefore(e,m.elm,v.elm),m=n[--p],_=i[++d]):(t(s)&&(s=or(n,f,p)),l=r(_.key)?s[_.key]:null,t(l)?(u(_,o,e,v.elm),_=i[++d]):(c=n[l],c||po("It seems there are duplicate keys that is causing an update error. Make sure each v-for item has a unique key."),nr(c,_)?(T(c,_,o),n[l]=void 0,w&&R.insertBefore(e,_.elm,v.elm),_=i[++d]):(u(_,o,e,v.elm),_=i[++d])));f>p?(h=t(i[g+1])?null:i[g+1].elm,y(e,h,i,d,g,o)):d>g&&x(e,n,f,p)}function T(e,i,o,a){if(e!==i){if(n(i.isStatic)&&n(e.isStatic)&&i.key===e.key&&(n(i.isCloned)||n(i.isOnce)))return i.elm=e.elm,void(i.componentInstance=e.componentInstance);var s,u=i.data;r(u)&&r(s=u.hook)&&r(s=s.prepatch)&&s(e,i);var l=i.elm=e.elm,c=e.children,h=i.children;if(r(u)&&v(i)){for(s=0;s<C.update.length;++s)C.update[s](e,i);r(s=u.hook)&&r(s=s.update)&&s(e,i)}t(i.text)?r(c)&&r(h)?c!==h&&w(l,c,h,o,a):r(h)?(r(e.text)&&R.setTextContent(l,""),y(l,null,h,0,h.length-1,o)):r(c)?x(l,c,0,c.length-1):r(e.text)&&R.setTextContent(l,""):e.text!==i.text&&R.setTextContent(l,i.text),r(u)&&r(s=u.hook)&&r(s=s.postpatch)&&s(e,i)}}function E(t,e,i){if(n(i)&&r(t.parent))t.parent.data.pendingInsert=e;else for(var o=0;o<e.length;++o)e[o].data.hook.insert(e[o])}function S(t,e,n){if(!M(t,e))return!1;e.elm=t;var i=e.tag,o=e.data,a=e.children;if(r(o)&&(r(A=o.hook)&&r(A=A.init)&&A(e,!0),r(A=e.componentInstance)))return c(e,n),!0;if(r(i)){if(r(a))if(t.hasChildNodes()){for(var s=!0,u=t.firstChild,l=0;l<a.length;l++){if(!u||!S(u,a[l],n)){s=!1;break}u=u.nextSibling}if(!s||u)return"undefined"==typeof console||L||(L=!0,console.warn("Parent: ",t),console.warn("Mismatching childNodes vs. VNodes: ",t.childNodes,a)),!1}else p(e,a,n);if(r(o))for(var h in o)if(!I(h)){m(e,n);break}}else t.data!==e.text&&(t.data=e.text);return!0}function M(t,e){return r(e.tag)?0===e.tag.indexOf("vue-component")||e.tag.toLowerCase()===(t.tagName&&t.tagName.toLowerCase()):t.nodeType===(e.isComment?8:3)}var A,P,C={},O=e.modules,R=e.nodeOps;for(A=0;A<ss.length;++A)for(C[ss[A]]=[],P=0;P<O.length;++P)r(O[P][ss[A]])&&C[ss[A]].push(O[P][ss[A]]);var D=0,L=!1,I=h("attrs,style,class,staticClass,staticStyle,key");return function(e,o,a,s,l,c){if(t(o))return void(r(e)&&_(e));var h=!1,f=[];if(t(e))h=!0,u(o,f,l,c);else{var d=r(e.nodeType);if(!d&&nr(e,o))T(e,o,f,s);else{if(d){if(1===e.nodeType&&e.hasAttribute(so)&&(e.removeAttribute(so),a=!0),n(a)){if(S(e,o,f))return E(o,f,!0),e;po("The client-side rendered virtual DOM tree is not matching server-rendered content. This is likely caused by incorrect HTML markup, for example nesting block-level elements inside <p>, or missing <tbody>. Bailing hydration and performing full client-side render.")}e=i(e)}var p=e.elm,m=R.parentNode(p);if(u(o,f,p._leaveCb?null:m,R.nextSibling(p)),r(o.parent)){for(var g=o.parent;g;)g.elm=o.elm,g=g.parent;if(v(o))for(var y=0;y<C.create.length;++y)C.create[y](as,o.parent)}r(m)?x(m,[e],0,0):r(e.tag)&&_(e)}}return E(o,f,h),o.elm}}function sr(t,e){(t.data.directives||e.data.directives)&&ur(t,e)}function ur(t,e){var r,n,i,o=t===as,a=e===as,s=lr(t.data.directives,t.context),u=lr(e.data.directives,e.context),l=[],c=[];for(r in u)n=s[r],i=u[r],n?(i.oldValue=n.value,hr(i,"update",e,t),i.def&&i.def.componentUpdated&&c.push(i)):(hr(i,"bind",e,t),i.def&&i.def.inserted&&l.push(i));if(l.length){var h=function(){for(var r=0;r<l.length;r++)hr(l[r],"inserted",e,t)};o?nt(e.data.hook||(e.data.hook={}),"insert",h):h()}if(c.length&&nt(e.data.hook||(e.data.hook={}),"postpatch",function(){for(var r=0;r<c.length;r++)hr(c[r],"componentUpdated",e,t)}),!o)for(r in s)u[r]||hr(s[r],"unbind",t,t,a)}function lr(t,e){var r=Object.create(null);if(!t)return r;var n,i;for(n=0;n<t.length;n++)i=t[n],i.modifiers||(i.modifiers=ls),r[cr(i)]=i,i.def=V(e.$options,"directives",i.name,!0);return r}function cr(t){return t.rawName||t.name+"."+Object.keys(t.modifiers||{}).join(".")}function hr(t,e,r,n,i){var o=t.def&&t.def[e];if(o)try{o(r.elm,t,r,n,i)}catch(n){A(n,r.context,"directive "+t.name+" "+e+" hook")}}function fr(e,n){if(!t(e.data.attrs)||!t(n.data.attrs)){var i,o,a,s=n.elm,u=e.data.attrs||{},l=n.data.attrs||{};r(l.__ob__)&&(l=n.data.attrs=g({},l));for(i in l)o=l[i],a=u[i],a!==o&&dr(s,i,o);Mo&&l.value!==u.value&&dr(s,"value",l.value);for(i in u)t(l[i])&&(Za(i)?s.removeAttributeNS(qa,Ka(i)):Wa(i)||s.removeAttribute(i))}}function dr(t,e,r){Ya(e)?Ja(r)?t.removeAttribute(e):t.setAttribute(e,e):Wa(e)?t.setAttribute(e,Ja(r)||"false"===r?"false":"true"):Za(e)?Ja(r)?t.removeAttributeNS(qa,Ka(e)):t.setAttributeNS(qa,e,r):Ja(r)?t.removeAttribute(e):t.setAttribute(e,r)}function pr(e,n){var i=n.elm,o=n.data,a=e.data;if(!(t(o.staticClass)&&t(o.class)&&(t(a)||t(a.staticClass)&&t(a.class)))){var s=Ne(n),u=i._transitionClasses;r(u)&&(s=Be(s,ze(u))),s!==i._prevClass&&(i.setAttribute("class",s),i._prevClass=s)}}function vr(t){function e(){(a||(a=[])).push(t.slice(p,i).trim()),p=i+1}var r,n,i,o,a,s=!1,u=!1,l=!1,c=!1,h=0,f=0,d=0,p=0;for(i=0;i<t.length;i++)if(n=r,r=t.charCodeAt(i),s)39===r&&92!==n&&(s=!1);else if(u)34===r&&92!==n&&(u=!1);else if(l)96===r&&92!==n&&(l=!1);else if(c)47===r&&92!==n&&(c=!1);else if(124!==r||124===t.charCodeAt(i+1)||124===t.charCodeAt(i-1)||h||f||d){switch(r){case 34:u=!0;break;case 39:s=!0;break;case 96:l=!0;break;case 40:d++;break;case 41:d--;break;case 91:f++;break;case 93:f--;break;case 123:h++;break;case 125:h--}if(47===r){for(var v=i-1,m=void 0;v>=0&&(m=t.charAt(v)," "===m);v--);m&&ds.test(m)||(c=!0)}}else void 0===o?(p=i+1,o=t.slice(0,i).trim()):e();if(void 0===o?o=t.slice(0,i).trim():0!==p&&e(),a)for(i=0;i<a.length;i++)o=mr(o,a[i]);return o}function mr(t,e){var r=e.indexOf("(");if(r<0)return'_f("'+e+'")('+t+")";var n=e.slice(0,r),i=e.slice(r+1);return'_f("'+n+'")('+t+","+i}function gr(t){console.error("[Vue compiler]: "+t)}function yr(t,e){return t?t.map(function(t){return t[e]}).filter(function(t){return t}):[]}function _r(t,e,r){(t.props||(t.props=[])).push({name:e,value:r})}function xr(t,e,r){(t.attrs||(t.attrs=[])).push({name:e,value:r})}function br(t,e,r,n,i,o){(t.directives||(t.directives=[])).push({name:e,rawName:r,value:n,arg:i,modifiers:o})}function wr(t,e,r,n,i,o){o&&n&&n.prevent&&n.passive&&o("passive and prevent can't be used together. Passive handler can't prevent default event."),n&&n.capture&&(delete n.capture,e="!"+e),n&&n.once&&(delete n.once,e="~"+e),n&&n.passive&&(delete n.passive,e="&"+e);var a;n&&n.native?(delete n.native,a=t.nativeEvents||(t.nativeEvents={})):a=t.events||(t.events={});var s={value:r,modifiers:n},u=a[e];Array.isArray(u)?i?u.unshift(s):u.push(s):u?a[e]=i?[s,u]:[u,s]:a[e]=s}function Tr(t,e,r){var n=Er(t,":"+e)||Er(t,"v-bind:"+e);if(null!=n)return vr(n);if(r!==!1){var i=Er(t,e);if(null!=i)return JSON.stringify(i)}}function Er(t,e){var r;if(null!=(r=t.attrsMap[e]))for(var n=t.attrsList,i=0,o=n.length;i<o;i++)if(n[i].name===e){n.splice(i,1);break}return r}function Sr(t,e,r){var n=r||{},i=n.number,o=n.trim,a="$$v",s=a;o&&(s="(typeof "+a+" === 'string'? "+a+".trim(): "+a+")"),i&&(s="_n("+s+")");var u=Mr(e,s);t.model={value:"("+e+")",expression:'"'+e+'"',callback:"function ("+a+") {"+u+"}"}}function Mr(t,e){var r=Ar(t);return null===r.idx?t+"="+e:"var $$exp = "+r.exp+", $$idx = "+r.idx+";if (!Array.isArray($$exp)){"+t+"="+e+"}else{$$exp.splice($$idx, 1, "+e+")}"}function Ar(t){if(Fa=t,Ia=Fa.length,ka=Ua=Ba=0,t.indexOf("[")<0||t.lastIndexOf("]")<Ia-1)return{exp:t,idx:null};for(;!Cr();)Na=Pr(),Or(Na)?Dr(Na):91===Na&&Rr(Na);return{exp:t.substring(0,Ua),idx:t.substring(Ua+1,Ba)}}function Pr(){return Fa.charCodeAt(++ka)}function Cr(){return ka>=Ia}function Or(t){return 34===t||39===t}function Rr(t){var e=1;for(Ua=ka;!Cr();)if(t=Pr(),Or(t))Dr(t);else if(91===t&&e++,93===t&&e--,0===e){Ba=ka;break}}function Dr(t){for(var e=t;!Cr()&&(t=Pr(),t!==e););}function Lr(t,e,r){za=r;var n=e.value,i=e.modifiers,o=t.tag,a=t.attrsMap.type,s=t.attrsMap["v-bind:type"]||t.attrsMap[":type"];if("input"===o&&s&&za('<input :type="'+s+'" v-model="'+n+'">:\nv-model does not support dynamic input types. Use v-if branches instead.'),"input"===o&&"file"===a&&za("<"+t.tag+' v-model="'+n+'" type="file">:\nFile inputs are read only. Use a v-on:change listener instead.'),"select"===o)Nr(t,n,i);else if("input"===o&&"checkbox"===a)Ir(t,n,i);else if("input"===o&&"radio"===a)Fr(t,n,i);else if("input"===o||"textarea"===o)kr(t,n,i);else{if(!co.isReservedTag(o))return Sr(t,n,i),!1;za("<"+t.tag+' v-model="'+n+"\">: v-model is not supported on this element type. If you are working with contenteditable, it's recommended to wrap a library dedicated for that purpose inside a custom component.")}return!0}function Ir(t,e,r){var n=r&&r.number,i=Tr(t,"value")||"null",o=Tr(t,"true-value")||"true",a=Tr(t,"false-value")||"false";_r(t,"checked","Array.isArray("+e+")?_i("+e+","+i+")>-1"+("true"===o?":("+e+")":":_q("+e+","+o+")")),wr(t,vs,"var $$a="+e+",$$el=$event.target,$$c=$$el.checked?("+o+"):("+a+");if(Array.isArray($$a)){var $$v="+(n?"_n("+i+")":i)+",$$i=_i($$a,$$v);if($$c){$$i<0&&("+e+"=$$a.concat($$v))}else{$$i>-1&&("+e+"=$$a.slice(0,$$i).concat($$a.slice($$i+1)))}}else{"+Mr(e,"$$c")+"}",null,!0)}function Fr(t,e,r){var n=r&&r.number,i=Tr(t,"value")||"null";i=n?"_n("+i+")":i,_r(t,"checked","_q("+e+","+i+")"),wr(t,vs,Mr(e,i),null,!0)}function Nr(t,e,r){var n=r&&r.number,i='Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = "_value" in o ? o._value : o.value;return '+(n?"_n(val)":"val")+"})",o="$event.target.multiple ? $$selectedVal : $$selectedVal[0]",a="var $$selectedVal = "+i+";";a=a+" "+Mr(e,o),wr(t,"change",a,null,!0)}function kr(t,e,r){var n=t.attrsMap.type,i=r||{},o=i.lazy,a=i.number,s=i.trim,u=!o&&"range"!==n,l=o?"change":"range"===n?ps:"input",c="$event.target.value";s&&(c="$event.target.value.trim()"),a&&(c="_n("+c+")");var h=Mr(e,c);u&&(h="if($event.target.composing)return;"+h),_r(t,"value","("+e+")"),wr(t,l,h,null,!0),(s||a||"number"===n)&&wr(t,"blur","$forceUpdate()")}function Ur(t){var e;r(t[ps])&&(e=So?"change":"input",t[e]=[].concat(t[ps],t[e]||[]),delete t[ps]),r(t[vs])&&(e=Oo?"click":"change",t[e]=[].concat(t[vs],t[e]||[]),delete t[vs])}function Br(t,e,r,n,i){if(r){var o=e,a=ja;e=function(r){var i=1===arguments.length?o(r):o.apply(null,arguments);null!==i&&zr(t,e,n,a)}}ja.addEventListener(t,e,Ro?{capture:n,passive:i}:n)}function zr(t,e,r,n){(n||ja).removeEventListener(t,e,r)}function jr(e,r){if(!t(e.data.on)||!t(r.data.on)){var n=r.data.on||{},i=e.data.on||{};ja=r.elm,Ur(n),rt(n,i,Br,zr,r.context)}}function Gr(e,n){if(!t(e.data.domProps)||!t(n.data.domProps)){var i,o,a=n.elm,s=e.data.domProps||{},u=n.data.domProps||{};r(u.__ob__)&&(u=n.data.domProps=g({},u));for(i in s)t(u[i])&&(a[i]="");for(i in u)if(o=u[i],"textContent"!==i&&"innerHTML"!==i||(n.children&&(n.children.length=0),o!==s[i]))if("value"===i){a._value=o;var l=t(o)?"":String(o);Hr(a,n,l)&&(a.value=l)}else a[i]=o}}function Hr(t,e,r){return!t.composing&&("option"===e.tag||Xr(t,r)||Vr(t,r))}function Xr(t,e){return document.activeElement!==t&&t.value!==e}function Vr(t,e){var n=t.value,i=t._vModifiers;return r(i)&&i.number||"number"===t.type?c(n)!==c(e):r(i)&&i.trim?n.trim()!==e.trim():n!==e}function Wr(t){var e=Yr(t.style);return t.staticStyle?g(t.staticStyle,e):e}function Yr(t){return Array.isArray(t)?y(t):"string"==typeof t?ys(t):t}function qr(t,e){var r,n={};if(e)for(var i=t;i.componentInstance;)i=i.componentInstance._vnode,i.data&&(r=Wr(i.data))&&g(n,r);(r=Wr(t.data))&&g(n,r);for(var o=t;o=o.parent;)o.data&&(r=Wr(o.data))&&g(n,r);return n}function Zr(e,n){var i=n.data,o=e.data;if(!(t(i.staticStyle)&&t(i.style)&&t(o.staticStyle)&&t(o.style))){var a,s,u=n.elm,l=o.staticStyle,c=o.normalizedStyle||o.style||{},h=l||c,f=Yr(n.data.style)||{};n.data.normalizedStyle=r(f.__ob__)?g({},f):f;var d=qr(n,!0);for(s in h)t(d[s])&&bs(u,s,"");for(s in d)a=d[s],a!==h[s]&&bs(u,s,null==a?"":a)}}function Kr(t,e){if(e&&(e=e.trim()))if(t.classList)e.indexOf(" ")>-1?e.split(/\s+/).forEach(function(e){return t.classList.add(e)}):t.classList.add(e);else{var r=" "+(t.getAttribute("class")||"")+" ";r.indexOf(" "+e+" ")<0&&t.setAttribute("class",(r+e).trim())}}function Jr(t,e){if(e&&(e=e.trim()))if(t.classList)e.indexOf(" ")>-1?e.split(/\s+/).forEach(function(e){return t.classList.remove(e)}):t.classList.remove(e);else{for(var r=" "+(t.getAttribute("class")||"")+" ",n=" "+e+" ";r.indexOf(n)>=0;)r=r.replace(n," ");t.setAttribute("class",r.trim())}}function Qr(t){if(t){if("object"==typeof t){var e={};return t.css!==!1&&g(e,Ss(t.name||"v")),g(e,t),e}return"string"==typeof t?Ss(t):void 0}}function $r(t){Ls(function(){Ls(t)})}function tn(t,e){(t._transitionClasses||(t._transitionClasses=[])).push(e),Kr(t,e)}function en(t,e){t._transitionClasses&&f(t._transitionClasses,e),Jr(t,e)}function rn(t,e,r){var n=nn(t,e),i=n.type,o=n.timeout,a=n.propCount;if(!i)return r();var s=i===As?Os:Ds,u=0,l=function(){t.removeEventListener(s,c),r()},c=function(e){e.target===t&&++u>=a&&l()};setTimeout(function(){u<a&&l()},o+1),t.addEventListener(s,c)}function nn(t,e){var r,n=window.getComputedStyle(t),i=n[Cs+"Delay"].split(", "),o=n[Cs+"Duration"].split(", "),a=on(i,o),s=n[Rs+"Delay"].split(", "),u=n[Rs+"Duration"].split(", "),l=on(s,u),c=0,h=0;e===As?a>0&&(r=As,c=a,h=o.length):e===Ps?l>0&&(r=Ps,c=l,h=u.length):(c=Math.max(a,l),r=c>0?a>l?As:Ps:null,h=r?r===As?o.length:u.length:0);var f=r===As&&Is.test(n[Cs+"Property"]);return{type:r,timeout:c,propCount:h,hasTransform:f}}function on(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max.apply(null,e.map(function(e,r){return an(e)+an(t[r])}))}function an(t){return 1e3*Number(t.slice(0,-1))}function sn(e,n){var i=e.elm;r(i._leaveCb)&&(i._leaveCb.cancelled=!0,i._leaveCb());var o=Qr(e.data.transition);if(!t(o)&&!r(i._enterCb)&&1===i.nodeType){for(var s=o.css,u=o.type,l=o.enterClass,h=o.enterToClass,f=o.enterActiveClass,d=o.appearClass,p=o.appearToClass,v=o.appearActiveClass,m=o.beforeEnter,g=o.enter,y=o.afterEnter,_=o.enterCancelled,x=o.beforeAppear,b=o.appear,w=o.afterAppear,E=o.appearCancelled,S=o.duration,M=ha,A=ha.$vnode;A&&A.parent;)A=A.parent,M=A.context;var P=!M._isMounted||!e.isRootInsert;if(!P||b||""===b){var C=P&&d?d:l,O=P&&v?v:f,R=P&&p?p:h,D=P?x||m:m,L=P&&"function"==typeof b?b:g,I=P?w||y:y,F=P?E||_:_,N=c(a(S)?S.enter:S);null!=N&&ln(N,"enter",e);var k=s!==!1&&!Mo,U=hn(L),B=i._enterCb=T(function(){k&&(en(i,R),en(i,O)),B.cancelled?(k&&en(i,C),F&&F(i)):I&&I(i),i._enterCb=null});e.data.show||nt(e.data.hook||(e.data.hook={}),"insert",function(){var t=i.parentNode,r=t&&t._pending&&t._pending[e.key];r&&r.tag===e.tag&&r.elm._leaveCb&&r.elm._leaveCb(),L&&L(i,B)}),D&&D(i),k&&(tn(i,C),tn(i,O),$r(function(){tn(i,R),en(i,C),B.cancelled||U||(cn(N)?setTimeout(B,N):rn(i,u,B))})),e.data.show&&(n&&n(),L&&L(i,B)),k||U||B()}}}function un(e,n){function i(){E.cancelled||(e.data.show||((o.parentNode._pending||(o.parentNode._pending={}))[e.key]=e),p&&p(o),x&&(tn(o,h),tn(o,d),$r(function(){tn(o,f),en(o,h),E.cancelled||b||(cn(w)?setTimeout(E,w):rn(o,l,E))})),v&&v(o,E),x||b||E())}var o=e.elm;r(o._enterCb)&&(o._enterCb.cancelled=!0,o._enterCb());var s=Qr(e.data.transition);if(t(s))return n();if(!r(o._leaveCb)&&1===o.nodeType){var u=s.css,l=s.type,h=s.leaveClass,f=s.leaveToClass,d=s.leaveActiveClass,p=s.beforeLeave,v=s.leave,m=s.afterLeave,g=s.leaveCancelled,y=s.delayLeave,_=s.duration,x=u!==!1&&!Mo,b=hn(v),w=c(a(_)?_.leave:_);r(w)&&ln(w,"leave",e);var E=o._leaveCb=T(function(){o.parentNode&&o.parentNode._pending&&(o.parentNode._pending[e.key]=null),x&&(en(o,f),en(o,d)),E.cancelled?(x&&en(o,h),g&&g(o)):(n(),m&&m(o)),o._leaveCb=null});y?y(i):i()}}function ln(t,e,r){"number"!=typeof t?po("<transition> explicit "+e+" duration is not a valid number - got "+JSON.stringify(t)+".",r.context):isNaN(t)&&po("<transition> explicit "+e+" duration is NaN - the duration expression might be incorrect.",r.context)}function cn(t){return"number"==typeof t&&!isNaN(t)}function hn(e){if(t(e))return!1;var n=e.fns;return r(n)?hn(Array.isArray(n)?n[0]:n):(e._length||e.length)>1}function fn(t,e){e.data.show!==!0&&sn(e)}function dn(t,e,r){var n=e.value,i=t.multiple;if(i&&!Array.isArray(n))return void po('<select multiple v-model="'+e.expression+'"> expects an Array value for its binding, but got '+Object.prototype.toString.call(n).slice(8,-1),r);for(var o,a,s=0,u=t.options.length;s<u;s++)if(a=t.options[s],i)o=w(n,vn(a))>-1,a.selected!==o&&(a.selected=o);else if(b(vn(a),n))return void(t.selectedIndex!==s&&(t.selectedIndex=s));i||(t.selectedIndex=-1)}function pn(t,e){for(var r=0,n=e.length;r<n;r++)if(b(vn(e[r]),t))return!1;return!0}function vn(t){return"_value"in t?t._value:t.value}function mn(t){t.target.composing=!0}function gn(t){t.target.composing&&(t.target.composing=!1,yn(t.target,"input"))}function yn(t,e){var r=document.createEvent("HTMLEvents");r.initEvent(e,!0,!0),t.dispatchEvent(r)}function _n(t){return!t.componentInstance||t.data&&t.data.transition?t:_n(t.componentInstance._vnode)}function xn(t){var e=t&&t.componentOptions;return e&&e.Ctor.options.abstract?xn(ft(e.children)):t}function bn(t){var e={},r=t.$options;for(var n in r.propsData)e[n]=t[n];var i=r._parentListeners;for(var o in i)e[eo(o)]=i[o];return e}function wn(t,e){if(/\d-keep-alive$/.test(e.tag))return t("keep-alive",{props:e.componentOptions.propsData})}function Tn(t){for(;t=t.parent;)if(t.data.transition)return!0}function En(t,e){return e.key===t.key&&e.tag===t.tag}function Sn(t){t.elm._moveCb&&t.elm._moveCb(),t.elm._enterCb&&t.elm._enterCb()}function Mn(t){t.data.newPos=t.elm.getBoundingClientRect()}function An(t){var e=t.data.pos,r=t.data.newPos,n=e.left-r.left,i=e.top-r.top;if(n||i){t.data.moved=!0;var o=t.elm.style;o.transform=o.WebkitTransform="translate("+n+"px,"+i+"px)",o.transitionDuration="0s"}}function Pn(t,e){var r=document.createElement("div");return r.innerHTML='<div a="'+t+'">',r.innerHTML.indexOf(e)>0}function Cn(t){return Ys=Ys||document.createElement("div"),Ys.innerHTML=t,Ys.textContent}function On(t,e){var r=e?Lu:Du;return t.replace(r,function(t){return Ru[t]})}function Rn(t,e){function r(e){f+=e,t=t.substring(e)}function n(){var e=t.match(iu);if(e){var n={tagName:e[1],attrs:[],start:f};r(e[0].length);for(var i,o;!(i=t.match(ou))&&(o=t.match(eu));)r(o[0].length),n.attrs.push(o);if(i)return n.unarySlash=i[1],r(i[0].length),n.end=f,n}}function i(t){var r=t.tagName,n=t.unarySlash;l&&("p"===s&&Js(r)&&o(s),h(r)&&s===r&&o(r));for(var i=c(r)||"html"===r&&"head"===s||!!n,a=t.attrs.length,f=new Array(a),d=0;d<a;d++){var p=t.attrs[d];cu&&p[0].indexOf('""')===-1&&(""===p[3]&&delete p[3],""===p[4]&&delete p[4],""===p[5]&&delete p[5]);var v=p[3]||p[4]||p[5]||"";f[d]={name:p[1],value:On(v,e.shouldDecodeNewlines)}}i||(u.push({tag:r,lowerCasedTag:r.toLowerCase(),attrs:f}),s=r),e.start&&e.start(r,f,i,t.start,t.end)}function o(t,r,n){var i,o;if(null==r&&(r=f),null==n&&(n=f),t&&(o=t.toLowerCase()),t)for(i=u.length-1;i>=0&&u[i].lowerCasedTag!==o;i--);else i=0;if(i>=0){for(var a=u.length-1;a>=i;a--)(a>i||!t)&&e.warn&&e.warn("tag <"+u[a].tag+"> has no matching end tag."),e.end&&e.end(u[a].tag,r,n);u.length=i,s=i&&u[i-1].tag}else"br"===o?e.start&&e.start(t,[],!0,r,n):"p"===o&&(e.start&&e.start(t,[],!1,r,n),e.end&&e.end(t,r,n))}for(var a,s,u=[],l=e.expectHTML,c=e.isUnaryTag||oo,h=e.canBeLeftOpenTag||oo,f=0;t;){if(a=t,s&&Cu(s)){var d=s.toLowerCase(),p=Ou[d]||(Ou[d]=new RegExp("([\\s\\S]*?)(</"+d+"[^>]*>)","i")),v=0,m=t.replace(p,function(t,r,n){return v=n.length,Cu(d)||"noscript"===d||(r=r.replace(/<!--([\s\S]*?)-->/g,"$1").replace(/<!\[CDATA\[([\s\S]*?)]]>/g,"$1")),e.chars&&e.chars(r),""});f+=t.length-m.length,t=m,o(d,f-v,f)}else{var g=t.indexOf("<");if(0===g){if(uu.test(t)){var y=t.indexOf("-->");if(y>=0){r(y+3);continue}}if(lu.test(t)){var _=t.indexOf("]>");if(_>=0){r(_+2);continue}}var x=t.match(su);if(x){r(x[0].length);continue}var b=t.match(au);if(b){var w=f;r(b[0].length),o(b[1],w,f);continue}var T=n();if(T){i(T);continue}}var E=void 0,S=void 0,M=void 0;if(g>=0){for(S=t.slice(g);!(au.test(S)||iu.test(S)||uu.test(S)||lu.test(S)||(M=S.indexOf("<",1),M<0));)g+=M,S=t.slice(g);E=t.substring(0,g),r(g)}g<0&&(E=t,t=""),e.chars&&E&&e.chars(E)}if(t===a){e.chars&&e.chars(t),!u.length&&e.warn&&e.warn('Mal-formatted tag at end of template: "'+t+'"');break}}o()}function Dn(t,e){var r=e?Nu(e):Iu;if(r.test(t)){for(var n,i,o=[],a=r.lastIndex=0;n=r.exec(t);){i=n.index,i>a&&o.push(JSON.stringify(t.slice(a,i)));var s=vr(n[1].trim());o.push("_s("+s+")"),a=i+n[0].length}return a<t.length&&o.push(JSON.stringify(t.slice(a))),o.join("+")}}function Ln(t,e){function r(t){c||(c=!0,hu(t))}function n(t){t.pre&&(u=!1),mu(t.tag)&&(l=!1)}hu=e.warn||gr,yu=e.getTagNamespace||oo,gu=e.mustUseProp||oo,mu=e.isPreTag||oo,pu=yr(e.modules,"preTransformNode"),du=yr(e.modules,"transformNode"),vu=yr(e.modules,"postTransformNode"),fu=e.delimiters;var i,o,a=[],s=e.preserveWhitespace!==!1,u=!1,l=!1,c=!1;return Rn(t,{warn:hu,expectHTML:e.expectHTML,isUnaryTag:e.isUnaryTag,canBeLeftOpenTag:e.canBeLeftOpenTag,shouldDecodeNewlines:e.shouldDecodeNewlines,start:function(t,s,c){function h(t){"slot"!==t.tag&&"template"!==t.tag||r("Cannot use <"+t.tag+"> as component root element because it may contain multiple nodes."),t.attrsMap.hasOwnProperty("v-for")&&r("Cannot use v-for on stateful component root element because it renders multiple elements.")}var f=o&&o.ns||yu(t);So&&"svg"===f&&(s=Qn(s));var d={type:1,tag:t,attrsList:s,attrsMap:Zn(s),parent:o,children:[]};f&&(d.ns=f),Jn(d)&&!Fo()&&(d.forbidden=!0,hu("Templates should only be responsible for mapping the state to the UI. Avoid placing tags with side-effects in your templates, such as <"+t+">, as they will not be parsed."));for(var p=0;p<pu.length;p++)pu[p](d,e);if(u||(In(d),d.pre&&(u=!0)),mu(d.tag)&&(l=!0),u)Fn(d);else{Un(d),Bn(d),Hn(d),Nn(d),d.plain=!d.key&&!s.length,kn(d),Xn(d),Vn(d);for(var v=0;v<du.length;v++)du[v](d,e);Wn(d)}if(i?a.length||(i.if&&(d.elseif||d.else)?(h(d),Gn(i,{exp:d.elseif,block:d})):r("Component template should contain exactly one root element. If you are using v-if on multiple elements, use v-else-if to chain them instead.")):(i=d,h(i)),o&&!d.forbidden)if(d.elseif||d.else)zn(d,o);else if(d.slotScope){o.plain=!1;var m=d.slotTarget||'"default"';(o.scopedSlots||(o.scopedSlots={}))[m]=d}else o.children.push(d),d.parent=o;c?n(d):(o=d,a.push(d));for(var g=0;g<vu.length;g++)vu[g](d,e)},end:function(){var t=a[a.length-1],e=t.children[t.children.length-1];e&&3===e.type&&" "===e.text&&!l&&t.children.pop(),a.length-=1,o=a[a.length-1],n(t)},chars:function(e){if(!o)return void(e===t?r("Component template requires a root element, rather than just text."):(e=e.trim())&&r('text "'+e+'" outside root element will be ignored.'));if(!So||"textarea"!==o.tag||o.attrsMap.placeholder!==e){var n=o.children;if(e=l||e.trim()?Kn(o)?e:Xu(e):s&&n.length?" ":""){var i;!u&&" "!==e&&(i=Dn(e,fu))?n.push({type:2,expression:i,text:e}):" "===e&&n.length&&" "===n[n.length-1].text||n.push({type:3,text:e})}}}}),i}function In(t){null!=Er(t,"v-pre")&&(t.pre=!0)}function Fn(t){var e=t.attrsList.length;if(e)for(var r=t.attrs=new Array(e),n=0;n<e;n++)r[n]={name:t.attrsList[n].name,value:JSON.stringify(t.attrsList[n].value)};else t.pre||(t.plain=!0)}function Nn(t){var e=Tr(t,"key");e&&("template"===t.tag&&hu("<template> cannot be keyed. Place the key on real elements instead."),t.key=e)}function kn(t){var e=Tr(t,"ref");e&&(t.ref=e,t.refInFor=Yn(t))}function Un(t){var e;if(e=Er(t,"v-for")){var r=e.match(Bu);if(!r)return void hu("Invalid v-for expression: "+e);t.for=r[2].trim();var n=r[1].trim(),i=n.match(zu);i?(t.alias=i[1].trim(),t.iterator1=i[2].trim(),i[3]&&(t.iterator2=i[3].trim())):t.alias=n}}function Bn(t){var e=Er(t,"v-if");if(e)t.if=e,Gn(t,{exp:e,block:t});else{null!=Er(t,"v-else")&&(t.else=!0);var r=Er(t,"v-else-if");r&&(t.elseif=r)}}function zn(t,e){var r=jn(e.children);r&&r.if?Gn(r,{exp:t.elseif,block:t}):hu("v-"+(t.elseif?'else-if="'+t.elseif+'"':"else")+" used on element <"+t.tag+"> without corresponding v-if.")}function jn(t){for(var e=t.length;e--;){if(1===t[e].type)return t[e];" "!==t[e].text&&hu('text "'+t[e].text.trim()+'" between v-if and v-else(-if) will be ignored.'),t.pop()}}function Gn(t,e){t.ifConditions||(t.ifConditions=[]),t.ifConditions.push(e)}function Hn(t){var e=Er(t,"v-once");null!=e&&(t.once=!0)}function Xn(t){if("slot"===t.tag)t.slotName=Tr(t,"name"),t.key&&hu("`key` does not work on <slot> because slots are abstract outlets and can possibly expand into multiple elements. Use the key on a wrapping element instead.");else{var e=Tr(t,"slot");e&&(t.slotTarget='""'===e?'"default"':e),"template"===t.tag&&(t.slotScope=Er(t,"scope"))}}function Vn(t){var e;(e=Tr(t,"is"))&&(t.component=e),null!=Er(t,"inline-template")&&(t.inlineTemplate=!0)}function Wn(t){var e,r,n,i,o,a,s,u=t.attrsList;for(e=0,r=u.length;e<r;e++)if(n=i=u[e].name,o=u[e].value,Uu.test(n))if(t.hasBindings=!0,a=qn(n),a&&(n=n.replace(Hu,"")),Gu.test(n))n=n.replace(Gu,""),o=vr(o),s=!1,a&&(a.prop&&(s=!0,n=eo(n),"innerHtml"===n&&(n="innerHTML")),a.camel&&(n=eo(n)),a.sync&&wr(t,"update:"+eo(n),Mr(o,"$event"))),s||gu(t.tag,t.attrsMap.type,n)?_r(t,n,o):xr(t,n,o);else if(ku.test(n))n=n.replace(ku,""),wr(t,n,o,a,!1,hu);else{n=n.replace(Uu,"");var l=n.match(ju),c=l&&l[1];c&&(n=n.slice(0,-(c.length+1))),br(t,n,i,o,c,a),"model"===n&&$n(t,o)}else{var h=Dn(o,fu);h&&hu(n+'="'+o+'": Interpolation inside attributes has been removed. Use v-bind or the colon shorthand instead. For example, instead of <div id="{{ val }}">, use <div :id="val">.'),xr(t,n,JSON.stringify(o))}}function Yn(t){for(var e=t;e;){if(void 0!==e.for)return!0;e=e.parent}return!1}function qn(t){var e=t.match(Hu);if(e){var r={};return e.forEach(function(t){r[t.slice(1)]=!0}),r}}function Zn(t){for(var e={},r=0,n=t.length;r<n;r++)!e[t[r].name]||So||Ao||hu("duplicate attribute: "+t[r].name),e[t[r].name]=t[r].value;return e}function Kn(t){return"script"===t.tag||"style"===t.tag}function Jn(t){return"style"===t.tag||"script"===t.tag&&(!t.attrsMap.type||"text/javascript"===t.attrsMap.type)}function Qn(t){for(var e=[],r=0;r<t.length;r++){var n=t[r];Vu.test(n.name)||(n.name=n.name.replace(Wu,""),e.push(n))}return e}function $n(t,e){for(var r=t;r;)r.for&&r.alias===e&&hu("<"+t.tag+' v-model="'+e+'">: You are binding v-model directly to a v-for iteration alias. This will not be able to modify the v-for source array because writing to the alias is like modifying a function local variable. Consider using an array of objects and use v-model on an object property instead.'),r=r.parent}function ti(t,e){t&&(_u=Yu(e.staticKeys||""),xu=e.isReservedTag||oo,ri(t),ni(t,!1))}function ei(t){return h("type,tag,attrsList,attrsMap,plain,parent,children,attrs"+(t?","+t:""))}function ri(t){if(t.static=oi(t),1===t.type){if(!xu(t.tag)&&"slot"!==t.tag&&null==t.attrsMap["inline-template"])return;for(var e=0,r=t.children.length;e<r;e++){var n=t.children[e];ri(n),n.static||(t.static=!1)}}}function ni(t,e){if(1===t.type){if((t.static||t.once)&&(t.staticInFor=e),t.static&&t.children.length&&(1!==t.children.length||3!==t.children[0].type))return void(t.staticRoot=!0);if(t.staticRoot=!1,t.children)for(var r=0,n=t.children.length;r<n;r++)ni(t.children[r],e||!!t.for);t.ifConditions&&ii(t.ifConditions,e)}}function ii(t,e){for(var r=1,n=t.length;r<n;r++)ni(t[r].block,e)}function oi(t){return 2!==t.type&&(3===t.type||!(!t.pre&&(t.hasBindings||t.if||t.for||Qi(t.tag)||!xu(t.tag)||ai(t)||!Object.keys(t).every(_u))))}function ai(t){for(;t.parent;){if(t=t.parent,"template"!==t.tag)return!1;if(t.for)return!0}return!1}function si(t,e,r){var n=e?"nativeOn:{":"on:{";for(var i in t){var o=t[i];"click"===i&&o&&o.modifiers&&o.modifiers.right&&r('Use "contextmenu" instead of "click.right" since right clicks do not actually fire "click" events.'),n+='"'+i+'":'+ui(i,o)+","}return n.slice(0,-1)+"}"}function ui(t,e){if(!e)return"function(){}";if(Array.isArray(e))return"["+e.map(function(e){return ui(t,e)}).join(",")+"]";var r=Zu.test(e.value),n=qu.test(e.value);if(e.modifiers){var i="",o="",a=[];for(var s in e.modifiers)Qu[s]?(o+=Qu[s],Ku[s]&&a.push(s)):a.push(s);a.length&&(i+=li(a)),o&&(i+=o);var u=r?e.value+"($event)":n?"("+e.value+")($event)":e.value;return"function($event){"+i+u+"}"}return r||n?e.value:"function($event){"+e.value+"}"}function li(t){return"if(!('button' in $event)&&"+t.map(ci).join("&&")+")return null;"}function ci(t){var e=parseInt(t,10);if(e)return"$event.keyCode!=="+e;var r=Ku[t];return"_k($event.keyCode,"+JSON.stringify(t)+(r?","+JSON.stringify(r):"")+")"}function hi(t,e){t.wrapData=function(r){return"_b("+r+",'"+t.tag+"',"+e.value+(e.modifiers&&e.modifiers.prop?",true":"")+")"}}function fi(t,e){var r=Mu,n=Mu=[],i=Au;Au=0,Pu=e,bu=e.warn||gr,wu=yr(e.modules,"transformCode"),Tu=yr(e.modules,"genData"),Eu=e.directives||{},Su=e.isReservedTag||oo;var o=t?di(t):'_c("div")';return Mu=r,Au=i,{render:"with(this){return "+o+"}",staticRenderFns:n}}function di(t){if(t.staticRoot&&!t.staticProcessed)return pi(t);if(t.once&&!t.onceProcessed)return vi(t);if(t.for&&!t.forProcessed)return yi(t);if(t.if&&!t.ifProcessed)return mi(t);if("template"!==t.tag||t.slotTarget){if("slot"===t.tag)return Ri(t);var e;if(t.component)e=Di(t.component,t);else{var r=t.plain?void 0:_i(t),n=t.inlineTemplate?null:Si(t,!0);e="_c('"+t.tag+"'"+(r?","+r:"")+(n?","+n:"")+")"}for(var i=0;i<wu.length;i++)e=wu[i](t,e);return e}return Si(t)||"void 0"}function pi(t){return t.staticProcessed=!0,Mu.push("with(this){return "+di(t)+"}"),"_m("+(Mu.length-1)+(t.staticInFor?",true":"")+")"}function vi(t){if(t.onceProcessed=!0,t.if&&!t.ifProcessed)return mi(t);if(t.staticInFor){for(var e="",r=t.parent;r;){if(r.for){e=r.key;break}r=r.parent}return e?"_o("+di(t)+","+Au++ +(e?","+e:"")+")":(bu("v-once can only be used inside v-for that is keyed. "),di(t))}return pi(t)}function mi(t){return t.ifProcessed=!0,gi(t.ifConditions.slice())}function gi(t){function e(t){return t.once?vi(t):di(t)}if(!t.length)return"_e()";var r=t.shift();return r.exp?"("+r.exp+")?"+e(r.block)+":"+gi(t):""+e(r.block);
}function yi(t){var e=t.for,r=t.alias,n=t.iterator1?","+t.iterator1:"",i=t.iterator2?","+t.iterator2:"";return Pi(t)&&"slot"!==t.tag&&"template"!==t.tag&&!t.key&&bu("<"+t.tag+' v-for="'+r+" in "+e+'">: component lists rendered with v-for should have explicit keys. See https://vuejs.org/guide/list.html#key for more info.',!0),t.forProcessed=!0,"_l(("+e+"),function("+r+n+i+"){return "+di(t)+"})"}function _i(t){var e="{",r=xi(t);r&&(e+=r+","),t.key&&(e+="key:"+t.key+","),t.ref&&(e+="ref:"+t.ref+","),t.refInFor&&(e+="refInFor:true,"),t.pre&&(e+="pre:true,"),t.component&&(e+='tag:"'+t.tag+'",');for(var n=0;n<Tu.length;n++)e+=Tu[n](t);if(t.attrs&&(e+="attrs:{"+Li(t.attrs)+"},"),t.props&&(e+="domProps:{"+Li(t.props)+"},"),t.events&&(e+=si(t.events,!1,bu)+","),t.nativeEvents&&(e+=si(t.nativeEvents,!0,bu)+","),t.slotTarget&&(e+="slot:"+t.slotTarget+","),t.scopedSlots&&(e+=wi(t.scopedSlots)+","),t.model&&(e+="model:{value:"+t.model.value+",callback:"+t.model.callback+",expression:"+t.model.expression+"},"),t.inlineTemplate){var i=bi(t);i&&(e+=i+",")}return e=e.replace(/,$/,"")+"}",t.wrapData&&(e=t.wrapData(e)),e}function xi(t){var e=t.directives;if(e){var r,n,i,o,a="directives:[",s=!1;for(r=0,n=e.length;r<n;r++){i=e[r],o=!0;var u=Eu[i.name]||$u[i.name];u&&(o=!!u(t,i,bu)),o&&(s=!0,a+='{name:"'+i.name+'",rawName:"'+i.rawName+'"'+(i.value?",value:("+i.value+"),expression:"+JSON.stringify(i.value):"")+(i.arg?',arg:"'+i.arg+'"':"")+(i.modifiers?",modifiers:"+JSON.stringify(i.modifiers):"")+"},")}return s?a.slice(0,-1)+"]":void 0}}function bi(t){var e=t.children[0];if((t.children.length>1||1!==e.type)&&bu("Inline-template components must have exactly one child element."),1===e.type){var r=fi(e,Pu);return"inlineTemplate:{render:function(){"+r.render+"},staticRenderFns:["+r.staticRenderFns.map(function(t){return"function(){"+t+"}"}).join(",")+"]}"}}function wi(t){return"scopedSlots:_u(["+Object.keys(t).map(function(e){return Ti(e,t[e])}).join(",")+"])"}function Ti(t,e){return e.for&&!e.forProcessed?Ei(t,e):"{key:"+t+",fn:function("+String(e.attrsMap.scope)+"){return "+("template"===e.tag?Si(e)||"void 0":di(e))+"}}"}function Ei(t,e){var r=e.for,n=e.alias,i=e.iterator1?","+e.iterator1:"",o=e.iterator2?","+e.iterator2:"";return e.forProcessed=!0,"_l(("+r+"),function("+n+i+o+"){return "+Ti(t,e)+"})"}function Si(t,e){var r=t.children;if(r.length){var n=r[0];if(1===r.length&&n.for&&"template"!==n.tag&&"slot"!==n.tag)return di(n);var i=e?Mi(r):0;return"["+r.map(Ci).join(",")+"]"+(i?","+i:"")}}function Mi(t){for(var e=0,r=0;r<t.length;r++){var n=t[r];if(1===n.type){if(Ai(n)||n.ifConditions&&n.ifConditions.some(function(t){return Ai(t.block)})){e=2;break}(Pi(n)||n.ifConditions&&n.ifConditions.some(function(t){return Pi(t.block)}))&&(e=1)}}return e}function Ai(t){return void 0!==t.for||"template"===t.tag||"slot"===t.tag}function Pi(t){return!Su(t.tag)}function Ci(t){return 1===t.type?di(t):Oi(t)}function Oi(t){return"_v("+(2===t.type?t.expression:Ii(JSON.stringify(t.text)))+")"}function Ri(t){var e=t.slotName||'"default"',r=Si(t),n="_t("+e+(r?","+r:""),i=t.attrs&&"{"+t.attrs.map(function(t){return eo(t.name)+":"+t.value}).join(",")+"}",o=t.attrsMap["v-bind"];return!i&&!o||r||(n+=",null"),i&&(n+=","+i),o&&(n+=(i?"":",null")+","+o),n+")"}function Di(t,e){var r=e.inlineTemplate?null:Si(e,!0);return"_c("+t+","+_i(e)+(r?","+r:"")+")"}function Li(t){for(var e="",r=0;r<t.length;r++){var n=t[r];e+='"'+n.name+'":'+Ii(n.value)+","}return e.slice(0,-1)}function Ii(t){return t.replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}function Fi(t){var e=[];return t&&Ni(t,e),e}function Ni(t,e){if(1===t.type){for(var r in t.attrsMap)if(Uu.test(r)){var n=t.attrsMap[r];n&&("v-for"===r?Ui(t,'v-for="'+n+'"',e):ku.test(r)?ki(n,r+'="'+n+'"',e):zi(n,r+'="'+n+'"',e))}if(t.children)for(var i=0;i<t.children.length;i++)Ni(t.children[i],e)}else 2===t.type&&zi(t.expression,t.text,e)}function ki(t,e,r){var n=t.replace(nl,""),i=n.match(el);i&&"$"!==n.charAt(i.index-1)&&r.push('avoid using JavaScript unary operator as property name: "'+i[0]+'" in expression '+e.trim()),zi(t,e,r)}function Ui(t,e,r){zi(t.for||"",e,r),Bi(t.alias,"v-for alias",e,r),Bi(t.iterator1,"v-for iterator",e,r),Bi(t.iterator2,"v-for iterator",e,r)}function Bi(t,e,r,n){"string"!=typeof t||rl.test(t)||n.push("invalid "+e+' "'+t+'" in expression: '+r.trim())}function zi(t,e,r){try{new Function("return "+t)}catch(i){var n=t.replace(nl,"").match(tl);n?r.push('avoid using JavaScript keyword as property name: "'+n[0]+'" in expression '+e.trim()):r.push("invalid expression: "+e.trim())}}function ji(t,e){var r=Ln(t.trim(),e);ti(r,e);var n=fi(r,e);return{ast:r,render:n.render,staticRenderFns:n.staticRenderFns}}function Gi(t,e){try{return new Function(t)}catch(r){return e.push({err:r,code:t}),_}}function Hi(t){function e(e,r){var n=Object.create(t),i=[],o=[];if(n.warn=function(t,e){(e?o:i).push(t)},r){r.modules&&(n.modules=(t.modules||[]).concat(r.modules)),r.directives&&(n.directives=g(Object.create(t.directives),r.directives));for(var a in r)"modules"!==a&&"directives"!==a&&(n[a]=r[a])}var s=ji(e,n);return i.push.apply(i,Fi(s.ast)),s.errors=i,s.tips=o,s}function r(t,r,i){r=r||{};try{new Function("return 1")}catch(t){t.toString().match(/unsafe-eval|CSP/)&&po("It seems you are using the standalone build of Vue.js in an environment with Content Security Policy that prohibits unsafe-eval. The template compiler cannot work in this environment. Consider relaxing the policy to allow unsafe-eval or pre-compiling your templates into render functions.")}var o=r.delimiters?String(r.delimiters)+t:t;if(n[o])return n[o];var a=e(t,r);a.errors&&a.errors.length&&po("Error compiling template:\n\n"+t+"\n\n"+a.errors.map(function(t){return"- "+t}).join("\n")+"\n",i),a.tips&&a.tips.length&&a.tips.forEach(function(t){return vo(t,i)});var s={},u=[];s.render=Gi(a.render,u);var l=a.staticRenderFns.length;s.staticRenderFns=new Array(l);for(var c=0;c<l;c++)s.staticRenderFns[c]=Gi(a.staticRenderFns[c],u);return a.errors&&a.errors.length||!u.length||po("Failed to generate render function:\n\n"+u.map(function(t){var e=t.err,r=t.code;return e.toString()+" in\n\n"+r+"\n"}).join("\n"),i),n[o]=s}var n=Object.create(null);return{compile:e,compileToFunctions:r}}function Xi(t,e){var r=e.warn||gr,n=Er(t,"class");if(n){var i=Dn(n,e.delimiters);i&&r('class="'+n+'": Interpolation inside attributes has been removed. Use v-bind or the colon shorthand instead. For example, instead of <div class="{{ val }}">, use <div :class="val">.')}n&&(t.staticClass=JSON.stringify(n));var o=Tr(t,"class",!1);o&&(t.classBinding=o)}function Vi(t){var e="";return t.staticClass&&(e+="staticClass:"+t.staticClass+","),t.classBinding&&(e+="class:"+t.classBinding+","),e}function Wi(t,e){var r=e.warn||gr,n=Er(t,"style");if(n){var i=Dn(n,e.delimiters);i&&r('style="'+n+'": Interpolation inside attributes has been removed. Use v-bind or the colon shorthand instead. For example, instead of <div style="{{ val }}">, use <div :style="val">.'),t.staticStyle=JSON.stringify(ys(n))}var o=Tr(t,"style",!1);o&&(t.styleBinding=o)}function Yi(t){var e="";return t.staticStyle&&(e+="staticStyle:"+t.staticStyle+","),t.styleBinding&&(e+="style:("+t.styleBinding+"),"),e}function qi(t,e){e.value&&_r(t,"textContent","_s("+e.value+")")}function Zi(t,e){e.value&&_r(t,"innerHTML","_s("+e.value+")")}function Ki(t){if(t.outerHTML)return t.outerHTML;var e=document.createElement("div");return e.appendChild(t.cloneNode(!0)),e.innerHTML}var Ji=Object.prototype.toString,Qi=h("slot,component",!0),$i=Object.prototype.hasOwnProperty,to=/-(\w)/g,eo=p(function(t){return t.replace(to,function(t,e){return e?e.toUpperCase():""})}),ro=p(function(t){return t.charAt(0).toUpperCase()+t.slice(1)}),no=/([^-])([A-Z])/g,io=p(function(t){return t.replace(no,"$1-$2").replace(no,"$1-$2").toLowerCase()}),oo=function(){return!1},ao=function(t){return t},so="data-server-rendered",uo=["component","directive","filter"],lo=["beforeCreate","created","beforeMount","mounted","beforeUpdate","updated","beforeDestroy","destroyed","activated","deactivated"],co={optionMergeStrategies:Object.create(null),silent:!1,productionTip:!0,devtools:!0,performance:!1,errorHandler:null,ignoredElements:[],keyCodes:Object.create(null),isReservedTag:oo,isReservedAttr:oo,isUnknownElement:oo,getTagNamespace:_,parsePlatformTagName:ao,mustUseProp:oo,_lifecycleHooks:lo},ho=Object.freeze({}),fo=/[^\w.$]/,po=_,vo=_,mo=null,go="undefined"!=typeof console,yo=/(?:^|[-_])(\w)/g,_o=function(t){return t.replace(yo,function(t){return t.toUpperCase()}).replace(/[-_]/g,"")};po=function(t,e){go&&!co.silent&&console.error("[Vue warn]: "+t+(e?bo(e):""))},vo=function(t,e){go&&!co.silent&&console.warn("[Vue tip]: "+t+(e?bo(e):""))},mo=function(t,e){if(t.$root===t)return"<Root>";var r="string"==typeof t?t:"function"==typeof t&&t.options?t.options.name:t._isVue?t.$options.name||t.$options._componentTag:t.name,n=t._isVue&&t.$options.__file;if(!r&&n){var i=n.match(/([^\/\\]+)\.vue$/);r=i&&i[1]}return(r?"<"+_o(r)+">":"<Anonymous>")+(n&&e!==!1?" at "+n:"")};var xo=function(t,e){for(var r="";e;)e%2===1&&(r+=t),e>1&&(t+=t),e>>=1;return r},bo=function(t){if(t._isVue&&t.$parent){for(var e=[],r=0;t;){if(e.length>0){var n=e[e.length-1];if(n.constructor===t.constructor){r++,t=t.$parent;continue}r>0&&(e[e.length-1]=[n,r],r=0)}e.push(t),t=t.$parent}return"\n\nfound in\n\n"+e.map(function(t,e){return""+(0===e?"---> ":xo(" ",5+2*e))+(Array.isArray(t)?mo(t[0])+"... ("+t[1]+" recursive calls)":mo(t))}).join("\n")}return"\n\n(found in "+mo(t)+")"},wo="__proto__"in{},To="undefined"!=typeof window,Eo=To&&window.navigator.userAgent.toLowerCase(),So=Eo&&/msie|trident/.test(Eo),Mo=Eo&&Eo.indexOf("msie 9.0")>0,Ao=Eo&&Eo.indexOf("edge/")>0,Po=Eo&&Eo.indexOf("android")>0,Co=Eo&&/iphone|ipad|ipod|ios/.test(Eo),Oo=Eo&&/chrome\/\d+/.test(Eo)&&!Ao,Ro=!1;if(To)try{var Do={};Object.defineProperty(Do,"passive",{get:function(){Ro=!0}}),window.addEventListener("test-passive",null,Do)}catch(t){}var Lo,Io,Fo=function(){return void 0===Lo&&(Lo=!To&&"undefined"!=typeof e&&"server"===e.process.env.VUE_ENV),Lo},No=To&&window.__VUE_DEVTOOLS_GLOBAL_HOOK__,ko="undefined"!=typeof Symbol&&P(Symbol)&&"undefined"!=typeof Reflect&&P(Reflect.ownKeys),Uo=function(){function t(){n=!1;var t=r.slice(0);r.length=0;for(var e=0;e<t.length;e++)t[e]()}var e,r=[],n=!1;if("undefined"!=typeof Promise&&P(Promise)){var i=Promise.resolve(),o=function(t){console.error(t)};e=function(){i.then(t).catch(o),Co&&setTimeout(_)}}else if("undefined"==typeof MutationObserver||!P(MutationObserver)&&"[object MutationObserverConstructor]"!==MutationObserver.toString())e=function(){setTimeout(t,0)};else{var a=1,s=new MutationObserver(t),u=document.createTextNode(String(a));s.observe(u,{characterData:!0}),e=function(){a=(a+1)%2,u.data=String(a)}}return function(t,i){var o;if(r.push(function(){if(t)try{t.call(i)}catch(t){A(t,i,"nextTick")}else o&&o(i)}),n||(n=!0,e()),!t&&"undefined"!=typeof Promise)return new Promise(function(t,e){o=t})}}();Io="undefined"!=typeof Set&&P(Set)?Set:function(){function t(){this.set=Object.create(null)}return t.prototype.has=function(t){return this.set[t]===!0},t.prototype.add=function(t){this.set[t]=!0},t.prototype.clear=function(){this.set=Object.create(null)},t}();var Bo=0,zo=function(){this.id=Bo++,this.subs=[]};zo.prototype.addSub=function(t){this.subs.push(t)},zo.prototype.removeSub=function(t){f(this.subs,t)},zo.prototype.depend=function(){zo.target&&zo.target.addDep(this)},zo.prototype.notify=function(){for(var t=this.subs.slice(),e=0,r=t.length;e<r;e++)t[e].update()},zo.target=null;var jo=[],Go=Array.prototype,Ho=Object.create(Go);["push","pop","shift","unshift","splice","sort","reverse"].forEach(function(t){var e=Go[t];S(Ho,t,function(){for(var r=arguments,n=arguments.length,i=new Array(n);n--;)i[n]=r[n];var o,a=e.apply(this,i),s=this.__ob__;switch(t){case"push":o=i;break;case"unshift":o=i;break;case"splice":o=i.slice(2)}return o&&s.observeArray(o),s.dep.notify(),a})});var Xo=Object.getOwnPropertyNames(Ho),Vo={shouldConvert:!0,isSettingProps:!1},Wo=function(t){if(this.value=t,this.dep=new zo,this.vmCount=0,S(t,"__ob__",this),Array.isArray(t)){var e=wo?R:D;e(t,Ho,Xo),this.observeArray(t)}else this.walk(t)};Wo.prototype.walk=function(t){for(var e=Object.keys(t),r=0;r<e.length;r++)I(t,e[r],t[e[r]])},Wo.prototype.observeArray=function(t){for(var e=0,r=t.length;e<r;e++)L(t[e])};var Yo=co.optionMergeStrategies;Yo.el=Yo.propsData=function(t,e,r,n){return r||po('option "'+n+'" can only be used during instance creation with the `new` keyword.'),Ko(t,e)},Yo.data=function(t,e,r){return r?t||e?function(){var n="function"==typeof e?e.call(r):e,i="function"==typeof t?t.call(r):void 0;return n?U(n,i):i}:void 0:e?"function"!=typeof e?(po('The "data" option should be a function that returns a per-instance value in component definitions.',r),t):t?function(){return U(e.call(this),t.call(this))}:e:t},lo.forEach(function(t){Yo[t]=B}),uo.forEach(function(t){Yo[t+"s"]=z}),Yo.watch=function(t,e){if(!e)return Object.create(t||null);if(!t)return e;var r={};g(r,t);for(var n in e){var i=r[n],o=e[n];i&&!Array.isArray(i)&&(i=[i]),r[n]=i?i.concat(o):[o]}return r},Yo.props=Yo.methods=Yo.computed=function(t,e){if(!e)return Object.create(t||null);if(!t)return e;var r=Object.create(null);return g(r,t),g(r,e),r};var qo,Zo,Ko=function(t,e){return void 0===e?t:e},Jo=/^(String|Number|Boolean|Function|Symbol)$/,Qo=To&&window.performance;Qo&&Qo.mark&&Qo.measure&&Qo.clearMarks&&Qo.clearMeasures&&(qo=function(t){return Qo.mark(t)},Zo=function(t,e,r){Qo.measure(t,e,r),Qo.clearMarks(e),Qo.clearMarks(r),Qo.clearMeasures(t)});var $o,ta=h("Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,require"),ea=function(t,e){po('Property or method "'+e+'" is not defined on the instance but referenced during render. Make sure to declare reactive data properties in the data option.',t)},ra="undefined"!=typeof Proxy&&Proxy.toString().match(/native code/);if(ra){var na=h("stop,prevent,self,ctrl,shift,alt,meta");co.keyCodes=new Proxy(co.keyCodes,{set:function(t,e,r){return na(e)?(po("Avoid overwriting built-in modifier in config.keyCodes: ."+e),!1):(t[e]=r,!0)}})}var ia={has:function t(e,r){var t=r in e,n=ta(r)||"_"===r.charAt(0);return t||n||ea(e,r),t||!n}},oa={get:function(t,e){return"string"!=typeof e||e in t||ea(t,e),t[e]}};$o=function(t){if(ra){var e=t.$options,r=e.render&&e.render._withStripped?oa:ia;t._renderProxy=new Proxy(t,r)}else t._renderProxy=t};var aa=function(t,e,r,n,i,o,a){this.tag=t,this.data=e,this.children=r,this.text=n,this.elm=i,this.ns=void 0,this.context=o,this.functionalContext=void 0,this.key=e&&e.key,this.componentOptions=a,this.componentInstance=void 0,this.parent=void 0,this.raw=!1,this.isStatic=!1,this.isRootInsert=!0,this.isComment=!1,this.isCloned=!1,this.isOnce=!1},sa={child:{}};sa.child.get=function(){return this.componentInstance},Object.defineProperties(aa.prototype,sa);var ua,la=function(){var t=new aa;return t.text="",t.isComment=!0,t},ca=p(function(t){var e="&"===t.charAt(0);t=e?t.slice(1):t;var r="~"===t.charAt(0);t=r?t.slice(1):t;var n="!"===t.charAt(0);return t=n?t.slice(1):t,{name:t,once:r,capture:n,passive:e}}),ha=null,fa=100,da=[],pa=[],va={},ma={},ga=!1,ya=!1,_a=0,xa=0,ba=function(t,e,r,n){this.vm=t,t._watchers.push(this),n?(this.deep=!!n.deep,this.user=!!n.user,this.lazy=!!n.lazy,this.sync=!!n.sync):this.deep=this.user=this.lazy=this.sync=!1,this.cb=r,this.id=++xa,this.active=!0,this.dirty=this.lazy,this.deps=[],this.newDeps=[],this.depIds=new Io,this.newDepIds=new Io,this.expression=e.toString(),"function"==typeof e?this.getter=e:(this.getter=M(e),this.getter||(this.getter=function(){},po('Failed watching path: "'+e+'" Watcher only accepts simple dot-delimited paths. For full control, use a function instead.',t))),this.value=this.lazy?void 0:this.get()};ba.prototype.get=function(){C(this);var t,e=this.vm;if(this.user)try{t=this.getter.call(e,e)}catch(t){A(t,e,'getter for watcher "'+this.expression+'"')}else t=this.getter.call(e,e);return this.deep&&Ft(t),O(),this.cleanupDeps(),t},ba.prototype.addDep=function(t){var e=t.id;this.newDepIds.has(e)||(this.newDepIds.add(e),this.newDeps.push(t),this.depIds.has(e)||t.addSub(this))},ba.prototype.cleanupDeps=function(){for(var t=this,e=this.deps.length;e--;){var r=t.deps[e];t.newDepIds.has(r.id)||r.removeSub(t)}var n=this.depIds;this.depIds=this.newDepIds,this.newDepIds=n,this.newDepIds.clear(),n=this.deps,this.deps=this.newDeps,this.newDeps=n,this.newDeps.length=0},ba.prototype.update=function(){this.lazy?this.dirty=!0:this.sync?this.run():It(this)},ba.prototype.run=function(){if(this.active){var t=this.get();if(t!==this.value||a(t)||this.deep){var e=this.value;if(this.value=t,this.user)try{this.cb.call(this.vm,t,e)}catch(t){A(t,this.vm,'callback for watcher "'+this.expression+'"')}else this.cb.call(this.vm,t,e)}}},ba.prototype.evaluate=function(){this.value=this.get(),this.dirty=!1},ba.prototype.depend=function(){for(var t=this,e=this.deps.length;e--;)t.deps[e].depend()},ba.prototype.teardown=function(){var t=this;if(this.active){this.vm._isBeingDestroyed||f(this.vm._watchers,this);for(var e=this.deps.length;e--;)t.deps[e].removeSub(t);this.active=!1}};var wa=new Io,Ta={enumerable:!0,configurable:!0,get:_,set:_},Ea={key:1,ref:1,slot:1},Sa={lazy:!0},Ma={init:function(t,e,r,n){if(!t.componentInstance||t.componentInstance._isDestroyed){var i=t.componentInstance=ee(t,ha,r,n);i.$mount(e?t.elm:void 0,e)}else if(t.data.keepAlive){var o=t;Ma.prepatch(o,o)}},prepatch:function(t,e){var r=e.componentOptions,n=e.componentInstance=t.componentInstance;Et(n,r.propsData,r.listeners,e,r.children)},insert:function(t){var e=t.context,r=t.componentInstance;r._isMounted||(r._isMounted=!0,Pt(r,"mounted")),t.data.keepAlive&&(e._isMounted?Dt(r):Mt(r,!0))},destroy:function(t){var e=t.componentInstance;e._isDestroyed||(t.data.keepAlive?At(e,!0):e.$destroy())}},Aa=Object.keys(Ma),Pa=1,Ca=2,Oa=0;_e(Ee),qt(Ee),gt(Ee),wt(Ee),ye(Ee);var Ra=[String,RegExp],Da={name:"keep-alive",abstract:!0,props:{include:Ra,exclude:Ra},created:function(){this.cache=Object.create(null)},destroyed:function(){var t=this;for(var e in t.cache)Ie(t.cache[e])},watch:{include:function(t){Le(this.cache,this._vnode,function(e){return De(t,e)})},exclude:function(t){Le(this.cache,this._vnode,function(e){return!De(t,e)})}},render:function(){var t=ft(this.$slots.default),e=t&&t.componentOptions;if(e){var r=Re(e);if(r&&(this.include&&!De(this.include,r)||this.exclude&&De(this.exclude,r)))return t;var n=null==t.key?e.Ctor.cid+(e.tag?"::"+e.tag:""):t.key;this.cache[n]?t.componentInstance=this.cache[n].componentInstance:this.cache[n]=t,t.data.keepAlive=!0}return t}},La={KeepAlive:Da};Fe(Ee),Object.defineProperty(Ee.prototype,"$isServer",{get:Fo}),Object.defineProperty(Ee.prototype,"$ssrContext",{get:function(){return this.$vnode.ssrContext}}),Ee.version="2.3.4";var Ia,Fa,Na,ka,Ua,Ba,za,ja,Ga,Ha=h("style,class"),Xa=h("input,textarea,option,select"),Va=function(t,e,r){return"value"===r&&Xa(t)&&"button"!==e||"selected"===r&&"option"===t||"checked"===r&&"input"===t||"muted"===r&&"video"===t},Wa=h("contenteditable,draggable,spellcheck"),Ya=h("allowfullscreen,async,autofocus,autoplay,checked,compact,controls,declare,default,defaultchecked,defaultmuted,defaultselected,defer,disabled,enabled,formnovalidate,hidden,indeterminate,inert,ismap,itemscope,loop,multiple,muted,nohref,noresize,noshade,novalidate,nowrap,open,pauseonexit,readonly,required,reversed,scoped,seamless,selected,sortable,translate,truespeed,typemustmatch,visible"),qa="http://www.w3.org/1999/xlink",Za=function(t){return":"===t.charAt(5)&&"xlink"===t.slice(0,5)},Ka=function(t){return Za(t)?t.slice(6,t.length):""},Ja=function(t){return null==t||t===!1},Qa={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"},$a=h("html,body,base,head,link,meta,style,title,address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,hgroup,nav,section,div,dd,dl,dt,figcaption,figure,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,rtc,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,menuitem,summary,content,element,shadow,template"),ts=h("svg,animate,circle,clippath,cursor,defs,desc,ellipse,filter,font-face,foreignObject,g,glyph,image,line,marker,mask,missing-glyph,path,pattern,polygon,polyline,rect,switch,symbol,text,textpath,tspan,use,view",!0),es=function(t){return"pre"===t},rs=function(t){return $a(t)||ts(t)},ns=Object.create(null),is=Object.freeze({createElement:Xe,createElementNS:Ve,createTextNode:We,createComment:Ye,insertBefore:qe,removeChild:Ze,appendChild:Ke,parentNode:Je,nextSibling:Qe,tagName:$e,setTextContent:tr,setAttribute:er}),os={create:function(t,e){rr(e)},update:function(t,e){t.data.ref!==e.data.ref&&(rr(t,!0),rr(e))},destroy:function(t){rr(t,!0)}},as=new aa("",{},[]),ss=["create","activate","update","remove","destroy"],us={create:sr,update:sr,destroy:function(t){sr(t,as)}},ls=Object.create(null),cs=[os,us],hs={create:fr,update:fr},fs={create:pr,update:pr},ds=/[\w).+\-_$\]]/,ps="__r",vs="__c",ms={create:jr,update:jr},gs={create:Gr,update:Gr},ys=p(function(t){var e={},r=/;(?![^(]*\))/g,n=/:(.+)/;return t.split(r).forEach(function(t){if(t){var r=t.split(n);r.length>1&&(e[r[0].trim()]=r[1].trim())}}),e}),_s=/^--/,xs=/\s*!important$/,bs=function(t,e,r){if(_s.test(e))t.style.setProperty(e,r);else if(xs.test(r))t.style.setProperty(e,r.replace(xs,""),"important");else{var n=Ts(e);if(Array.isArray(r))for(var i=0,o=r.length;i<o;i++)t.style[n]=r[i];else t.style[n]=r}},ws=["Webkit","Moz","ms"],Ts=p(function(t){if(Ga=Ga||document.createElement("div"),t=eo(t),"filter"!==t&&t in Ga.style)return t;for(var e=t.charAt(0).toUpperCase()+t.slice(1),r=0;r<ws.length;r++){var n=ws[r]+e;if(n in Ga.style)return n}}),Es={create:Zr,update:Zr},Ss=p(function(t){return{enterClass:t+"-enter",enterToClass:t+"-enter-to",enterActiveClass:t+"-enter-active",leaveClass:t+"-leave",leaveToClass:t+"-leave-to",leaveActiveClass:t+"-leave-active"}}),Ms=To&&!Mo,As="transition",Ps="animation",Cs="transition",Os="transitionend",Rs="animation",Ds="animationend";Ms&&(void 0===window.ontransitionend&&void 0!==window.onwebkittransitionend&&(Cs="WebkitTransition",Os="webkitTransitionEnd"),void 0===window.onanimationend&&void 0!==window.onwebkitanimationend&&(Rs="WebkitAnimation",Ds="webkitAnimationEnd"));var Ls=To&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):setTimeout,Is=/\b(transform|all)(,|$)/,Fs=To?{create:fn,activate:fn,remove:function(t,e){t.data.show!==!0?un(t,e):e()}}:{},Ns=[hs,fs,ms,gs,Es,Fs],ks=Ns.concat(cs),Us=ar({nodeOps:is,modules:ks});Mo&&document.addEventListener("selectionchange",function(){var t=document.activeElement;t&&t.vmodel&&yn(t,"input")});var Bs={inserted:function(t,e,r){if("select"===r.tag){var n=function(){dn(t,e,r.context)};n(),(So||Ao)&&setTimeout(n,0)}else"textarea"!==r.tag&&"text"!==t.type&&"password"!==t.type||(t._vModifiers=e.modifiers,e.modifiers.lazy||(t.addEventListener("change",gn),Po||(t.addEventListener("compositionstart",mn),t.addEventListener("compositionend",gn)),Mo&&(t.vmodel=!0)))},componentUpdated:function(t,e,r){if("select"===r.tag){dn(t,e,r.context);var n=t.multiple?e.value.some(function(e){return pn(e,t.options)}):e.value!==e.oldValue&&pn(e.value,t.options);n&&yn(t,"change")}}},zs={bind:function(t,e,r){var n=e.value;r=_n(r);var i=r.data&&r.data.transition,o=t.__vOriginalDisplay="none"===t.style.display?"":t.style.display;n&&i&&!Mo?(r.data.show=!0,sn(r,function(){t.style.display=o})):t.style.display=n?o:"none"},update:function(t,e,r){var n=e.value,i=e.oldValue;if(n!==i){r=_n(r);var o=r.data&&r.data.transition;o&&!Mo?(r.data.show=!0,n?sn(r,function(){t.style.display=t.__vOriginalDisplay}):un(r,function(){t.style.display="none"})):t.style.display=n?t.__vOriginalDisplay:"none"}},unbind:function(t,e,r,n,i){i||(t.style.display=t.__vOriginalDisplay)}},js={model:Bs,show:zs},Gs={name:String,appear:Boolean,css:Boolean,mode:String,type:String,enterClass:String,leaveClass:String,enterToClass:String,leaveToClass:String,enterActiveClass:String,leaveActiveClass:String,appearClass:String,appearActiveClass:String,appearToClass:String,duration:[Number,String,Object]},Hs={name:"transition",props:Gs,abstract:!0,render:function(t){var e=this,r=this.$slots.default;if(r&&(r=r.filter(function(t){return t.tag}),r.length)){r.length>1&&po("<transition> can only be used on a single element. Use <transition-group> for lists.",this.$parent);var n=this.mode;n&&"in-out"!==n&&"out-in"!==n&&po("invalid <transition> mode: "+n,this.$parent);var i=r[0];if(Tn(this.$vnode))return i;var a=xn(i);if(!a)return i;if(this._leaving)return wn(t,i);var s="__transition-"+this._uid+"-";a.key=null==a.key?s+a.tag:o(a.key)?0===String(a.key).indexOf(s)?a.key:s+a.key:a.key;var u=(a.data||(a.data={})).transition=bn(this),l=this._vnode,c=xn(l);if(a.data.directives&&a.data.directives.some(function(t){return"show"===t.name})&&(a.data.show=!0),c&&c.data&&!En(a,c)){var h=c&&(c.data.transition=g({},u));if("out-in"===n)return this._leaving=!0,nt(h,"afterLeave",function(){e._leaving=!1,e.$forceUpdate()}),wn(t,i);if("in-out"===n){var f,d=function(){f()};nt(u,"afterEnter",d),nt(u,"enterCancelled",d),nt(h,"delayLeave",function(t){f=t})}}return i}}},Xs=g({tag:String,moveClass:String},Gs);delete Xs.mode;var Vs={props:Xs,render:function(t){for(var e=this.tag||this.$vnode.data.tag||"span",r=Object.create(null),n=this.prevChildren=this.children,i=this.$slots.default||[],o=this.children=[],a=bn(this),s=0;s<i.length;s++){var u=i[s];if(u.tag)if(null!=u.key&&0!==String(u.key).indexOf("__vlist"))o.push(u),r[u.key]=u,(u.data||(u.data={})).transition=a;else{var l=u.componentOptions,c=l?l.Ctor.options.name||l.tag||"":u.tag;po("<transition-group> children must be keyed: <"+c+">")}}if(n){for(var h=[],f=[],d=0;d<n.length;d++){var p=n[d];p.data.transition=a,p.data.pos=p.elm.getBoundingClientRect(),r[p.key]?h.push(p):f.push(p)}this.kept=t(e,null,h),this.removed=f}return t(e,null,o)},beforeUpdate:function(){this.__patch__(this._vnode,this.kept,!1,!0),this._vnode=this.kept},updated:function(){var t=this.prevChildren,e=this.moveClass||(this.name||"v")+"-move";if(t.length&&this.hasMove(t[0].elm,e)){t.forEach(Sn),t.forEach(Mn),t.forEach(An);var r=document.body;r.offsetHeight;t.forEach(function(t){if(t.data.moved){var r=t.elm,n=r.style;tn(r,e),n.transform=n.WebkitTransform=n.transitionDuration="",r.addEventListener(Os,r._moveCb=function t(n){n&&!/transform$/.test(n.propertyName)||(r.removeEventListener(Os,t),r._moveCb=null,en(r,e))})}})}},methods:{hasMove:function(t,e){if(!Ms)return!1;if(null!=this._hasMove)return this._hasMove;var r=t.cloneNode();t._transitionClasses&&t._transitionClasses.forEach(function(t){Jr(r,t)}),Kr(r,e),r.style.display="none",this.$el.appendChild(r);var n=nn(r);return this.$el.removeChild(r),this._hasMove=n.hasTransform}}},Ws={Transition:Hs,TransitionGroup:Vs};Ee.config.mustUseProp=Va,Ee.config.isReservedTag=rs,Ee.config.isReservedAttr=Ha,Ee.config.getTagNamespace=je,Ee.config.isUnknownElement=Ge,g(Ee.options.directives,js),g(Ee.options.components,Ws),Ee.prototype.__patch__=To?Us:_,Ee.prototype.$mount=function(t,e){return t=t&&To?He(t):void 0,Tt(this,t,e)},setTimeout(function(){co.devtools&&(No?No.emit("init",Ee):Oo&&console[console.info?"info":"log"]("Download the Vue Devtools extension for a better development experience:\nhttps://github.com/vuejs/vue-devtools")),co.productionTip!==!1&&To&&"undefined"!=typeof console&&console[console.info?"info":"log"]("You are running Vue in development mode.\nMake sure to turn on production mode when deploying for production.\nSee more tips at https://vuejs.org/guide/deployment.html")},0);var Ys,qs=!!To&&Pn("\n","&#10;"),Zs=h("area,base,br,col,embed,frame,hr,img,input,isindex,keygen,link,meta,param,source,track,wbr"),Ks=h("colgroup,dd,dt,li,options,p,td,tfoot,th,thead,tr,source"),Js=h("address,article,aside,base,blockquote,body,caption,col,colgroup,dd,details,dialog,div,dl,dt,fieldset,figcaption,figure,footer,form,h1,h2,h3,h4,h5,h6,head,header,hgroup,hr,html,legend,li,menuitem,meta,optgroup,option,param,rp,rt,source,style,summary,tbody,td,tfoot,th,thead,title,tr,track"),Qs=/([^\s"'<>\/=]+)/,$s=/(?:=)/,tu=[/"([^"]*)"+/.source,/'([^']*)'+/.source,/([^\s"'=<>`]+)/.source],eu=new RegExp("^\\s*"+Qs.source+"(?:\\s*("+$s.source+")\\s*(?:"+tu.join("|")+"))?"),ru="[a-zA-Z_][\\w\\-\\.]*",nu="((?:"+ru+"\\:)?"+ru+")",iu=new RegExp("^<"+nu),ou=/^\s*(\/?)>/,au=new RegExp("^<\\/"+nu+"[^>]*>"),su=/^<!DOCTYPE [^>]+>/i,uu=/^<!--/,lu=/^<!\[/,cu=!1;"x".replace(/x(.)?/g,function(t,e){cu=""===e});var hu,fu,du,pu,vu,mu,gu,yu,_u,xu,bu,wu,Tu,Eu,Su,Mu,Au,Pu,Cu=h("script,style,textarea",!0),Ou={},Ru={"&lt;":"<","&gt;":">","&quot;":'"',"&amp;":"&","&#10;":"\n"},Du=/&(?:lt|gt|quot|amp);/g,Lu=/&(?:lt|gt|quot|amp|#10);/g,Iu=/\{\{((?:.|\n)+?)\}\}/g,Fu=/[-.*+?^${}()|[\]\/\\]/g,Nu=p(function(t){var e=t[0].replace(Fu,"\\$&"),r=t[1].replace(Fu,"\\$&");return new RegExp(e+"((?:.|\\n)+?)"+r,"g")}),ku=/^@|^v-on:/,Uu=/^v-|^@|^:/,Bu=/(.*?)\s+(?:in|of)\s+(.*)/,zu=/\((\{[^}]*\}|[^,]*),([^,]*)(?:,([^,]*))?\)/,ju=/:(.*)$/,Gu=/^:|^v-bind:/,Hu=/\.[^.]+/g,Xu=p(Cn),Vu=/^xmlns:NS\d+/,Wu=/^NS\d+:/,Yu=p(ei),qu=/^\s*([\w$_]+|\([^)]*?\))\s*=>|^function\s*\(/,Zu=/^\s*[A-Za-z_$][\w$]*(?:\.[A-Za-z_$][\w$]*|\['.*?']|\[".*?"]|\[\d+]|\[[A-Za-z_$][\w$]*])*\s*$/,Ku={esc:27,tab:9,enter:13,space:32,up:38,left:37,right:39,down:40,delete:[8,46]},Ju=function(t){return"if("+t+")return null;"},Qu={stop:"$event.stopPropagation();",prevent:"$event.preventDefault();",self:Ju("$event.target !== $event.currentTarget"),ctrl:Ju("!$event.ctrlKey"),shift:Ju("!$event.shiftKey"),alt:Ju("!$event.altKey"),meta:Ju("!$event.metaKey"),left:Ju("'button' in $event && $event.button !== 0"),middle:Ju("'button' in $event && $event.button !== 1"),right:Ju("'button' in $event && $event.button !== 2")},$u={bind:hi,cloak:_},tl=new RegExp("\\b"+"do,if,for,let,new,try,var,case,else,with,await,break,catch,class,const,super,throw,while,yield,delete,export,import,return,switch,default,extends,finally,continue,debugger,function,arguments".split(",").join("\\b|\\b")+"\\b"),el=new RegExp("\\b"+"delete,typeof,void".split(",").join("\\s*\\([^\\)]*\\)|\\b")+"\\s*\\([^\\)]*\\)"),rl=/[A-Za-z_$][\w$]*/,nl=/'(?:[^'\\]|\\.)*'|"(?:[^"\\]|\\.)*"|`(?:[^`\\]|\\.)*\$\{|\}(?:[^`\\]|\\.)*`|`(?:[^`\\]|\\.)*`/g,il={staticKeys:["staticClass"],transformNode:Xi,genData:Vi},ol={staticKeys:["staticStyle"],transformNode:Wi,genData:Yi},al=[il,ol],sl={model:Lr,text:qi,html:Zi},ul={expectHTML:!0,modules:al,directives:sl,isPreTag:es,isUnaryTag:Zs,mustUseProp:Va,canBeLeftOpenTag:Ks,isReservedTag:rs,getTagNamespace:je,staticKeys:x(al)},ll=Hi(ul),cl=ll.compileToFunctions,hl=p(function(t){var e=He(t);return e&&e.innerHTML}),fl=Ee.prototype.$mount;return Ee.prototype.$mount=function(t,e){if(t=t&&He(t),t===document.body||t===document.documentElement)return po("Do not mount Vue to <html> or <body> - mount to normal elements instead."),this;var r=this.$options;if(!r.render){var n=r.template;if(n)if("string"==typeof n)"#"===n.charAt(0)&&(n=hl(n),n||po("Template element not found or is empty: "+r.template,this));else{if(!n.nodeType)return po("invalid template option:"+n,this),this;n=n.innerHTML}else t&&(n=Ki(t));if(n){co.performance&&qo&&qo("compile");var i=cl(n,{shouldDecodeNewlines:qs,delimiters:r.delimiters},this),o=i.render,a=i.staticRenderFns;r.render=o,r.staticRenderFns=a,co.performance&&qo&&(qo("compile end"),Zo(this._name+" compile","compile","compile end"))}}return fl.call(this,t,e)},Ee.compile=cl,Ee})}).call(e,function(){return this}())},function(t,e){t.exports=function(t){
return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children=[],t.webpackPolyfill=1),t}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,r){var n,i;(function(o){/*!
	 * VERSION: 1.19.1
	 * DATE: 2017-01-17
	 * UPDATES AND DOCS AT: http://greensock.com
	 * 
	 * Includes all of the following: TweenLite, TweenMax, TimelineLite, TimelineMax, EasePack, CSSPlugin, RoundPropsPlugin, BezierPlugin, AttrPlugin, DirectionalRotationPlugin
	 *
	 * @license Copyright (c) 2008-2017, GreenSock. All rights reserved.
	 * This work is subject to the terms at http://greensock.com/standard-license or for
	 * Club GreenSock members, the software agreement that was issued with your membership.
	 * 
	 * @author: Jack Doyle, jack@greensock.com
	 **/
var a="undefined"!=typeof t&&t.exports&&"undefined"!=typeof o?o:this||window;(a._gsQueue||(a._gsQueue=[])).push(function(){"use strict";a._gsDefine("TweenMax",["core.Animation","core.SimpleTimeline","TweenLite"],function(t,e,r){var n=function(t){var e,r=[],n=t.length;for(e=0;e!==n;r.push(t[e++]));return r},i=function(t,e,r){var n,i,o=t.cycle;for(n in o)i=o[n],t[n]="function"==typeof i?i(r,e[r]):i[r%i.length];delete t.cycle},o=function(t,e,n){r.call(this,t,e,n),this._cycle=0,this._yoyo=this.vars.yoyo===!0,this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._dirty=!0,this.render=o.prototype.render},a=1e-10,s=r._internals,u=s.isSelector,l=s.isArray,c=o.prototype=r.to({},.1,{}),h=[];o.version="1.19.1",c.constructor=o,c.kill()._gc=!1,o.killTweensOf=o.killDelayedCallsTo=r.killTweensOf,o.getTweensOf=r.getTweensOf,o.lagSmoothing=r.lagSmoothing,o.ticker=r.ticker,o.render=r.render,c.invalidate=function(){return this._yoyo=this.vars.yoyo===!0,this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._uncache(!0),r.prototype.invalidate.call(this)},c.updateTo=function(t,e){var n,i=this.ratio,o=this.vars.immediateRender||t.immediateRender;e&&this._startTime<this._timeline._time&&(this._startTime=this._timeline._time,this._uncache(!1),this._gc?this._enabled(!0,!1):this._timeline.insert(this,this._startTime-this._delay));for(n in t)this.vars[n]=t[n];if(this._initted||o)if(e)this._initted=!1,o&&this.render(0,!0,!0);else if(this._gc&&this._enabled(!0,!1),this._notifyPluginsOfEnabled&&this._firstPT&&r._onPluginEvent("_onDisable",this),this._time/this._duration>.998){var a=this._totalTime;this.render(0,!0,!1),this._initted=!1,this.render(a,!0,!1)}else if(this._initted=!1,this._init(),this._time>0||o)for(var s,u=1/(1-i),l=this._firstPT;l;)s=l.s+l.c,l.c*=u,l.s=s-l.c,l=l._next;return this},c.render=function(t,e,r){this._initted||0===this._duration&&this.vars.repeat&&this.invalidate();var n,i,o,u,l,c,h,f,d=this._dirty?this.totalDuration():this._totalDuration,p=this._time,v=this._totalTime,m=this._cycle,g=this._duration,y=this._rawPrevTime;if(t>=d-1e-7&&t>=0?(this._totalTime=d,this._cycle=this._repeat,this._yoyo&&0!==(1&this._cycle)?(this._time=0,this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0):(this._time=g,this.ratio=this._ease._calcEnd?this._ease.getRatio(1):1),this._reversed||(n=!0,i="onComplete",r=r||this._timeline.autoRemoveChildren),0===g&&(this._initted||!this.vars.lazy||r)&&(this._startTime===this._timeline._duration&&(t=0),(y<0||t<=0&&t>=-1e-7||y===a&&"isPause"!==this.data)&&y!==t&&(r=!0,y>a&&(i="onReverseComplete")),this._rawPrevTime=f=!e||t||y===t?t:a)):t<1e-7?(this._totalTime=this._time=this._cycle=0,this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0,(0!==v||0===g&&y>0)&&(i="onReverseComplete",n=this._reversed),t<0&&(this._active=!1,0===g&&(this._initted||!this.vars.lazy||r)&&(y>=0&&(r=!0),this._rawPrevTime=f=!e||t||y===t?t:a)),this._initted||(r=!0)):(this._totalTime=this._time=t,0!==this._repeat&&(u=g+this._repeatDelay,this._cycle=this._totalTime/u>>0,0!==this._cycle&&this._cycle===this._totalTime/u&&v<=t&&this._cycle--,this._time=this._totalTime-this._cycle*u,this._yoyo&&0!==(1&this._cycle)&&(this._time=g-this._time),this._time>g?this._time=g:this._time<0&&(this._time=0)),this._easeType?(l=this._time/g,c=this._easeType,h=this._easePower,(1===c||3===c&&l>=.5)&&(l=1-l),3===c&&(l*=2),1===h?l*=l:2===h?l*=l*l:3===h?l*=l*l*l:4===h&&(l*=l*l*l*l),1===c?this.ratio=1-l:2===c?this.ratio=l:this._time/g<.5?this.ratio=l/2:this.ratio=1-l/2):this.ratio=this._ease.getRatio(this._time/g)),p===this._time&&!r&&m===this._cycle)return void(v!==this._totalTime&&this._onUpdate&&(e||this._callback("onUpdate")));if(!this._initted){if(this._init(),!this._initted||this._gc)return;if(!r&&this._firstPT&&(this.vars.lazy!==!1&&this._duration||this.vars.lazy&&!this._duration))return this._time=p,this._totalTime=v,this._rawPrevTime=y,this._cycle=m,s.lazyTweens.push(this),void(this._lazy=[t,e]);this._time&&!n?this.ratio=this._ease.getRatio(this._time/g):n&&this._ease._calcEnd&&(this.ratio=this._ease.getRatio(0===this._time?0:1))}for(this._lazy!==!1&&(this._lazy=!1),this._active||!this._paused&&this._time!==p&&t>=0&&(this._active=!0),0===v&&(2===this._initted&&t>0&&this._init(),this._startAt&&(t>=0?this._startAt.render(t,e,r):i||(i="_dummyGS")),this.vars.onStart&&(0===this._totalTime&&0!==g||e||this._callback("onStart"))),o=this._firstPT;o;)o.f?o.t[o.p](o.c*this.ratio+o.s):o.t[o.p]=o.c*this.ratio+o.s,o=o._next;this._onUpdate&&(t<0&&this._startAt&&this._startTime&&this._startAt.render(t,e,r),e||(this._totalTime!==v||i)&&this._callback("onUpdate")),this._cycle!==m&&(e||this._gc||this.vars.onRepeat&&this._callback("onRepeat")),i&&(this._gc&&!r||(t<0&&this._startAt&&!this._onUpdate&&this._startTime&&this._startAt.render(t,e,r),n&&(this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!e&&this.vars[i]&&this._callback(i),0===g&&this._rawPrevTime===a&&f!==a&&(this._rawPrevTime=0)))},o.to=function(t,e,r){return new o(t,e,r)},o.from=function(t,e,r){return r.runBackwards=!0,r.immediateRender=0!=r.immediateRender,new o(t,e,r)},o.fromTo=function(t,e,r,n){return n.startAt=r,n.immediateRender=0!=n.immediateRender&&0!=r.immediateRender,new o(t,e,n)},o.staggerTo=o.allTo=function(t,e,a,s,c,f,d){s=s||0;var p,v,m,g,y=0,_=[],x=function(){a.onComplete&&a.onComplete.apply(a.onCompleteScope||this,arguments),c.apply(d||a.callbackScope||this,f||h)},b=a.cycle,w=a.startAt&&a.startAt.cycle;for(l(t)||("string"==typeof t&&(t=r.selector(t)||t),u(t)&&(t=n(t))),t=t||[],s<0&&(t=n(t),t.reverse(),s*=-1),p=t.length-1,m=0;m<=p;m++){v={};for(g in a)v[g]=a[g];if(b&&(i(v,t,m),null!=v.duration&&(e=v.duration,delete v.duration)),w){w=v.startAt={};for(g in a.startAt)w[g]=a.startAt[g];i(v.startAt,t,m)}v.delay=y+(v.delay||0),m===p&&c&&(v.onComplete=x),_[m]=new o(t[m],e,v),y+=s}return _},o.staggerFrom=o.allFrom=function(t,e,r,n,i,a,s){return r.runBackwards=!0,r.immediateRender=0!=r.immediateRender,o.staggerTo(t,e,r,n,i,a,s)},o.staggerFromTo=o.allFromTo=function(t,e,r,n,i,a,s,u){return n.startAt=r,n.immediateRender=0!=n.immediateRender&&0!=r.immediateRender,o.staggerTo(t,e,n,i,a,s,u)},o.delayedCall=function(t,e,r,n,i){return new o(e,0,{delay:t,onComplete:e,onCompleteParams:r,callbackScope:n,onReverseComplete:e,onReverseCompleteParams:r,immediateRender:!1,useFrames:i,overwrite:0})},o.set=function(t,e){return new o(t,0,e)},o.isTweening=function(t){return r.getTweensOf(t,!0).length>0};var f=function(t,e){for(var n=[],i=0,o=t._first;o;)o instanceof r?n[i++]=o:(e&&(n[i++]=o),n=n.concat(f(o,e)),i=n.length),o=o._next;return n},d=o.getAllTweens=function(e){return f(t._rootTimeline,e).concat(f(t._rootFramesTimeline,e))};o.killAll=function(t,r,n,i){null==r&&(r=!0),null==n&&(n=!0);var o,a,s,u=d(0!=i),l=u.length,c=r&&n&&i;for(s=0;s<l;s++)a=u[s],(c||a instanceof e||(o=a.target===a.vars.onComplete)&&n||r&&!o)&&(t?a.totalTime(a._reversed?0:a.totalDuration()):a._enabled(!1,!1))},o.killChildTweensOf=function(t,e){if(null!=t){var i,a,c,h,f,d=s.tweenLookup;if("string"==typeof t&&(t=r.selector(t)||t),u(t)&&(t=n(t)),l(t))for(h=t.length;--h>-1;)o.killChildTweensOf(t[h],e);else{i=[];for(c in d)for(a=d[c].target.parentNode;a;)a===t&&(i=i.concat(d[c].tweens)),a=a.parentNode;for(f=i.length,h=0;h<f;h++)e&&i[h].totalTime(i[h].totalDuration()),i[h]._enabled(!1,!1)}}};var p=function(t,r,n,i){r=r!==!1,n=n!==!1,i=i!==!1;for(var o,a,s=d(i),u=r&&n&&i,l=s.length;--l>-1;)a=s[l],(u||a instanceof e||(o=a.target===a.vars.onComplete)&&n||r&&!o)&&a.paused(t)};return o.pauseAll=function(t,e,r){p(!0,t,e,r)},o.resumeAll=function(t,e,r){p(!1,t,e,r)},o.globalTimeScale=function(e){var n=t._rootTimeline,i=r.ticker.time;return arguments.length?(e=e||a,n._startTime=i-(i-n._startTime)*n._timeScale/e,n=t._rootFramesTimeline,i=r.ticker.frame,n._startTime=i-(i-n._startTime)*n._timeScale/e,n._timeScale=t._rootTimeline._timeScale=e,e):n._timeScale},c.progress=function(t,e){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&0!==(1&this._cycle)?1-t:t)+this._cycle*(this._duration+this._repeatDelay),e):this._time/this.duration()},c.totalProgress=function(t,e){return arguments.length?this.totalTime(this.totalDuration()*t,e):this._totalTime/this.totalDuration()},c.time=function(t,e){return arguments.length?(this._dirty&&this.totalDuration(),t>this._duration&&(t=this._duration),this._yoyo&&0!==(1&this._cycle)?t=this._duration-t+this._cycle*(this._duration+this._repeatDelay):0!==this._repeat&&(t+=this._cycle*(this._duration+this._repeatDelay)),this.totalTime(t,e)):this._time},c.duration=function(e){return arguments.length?t.prototype.duration.call(this,e):this._duration},c.totalDuration=function(t){return arguments.length?this._repeat===-1?this:this.duration((t-this._repeat*this._repeatDelay)/(this._repeat+1)):(this._dirty&&(this._totalDuration=this._repeat===-1?999999999999:this._duration*(this._repeat+1)+this._repeatDelay*this._repeat,this._dirty=!1),this._totalDuration)},c.repeat=function(t){return arguments.length?(this._repeat=t,this._uncache(!0)):this._repeat},c.repeatDelay=function(t){return arguments.length?(this._repeatDelay=t,this._uncache(!0)):this._repeatDelay},c.yoyo=function(t){return arguments.length?(this._yoyo=t,this):this._yoyo},o},!0),a._gsDefine("TimelineLite",["core.Animation","core.SimpleTimeline","TweenLite"],function(t,e,r){var n=function(t){e.call(this,t),this._labels={},this.autoRemoveChildren=this.vars.autoRemoveChildren===!0,this.smoothChildTiming=this.vars.smoothChildTiming===!0,this._sortChildren=!0,this._onUpdate=this.vars.onUpdate;var r,n,i=this.vars;for(n in i)r=i[n],l(r)&&r.join("").indexOf("{self}")!==-1&&(i[n]=this._swapSelfInParams(r));l(i.tweens)&&this.add(i.tweens,0,i.align,i.stagger)},i=1e-10,o=r._internals,s=n._internals={},u=o.isSelector,l=o.isArray,c=o.lazyTweens,h=o.lazyRender,f=a._gsDefine.globals,d=function(t){var e,r={};for(e in t)r[e]=t[e];return r},p=function(t,e,r){var n,i,o=t.cycle;for(n in o)i=o[n],t[n]="function"==typeof i?i(r,e[r]):i[r%i.length];delete t.cycle},v=s.pauseCallback=function(){},m=function(t){var e,r=[],n=t.length;for(e=0;e!==n;r.push(t[e++]));return r},g=n.prototype=new e;return n.version="1.19.1",g.constructor=n,g.kill()._gc=g._forcingPlayhead=g._hasPause=!1,g.to=function(t,e,n,i){var o=n.repeat&&f.TweenMax||r;return e?this.add(new o(t,e,n),i):this.set(t,n,i)},g.from=function(t,e,n,i){return this.add((n.repeat&&f.TweenMax||r).from(t,e,n),i)},g.fromTo=function(t,e,n,i,o){var a=i.repeat&&f.TweenMax||r;return e?this.add(a.fromTo(t,e,n,i),o):this.set(t,i,o)},g.staggerTo=function(t,e,i,o,a,s,l,c){var h,f,v=new n({onComplete:s,onCompleteParams:l,callbackScope:c,smoothChildTiming:this.smoothChildTiming}),g=i.cycle;for("string"==typeof t&&(t=r.selector(t)||t),t=t||[],u(t)&&(t=m(t)),o=o||0,o<0&&(t=m(t),t.reverse(),o*=-1),f=0;f<t.length;f++)h=d(i),h.startAt&&(h.startAt=d(h.startAt),h.startAt.cycle&&p(h.startAt,t,f)),g&&(p(h,t,f),null!=h.duration&&(e=h.duration,delete h.duration)),v.to(t[f],e,h,f*o);return this.add(v,a)},g.staggerFrom=function(t,e,r,n,i,o,a,s){return r.immediateRender=0!=r.immediateRender,r.runBackwards=!0,this.staggerTo(t,e,r,n,i,o,a,s)},g.staggerFromTo=function(t,e,r,n,i,o,a,s,u){return n.startAt=r,n.immediateRender=0!=n.immediateRender&&0!=r.immediateRender,this.staggerTo(t,e,n,i,o,a,s,u)},g.call=function(t,e,n,i){return this.add(r.delayedCall(0,t,e,n),i)},g.set=function(t,e,n){return n=this._parseTimeOrLabel(n,0,!0),null==e.immediateRender&&(e.immediateRender=n===this._time&&!this._paused),this.add(new r(t,0,e),n)},n.exportRoot=function(t,e){t=t||{},null==t.smoothChildTiming&&(t.smoothChildTiming=!0);var i,o,a=new n(t),s=a._timeline;for(null==e&&(e=!0),s._remove(a,!0),a._startTime=0,a._rawPrevTime=a._time=a._totalTime=s._time,i=s._first;i;)o=i._next,e&&i instanceof r&&i.target===i.vars.onComplete||a.add(i,i._startTime-i._delay),i=o;return s.add(a,0),a},g.add=function(i,o,a,s){var u,c,h,f,d,p;if("number"!=typeof o&&(o=this._parseTimeOrLabel(o,0,!0,i)),!(i instanceof t)){if(i instanceof Array||i&&i.push&&l(i)){for(a=a||"normal",s=s||0,u=o,c=i.length,h=0;h<c;h++)l(f=i[h])&&(f=new n({tweens:f})),this.add(f,u),"string"!=typeof f&&"function"!=typeof f&&("sequence"===a?u=f._startTime+f.totalDuration()/f._timeScale:"start"===a&&(f._startTime-=f.delay())),u+=s;return this._uncache(!0)}if("string"==typeof i)return this.addLabel(i,o);if("function"!=typeof i)throw"Cannot add "+i+" into the timeline; it is not a tween, timeline, function, or string.";i=r.delayedCall(0,i)}if(e.prototype.add.call(this,i,o),(this._gc||this._time===this._duration)&&!this._paused&&this._duration<this.duration())for(d=this,p=d.rawTime()>i._startTime;d._timeline;)p&&d._timeline.smoothChildTiming?d.totalTime(d._totalTime,!0):d._gc&&d._enabled(!0,!1),d=d._timeline;return this},g.remove=function(e){if(e instanceof t){this._remove(e,!1);var r=e._timeline=e.vars.useFrames?t._rootFramesTimeline:t._rootTimeline;return e._startTime=(e._paused?e._pauseTime:r._time)-(e._reversed?e.totalDuration()-e._totalTime:e._totalTime)/e._timeScale,this}if(e instanceof Array||e&&e.push&&l(e)){for(var n=e.length;--n>-1;)this.remove(e[n]);return this}return"string"==typeof e?this.removeLabel(e):this.kill(null,e)},g._remove=function(t,r){e.prototype._remove.call(this,t,r);var n=this._last;return n?this._time>this.duration()&&(this._time=this._duration,this._totalTime=this._totalDuration):this._time=this._totalTime=this._duration=this._totalDuration=0,this},g.append=function(t,e){return this.add(t,this._parseTimeOrLabel(null,e,!0,t))},g.insert=g.insertMultiple=function(t,e,r,n){return this.add(t,e||0,r,n)},g.appendMultiple=function(t,e,r,n){return this.add(t,this._parseTimeOrLabel(null,e,!0,t),r,n)},g.addLabel=function(t,e){return this._labels[t]=this._parseTimeOrLabel(e),this},g.addPause=function(t,e,n,i){var o=r.delayedCall(0,v,n,i||this);return o.vars.onComplete=o.vars.onReverseComplete=e,o.data="isPause",this._hasPause=!0,this.add(o,t)},g.removeLabel=function(t){return delete this._labels[t],this},g.getLabelTime=function(t){return null!=this._labels[t]?this._labels[t]:-1},g._parseTimeOrLabel=function(e,r,n,i){var o;if(i instanceof t&&i.timeline===this)this.remove(i);else if(i&&(i instanceof Array||i.push&&l(i)))for(o=i.length;--o>-1;)i[o]instanceof t&&i[o].timeline===this&&this.remove(i[o]);if("string"==typeof r)return this._parseTimeOrLabel(r,n&&"number"==typeof e&&null==this._labels[r]?e-this.duration():0,n);if(r=r||0,"string"!=typeof e||!isNaN(e)&&null==this._labels[e])null==e&&(e=this.duration());else{if(o=e.indexOf("="),o===-1)return null==this._labels[e]?n?this._labels[e]=this.duration()+r:r:this._labels[e]+r;r=parseInt(e.charAt(o-1)+"1",10)*Number(e.substr(o+1)),e=o>1?this._parseTimeOrLabel(e.substr(0,o-1),0,n):this.duration()}return Number(e)+r},g.seek=function(t,e){return this.totalTime("number"==typeof t?t:this._parseTimeOrLabel(t),e!==!1)},g.stop=function(){return this.paused(!0)},g.gotoAndPlay=function(t,e){return this.play(t,e)},g.gotoAndStop=function(t,e){return this.pause(t,e)},g.render=function(t,e,r){this._gc&&this._enabled(!0,!1);var n,o,a,s,u,l,f,d=this._dirty?this.totalDuration():this._totalDuration,p=this._time,v=this._startTime,m=this._timeScale,g=this._paused;if(t>=d-1e-7&&t>=0)this._totalTime=this._time=d,this._reversed||this._hasPausedChild()||(o=!0,s="onComplete",u=!!this._timeline.autoRemoveChildren,0===this._duration&&(t<=0&&t>=-1e-7||this._rawPrevTime<0||this._rawPrevTime===i)&&this._rawPrevTime!==t&&this._first&&(u=!0,this._rawPrevTime>i&&(s="onReverseComplete"))),this._rawPrevTime=this._duration||!e||t||this._rawPrevTime===t?t:i,t=d+1e-4;else if(t<1e-7)if(this._totalTime=this._time=0,(0!==p||0===this._duration&&this._rawPrevTime!==i&&(this._rawPrevTime>0||t<0&&this._rawPrevTime>=0))&&(s="onReverseComplete",o=this._reversed),t<0)this._active=!1,this._timeline.autoRemoveChildren&&this._reversed?(u=o=!0,s="onReverseComplete"):this._rawPrevTime>=0&&this._first&&(u=!0),this._rawPrevTime=t;else{if(this._rawPrevTime=this._duration||!e||t||this._rawPrevTime===t?t:i,0===t&&o)for(n=this._first;n&&0===n._startTime;)n._duration||(o=!1),n=n._next;t=0,this._initted||(u=!0)}else{if(this._hasPause&&!this._forcingPlayhead&&!e){if(t>=p)for(n=this._first;n&&n._startTime<=t&&!l;)n._duration||"isPause"!==n.data||n.ratio||0===n._startTime&&0===this._rawPrevTime||(l=n),n=n._next;else for(n=this._last;n&&n._startTime>=t&&!l;)n._duration||"isPause"===n.data&&n._rawPrevTime>0&&(l=n),n=n._prev;l&&(this._time=t=l._startTime,this._totalTime=t+this._cycle*(this._totalDuration+this._repeatDelay))}this._totalTime=this._time=this._rawPrevTime=t}if(this._time!==p&&this._first||r||u||l){if(this._initted||(this._initted=!0),this._active||!this._paused&&this._time!==p&&t>0&&(this._active=!0),0===p&&this.vars.onStart&&(0===this._time&&this._duration||e||this._callback("onStart")),f=this._time,f>=p)for(n=this._first;n&&(a=n._next,f===this._time&&(!this._paused||g));)(n._active||n._startTime<=f&&!n._paused&&!n._gc)&&(l===n&&this.pause(),n._reversed?n.render((n._dirty?n.totalDuration():n._totalDuration)-(t-n._startTime)*n._timeScale,e,r):n.render((t-n._startTime)*n._timeScale,e,r)),n=a;else for(n=this._last;n&&(a=n._prev,f===this._time&&(!this._paused||g));){if(n._active||n._startTime<=p&&!n._paused&&!n._gc){if(l===n){for(l=n._prev;l&&l.endTime()>this._time;)l.render(l._reversed?l.totalDuration()-(t-l._startTime)*l._timeScale:(t-l._startTime)*l._timeScale,e,r),l=l._prev;l=null,this.pause()}n._reversed?n.render((n._dirty?n.totalDuration():n._totalDuration)-(t-n._startTime)*n._timeScale,e,r):n.render((t-n._startTime)*n._timeScale,e,r)}n=a}this._onUpdate&&(e||(c.length&&h(),this._callback("onUpdate"))),s&&(this._gc||v!==this._startTime&&m===this._timeScale||(0===this._time||d>=this.totalDuration())&&(o&&(c.length&&h(),this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!e&&this.vars[s]&&this._callback(s)))}},g._hasPausedChild=function(){for(var t=this._first;t;){if(t._paused||t instanceof n&&t._hasPausedChild())return!0;t=t._next}return!1},g.getChildren=function(t,e,n,i){i=i||-9999999999;for(var o=[],a=this._first,s=0;a;)a._startTime<i||(a instanceof r?e!==!1&&(o[s++]=a):(n!==!1&&(o[s++]=a),t!==!1&&(o=o.concat(a.getChildren(!0,e,n)),s=o.length))),a=a._next;return o},g.getTweensOf=function(t,e){var n,i,o=this._gc,a=[],s=0;for(o&&this._enabled(!0,!0),n=r.getTweensOf(t),i=n.length;--i>-1;)(n[i].timeline===this||e&&this._contains(n[i]))&&(a[s++]=n[i]);return o&&this._enabled(!1,!0),a},g.recent=function(){return this._recent},g._contains=function(t){for(var e=t.timeline;e;){if(e===this)return!0;e=e.timeline}return!1},g.shiftChildren=function(t,e,r){r=r||0;for(var n,i=this._first,o=this._labels;i;)i._startTime>=r&&(i._startTime+=t),i=i._next;if(e)for(n in o)o[n]>=r&&(o[n]+=t);return this._uncache(!0)},g._kill=function(t,e){if(!t&&!e)return this._enabled(!1,!1);for(var r=e?this.getTweensOf(e):this.getChildren(!0,!0,!1),n=r.length,i=!1;--n>-1;)r[n]._kill(t,e)&&(i=!0);return i},g.clear=function(t){var e=this.getChildren(!1,!0,!0),r=e.length;for(this._time=this._totalTime=0;--r>-1;)e[r]._enabled(!1,!1);return t!==!1&&(this._labels={}),this._uncache(!0)},g.invalidate=function(){for(var e=this._first;e;)e.invalidate(),e=e._next;return t.prototype.invalidate.call(this)},g._enabled=function(t,r){if(t===this._gc)for(var n=this._first;n;)n._enabled(t,!0),n=n._next;return e.prototype._enabled.call(this,t,r)},g.totalTime=function(e,r,n){this._forcingPlayhead=!0;var i=t.prototype.totalTime.apply(this,arguments);return this._forcingPlayhead=!1,i},g.duration=function(t){return arguments.length?(0!==this.duration()&&0!==t&&this.timeScale(this._duration/t),this):(this._dirty&&this.totalDuration(),this._duration)},g.totalDuration=function(t){if(!arguments.length){if(this._dirty){for(var e,r,n=0,i=this._last,o=999999999999;i;)e=i._prev,i._dirty&&i.totalDuration(),i._startTime>o&&this._sortChildren&&!i._paused?this.add(i,i._startTime-i._delay):o=i._startTime,i._startTime<0&&!i._paused&&(n-=i._startTime,this._timeline.smoothChildTiming&&(this._startTime+=i._startTime/this._timeScale),this.shiftChildren(-i._startTime,!1,-9999999999),o=0),r=i._startTime+i._totalDuration/i._timeScale,r>n&&(n=r),i=e;this._duration=this._totalDuration=n,this._dirty=!1}return this._totalDuration}return t&&this.totalDuration()?this.timeScale(this._totalDuration/t):this},g.paused=function(e){if(!e)for(var r=this._first,n=this._time;r;)r._startTime===n&&"isPause"===r.data&&(r._rawPrevTime=0),r=r._next;return t.prototype.paused.apply(this,arguments)},g.usesFrames=function(){for(var e=this._timeline;e._timeline;)e=e._timeline;return e===t._rootFramesTimeline},g.rawTime=function(t){return t&&(this._paused||this._repeat&&this.time()>0&&this.totalProgress()<1)?this._totalTime%(this._duration+this._repeatDelay):this._paused?this._totalTime:(this._timeline.rawTime(t)-this._startTime)*this._timeScale},n},!0),a._gsDefine("TimelineMax",["TimelineLite","TweenLite","easing.Ease"],function(t,e,r){var n=function(e){t.call(this,e),this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._cycle=0,this._yoyo=this.vars.yoyo===!0,this._dirty=!0},i=1e-10,o=e._internals,s=o.lazyTweens,u=o.lazyRender,l=a._gsDefine.globals,c=new r(null,null,1,0),h=n.prototype=new t;return h.constructor=n,h.kill()._gc=!1,n.version="1.19.1",h.invalidate=function(){return this._yoyo=this.vars.yoyo===!0,this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._uncache(!0),t.prototype.invalidate.call(this)},h.addCallback=function(t,r,n,i){return this.add(e.delayedCall(0,t,n,i),r)},h.removeCallback=function(t,e){if(t)if(null==e)this._kill(null,t);else for(var r=this.getTweensOf(t,!1),n=r.length,i=this._parseTimeOrLabel(e);--n>-1;)r[n]._startTime===i&&r[n]._enabled(!1,!1);return this},h.removePause=function(e){return this.removeCallback(t._internals.pauseCallback,e)},h.tweenTo=function(t,r){r=r||{};var n,i,o,a={ease:c,useFrames:this.usesFrames(),immediateRender:!1},s=r.repeat&&l.TweenMax||e;for(i in r)a[i]=r[i];return a.time=this._parseTimeOrLabel(t),n=Math.abs(Number(a.time)-this._time)/this._timeScale||.001,o=new s(this,n,a),a.onStart=function(){o.target.paused(!0),o.vars.time!==o.target.time()&&n===o.duration()&&o.duration(Math.abs(o.vars.time-o.target.time())/o.target._timeScale),r.onStart&&r.onStart.apply(r.onStartScope||r.callbackScope||o,r.onStartParams||[])},o},h.tweenFromTo=function(t,e,r){r=r||{},t=this._parseTimeOrLabel(t),r.startAt={onComplete:this.seek,onCompleteParams:[t],callbackScope:this},r.immediateRender=r.immediateRender!==!1;var n=this.tweenTo(e,r);return n.duration(Math.abs(n.vars.time-t)/this._timeScale||.001)},h.render=function(t,e,r){this._gc&&this._enabled(!0,!1);var n,o,a,l,c,h,f,d,p=this._dirty?this.totalDuration():this._totalDuration,v=this._duration,m=this._time,g=this._totalTime,y=this._startTime,_=this._timeScale,x=this._rawPrevTime,b=this._paused,w=this._cycle;if(t>=p-1e-7&&t>=0)this._locked||(this._totalTime=p,this._cycle=this._repeat),this._reversed||this._hasPausedChild()||(o=!0,l="onComplete",c=!!this._timeline.autoRemoveChildren,0===this._duration&&(t<=0&&t>=-1e-7||x<0||x===i)&&x!==t&&this._first&&(c=!0,x>i&&(l="onReverseComplete"))),this._rawPrevTime=this._duration||!e||t||this._rawPrevTime===t?t:i,this._yoyo&&0!==(1&this._cycle)?this._time=t=0:(this._time=v,t=v+1e-4);else if(t<1e-7)if(this._locked||(this._totalTime=this._cycle=0),this._time=0,(0!==m||0===v&&x!==i&&(x>0||t<0&&x>=0)&&!this._locked)&&(l="onReverseComplete",o=this._reversed),t<0)this._active=!1,this._timeline.autoRemoveChildren&&this._reversed?(c=o=!0,l="onReverseComplete"):x>=0&&this._first&&(c=!0),this._rawPrevTime=t;else{if(this._rawPrevTime=v||!e||t||this._rawPrevTime===t?t:i,0===t&&o)for(n=this._first;n&&0===n._startTime;)n._duration||(o=!1),n=n._next;t=0,this._initted||(c=!0)}else if(0===v&&x<0&&(c=!0),this._time=this._rawPrevTime=t,this._locked||(this._totalTime=t,0!==this._repeat&&(h=v+this._repeatDelay,this._cycle=this._totalTime/h>>0,0!==this._cycle&&this._cycle===this._totalTime/h&&g<=t&&this._cycle--,this._time=this._totalTime-this._cycle*h,this._yoyo&&0!==(1&this._cycle)&&(this._time=v-this._time),this._time>v?(this._time=v,t=v+1e-4):this._time<0?this._time=t=0:t=this._time)),this._hasPause&&!this._forcingPlayhead&&!e&&t<v){if(t=this._time,t>=m||this._repeat&&w!==this._cycle)for(n=this._first;n&&n._startTime<=t&&!f;)n._duration||"isPause"!==n.data||n.ratio||0===n._startTime&&0===this._rawPrevTime||(f=n),n=n._next;else for(n=this._last;n&&n._startTime>=t&&!f;)n._duration||"isPause"===n.data&&n._rawPrevTime>0&&(f=n),n=n._prev;f&&(this._time=t=f._startTime,this._totalTime=t+this._cycle*(this._totalDuration+this._repeatDelay))}if(this._cycle!==w&&!this._locked){var T=this._yoyo&&0!==(1&w),E=T===(this._yoyo&&0!==(1&this._cycle)),S=this._totalTime,M=this._cycle,A=this._rawPrevTime,P=this._time;if(this._totalTime=w*v,this._cycle<w?T=!T:this._totalTime+=v,this._time=m,this._rawPrevTime=0===v?x-1e-4:x,this._cycle=w,this._locked=!0,m=T?0:v,this.render(m,e,0===v),e||this._gc||this.vars.onRepeat&&(this._cycle=M,this._locked=!1,this._callback("onRepeat")),m!==this._time)return;if(E&&(this._cycle=w,this._locked=!0,m=T?v+1e-4:-1e-4,this.render(m,!0,!1)),this._locked=!1,this._paused&&!b)return;this._time=P,this._totalTime=S,this._cycle=M,this._rawPrevTime=A}if(!(this._time!==m&&this._first||r||c||f))return void(g!==this._totalTime&&this._onUpdate&&(e||this._callback("onUpdate")));if(this._initted||(this._initted=!0),this._active||!this._paused&&this._totalTime!==g&&t>0&&(this._active=!0),0===g&&this.vars.onStart&&(0===this._totalTime&&this._totalDuration||e||this._callback("onStart")),d=this._time,d>=m)for(n=this._first;n&&(a=n._next,d===this._time&&(!this._paused||b));)(n._active||n._startTime<=this._time&&!n._paused&&!n._gc)&&(f===n&&this.pause(),n._reversed?n.render((n._dirty?n.totalDuration():n._totalDuration)-(t-n._startTime)*n._timeScale,e,r):n.render((t-n._startTime)*n._timeScale,e,r)),n=a;else for(n=this._last;n&&(a=n._prev,d===this._time&&(!this._paused||b));){if(n._active||n._startTime<=m&&!n._paused&&!n._gc){if(f===n){for(f=n._prev;f&&f.endTime()>this._time;)f.render(f._reversed?f.totalDuration()-(t-f._startTime)*f._timeScale:(t-f._startTime)*f._timeScale,e,r),f=f._prev;f=null,this.pause()}n._reversed?n.render((n._dirty?n.totalDuration():n._totalDuration)-(t-n._startTime)*n._timeScale,e,r):n.render((t-n._startTime)*n._timeScale,e,r)}n=a}this._onUpdate&&(e||(s.length&&u(),this._callback("onUpdate"))),l&&(this._locked||this._gc||y!==this._startTime&&_===this._timeScale||(0===this._time||p>=this.totalDuration())&&(o&&(s.length&&u(),this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!e&&this.vars[l]&&this._callback(l)))},h.getActive=function(t,e,r){null==t&&(t=!0),null==e&&(e=!0),null==r&&(r=!1);var n,i,o=[],a=this.getChildren(t,e,r),s=0,u=a.length;for(n=0;n<u;n++)i=a[n],i.isActive()&&(o[s++]=i);return o},h.getLabelAfter=function(t){t||0!==t&&(t=this._time);var e,r=this.getLabelsArray(),n=r.length;for(e=0;e<n;e++)if(r[e].time>t)return r[e].name;return null},h.getLabelBefore=function(t){null==t&&(t=this._time);for(var e=this.getLabelsArray(),r=e.length;--r>-1;)if(e[r].time<t)return e[r].name;return null},h.getLabelsArray=function(){var t,e=[],r=0;for(t in this._labels)e[r++]={time:this._labels[t],name:t};return e.sort(function(t,e){return t.time-e.time}),e},h.invalidate=function(){return this._locked=!1,t.prototype.invalidate.call(this)},h.progress=function(t,e){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&0!==(1&this._cycle)?1-t:t)+this._cycle*(this._duration+this._repeatDelay),e):this._time/this.duration()},h.totalProgress=function(t,e){return arguments.length?this.totalTime(this.totalDuration()*t,e):this._totalTime/this.totalDuration()},h.totalDuration=function(e){return arguments.length?this._repeat!==-1&&e?this.timeScale(this.totalDuration()/e):this:(this._dirty&&(t.prototype.totalDuration.call(this),this._totalDuration=this._repeat===-1?999999999999:this._duration*(this._repeat+1)+this._repeatDelay*this._repeat),this._totalDuration)},h.time=function(t,e){return arguments.length?(this._dirty&&this.totalDuration(),t>this._duration&&(t=this._duration),this._yoyo&&0!==(1&this._cycle)?t=this._duration-t+this._cycle*(this._duration+this._repeatDelay):0!==this._repeat&&(t+=this._cycle*(this._duration+this._repeatDelay)),this.totalTime(t,e)):this._time},h.repeat=function(t){return arguments.length?(this._repeat=t,this._uncache(!0)):this._repeat},h.repeatDelay=function(t){return arguments.length?(this._repeatDelay=t,this._uncache(!0)):this._repeatDelay},h.yoyo=function(t){return arguments.length?(this._yoyo=t,this):this._yoyo},h.currentLabel=function(t){return arguments.length?this.seek(t,!0):this.getLabelBefore(this._time+1e-8)},n},!0),function(){var t=180/Math.PI,e=[],r=[],n=[],i={},o=a._gsDefine.globals,s=function(t,e,r,n){r===n&&(r=n-(n-e)/1e6),t===e&&(e=t+(r-t)/1e6),this.a=t,this.b=e,this.c=r,this.d=n,this.da=n-t,this.ca=r-t,this.ba=e-t},u=",x,y,z,left,top,right,bottom,marginTop,marginLeft,marginRight,marginBottom,paddingLeft,paddingTop,paddingRight,paddingBottom,backgroundPosition,backgroundPosition_y,",l=function(t,e,r,n){var i={a:t},o={},a={},s={c:n},u=(t+e)/2,l=(e+r)/2,c=(r+n)/2,h=(u+l)/2,f=(l+c)/2,d=(f-h)/8;return i.b=u+(t-u)/4,o.b=h+d,i.c=o.a=(i.b+o.b)/2,o.c=a.a=(h+f)/2,a.b=f-d,s.b=c+(n-c)/4,a.c=s.a=(a.b+s.b)/2,[i,o,a,s]},c=function(t,i,o,a,s){var u,c,h,f,d,p,v,m,g,y,_,x,b,w=t.length-1,T=0,E=t[0].a;for(u=0;u<w;u++)d=t[T],c=d.a,h=d.d,f=t[T+1].d,s?(_=e[u],x=r[u],b=(x+_)*i*.25/(a?.5:n[u]||.5),p=h-(h-c)*(a?.5*i:0!==_?b/_:0),v=h+(f-h)*(a?.5*i:0!==x?b/x:0),m=h-(p+((v-p)*(3*_/(_+x)+.5)/4||0))):(p=h-(h-c)*i*.5,v=h+(f-h)*i*.5,m=h-(p+v)/2),p+=m,v+=m,d.c=g=p,0!==u?d.b=E:d.b=E=d.a+.6*(d.c-d.a),d.da=h-c,d.ca=g-c,d.ba=E-c,o?(y=l(c,E,g,h),t.splice(T,1,y[0],y[1],y[2],y[3]),T+=4):T++,E=v;d=t[T],d.b=E,d.c=E+.4*(d.d-E),d.da=d.d-d.a,d.ca=d.c-d.a,d.ba=E-d.a,o&&(y=l(d.a,E,d.c,d.d),t.splice(T,1,y[0],y[1],y[2],y[3]))},h=function(t,n,i,o){var a,u,l,c,h,f,d=[];if(o)for(t=[o].concat(t),u=t.length;--u>-1;)"string"==typeof(f=t[u][n])&&"="===f.charAt(1)&&(t[u][n]=o[n]+Number(f.charAt(0)+f.substr(2)));if(a=t.length-2,a<0)return d[0]=new s(t[0][n],0,0,t[a<-1?0:1][n]),d;for(u=0;u<a;u++)l=t[u][n],c=t[u+1][n],d[u]=new s(l,0,0,c),i&&(h=t[u+2][n],e[u]=(e[u]||0)+(c-l)*(c-l),r[u]=(r[u]||0)+(h-c)*(h-c));return d[u]=new s(t[u][n],0,0,t[u+1][n]),d},f=function(t,o,a,s,l,f){var d,p,v,m,g,y,_,x,b={},w=[],T=f||t[0];l="string"==typeof l?","+l+",":u,null==o&&(o=1);for(p in t[0])w.push(p);if(t.length>1){for(x=t[t.length-1],_=!0,d=w.length;--d>-1;)if(p=w[d],Math.abs(T[p]-x[p])>.05){_=!1;break}_&&(t=t.concat(),f&&t.unshift(f),t.push(t[1]),f=t[t.length-3])}for(e.length=r.length=n.length=0,d=w.length;--d>-1;)p=w[d],i[p]=l.indexOf(","+p+",")!==-1,b[p]=h(t,p,i[p],f);for(d=e.length;--d>-1;)e[d]=Math.sqrt(e[d]),r[d]=Math.sqrt(r[d]);if(!s){for(d=w.length;--d>-1;)if(i[p])for(v=b[w[d]],y=v.length-1,m=0;m<y;m++)g=v[m+1].da/r[m]+v[m].da/e[m]||0,n[m]=(n[m]||0)+g*g;for(d=n.length;--d>-1;)n[d]=Math.sqrt(n[d])}for(d=w.length,m=a?4:1;--d>-1;)p=w[d],v=b[p],c(v,o,a,s,i[p]),_&&(v.splice(0,m),v.splice(v.length-m,m));return b},d=function(t,e,r){e=e||"soft";var n,i,o,a,u,l,c,h,f,d,p,v={},m="cubic"===e?3:2,g="soft"===e,y=[];if(g&&r&&(t=[r].concat(t)),null==t||t.length<m+1)throw"invalid Bezier data";for(f in t[0])y.push(f);for(l=y.length;--l>-1;){for(f=y[l],v[f]=u=[],d=0,h=t.length,c=0;c<h;c++)n=null==r?t[c][f]:"string"==typeof(p=t[c][f])&&"="===p.charAt(1)?r[f]+Number(p.charAt(0)+p.substr(2)):Number(p),g&&c>1&&c<h-1&&(u[d++]=(n+u[d-2])/2),u[d++]=n;for(h=d-m+1,d=0,c=0;c<h;c+=m)n=u[c],i=u[c+1],o=u[c+2],a=2===m?0:u[c+3],u[d++]=p=3===m?new s(n,i,o,a):new s(n,(2*i+n)/3,(2*i+o)/3,o);u.length=d}return v},p=function(t,e,r){for(var n,i,o,a,s,u,l,c,h,f,d,p=1/r,v=t.length;--v>-1;)for(f=t[v],o=f.a,a=f.d-o,s=f.c-o,u=f.b-o,n=i=0,c=1;c<=r;c++)l=p*c,h=1-l,n=i-(i=(l*l*a+3*h*(l*s+h*u))*l),d=v*r+c-1,
e[d]=(e[d]||0)+n*n},v=function(t,e){e=e>>0||6;var r,n,i,o,a=[],s=[],u=0,l=0,c=e-1,h=[],f=[];for(r in t)p(t[r],a,e);for(i=a.length,n=0;n<i;n++)u+=Math.sqrt(a[n]),o=n%e,f[o]=u,o===c&&(l+=u,o=n/e>>0,h[o]=f,s[o]=l,u=0,f=[]);return{length:l,lengths:s,segments:h}},m=a._gsDefine.plugin({propName:"bezier",priority:-1,version:"1.3.7",API:2,global:!0,init:function(t,e,r){this._target=t,e instanceof Array&&(e={values:e}),this._func={},this._mod={},this._props=[],this._timeRes=null==e.timeResolution?6:parseInt(e.timeResolution,10);var n,i,o,a,s,u=e.values||[],l={},c=u[0],h=e.autoRotate||r.vars.orientToBezier;this._autoRotate=h?h instanceof Array?h:[["x","y","rotation",h===!0?0:Number(h)||0]]:null;for(n in c)this._props.push(n);for(o=this._props.length;--o>-1;)n=this._props[o],this._overwriteProps.push(n),i=this._func[n]="function"==typeof t[n],l[n]=i?t[n.indexOf("set")||"function"!=typeof t["get"+n.substr(3)]?n:"get"+n.substr(3)]():parseFloat(t[n]),s||l[n]!==u[0][n]&&(s=l);if(this._beziers="cubic"!==e.type&&"quadratic"!==e.type&&"soft"!==e.type?f(u,isNaN(e.curviness)?1:e.curviness,!1,"thruBasic"===e.type,e.correlate,s):d(u,e.type,l),this._segCount=this._beziers[n].length,this._timeRes){var p=v(this._beziers,this._timeRes);this._length=p.length,this._lengths=p.lengths,this._segments=p.segments,this._l1=this._li=this._s1=this._si=0,this._l2=this._lengths[0],this._curSeg=this._segments[0],this._s2=this._curSeg[0],this._prec=1/this._curSeg.length}if(h=this._autoRotate)for(this._initialRotations=[],h[0]instanceof Array||(this._autoRotate=h=[h]),o=h.length;--o>-1;){for(a=0;a<3;a++)n=h[o][a],this._func[n]="function"==typeof t[n]&&t[n.indexOf("set")||"function"!=typeof t["get"+n.substr(3)]?n:"get"+n.substr(3)];n=h[o][2],this._initialRotations[o]=(this._func[n]?this._func[n].call(this._target):this._target[n])||0,this._overwriteProps.push(n)}return this._startRatio=r.vars.runBackwards?1:0,!0},set:function(e){var r,n,i,o,a,s,u,l,c,h,f=this._segCount,d=this._func,p=this._target,v=e!==this._startRatio;if(this._timeRes){if(c=this._lengths,h=this._curSeg,e*=this._length,i=this._li,e>this._l2&&i<f-1){for(l=f-1;i<l&&(this._l2=c[++i])<=e;);this._l1=c[i-1],this._li=i,this._curSeg=h=this._segments[i],this._s2=h[this._s1=this._si=0]}else if(e<this._l1&&i>0){for(;i>0&&(this._l1=c[--i])>=e;);0===i&&e<this._l1?this._l1=0:i++,this._l2=c[i],this._li=i,this._curSeg=h=this._segments[i],this._s1=h[(this._si=h.length-1)-1]||0,this._s2=h[this._si]}if(r=i,e-=this._l1,i=this._si,e>this._s2&&i<h.length-1){for(l=h.length-1;i<l&&(this._s2=h[++i])<=e;);this._s1=h[i-1],this._si=i}else if(e<this._s1&&i>0){for(;i>0&&(this._s1=h[--i])>=e;);0===i&&e<this._s1?this._s1=0:i++,this._s2=h[i],this._si=i}s=(i+(e-this._s1)/(this._s2-this._s1))*this._prec||0}else r=e<0?0:e>=1?f-1:f*e>>0,s=(e-r*(1/f))*f;for(n=1-s,i=this._props.length;--i>-1;)o=this._props[i],a=this._beziers[o][r],u=(s*s*a.da+3*n*(s*a.ca+n*a.ba))*s+a.a,this._mod[o]&&(u=this._mod[o](u,p)),d[o]?p[o](u):p[o]=u;if(this._autoRotate){var m,g,y,_,x,b,w,T=this._autoRotate;for(i=T.length;--i>-1;)o=T[i][2],b=T[i][3]||0,w=T[i][4]===!0?1:t,a=this._beziers[T[i][0]],m=this._beziers[T[i][1]],a&&m&&(a=a[r],m=m[r],g=a.a+(a.b-a.a)*s,_=a.b+(a.c-a.b)*s,g+=(_-g)*s,_+=(a.c+(a.d-a.c)*s-_)*s,y=m.a+(m.b-m.a)*s,x=m.b+(m.c-m.b)*s,y+=(x-y)*s,x+=(m.c+(m.d-m.c)*s-x)*s,u=v?Math.atan2(x-y,_-g)*w+b:this._initialRotations[i],this._mod[o]&&(u=this._mod[o](u,p)),d[o]?p[o](u):p[o]=u)}}}),g=m.prototype;m.bezierThrough=f,m.cubicToQuadratic=l,m._autoCSS=!0,m.quadraticToCubic=function(t,e,r){return new s(t,(2*e+t)/3,(2*e+r)/3,r)},m._cssRegister=function(){var t=o.CSSPlugin;if(t){var e=t._internals,r=e._parseToProxy,n=e._setPluginRatio,i=e.CSSPropTween;e._registerComplexSpecialProp("bezier",{parser:function(t,e,o,a,s,u){e instanceof Array&&(e={values:e}),u=new m;var l,c,h,f=e.values,d=f.length-1,p=[],v={};if(d<0)return s;for(l=0;l<=d;l++)h=r(t,f[l],a,s,u,d!==l),p[l]=h.end;for(c in e)v[c]=e[c];return v.values=p,s=new i(t,"bezier",0,0,h.pt,2),s.data=h,s.plugin=u,s.setRatio=n,0===v.autoRotate&&(v.autoRotate=!0),!v.autoRotate||v.autoRotate instanceof Array||(l=v.autoRotate===!0?0:Number(v.autoRotate),v.autoRotate=null!=h.end.left?[["left","top","rotation",l,!1]]:null!=h.end.x&&[["x","y","rotation",l,!1]]),v.autoRotate&&(a._transform||a._enableTransforms(!1),h.autoRotate=a._target._gsTransform,h.proxy.rotation=h.autoRotate.rotation||0,a._overwriteProps.push("rotation")),u._onInitTween(h.proxy,v,a._tween),s}})}},g._mod=function(t){for(var e,r=this._overwriteProps,n=r.length;--n>-1;)e=t[r[n]],e&&"function"==typeof e&&(this._mod[r[n]]=e)},g._kill=function(t){var e,r,n=this._props;for(e in this._beziers)if(e in t)for(delete this._beziers[e],delete this._func[e],r=n.length;--r>-1;)n[r]===e&&n.splice(r,1);if(n=this._autoRotate)for(r=n.length;--r>-1;)t[n[r][2]]&&n.splice(r,1);return this._super._kill.call(this,t)}}(),a._gsDefine("plugins.CSSPlugin",["plugins.TweenPlugin","TweenLite"],function(t,e){var r,n,i,o,s=function(){t.call(this,"css"),this._overwriteProps.length=0,this.setRatio=s.prototype.setRatio},u=a._gsDefine.globals,l={},c=s.prototype=new t("css");c.constructor=s,s.version="1.19.1",s.API=2,s.defaultTransformPerspective=0,s.defaultSkewType="compensated",s.defaultSmoothOrigin=!0,c="px",s.suffixMap={top:c,right:c,bottom:c,left:c,width:c,height:c,fontSize:c,padding:c,margin:c,perspective:c,lineHeight:""};var h,f,d,p,v,m,g,y,_=/(?:\-|\.|\b)(\d|\.|e\-)+/g,x=/(?:\d|\-\d|\.\d|\-\.\d|\+=\d|\-=\d|\+=.\d|\-=\.\d)+/g,b=/(?:\+=|\-=|\-|\b)[\d\-\.]+[a-zA-Z0-9]*(?:%|\b)/gi,w=/(?![+-]?\d*\.?\d+|[+-]|e[+-]\d+)[^0-9]/g,T=/(?:\d|\-|\+|=|#|\.)*/g,E=/opacity *= *([^)]*)/i,S=/opacity:([^;]*)/i,M=/alpha\(opacity *=.+?\)/i,A=/^(rgb|hsl)/,P=/([A-Z])/g,C=/-([a-z])/gi,O=/(^(?:url\(\"|url\())|(?:(\"\))$|\)$)/gi,R=function(t,e){return e.toUpperCase()},D=/(?:Left|Right|Width)/i,L=/(M11|M12|M21|M22)=[\d\-\.e]+/gi,I=/progid\:DXImageTransform\.Microsoft\.Matrix\(.+?\)/i,F=/,(?=[^\)]*(?:\(|$))/gi,N=/[\s,\(]/i,k=Math.PI/180,U=180/Math.PI,B={},z={style:{}},j=a.document||{createElement:function(){return z}},G=function(t,e){return j.createElementNS?j.createElementNS(e||"http://www.w3.org/1999/xhtml",t):j.createElement(t)},H=G("div"),X=G("img"),V=s._internals={_specialProps:l},W=(a.navigator||{}).userAgent||"",Y=function(){var t=W.indexOf("Android"),e=G("a");return d=W.indexOf("Safari")!==-1&&W.indexOf("Chrome")===-1&&(t===-1||parseFloat(W.substr(t+8,2))>3),v=d&&parseFloat(W.substr(W.indexOf("Version/")+8,2))<6,p=W.indexOf("Firefox")!==-1,(/MSIE ([0-9]{1,}[\.0-9]{0,})/.exec(W)||/Trident\/.*rv:([0-9]{1,}[\.0-9]{0,})/.exec(W))&&(m=parseFloat(RegExp.$1)),!!e&&(e.style.cssText="top:1px;opacity:.55;",/^0.55/.test(e.style.opacity))}(),q=function(t){return E.test("string"==typeof t?t:(t.currentStyle?t.currentStyle.filter:t.style.filter)||"")?parseFloat(RegExp.$1)/100:1},Z=function(t){a.console&&console.log(t)},K="",J="",Q=function(t,e){e=e||H;var r,n,i=e.style;if(void 0!==i[t])return t;for(t=t.charAt(0).toUpperCase()+t.substr(1),r=["O","Moz","ms","Ms","Webkit"],n=5;--n>-1&&void 0===i[r[n]+t];);return n>=0?(J=3===n?"ms":r[n],K="-"+J.toLowerCase()+"-",J+t):null},$=j.defaultView?j.defaultView.getComputedStyle:function(){},tt=s.getStyle=function(t,e,r,n,i){var o;return Y||"opacity"!==e?(!n&&t.style[e]?o=t.style[e]:(r=r||$(t))?o=r[e]||r.getPropertyValue(e)||r.getPropertyValue(e.replace(P,"-$1").toLowerCase()):t.currentStyle&&(o=t.currentStyle[e]),null==i||o&&"none"!==o&&"auto"!==o&&"auto auto"!==o?o:i):q(t)},et=V.convertToPixels=function(t,r,n,i,o){if("px"===i||!i)return n;if("auto"===i||!n)return 0;var a,u,l,c=D.test(r),h=t,f=H.style,d=n<0,p=1===n;if(d&&(n=-n),p&&(n*=100),"%"===i&&r.indexOf("border")!==-1)a=n/100*(c?t.clientWidth:t.clientHeight);else{if(f.cssText="border:0 solid red;position:"+tt(t,"position")+";line-height:0;","%"!==i&&h.appendChild&&"v"!==i.charAt(0)&&"rem"!==i)f[c?"borderLeftWidth":"borderTopWidth"]=n+i;else{if(h=t.parentNode||j.body,u=h._gsCache,l=e.ticker.frame,u&&c&&u.time===l)return u.width*n/100;f[c?"width":"height"]=n+i}h.appendChild(H),a=parseFloat(H[c?"offsetWidth":"offsetHeight"]),h.removeChild(H),c&&"%"===i&&s.cacheWidths!==!1&&(u=h._gsCache=h._gsCache||{},u.time=l,u.width=a/n*100),0!==a||o||(a=et(t,r,n,i,!0))}return p&&(a/=100),d?-a:a},rt=V.calculateOffset=function(t,e,r){if("absolute"!==tt(t,"position",r))return 0;var n="left"===e?"Left":"Top",i=tt(t,"margin"+n,r);return t["offset"+n]-(et(t,e,parseFloat(i),i.replace(T,""))||0)},nt=function(t,e){var r,n,i,o={};if(e=e||$(t,null))if(r=e.length)for(;--r>-1;)i=e[r],i.indexOf("-transform")!==-1&&Ot!==i||(o[i.replace(C,R)]=e.getPropertyValue(i));else for(r in e)r.indexOf("Transform")!==-1&&Ct!==r||(o[r]=e[r]);else if(e=t.currentStyle||t.style)for(r in e)"string"==typeof r&&void 0===o[r]&&(o[r.replace(C,R)]=e[r]);return Y||(o.opacity=q(t)),n=Xt(t,e,!1),o.rotation=n.rotation,o.skewX=n.skewX,o.scaleX=n.scaleX,o.scaleY=n.scaleY,o.x=n.x,o.y=n.y,Dt&&(o.z=n.z,o.rotationX=n.rotationX,o.rotationY=n.rotationY,o.scaleZ=n.scaleZ),o.filters&&delete o.filters,o},it=function(t,e,r,n,i){var o,a,s,u={},l=t.style;for(a in r)"cssText"!==a&&"length"!==a&&isNaN(a)&&(e[a]!==(o=r[a])||i&&i[a])&&a.indexOf("Origin")===-1&&("number"!=typeof o&&"string"!=typeof o||(u[a]="auto"!==o||"left"!==a&&"top"!==a?""!==o&&"auto"!==o&&"none"!==o||"string"!=typeof e[a]||""===e[a].replace(w,"")?o:0:rt(t,a),void 0!==l[a]&&(s=new _t(l,a,l[a],s))));if(n)for(a in n)"className"!==a&&(u[a]=n[a]);return{difs:u,firstMPT:s}},ot={width:["Left","Right"],height:["Top","Bottom"]},at=["marginLeft","marginRight","marginTop","marginBottom"],st=function(t,e,r){if("svg"===(t.nodeName+"").toLowerCase())return(r||$(t))[e]||0;if(t.getCTM&&jt(t))return t.getBBox()[e]||0;var n=parseFloat("width"===e?t.offsetWidth:t.offsetHeight),i=ot[e],o=i.length;for(r=r||$(t,null);--o>-1;)n-=parseFloat(tt(t,"padding"+i[o],r,!0))||0,n-=parseFloat(tt(t,"border"+i[o]+"Width",r,!0))||0;return n},ut=function(t,e){if("contain"===t||"auto"===t||"auto auto"===t)return t+" ";null!=t&&""!==t||(t="0 0");var r,n=t.split(" "),i=t.indexOf("left")!==-1?"0%":t.indexOf("right")!==-1?"100%":n[0],o=t.indexOf("top")!==-1?"0%":t.indexOf("bottom")!==-1?"100%":n[1];if(n.length>3&&!e){for(n=t.split(", ").join(",").split(","),t=[],r=0;r<n.length;r++)t.push(ut(n[r]));return t.join(",")}return null==o?o="center"===i?"50%":"0":"center"===o&&(o="50%"),("center"===i||isNaN(parseFloat(i))&&(i+"").indexOf("=")===-1)&&(i="50%"),t=i+" "+o+(n.length>2?" "+n[2]:""),e&&(e.oxp=i.indexOf("%")!==-1,e.oyp=o.indexOf("%")!==-1,e.oxr="="===i.charAt(1),e.oyr="="===o.charAt(1),e.ox=parseFloat(i.replace(w,"")),e.oy=parseFloat(o.replace(w,"")),e.v=t),e||t},lt=function(t,e){return"function"==typeof t&&(t=t(y,g)),"string"==typeof t&&"="===t.charAt(1)?parseInt(t.charAt(0)+"1",10)*parseFloat(t.substr(2)):parseFloat(t)-parseFloat(e)||0},ct=function(t,e){return"function"==typeof t&&(t=t(y,g)),null==t?e:"string"==typeof t&&"="===t.charAt(1)?parseInt(t.charAt(0)+"1",10)*parseFloat(t.substr(2))+e:parseFloat(t)||0},ht=function(t,e,r,n){var i,o,a,s,u,l=1e-6;return"function"==typeof t&&(t=t(y,g)),null==t?s=e:"number"==typeof t?s=t:(i=360,o=t.split("_"),u="="===t.charAt(1),a=(u?parseInt(t.charAt(0)+"1",10)*parseFloat(o[0].substr(2)):parseFloat(o[0]))*(t.indexOf("rad")===-1?1:U)-(u?0:e),o.length&&(n&&(n[r]=e+a),t.indexOf("short")!==-1&&(a%=i,a!==a%(i/2)&&(a=a<0?a+i:a-i)),t.indexOf("_cw")!==-1&&a<0?a=(a+9999999999*i)%i-(a/i|0)*i:t.indexOf("ccw")!==-1&&a>0&&(a=(a-9999999999*i)%i-(a/i|0)*i)),s=e+a),s<l&&s>-l&&(s=0),s},ft={aqua:[0,255,255],lime:[0,255,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,255],navy:[0,0,128],white:[255,255,255],fuchsia:[255,0,255],olive:[128,128,0],yellow:[255,255,0],orange:[255,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[255,0,0],pink:[255,192,203],cyan:[0,255,255],transparent:[255,255,255,0]},dt=function(t,e,r){return t=t<0?t+1:t>1?t-1:t,255*(6*t<1?e+(r-e)*t*6:t<.5?r:3*t<2?e+(r-e)*(2/3-t)*6:e)+.5|0},pt=s.parseColor=function(t,e){var r,n,i,o,a,s,u,l,c,h,f;if(t)if("number"==typeof t)r=[t>>16,t>>8&255,255&t];else{if(","===t.charAt(t.length-1)&&(t=t.substr(0,t.length-1)),ft[t])r=ft[t];else if("#"===t.charAt(0))4===t.length&&(n=t.charAt(1),i=t.charAt(2),o=t.charAt(3),t="#"+n+n+i+i+o+o),t=parseInt(t.substr(1),16),r=[t>>16,t>>8&255,255&t];else if("hsl"===t.substr(0,3))if(r=f=t.match(_),e){if(t.indexOf("=")!==-1)return t.match(x)}else a=Number(r[0])%360/360,s=Number(r[1])/100,u=Number(r[2])/100,i=u<=.5?u*(s+1):u+s-u*s,n=2*u-i,r.length>3&&(r[3]=Number(t[3])),r[0]=dt(a+1/3,n,i),r[1]=dt(a,n,i),r[2]=dt(a-1/3,n,i);else r=t.match(_)||ft.transparent;r[0]=Number(r[0]),r[1]=Number(r[1]),r[2]=Number(r[2]),r.length>3&&(r[3]=Number(r[3]))}else r=ft.black;return e&&!f&&(n=r[0]/255,i=r[1]/255,o=r[2]/255,l=Math.max(n,i,o),c=Math.min(n,i,o),u=(l+c)/2,l===c?a=s=0:(h=l-c,s=u>.5?h/(2-l-c):h/(l+c),a=l===n?(i-o)/h+(i<o?6:0):l===i?(o-n)/h+2:(n-i)/h+4,a*=60),r[0]=a+.5|0,r[1]=100*s+.5|0,r[2]=100*u+.5|0),r},vt=function(t,e){var r,n,i,o=t.match(mt)||[],a=0,s=o.length?"":t;for(r=0;r<o.length;r++)n=o[r],i=t.substr(a,t.indexOf(n,a)-a),a+=i.length+n.length,n=pt(n,e),3===n.length&&n.push(1),s+=i+(e?"hsla("+n[0]+","+n[1]+"%,"+n[2]+"%,"+n[3]:"rgba("+n.join(","))+")";return s+t.substr(a)},mt="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3}){1,2}\\b";for(c in ft)mt+="|"+c+"\\b";mt=new RegExp(mt+")","gi"),s.colorStringFilter=function(t){var e,r=t[0]+t[1];mt.test(r)&&(e=r.indexOf("hsl(")!==-1||r.indexOf("hsla(")!==-1,t[0]=vt(t[0],e),t[1]=vt(t[1],e)),mt.lastIndex=0},e.defaultStringFilter||(e.defaultStringFilter=s.colorStringFilter);var gt=function(t,e,r,n){if(null==t)return function(t){return t};var i,o=e?(t.match(mt)||[""])[0]:"",a=t.split(o).join("").match(b)||[],s=t.substr(0,t.indexOf(a[0])),u=")"===t.charAt(t.length-1)?")":"",l=t.indexOf(" ")!==-1?" ":",",c=a.length,h=c>0?a[0].replace(_,""):"";return c?i=e?function(t){var e,f,d,p;if("number"==typeof t)t+=h;else if(n&&F.test(t)){for(p=t.replace(F,"|").split("|"),d=0;d<p.length;d++)p[d]=i(p[d]);return p.join(",")}if(e=(t.match(mt)||[o])[0],f=t.split(e).join("").match(b)||[],d=f.length,c>d--)for(;++d<c;)f[d]=r?f[(d-1)/2|0]:a[d];return s+f.join(l)+l+e+u+(t.indexOf("inset")!==-1?" inset":"")}:function(t){var e,o,f;if("number"==typeof t)t+=h;else if(n&&F.test(t)){for(o=t.replace(F,"|").split("|"),f=0;f<o.length;f++)o[f]=i(o[f]);return o.join(",")}if(e=t.match(b)||[],f=e.length,c>f--)for(;++f<c;)e[f]=r?e[(f-1)/2|0]:a[f];return s+e.join(l)+u}:function(t){return t}},yt=function(t){return t=t.split(","),function(e,r,n,i,o,a,s){var u,l=(r+"").split(" ");for(s={},u=0;u<4;u++)s[t[u]]=l[u]=l[u]||l[(u-1)/2>>0];return i.parse(e,s,o,a)}},_t=(V._setPluginRatio=function(t){this.plugin.setRatio(t);for(var e,r,n,i,o,a=this.data,s=a.proxy,u=a.firstMPT,l=1e-6;u;)e=s[u.v],u.r?e=Math.round(e):e<l&&e>-l&&(e=0),u.t[u.p]=e,u=u._next;if(a.autoRotate&&(a.autoRotate.rotation=a.mod?a.mod(s.rotation,this.t):s.rotation),1===t||0===t)for(u=a.firstMPT,o=1===t?"e":"b";u;){if(r=u.t,r.type){if(1===r.type){for(i=r.xs0+r.s+r.xs1,n=1;n<r.l;n++)i+=r["xn"+n]+r["xs"+(n+1)];r[o]=i}}else r[o]=r.s+r.xs0;u=u._next}},function(t,e,r,n,i){this.t=t,this.p=e,this.v=r,this.r=i,n&&(n._prev=this,this._next=n)}),xt=(V._parseToProxy=function(t,e,r,n,i,o){var a,s,u,l,c,h=n,f={},d={},p=r._transform,v=B;for(r._transform=null,B=e,n=c=r.parse(t,e,n,i),B=v,o&&(r._transform=p,h&&(h._prev=null,h._prev&&(h._prev._next=null)));n&&n!==h;){if(n.type<=1&&(s=n.p,d[s]=n.s+n.c,f[s]=n.s,o||(l=new _t(n,"s",s,l,n.r),n.c=0),1===n.type))for(a=n.l;--a>0;)u="xn"+a,s=n.p+"_"+u,d[s]=n.data[u],f[s]=n[u],o||(l=new _t(n,u,s,l,n.rxp[u]));n=n._next}return{proxy:f,end:d,firstMPT:l,pt:c}},V.CSSPropTween=function(t,e,n,i,a,s,u,l,c,h,f){this.t=t,this.p=e,this.s=n,this.c=i,this.n=u||e,t instanceof xt||o.push(this.n),this.r=l,this.type=s||0,c&&(this.pr=c,r=!0),this.b=void 0===h?n:h,this.e=void 0===f?n+i:f,a&&(this._next=a,a._prev=this)}),bt=function(t,e,r,n,i,o){var a=new xt(t,e,r,n-r,i,-1,o);return a.b=r,a.e=a.xs0=n,a},wt=s.parseComplex=function(t,e,r,n,i,o,a,u,l,c){r=r||o||"","function"==typeof n&&(n=n(y,g)),a=new xt(t,e,0,0,a,c?2:1,null,!1,u,r,n),n+="",i&&mt.test(n+r)&&(n=[r,n],s.colorStringFilter(n),r=n[0],n=n[1]);var f,d,p,v,m,b,w,T,E,S,M,A,P,C=r.split(", ").join(",").split(" "),O=n.split(", ").join(",").split(" "),R=C.length,D=h!==!1;for(n.indexOf(",")===-1&&r.indexOf(",")===-1||(C=C.join(" ").replace(F,", ").split(" "),O=O.join(" ").replace(F,", ").split(" "),R=C.length),R!==O.length&&(C=(o||"").split(" "),R=C.length),a.plugin=l,a.setRatio=c,mt.lastIndex=0,f=0;f<R;f++)if(v=C[f],m=O[f],T=parseFloat(v),T||0===T)a.appendXtra("",T,lt(m,T),m.replace(x,""),D&&m.indexOf("px")!==-1,!0);else if(i&&mt.test(v))A=m.indexOf(")")+1,A=")"+(A?m.substr(A):""),P=m.indexOf("hsl")!==-1&&Y,v=pt(v,P),m=pt(m,P),E=v.length+m.length>6,E&&!Y&&0===m[3]?(a["xs"+a.l]+=a.l?" transparent":"transparent",a.e=a.e.split(O[f]).join("transparent")):(Y||(E=!1),P?a.appendXtra(E?"hsla(":"hsl(",v[0],lt(m[0],v[0]),",",!1,!0).appendXtra("",v[1],lt(m[1],v[1]),"%,",!1).appendXtra("",v[2],lt(m[2],v[2]),E?"%,":"%"+A,!1):a.appendXtra(E?"rgba(":"rgb(",v[0],m[0]-v[0],",",!0,!0).appendXtra("",v[1],m[1]-v[1],",",!0).appendXtra("",v[2],m[2]-v[2],E?",":A,!0),E&&(v=v.length<4?1:v[3],a.appendXtra("",v,(m.length<4?1:m[3])-v,A,!1))),mt.lastIndex=0;else if(b=v.match(_)){if(w=m.match(x),!w||w.length!==b.length)return a;for(p=0,d=0;d<b.length;d++)M=b[d],S=v.indexOf(M,p),a.appendXtra(v.substr(p,S-p),Number(M),lt(w[d],M),"",D&&"px"===v.substr(S+M.length,2),0===d),p=S+M.length;a["xs"+a.l]+=v.substr(p)}else a["xs"+a.l]+=a.l||a["xs"+a.l]?" "+m:m;if(n.indexOf("=")!==-1&&a.data){for(A=a.xs0+a.data.s,f=1;f<a.l;f++)A+=a["xs"+f]+a.data["xn"+f];a.e=A+a["xs"+f]}return a.l||(a.type=-1,a.xs0=a.e),a.xfirst||a},Tt=9;for(c=xt.prototype,c.l=c.pr=0;--Tt>0;)c["xn"+Tt]=0,c["xs"+Tt]="";c.xs0="",c._next=c._prev=c.xfirst=c.data=c.plugin=c.setRatio=c.rxp=null,c.appendXtra=function(t,e,r,n,i,o){var a=this,s=a.l;return a["xs"+s]+=o&&(s||a["xs"+s])?" "+t:t||"",r||0===s||a.plugin?(a.l++,a.type=a.setRatio?2:1,a["xs"+a.l]=n||"",s>0?(a.data["xn"+s]=e+r,a.rxp["xn"+s]=i,a["xn"+s]=e,a.plugin||(a.xfirst=new xt(a,"xn"+s,e,r,a.xfirst||a,0,a.n,i,a.pr),a.xfirst.xs0=0),a):(a.data={s:e+r},a.rxp={},a.s=e,a.c=r,a.r=i,a)):(a["xs"+s]+=e+(n||""),a)};var Et=function(t,e){e=e||{},this.p=e.prefix?Q(t)||t:t,l[t]=l[this.p]=this,this.format=e.formatter||gt(e.defaultValue,e.color,e.collapsible,e.multi),e.parser&&(this.parse=e.parser),this.clrs=e.color,this.multi=e.multi,this.keyword=e.keyword,this.dflt=e.defaultValue,this.pr=e.priority||0},St=V._registerComplexSpecialProp=function(t,e,r){"object"!=typeof e&&(e={parser:r});var n,i,o=t.split(","),a=e.defaultValue;for(r=r||[a],n=0;n<o.length;n++)e.prefix=0===n&&e.prefix,e.defaultValue=r[n]||a,i=new Et(o[n],e)},Mt=V._registerPluginProp=function(t){if(!l[t]){var e=t.charAt(0).toUpperCase()+t.substr(1)+"Plugin";St(t,{parser:function(t,r,n,i,o,a,s){var c=u.com.greensock.plugins[e];return c?(c._cssRegister(),l[n].parse(t,r,n,i,o,a,s)):(Z("Error: "+e+" js file not loaded."),o)}})}};c=Et.prototype,c.parseComplex=function(t,e,r,n,i,o){var a,s,u,l,c,h,f=this.keyword;if(this.multi&&(F.test(r)||F.test(e)?(s=e.replace(F,"|").split("|"),u=r.replace(F,"|").split("|")):f&&(s=[e],u=[r])),u){for(l=u.length>s.length?u.length:s.length,a=0;a<l;a++)e=s[a]=s[a]||this.dflt,r=u[a]=u[a]||this.dflt,f&&(c=e.indexOf(f),h=r.indexOf(f),c!==h&&(h===-1?s[a]=s[a].split(f).join(""):c===-1&&(s[a]+=" "+f)));e=s.join(", "),r=u.join(", ")}return wt(t,this.p,e,r,this.clrs,this.dflt,n,this.pr,i,o)},c.parse=function(t,e,r,n,o,a,s){return this.parseComplex(t.style,this.format(tt(t,this.p,i,!1,this.dflt)),this.format(e),o,a)},s.registerSpecialProp=function(t,e,r){St(t,{parser:function(t,n,i,o,a,s,u){var l=new xt(t,i,0,0,a,2,i,!1,r);return l.plugin=s,l.setRatio=e(t,n,o._tween,i),l},priority:r})},s.useSVGTransformAttr=!0;var At,Pt="scaleX,scaleY,scaleZ,x,y,z,skewX,skewY,rotation,rotationX,rotationY,perspective,xPercent,yPercent".split(","),Ct=Q("transform"),Ot=K+"transform",Rt=Q("transformOrigin"),Dt=null!==Q("perspective"),Lt=V.Transform=function(){this.perspective=parseFloat(s.defaultTransformPerspective)||0,this.force3D=!(s.defaultForce3D===!1||!Dt)&&(s.defaultForce3D||"auto")},It=a.SVGElement,Ft=function(t,e,r){var n,i=j.createElementNS("http://www.w3.org/2000/svg",t),o=/([a-z])([A-Z])/g;for(n in r)i.setAttributeNS(null,n.replace(o,"$1-$2").toLowerCase(),r[n]);return e.appendChild(i),i},Nt=j.documentElement||{},kt=function(){var t,e,r,n=m||/Android/i.test(W)&&!a.chrome;return j.createElementNS&&!n&&(t=Ft("svg",Nt),e=Ft("rect",t,{width:100,height:50,x:100}),r=e.getBoundingClientRect().width,e.style[Rt]="50% 50%",e.style[Ct]="scaleX(0.5)",n=r===e.getBoundingClientRect().width&&!(p&&Dt),Nt.removeChild(t)),n}(),Ut=function(t,e,r,n,i,o){var a,u,l,c,h,f,d,p,v,m,g,y,_,x,b=t._gsTransform,w=Ht(t,!0);b&&(_=b.xOrigin,x=b.yOrigin),(!n||(a=n.split(" ")).length<2)&&(d=t.getBBox(),0===d.x&&0===d.y&&d.width+d.height===0&&(d={x:parseFloat(t.hasAttribute("x")?t.getAttribute("x"):t.hasAttribute("cx")?t.getAttribute("cx"):0)||0,y:parseFloat(t.hasAttribute("y")?t.getAttribute("y"):t.hasAttribute("cy")?t.getAttribute("cy"):0)||0,width:0,height:0}),e=ut(e).split(" "),a=[(e[0].indexOf("%")!==-1?parseFloat(e[0])/100*d.width:parseFloat(e[0]))+d.x,(e[1].indexOf("%")!==-1?parseFloat(e[1])/100*d.height:parseFloat(e[1]))+d.y]),r.xOrigin=c=parseFloat(a[0]),r.yOrigin=h=parseFloat(a[1]),n&&w!==Gt&&(f=w[0],d=w[1],p=w[2],v=w[3],m=w[4],g=w[5],y=f*v-d*p,y&&(u=c*(v/y)+h*(-p/y)+(p*g-v*m)/y,l=c*(-d/y)+h*(f/y)-(f*g-d*m)/y,c=r.xOrigin=a[0]=u,h=r.yOrigin=a[1]=l)),b&&(o&&(r.xOffset=b.xOffset,r.yOffset=b.yOffset,b=r),i||i!==!1&&s.defaultSmoothOrigin!==!1?(u=c-_,l=h-x,b.xOffset+=u*w[0]+l*w[2]-u,b.yOffset+=u*w[1]+l*w[3]-l):b.xOffset=b.yOffset=0),o||t.setAttribute("data-svg-origin",a.join(" "))},Bt=function(t){var e,r=G("svg",this.ownerSVGElement.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),n=this.parentNode,i=this.nextSibling,o=this.style.cssText;if(Nt.appendChild(r),r.appendChild(this),this.style.display="block",t)try{e=this.getBBox(),this._originalGetBBox=this.getBBox,this.getBBox=Bt}catch(t){}else this._originalGetBBox&&(e=this._originalGetBBox());return i?n.insertBefore(this,i):n.appendChild(this),Nt.removeChild(r),this.style.cssText=o,e},zt=function(t){try{return t.getBBox()}catch(e){return Bt.call(t,!0)}},jt=function(t){return!(!(It&&t.getCTM&&zt(t))||t.parentNode&&!t.ownerSVGElement)},Gt=[1,0,0,1,0,0],Ht=function(t,e){var r,n,i,o,a,s,u=t._gsTransform||new Lt,l=1e5,c=t.style;if(Ct?n=tt(t,Ot,null,!0):t.currentStyle&&(n=t.currentStyle.filter.match(L),n=n&&4===n.length?[n[0].substr(4),Number(n[2].substr(4)),Number(n[1].substr(4)),n[3].substr(4),u.x||0,u.y||0].join(","):""),r=!n||"none"===n||"matrix(1, 0, 0, 1, 0, 0)"===n,r&&Ct&&((s="none"===$(t).display)||!t.parentNode)&&(s&&(o=c.display,c.display="block"),t.parentNode||(a=1,Nt.appendChild(t)),n=tt(t,Ot,null,!0),r=!n||"none"===n||"matrix(1, 0, 0, 1, 0, 0)"===n,o?c.display=o:s&&qt(c,"display"),a&&Nt.removeChild(t)),(u.svg||t.getCTM&&jt(t))&&(r&&(c[Ct]+"").indexOf("matrix")!==-1&&(n=c[Ct],r=0),i=t.getAttribute("transform"),r&&i&&(i.indexOf("matrix")!==-1?(n=i,r=0):i.indexOf("translate")!==-1&&(n="matrix(1,0,0,1,"+i.match(/(?:\-|\b)[\d\-\.e]+\b/gi).join(",")+")",r=0))),r)return Gt;for(i=(n||"").match(_)||[],Tt=i.length;--Tt>-1;)o=Number(i[Tt]),i[Tt]=(a=o-(o|=0))?(a*l+(a<0?-.5:.5)|0)/l+o:o;return e&&i.length>6?[i[0],i[1],i[4],i[5],i[12],i[13]]:i},Xt=V.getTransform=function(t,r,n,i){if(t._gsTransform&&n&&!i)return t._gsTransform;var o,a,u,l,c,h,f=n?t._gsTransform||new Lt:new Lt,d=f.scaleX<0,p=2e-5,v=1e5,m=Dt?parseFloat(tt(t,Rt,r,!1,"0 0 0").split(" ")[2])||f.zOrigin||0:0,g=parseFloat(s.defaultTransformPerspective)||0;if(f.svg=!(!t.getCTM||!jt(t)),f.svg&&(Ut(t,tt(t,Rt,r,!1,"50% 50%")+"",f,t.getAttribute("data-svg-origin")),At=s.useSVGTransformAttr||kt),o=Ht(t),o!==Gt){if(16===o.length){var y,_,x,b,w,T=o[0],E=o[1],S=o[2],M=o[3],A=o[4],P=o[5],C=o[6],O=o[7],R=o[8],D=o[9],L=o[10],I=o[12],F=o[13],N=o[14],k=o[11],B=Math.atan2(C,L);f.zOrigin&&(N=-f.zOrigin,I=R*N-o[12],F=D*N-o[13],N=L*N+f.zOrigin-o[14]),f.rotationX=B*U,B&&(b=Math.cos(-B),w=Math.sin(-B),y=A*b+R*w,_=P*b+D*w,x=C*b+L*w,R=A*-w+R*b,D=P*-w+D*b,L=C*-w+L*b,k=O*-w+k*b,A=y,P=_,C=x),B=Math.atan2(-S,L),f.rotationY=B*U,B&&(b=Math.cos(-B),w=Math.sin(-B),y=T*b-R*w,_=E*b-D*w,x=S*b-L*w,D=E*w+D*b,L=S*w+L*b,k=M*w+k*b,T=y,E=_,S=x),B=Math.atan2(E,T),f.rotation=B*U,B&&(b=Math.cos(-B),w=Math.sin(-B),T=T*b+A*w,_=E*b+P*w,P=E*-w+P*b,C=S*-w+C*b,E=_),f.rotationX&&Math.abs(f.rotationX)+Math.abs(f.rotation)>359.9&&(f.rotationX=f.rotation=0,f.rotationY=180-f.rotationY),f.scaleX=(Math.sqrt(T*T+E*E)*v+.5|0)/v,f.scaleY=(Math.sqrt(P*P+D*D)*v+.5|0)/v,f.scaleZ=(Math.sqrt(C*C+L*L)*v+.5|0)/v,f.rotationX||f.rotationY?f.skewX=0:(f.skewX=A||P?Math.atan2(A,P)*U+f.rotation:f.skewX||0,Math.abs(f.skewX)>90&&Math.abs(f.skewX)<270&&(d?(f.scaleX*=-1,f.skewX+=f.rotation<=0?180:-180,f.rotation+=f.rotation<=0?180:-180):(f.scaleY*=-1,f.skewX+=f.skewX<=0?180:-180))),f.perspective=k?1/(k<0?-k:k):0,f.x=I,f.y=F,f.z=N,f.svg&&(f.x-=f.xOrigin-(f.xOrigin*T-f.yOrigin*A),f.y-=f.yOrigin-(f.yOrigin*E-f.xOrigin*P))}else if(!Dt||i||!o.length||f.x!==o[4]||f.y!==o[5]||!f.rotationX&&!f.rotationY){var z=o.length>=6,j=z?o[0]:1,G=o[1]||0,H=o[2]||0,X=z?o[3]:1;f.x=o[4]||0,f.y=o[5]||0,u=Math.sqrt(j*j+G*G),l=Math.sqrt(X*X+H*H),c=j||G?Math.atan2(G,j)*U:f.rotation||0,h=H||X?Math.atan2(H,X)*U+c:f.skewX||0,Math.abs(h)>90&&Math.abs(h)<270&&(d?(u*=-1,h+=c<=0?180:-180,c+=c<=0?180:-180):(l*=-1,h+=h<=0?180:-180)),f.scaleX=u,f.scaleY=l,f.rotation=c,f.skewX=h,Dt&&(f.rotationX=f.rotationY=f.z=0,f.perspective=g,f.scaleZ=1),f.svg&&(f.x-=f.xOrigin-(f.xOrigin*j+f.yOrigin*H),f.y-=f.yOrigin-(f.xOrigin*G+f.yOrigin*X))}f.zOrigin=m;for(a in f)f[a]<p&&f[a]>-p&&(f[a]=0)}return n&&(t._gsTransform=f,f.svg&&(At&&t.style[Ct]?e.delayedCall(.001,function(){qt(t.style,Ct)}):!At&&t.getAttribute("transform")&&e.delayedCall(.001,function(){t.removeAttribute("transform")}))),f},Vt=function(t){var e,r,n=this.data,i=-n.rotation*k,o=i+n.skewX*k,a=1e5,s=(Math.cos(i)*n.scaleX*a|0)/a,u=(Math.sin(i)*n.scaleX*a|0)/a,l=(Math.sin(o)*-n.scaleY*a|0)/a,c=(Math.cos(o)*n.scaleY*a|0)/a,h=this.t.style,f=this.t.currentStyle;if(f){r=u,u=-l,l=-r,e=f.filter,h.filter="";var d,p,v=this.t.offsetWidth,g=this.t.offsetHeight,y="absolute"!==f.position,_="progid:DXImageTransform.Microsoft.Matrix(M11="+s+", M12="+u+", M21="+l+", M22="+c,x=n.x+v*n.xPercent/100,b=n.y+g*n.yPercent/100;if(null!=n.ox&&(d=(n.oxp?v*n.ox*.01:n.ox)-v/2,p=(n.oyp?g*n.oy*.01:n.oy)-g/2,x+=d-(d*s+p*u),b+=p-(d*l+p*c)),y?(d=v/2,p=g/2,_+=", Dx="+(d-(d*s+p*u)+x)+", Dy="+(p-(d*l+p*c)+b)+")"):_+=", sizingMethod='auto expand')",e.indexOf("DXImageTransform.Microsoft.Matrix(")!==-1?h.filter=e.replace(I,_):h.filter=_+" "+e,0!==t&&1!==t||1===s&&0===u&&0===l&&1===c&&(y&&_.indexOf("Dx=0, Dy=0")===-1||E.test(e)&&100!==parseFloat(RegExp.$1)||e.indexOf(e.indexOf("Alpha"))===-1&&h.removeAttribute("filter")),!y){var w,S,M,A=m<8?1:-1;for(d=n.ieOffsetX||0,p=n.ieOffsetY||0,n.ieOffsetX=Math.round((v-((s<0?-s:s)*v+(u<0?-u:u)*g))/2+x),n.ieOffsetY=Math.round((g-((c<0?-c:c)*g+(l<0?-l:l)*v))/2+b),Tt=0;Tt<4;Tt++)S=at[Tt],w=f[S],r=w.indexOf("px")!==-1?parseFloat(w):et(this.t,S,parseFloat(w),w.replace(T,""))||0,M=r!==n[S]?Tt<2?-n.ieOffsetX:-n.ieOffsetY:Tt<2?d-n.ieOffsetX:p-n.ieOffsetY,h[S]=(n[S]=Math.round(r-M*(0===Tt||2===Tt?1:A)))+"px"}}},Wt=V.set3DTransformRatio=V.setTransformRatio=function(t){var e,r,n,i,o,a,s,u,l,c,h,f,d,v,m,g,y,_,x,b,w,T,E,S=this.data,M=this.t.style,A=S.rotation,P=S.rotationX,C=S.rotationY,O=S.scaleX,R=S.scaleY,D=S.scaleZ,L=S.x,I=S.y,F=S.z,N=S.svg,U=S.perspective,B=S.force3D,z=S.skewY,j=S.skewX;if(z&&(j+=z,A+=z),((1===t||0===t)&&"auto"===B&&(this.tween._totalTime===this.tween._totalDuration||!this.tween._totalTime)||!B)&&!F&&!U&&!C&&!P&&1===D||At&&N||!Dt)return void(A||j||N?(A*=k,T=j*k,E=1e5,r=Math.cos(A)*O,o=Math.sin(A)*O,n=Math.sin(A-T)*-R,a=Math.cos(A-T)*R,T&&"simple"===S.skewType&&(e=Math.tan(T-z*k),e=Math.sqrt(1+e*e),n*=e,a*=e,z&&(e=Math.tan(z*k),e=Math.sqrt(1+e*e),r*=e,o*=e)),N&&(L+=S.xOrigin-(S.xOrigin*r+S.yOrigin*n)+S.xOffset,I+=S.yOrigin-(S.xOrigin*o+S.yOrigin*a)+S.yOffset,At&&(S.xPercent||S.yPercent)&&(m=this.t.getBBox(),L+=.01*S.xPercent*m.width,I+=.01*S.yPercent*m.height),m=1e-6,L<m&&L>-m&&(L=0),I<m&&I>-m&&(I=0)),x=(r*E|0)/E+","+(o*E|0)/E+","+(n*E|0)/E+","+(a*E|0)/E+","+L+","+I+")",N&&At?this.t.setAttribute("transform","matrix("+x):M[Ct]=(S.xPercent||S.yPercent?"translate("+S.xPercent+"%,"+S.yPercent+"%) matrix(":"matrix(")+x):M[Ct]=(S.xPercent||S.yPercent?"translate("+S.xPercent+"%,"+S.yPercent+"%) matrix(":"matrix(")+O+",0,0,"+R+","+L+","+I+")");if(p&&(m=1e-4,O<m&&O>-m&&(O=D=2e-5),R<m&&R>-m&&(R=D=2e-5),!U||S.z||S.rotationX||S.rotationY||(U=0)),A||j)A*=k,g=r=Math.cos(A),y=o=Math.sin(A),j&&(A-=j*k,g=Math.cos(A),y=Math.sin(A),"simple"===S.skewType&&(e=Math.tan((j-z)*k),e=Math.sqrt(1+e*e),g*=e,y*=e,S.skewY&&(e=Math.tan(z*k),e=Math.sqrt(1+e*e),r*=e,o*=e))),n=-y,a=g;else{if(!(C||P||1!==D||U||N))return void(M[Ct]=(S.xPercent||S.yPercent?"translate("+S.xPercent+"%,"+S.yPercent+"%) translate3d(":"translate3d(")+L+"px,"+I+"px,"+F+"px)"+(1!==O||1!==R?" scale("+O+","+R+")":""));r=a=1,n=o=0}c=1,i=s=u=l=h=f=0,d=U?-1/U:0,v=S.zOrigin,m=1e-6,b=",",w="0",A=C*k,A&&(g=Math.cos(A),y=Math.sin(A),u=-y,h=d*-y,i=r*y,s=o*y,c=g,d*=g,r*=g,o*=g),A=P*k,A&&(g=Math.cos(A),y=Math.sin(A),e=n*g+i*y,_=a*g+s*y,l=c*y,f=d*y,i=n*-y+i*g,s=a*-y+s*g,c*=g,d*=g,n=e,a=_),1!==D&&(i*=D,s*=D,c*=D,d*=D),1!==R&&(n*=R,a*=R,l*=R,f*=R),1!==O&&(r*=O,o*=O,u*=O,h*=O),(v||N)&&(v&&(L+=i*-v,I+=s*-v,F+=c*-v+v),N&&(L+=S.xOrigin-(S.xOrigin*r+S.yOrigin*n)+S.xOffset,I+=S.yOrigin-(S.xOrigin*o+S.yOrigin*a)+S.yOffset),L<m&&L>-m&&(L=w),I<m&&I>-m&&(I=w),F<m&&F>-m&&(F=0)),x=S.xPercent||S.yPercent?"translate("+S.xPercent+"%,"+S.yPercent+"%) matrix3d(":"matrix3d(",x+=(r<m&&r>-m?w:r)+b+(o<m&&o>-m?w:o)+b+(u<m&&u>-m?w:u),x+=b+(h<m&&h>-m?w:h)+b+(n<m&&n>-m?w:n)+b+(a<m&&a>-m?w:a),P||C||1!==D?(x+=b+(l<m&&l>-m?w:l)+b+(f<m&&f>-m?w:f)+b+(i<m&&i>-m?w:i),x+=b+(s<m&&s>-m?w:s)+b+(c<m&&c>-m?w:c)+b+(d<m&&d>-m?w:d)+b):x+=",0,0,0,0,1,0,",x+=L+b+I+b+F+b+(U?1+-F/U:1)+")",M[Ct]=x};c=Lt.prototype,c.x=c.y=c.z=c.skewX=c.skewY=c.rotation=c.rotationX=c.rotationY=c.zOrigin=c.xPercent=c.yPercent=c.xOffset=c.yOffset=0,c.scaleX=c.scaleY=c.scaleZ=1,St("transform,scale,scaleX,scaleY,scaleZ,x,y,z,rotation,rotationX,rotationY,rotationZ,skewX,skewY,shortRotation,shortRotationX,shortRotationY,shortRotationZ,transformOrigin,svgOrigin,transformPerspective,directionalRotation,parseTransform,force3D,skewType,xPercent,yPercent,smoothOrigin",{parser:function(t,e,r,n,o,a,u){if(n._lastParsedTransform===u)return o;n._lastParsedTransform=u;var l,c=u.scale&&"function"==typeof u.scale?u.scale:0;"function"==typeof u[r]&&(l=u[r],u[r]=e),c&&(u.scale=c(y,t));var h,f,d,p,v,m,_,x,b,w=t._gsTransform,T=t.style,E=1e-6,S=Pt.length,M=u,A={},P="transformOrigin",C=Xt(t,i,!0,M.parseTransform),O=M.transform&&("function"==typeof M.transform?M.transform(y,g):M.transform);if(n._transform=C,O&&"string"==typeof O&&Ct)f=H.style,f[Ct]=O,f.display="block",f.position="absolute",j.body.appendChild(H),h=Xt(H,null,!1),C.svg&&(m=C.xOrigin,_=C.yOrigin,h.x-=C.xOffset,h.y-=C.yOffset,(M.transformOrigin||M.svgOrigin)&&(O={},Ut(t,ut(M.transformOrigin),O,M.svgOrigin,M.smoothOrigin,!0),m=O.xOrigin,_=O.yOrigin,h.x-=O.xOffset-C.xOffset,h.y-=O.yOffset-C.yOffset),(m||_)&&(x=Ht(H,!0),h.x-=m-(m*x[0]+_*x[2]),h.y-=_-(m*x[1]+_*x[3]))),j.body.removeChild(H),h.perspective||(h.perspective=C.perspective),null!=M.xPercent&&(h.xPercent=ct(M.xPercent,C.xPercent)),null!=M.yPercent&&(h.yPercent=ct(M.yPercent,C.yPercent));else if("object"==typeof M){if(h={scaleX:ct(null!=M.scaleX?M.scaleX:M.scale,C.scaleX),scaleY:ct(null!=M.scaleY?M.scaleY:M.scale,C.scaleY),scaleZ:ct(M.scaleZ,C.scaleZ),x:ct(M.x,C.x),y:ct(M.y,C.y),z:ct(M.z,C.z),xPercent:ct(M.xPercent,C.xPercent),yPercent:ct(M.yPercent,C.yPercent),perspective:ct(M.transformPerspective,C.perspective)},v=M.directionalRotation,null!=v)if("object"==typeof v)for(f in v)M[f]=v[f];else M.rotation=v;
"string"==typeof M.x&&M.x.indexOf("%")!==-1&&(h.x=0,h.xPercent=ct(M.x,C.xPercent)),"string"==typeof M.y&&M.y.indexOf("%")!==-1&&(h.y=0,h.yPercent=ct(M.y,C.yPercent)),h.rotation=ht("rotation"in M?M.rotation:"shortRotation"in M?M.shortRotation+"_short":"rotationZ"in M?M.rotationZ:C.rotation,C.rotation,"rotation",A),Dt&&(h.rotationX=ht("rotationX"in M?M.rotationX:"shortRotationX"in M?M.shortRotationX+"_short":C.rotationX||0,C.rotationX,"rotationX",A),h.rotationY=ht("rotationY"in M?M.rotationY:"shortRotationY"in M?M.shortRotationY+"_short":C.rotationY||0,C.rotationY,"rotationY",A)),h.skewX=ht(M.skewX,C.skewX),h.skewY=ht(M.skewY,C.skewY)}for(Dt&&null!=M.force3D&&(C.force3D=M.force3D,p=!0),C.skewType=M.skewType||C.skewType||s.defaultSkewType,d=C.force3D||C.z||C.rotationX||C.rotationY||h.z||h.rotationX||h.rotationY||h.perspective,d||null==M.scale||(h.scaleZ=1);--S>-1;)b=Pt[S],O=h[b]-C[b],(O>E||O<-E||null!=M[b]||null!=B[b])&&(p=!0,o=new xt(C,b,C[b],O,o),b in A&&(o.e=A[b]),o.xs0=0,o.plugin=a,n._overwriteProps.push(o.n));return O=M.transformOrigin,C.svg&&(O||M.svgOrigin)&&(m=C.xOffset,_=C.yOffset,Ut(t,ut(O),h,M.svgOrigin,M.smoothOrigin),o=bt(C,"xOrigin",(w?C:h).xOrigin,h.xOrigin,o,P),o=bt(C,"yOrigin",(w?C:h).yOrigin,h.yOrigin,o,P),m===C.xOffset&&_===C.yOffset||(o=bt(C,"xOffset",w?m:C.xOffset,C.xOffset,o,P),o=bt(C,"yOffset",w?_:C.yOffset,C.yOffset,o,P)),O="0px 0px"),(O||Dt&&d&&C.zOrigin)&&(Ct?(p=!0,b=Rt,O=(O||tt(t,b,i,!1,"50% 50%"))+"",o=new xt(T,b,0,0,o,-1,P),o.b=T[b],o.plugin=a,Dt?(f=C.zOrigin,O=O.split(" "),C.zOrigin=(O.length>2&&(0===f||"0px"!==O[2])?parseFloat(O[2]):f)||0,o.xs0=o.e=O[0]+" "+(O[1]||"50%")+" 0px",o=new xt(C,"zOrigin",0,0,o,-1,o.n),o.b=f,o.xs0=o.e=C.zOrigin):o.xs0=o.e=O):ut(O+"",C)),p&&(n._transformType=C.svg&&At||!d&&3!==this._transformType?2:3),l&&(u[r]=l),c&&(u.scale=c),o},prefix:!0}),St("boxShadow",{defaultValue:"0px 0px 0px 0px #999",prefix:!0,color:!0,multi:!0,keyword:"inset"}),St("borderRadius",{defaultValue:"0px",parser:function(t,e,r,o,a,s){e=this.format(e);var u,l,c,h,f,d,p,v,m,g,y,_,x,b,w,T,E=["borderTopLeftRadius","borderTopRightRadius","borderBottomRightRadius","borderBottomLeftRadius"],S=t.style;for(m=parseFloat(t.offsetWidth),g=parseFloat(t.offsetHeight),u=e.split(" "),l=0;l<E.length;l++)this.p.indexOf("border")&&(E[l]=Q(E[l])),f=h=tt(t,E[l],i,!1,"0px"),f.indexOf(" ")!==-1&&(h=f.split(" "),f=h[0],h=h[1]),d=c=u[l],p=parseFloat(f),_=f.substr((p+"").length),x="="===d.charAt(1),x?(v=parseInt(d.charAt(0)+"1",10),d=d.substr(2),v*=parseFloat(d),y=d.substr((v+"").length-(v<0?1:0))||""):(v=parseFloat(d),y=d.substr((v+"").length)),""===y&&(y=n[r]||_),y!==_&&(b=et(t,"borderLeft",p,_),w=et(t,"borderTop",p,_),"%"===y?(f=b/m*100+"%",h=w/g*100+"%"):"em"===y?(T=et(t,"borderLeft",1,"em"),f=b/T+"em",h=w/T+"em"):(f=b+"px",h=w+"px"),x&&(d=parseFloat(f)+v+y,c=parseFloat(h)+v+y)),a=wt(S,E[l],f+" "+h,d+" "+c,!1,"0px",a);return a},prefix:!0,formatter:gt("0px 0px 0px 0px",!1,!0)}),St("borderBottomLeftRadius,borderBottomRightRadius,borderTopLeftRadius,borderTopRightRadius",{defaultValue:"0px",parser:function(t,e,r,n,o,a){return wt(t.style,r,this.format(tt(t,r,i,!1,"0px 0px")),this.format(e),!1,"0px",o)},prefix:!0,formatter:gt("0px 0px",!1,!0)}),St("backgroundPosition",{defaultValue:"0 0",parser:function(t,e,r,n,o,a){var s,u,l,c,h,f,d="background-position",p=i||$(t,null),v=this.format((p?m?p.getPropertyValue(d+"-x")+" "+p.getPropertyValue(d+"-y"):p.getPropertyValue(d):t.currentStyle.backgroundPositionX+" "+t.currentStyle.backgroundPositionY)||"0 0"),g=this.format(e);if(v.indexOf("%")!==-1!=(g.indexOf("%")!==-1)&&g.split(",").length<2&&(f=tt(t,"backgroundImage").replace(O,""),f&&"none"!==f)){for(s=v.split(" "),u=g.split(" "),X.setAttribute("src",f),l=2;--l>-1;)v=s[l],c=v.indexOf("%")!==-1,c!==(u[l].indexOf("%")!==-1)&&(h=0===l?t.offsetWidth-X.width:t.offsetHeight-X.height,s[l]=c?parseFloat(v)/100*h+"px":parseFloat(v)/h*100+"%");v=s.join(" ")}return this.parseComplex(t.style,v,g,o,a)},formatter:ut}),St("backgroundSize",{defaultValue:"0 0",formatter:function(t){return t+="",ut(t.indexOf(" ")===-1?t+" "+t:t)}}),St("perspective",{defaultValue:"0px",prefix:!0}),St("perspectiveOrigin",{defaultValue:"50% 50%",prefix:!0}),St("transformStyle",{prefix:!0}),St("backfaceVisibility",{prefix:!0}),St("userSelect",{prefix:!0}),St("margin",{parser:yt("marginTop,marginRight,marginBottom,marginLeft")}),St("padding",{parser:yt("paddingTop,paddingRight,paddingBottom,paddingLeft")}),St("clip",{defaultValue:"rect(0px,0px,0px,0px)",parser:function(t,e,r,n,o,a){var s,u,l;return m<9?(u=t.currentStyle,l=m<8?" ":",",s="rect("+u.clipTop+l+u.clipRight+l+u.clipBottom+l+u.clipLeft+")",e=this.format(e).split(",").join(l)):(s=this.format(tt(t,this.p,i,!1,this.dflt)),e=this.format(e)),this.parseComplex(t.style,s,e,o,a)}}),St("textShadow",{defaultValue:"0px 0px 0px #999",color:!0,multi:!0}),St("autoRound,strictUnits",{parser:function(t,e,r,n,i){return i}}),St("border",{defaultValue:"0px solid #000",parser:function(t,e,r,n,o,a){var s=tt(t,"borderTopWidth",i,!1,"0px"),u=this.format(e).split(" "),l=u[0].replace(T,"");return"px"!==l&&(s=parseFloat(s)/et(t,"borderTopWidth",1,l)+l),this.parseComplex(t.style,this.format(s+" "+tt(t,"borderTopStyle",i,!1,"solid")+" "+tt(t,"borderTopColor",i,!1,"#000")),u.join(" "),o,a)},color:!0,formatter:function(t){var e=t.split(" ");return e[0]+" "+(e[1]||"solid")+" "+(t.match(mt)||["#000"])[0]}}),St("borderWidth",{parser:yt("borderTopWidth,borderRightWidth,borderBottomWidth,borderLeftWidth")}),St("float,cssFloat,styleFloat",{parser:function(t,e,r,n,i,o){var a=t.style,s="cssFloat"in a?"cssFloat":"styleFloat";return new xt(a,s,0,0,i,-1,r,!1,0,a[s],e)}});var Yt=function(t){var e,r=this.t,n=r.filter||tt(this.data,"filter")||"",i=this.s+this.c*t|0;100===i&&(n.indexOf("atrix(")===-1&&n.indexOf("radient(")===-1&&n.indexOf("oader(")===-1?(r.removeAttribute("filter"),e=!tt(this.data,"filter")):(r.filter=n.replace(M,""),e=!0)),e||(this.xn1&&(r.filter=n=n||"alpha(opacity="+i+")"),n.indexOf("pacity")===-1?0===i&&this.xn1||(r.filter=n+" alpha(opacity="+i+")"):r.filter=n.replace(E,"opacity="+i))};St("opacity,alpha,autoAlpha",{defaultValue:"1",parser:function(t,e,r,n,o,a){var s=parseFloat(tt(t,"opacity",i,!1,"1")),u=t.style,l="autoAlpha"===r;return"string"==typeof e&&"="===e.charAt(1)&&(e=("-"===e.charAt(0)?-1:1)*parseFloat(e.substr(2))+s),l&&1===s&&"hidden"===tt(t,"visibility",i)&&0!==e&&(s=0),Y?o=new xt(u,"opacity",s,e-s,o):(o=new xt(u,"opacity",100*s,100*(e-s),o),o.xn1=l?1:0,u.zoom=1,o.type=2,o.b="alpha(opacity="+o.s+")",o.e="alpha(opacity="+(o.s+o.c)+")",o.data=t,o.plugin=a,o.setRatio=Yt),l&&(o=new xt(u,"visibility",0,0,o,-1,null,!1,0,0!==s?"inherit":"hidden",0===e?"hidden":"inherit"),o.xs0="inherit",n._overwriteProps.push(o.n),n._overwriteProps.push(r)),o}});var qt=function(t,e){e&&(t.removeProperty?("ms"!==e.substr(0,2)&&"webkit"!==e.substr(0,6)||(e="-"+e),t.removeProperty(e.replace(P,"-$1").toLowerCase())):t.removeAttribute(e))},Zt=function(t){if(this.t._gsClassPT=this,1===t||0===t){this.t.setAttribute("class",0===t?this.b:this.e);for(var e=this.data,r=this.t.style;e;)e.v?r[e.p]=e.v:qt(r,e.p),e=e._next;1===t&&this.t._gsClassPT===this&&(this.t._gsClassPT=null)}else this.t.getAttribute("class")!==this.e&&this.t.setAttribute("class",this.e)};St("className",{parser:function(t,e,n,o,a,s,u){var l,c,h,f,d,p=t.getAttribute("class")||"",v=t.style.cssText;if(a=o._classNamePT=new xt(t,n,0,0,a,2),a.setRatio=Zt,a.pr=-11,r=!0,a.b=p,c=nt(t,i),h=t._gsClassPT){for(f={},d=h.data;d;)f[d.p]=1,d=d._next;h.setRatio(1)}return t._gsClassPT=a,a.e="="!==e.charAt(1)?e:p.replace(new RegExp("(?:\\s|^)"+e.substr(2)+"(?![\\w-])"),"")+("+"===e.charAt(0)?" "+e.substr(2):""),t.setAttribute("class",a.e),l=it(t,c,nt(t),u,f),t.setAttribute("class",p),a.data=l.firstMPT,t.style.cssText=v,a=a.xfirst=o.parse(t,l.difs,a,s)}});var Kt=function(t){if((1===t||0===t)&&this.data._totalTime===this.data._totalDuration&&"isFromStart"!==this.data.data){var e,r,n,i,o,a=this.t.style,s=l.transform.parse;if("all"===this.e)a.cssText="",i=!0;else for(e=this.e.split(" ").join("").split(","),n=e.length;--n>-1;)r=e[n],l[r]&&(l[r].parse===s?i=!0:r="transformOrigin"===r?Rt:l[r].p),qt(a,r);i&&(qt(a,Ct),o=this.t._gsTransform,o&&(o.svg&&(this.t.removeAttribute("data-svg-origin"),this.t.removeAttribute("transform")),delete this.t._gsTransform))}};for(St("clearProps",{parser:function(t,e,n,i,o){return o=new xt(t,n,0,0,o,2),o.setRatio=Kt,o.e=e,o.pr=-10,o.data=i._tween,r=!0,o}}),c="bezier,throwProps,physicsProps,physics2D".split(","),Tt=c.length;Tt--;)Mt(c[Tt]);c=s.prototype,c._firstPT=c._lastParsedTransform=c._transform=null,c._onInitTween=function(t,e,a,u){if(!t.nodeType)return!1;this._target=g=t,this._tween=a,this._vars=e,y=u,h=e.autoRound,r=!1,n=e.suffixMap||s.suffixMap,i=$(t,""),o=this._overwriteProps;var c,p,m,_,x,b,w,T,E,M=t.style;if(f&&""===M.zIndex&&(c=tt(t,"zIndex",i),"auto"!==c&&""!==c||this._addLazySet(M,"zIndex",0)),"string"==typeof e&&(_=M.cssText,c=nt(t,i),M.cssText=_+";"+e,c=it(t,c,nt(t)).difs,!Y&&S.test(e)&&(c.opacity=parseFloat(RegExp.$1)),e=c,M.cssText=_),e.className?this._firstPT=p=l.className.parse(t,e.className,"className",this,null,null,e):this._firstPT=p=this.parse(t,e,null),this._transformType){for(E=3===this._transformType,Ct?d&&(f=!0,""===M.zIndex&&(w=tt(t,"zIndex",i),"auto"!==w&&""!==w||this._addLazySet(M,"zIndex",0)),v&&this._addLazySet(M,"WebkitBackfaceVisibility",this._vars.WebkitBackfaceVisibility||(E?"visible":"hidden"))):M.zoom=1,m=p;m&&m._next;)m=m._next;T=new xt(t,"transform",0,0,null,2),this._linkCSSP(T,null,m),T.setRatio=Ct?Wt:Vt,T.data=this._transform||Xt(t,i,!0),T.tween=a,T.pr=-1,o.pop()}if(r){for(;p;){for(b=p._next,m=_;m&&m.pr>p.pr;)m=m._next;(p._prev=m?m._prev:x)?p._prev._next=p:_=p,(p._next=m)?m._prev=p:x=p,p=b}this._firstPT=_}return!0},c.parse=function(t,e,r,o){var a,s,u,c,f,d,p,v,m,_,x=t.style;for(a in e)d=e[a],"function"==typeof d&&(d=d(y,g)),s=l[a],s?r=s.parse(t,d,a,this,r,o,e):(f=tt(t,a,i)+"",m="string"==typeof d,"color"===a||"fill"===a||"stroke"===a||a.indexOf("Color")!==-1||m&&A.test(d)?(m||(d=pt(d),d=(d.length>3?"rgba(":"rgb(")+d.join(",")+")"),r=wt(x,a,f,d,!0,"transparent",r,0,o)):m&&N.test(d)?r=wt(x,a,f,d,!0,null,r,0,o):(u=parseFloat(f),p=u||0===u?f.substr((u+"").length):"",""!==f&&"auto"!==f||("width"===a||"height"===a?(u=st(t,a,i),p="px"):"left"===a||"top"===a?(u=rt(t,a,i),p="px"):(u="opacity"!==a?0:1,p="")),_=m&&"="===d.charAt(1),_?(c=parseInt(d.charAt(0)+"1",10),d=d.substr(2),c*=parseFloat(d),v=d.replace(T,"")):(c=parseFloat(d),v=m?d.replace(T,""):""),""===v&&(v=a in n?n[a]:p),d=c||0===c?(_?c+u:c)+v:e[a],p!==v&&""!==v&&(c||0===c)&&u&&(u=et(t,a,u,p),"%"===v?(u/=et(t,a,100,"%")/100,e.strictUnits!==!0&&(f=u+"%")):"em"===v||"rem"===v||"vw"===v||"vh"===v?u/=et(t,a,1,v):"px"!==v&&(c=et(t,a,c,v),v="px"),_&&(c||0===c)&&(d=c+u+v)),_&&(c+=u),!u&&0!==u||!c&&0!==c?void 0!==x[a]&&(d||d+""!="NaN"&&null!=d)?(r=new xt(x,a,c||u||0,0,r,-1,a,!1,0,f,d),r.xs0="none"!==d||"display"!==a&&a.indexOf("Style")===-1?d:f):Z("invalid "+a+" tween value: "+e[a]):(r=new xt(x,a,u,c-u,r,0,a,h!==!1&&("px"===v||"zIndex"===a),0,f,d),r.xs0=v))),o&&r&&!r.plugin&&(r.plugin=o);return r},c.setRatio=function(t){var e,r,n,i=this._firstPT,o=1e-6;if(1!==t||this._tween._time!==this._tween._duration&&0!==this._tween._time)if(t||this._tween._time!==this._tween._duration&&0!==this._tween._time||this._tween._rawPrevTime===-1e-6)for(;i;){if(e=i.c*t+i.s,i.r?e=Math.round(e):e<o&&e>-o&&(e=0),i.type)if(1===i.type)if(n=i.l,2===n)i.t[i.p]=i.xs0+e+i.xs1+i.xn1+i.xs2;else if(3===n)i.t[i.p]=i.xs0+e+i.xs1+i.xn1+i.xs2+i.xn2+i.xs3;else if(4===n)i.t[i.p]=i.xs0+e+i.xs1+i.xn1+i.xs2+i.xn2+i.xs3+i.xn3+i.xs4;else if(5===n)i.t[i.p]=i.xs0+e+i.xs1+i.xn1+i.xs2+i.xn2+i.xs3+i.xn3+i.xs4+i.xn4+i.xs5;else{for(r=i.xs0+e+i.xs1,n=1;n<i.l;n++)r+=i["xn"+n]+i["xs"+(n+1)];i.t[i.p]=r}else i.type===-1?i.t[i.p]=i.xs0:i.setRatio&&i.setRatio(t);else i.t[i.p]=e+i.xs0;i=i._next}else for(;i;)2!==i.type?i.t[i.p]=i.b:i.setRatio(t),i=i._next;else for(;i;){if(2!==i.type)if(i.r&&i.type!==-1)if(e=Math.round(i.s+i.c),i.type){if(1===i.type){for(n=i.l,r=i.xs0+e+i.xs1,n=1;n<i.l;n++)r+=i["xn"+n]+i["xs"+(n+1)];i.t[i.p]=r}}else i.t[i.p]=e+i.xs0;else i.t[i.p]=i.e;else i.setRatio(t);i=i._next}},c._enableTransforms=function(t){this._transform=this._transform||Xt(this._target,i,!0),this._transformType=this._transform.svg&&At||!t&&3!==this._transformType?2:3};var Jt=function(t){this.t[this.p]=this.e,this.data._linkCSSP(this,this._next,null,!0)};c._addLazySet=function(t,e,r){var n=this._firstPT=new xt(t,e,0,0,this._firstPT,2);n.e=r,n.setRatio=Jt,n.data=this},c._linkCSSP=function(t,e,r,n){return t&&(e&&(e._prev=t),t._next&&(t._next._prev=t._prev),t._prev?t._prev._next=t._next:this._firstPT===t&&(this._firstPT=t._next,n=!0),r?r._next=t:n||null!==this._firstPT||(this._firstPT=t),t._next=e,t._prev=r),t},c._mod=function(t){for(var e=this._firstPT;e;)"function"==typeof t[e.p]&&t[e.p]===Math.round&&(e.r=1),e=e._next},c._kill=function(e){var r,n,i,o=e;if(e.autoAlpha||e.alpha){o={};for(n in e)o[n]=e[n];o.opacity=1,o.autoAlpha&&(o.visibility=1)}for(e.className&&(r=this._classNamePT)&&(i=r.xfirst,i&&i._prev?this._linkCSSP(i._prev,r._next,i._prev._prev):i===this._firstPT&&(this._firstPT=r._next),r._next&&this._linkCSSP(r._next,r._next._next,i._prev),this._classNamePT=null),r=this._firstPT;r;)r.plugin&&r.plugin!==n&&r.plugin._kill&&(r.plugin._kill(e),n=r.plugin),r=r._next;return t.prototype._kill.call(this,o)};var Qt=function(t,e,r){var n,i,o,a;if(t.slice)for(i=t.length;--i>-1;)Qt(t[i],e,r);else for(n=t.childNodes,i=n.length;--i>-1;)o=n[i],a=o.type,o.style&&(e.push(nt(o)),r&&r.push(o)),1!==a&&9!==a&&11!==a||!o.childNodes.length||Qt(o,e,r)};return s.cascadeTo=function(t,r,n){var i,o,a,s,u=e.to(t,r,n),l=[u],c=[],h=[],f=[],d=e._internals.reservedProps;for(t=u._targets||u.target,Qt(t,c,f),u.render(r,!0,!0),Qt(t,h),u.render(0,!0,!0),u._enabled(!0),i=f.length;--i>-1;)if(o=it(f[i],c[i],h[i]),o.firstMPT){o=o.difs;for(a in n)d[a]&&(o[a]=n[a]);s={};for(a in o)s[a]=c[i][a];l.push(e.fromTo(f[i],r,s,o))}return l},t.activate([s]),s},!0),function(){var t=a._gsDefine.plugin({propName:"roundProps",version:"1.6.0",priority:-1,API:2,init:function(t,e,r){return this._tween=r,!0}}),e=function(t){for(;t;)t.f||t.blob||(t.m=Math.round),t=t._next},r=t.prototype;r._onInitAllProps=function(){for(var t,r,n,i=this._tween,o=i.vars.roundProps.join?i.vars.roundProps:i.vars.roundProps.split(","),a=o.length,s={},u=i._propLookup.roundProps;--a>-1;)s[o[a]]=Math.round;for(a=o.length;--a>-1;)for(t=o[a],r=i._firstPT;r;)n=r._next,r.pg?r.t._mod(s):r.n===t&&(2===r.f&&r.t?e(r.t._firstPT):(this._add(r.t,t,r.s,r.c),n&&(n._prev=r._prev),r._prev?r._prev._next=n:i._firstPT===r&&(i._firstPT=n),r._next=r._prev=null,i._propLookup[t]=u)),r=n;return!1},r._add=function(t,e,r,n){this._addTween(t,e,r,r+n,e,Math.round),this._overwriteProps.push(e)}}(),function(){a._gsDefine.plugin({propName:"attr",API:2,version:"0.6.0",init:function(t,e,r,n){var i,o;if("function"!=typeof t.setAttribute)return!1;for(i in e)o=e[i],"function"==typeof o&&(o=o(n,t)),this._addTween(t,"setAttribute",t.getAttribute(i)+"",o+"",i,!1,i),this._overwriteProps.push(i);return!0}})}(),a._gsDefine.plugin({propName:"directionalRotation",version:"0.3.0",API:2,init:function(t,e,r,n){"object"!=typeof e&&(e={rotation:e}),this.finals={};var i,o,a,s,u,l,c=e.useRadians===!0?2*Math.PI:360,h=1e-6;for(i in e)"useRadians"!==i&&(s=e[i],"function"==typeof s&&(s=s(n,t)),l=(s+"").split("_"),o=l[0],a=parseFloat("function"!=typeof t[i]?t[i]:t[i.indexOf("set")||"function"!=typeof t["get"+i.substr(3)]?i:"get"+i.substr(3)]()),s=this.finals[i]="string"==typeof o&&"="===o.charAt(1)?a+parseInt(o.charAt(0)+"1",10)*Number(o.substr(2)):Number(o)||0,u=s-a,l.length&&(o=l.join("_"),o.indexOf("short")!==-1&&(u%=c,u!==u%(c/2)&&(u=u<0?u+c:u-c)),o.indexOf("_cw")!==-1&&u<0?u=(u+9999999999*c)%c-(u/c|0)*c:o.indexOf("ccw")!==-1&&u>0&&(u=(u-9999999999*c)%c-(u/c|0)*c)),(u>h||u<-h)&&(this._addTween(t,i,a,a+u,i),this._overwriteProps.push(i)));return!0},set:function(t){var e;if(1!==t)this._super.setRatio.call(this,t);else for(e=this._firstPT;e;)e.f?e.t[e.p](this.finals[e.p]):e.t[e.p]=this.finals[e.p],e=e._next}})._autoCSS=!0,a._gsDefine("easing.Back",["easing.Ease"],function(t){var e,r,n,i=a.GreenSockGlobals||a,o=i.com.greensock,s=2*Math.PI,u=Math.PI/2,l=o._class,c=function(e,r){var n=l("easing."+e,function(){},!0),i=n.prototype=new t;return i.constructor=n,i.getRatio=r,n},h=t.register||function(){},f=function(t,e,r,n,i){var o=l("easing."+t,{easeOut:new e,easeIn:new r,easeInOut:new n},!0);return h(o,t),o},d=function(t,e,r){this.t=t,this.v=e,r&&(this.next=r,r.prev=this,this.c=r.v-e,this.gap=r.t-t)},p=function(e,r){var n=l("easing."+e,function(t){this._p1=t||0===t?t:1.70158,this._p2=1.525*this._p1},!0),i=n.prototype=new t;return i.constructor=n,i.getRatio=r,i.config=function(t){return new n(t)},n},v=f("Back",p("BackOut",function(t){return(t-=1)*t*((this._p1+1)*t+this._p1)+1}),p("BackIn",function(t){return t*t*((this._p1+1)*t-this._p1)}),p("BackInOut",function(t){return(t*=2)<1?.5*t*t*((this._p2+1)*t-this._p2):.5*((t-=2)*t*((this._p2+1)*t+this._p2)+2)})),m=l("easing.SlowMo",function(t,e,r){e=e||0===e?e:.7,null==t?t=.7:t>1&&(t=1),this._p=1!==t?e:0,this._p1=(1-t)/2,this._p2=t,this._p3=this._p1+this._p2,this._calcEnd=r===!0},!0),g=m.prototype=new t;return g.constructor=m,g.getRatio=function(t){var e=t+(.5-t)*this._p;return t<this._p1?this._calcEnd?1-(t=1-t/this._p1)*t:e-(t=1-t/this._p1)*t*t*t*e:t>this._p3?this._calcEnd?1-(t=(t-this._p3)/this._p1)*t:e+(t-e)*(t=(t-this._p3)/this._p1)*t*t*t:this._calcEnd?1:e},m.ease=new m(.7,.7),g.config=m.config=function(t,e,r){return new m(t,e,r)},e=l("easing.SteppedEase",function(t){t=t||1,this._p1=1/t,this._p2=t+1},!0),g=e.prototype=new t,g.constructor=e,g.getRatio=function(t){return t<0?t=0:t>=1&&(t=.999999999),(this._p2*t>>0)*this._p1},g.config=e.config=function(t){return new e(t)},r=l("easing.RoughEase",function(e){e=e||{};for(var r,n,i,o,a,s,u=e.taper||"none",l=[],c=0,h=0|(e.points||20),f=h,p=e.randomize!==!1,v=e.clamp===!0,m=e.template instanceof t?e.template:null,g="number"==typeof e.strength?.4*e.strength:.4;--f>-1;)r=p?Math.random():1/h*f,n=m?m.getRatio(r):r,"none"===u?i=g:"out"===u?(o=1-r,i=o*o*g):"in"===u?i=r*r*g:r<.5?(o=2*r,i=o*o*.5*g):(o=2*(1-r),i=o*o*.5*g),p?n+=Math.random()*i-.5*i:f%2?n+=.5*i:n-=.5*i,v&&(n>1?n=1:n<0&&(n=0)),l[c++]={x:r,y:n};for(l.sort(function(t,e){return t.x-e.x}),s=new d(1,1,null),f=h;--f>-1;)a=l[f],s=new d(a.x,a.y,s);this._prev=new d(0,0,0!==s.t?s:s.next)},!0),g=r.prototype=new t,g.constructor=r,g.getRatio=function(t){var e=this._prev;if(t>e.t){for(;e.next&&t>=e.t;)e=e.next;e=e.prev}else for(;e.prev&&t<=e.t;)e=e.prev;return this._prev=e,e.v+(t-e.t)/e.gap*e.c},g.config=function(t){return new r(t)},r.ease=new r,f("Bounce",c("BounceOut",function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375}),c("BounceIn",function(t){return(t=1-t)<1/2.75?1-7.5625*t*t:t<2/2.75?1-(7.5625*(t-=1.5/2.75)*t+.75):t<2.5/2.75?1-(7.5625*(t-=2.25/2.75)*t+.9375):1-(7.5625*(t-=2.625/2.75)*t+.984375)}),c("BounceInOut",function(t){var e=t<.5;return t=e?1-2*t:2*t-1,t<1/2.75?t*=7.5625*t:t=t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375,e?.5*(1-t):.5*t+.5})),f("Circ",c("CircOut",function(t){return Math.sqrt(1-(t-=1)*t)}),c("CircIn",function(t){return-(Math.sqrt(1-t*t)-1)}),c("CircInOut",function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)})),n=function(e,r,n){var i=l("easing."+e,function(t,e){this._p1=t>=1?t:1,this._p2=(e||n)/(t<1?t:1),this._p3=this._p2/s*(Math.asin(1/this._p1)||0),this._p2=s/this._p2},!0),o=i.prototype=new t;return o.constructor=i,o.getRatio=r,o.config=function(t,e){return new i(t,e)},i},f("Elastic",n("ElasticOut",function(t){return this._p1*Math.pow(2,-10*t)*Math.sin((t-this._p3)*this._p2)+1},.3),n("ElasticIn",function(t){return-(this._p1*Math.pow(2,10*(t-=1))*Math.sin((t-this._p3)*this._p2))},.3),n("ElasticInOut",function(t){return(t*=2)<1?-.5*(this._p1*Math.pow(2,10*(t-=1))*Math.sin((t-this._p3)*this._p2)):this._p1*Math.pow(2,-10*(t-=1))*Math.sin((t-this._p3)*this._p2)*.5+1},.45)),f("Expo",c("ExpoOut",function(t){return 1-Math.pow(2,-10*t)}),c("ExpoIn",function(t){return Math.pow(2,10*(t-1))-.001}),c("ExpoInOut",function(t){return(t*=2)<1?.5*Math.pow(2,10*(t-1)):.5*(2-Math.pow(2,-10*(t-1)))})),f("Sine",c("SineOut",function(t){return Math.sin(t*u)}),c("SineIn",function(t){return-Math.cos(t*u)+1}),c("SineInOut",function(t){return-.5*(Math.cos(Math.PI*t)-1)})),l("easing.EaseLookup",{find:function(e){return t.map[e]}},!0),h(i.SlowMo,"SlowMo","ease,"),h(r,"RoughEase","ease,"),h(e,"SteppedEase","ease,"),v},!0)}),a._gsDefine&&a._gsQueue.pop()(),function(o,a){"use strict";var s={},u=o.document,l=o.GreenSockGlobals=o.GreenSockGlobals||o;if(!l.TweenLite){var c,h,f,d,p,v=function(t){var e,r=t.split("."),n=l;for(e=0;e<r.length;e++)n[r[e]]=n=n[r[e]]||{};return n},m=v("com.greensock"),g=1e-10,y=function(t){var e,r=[],n=t.length;for(e=0;e!==n;r.push(t[e++]));return r},_=function(){},x=function(){var t=Object.prototype.toString,e=t.call([]);return function(r){return null!=r&&(r instanceof Array||"object"==typeof r&&!!r.push&&t.call(r)===e)}}(),b={},w=function(o,u,c,h){this.sc=b[o]?b[o].sc:[],b[o]=this,this.gsClass=null,this.func=c;var f=[];this.check=function(d){for(var p,m,g,y,_,x=u.length,T=x;--x>-1;)(p=b[u[x]]||new w(u[x],[])).gsClass?(f[x]=p.gsClass,T--):d&&p.sc.push(this);if(0===T&&c){if(m=("com.greensock."+o).split("."),g=m.pop(),y=v(m.join("."))[g]=this.gsClass=c.apply(c,f),h)if(l[g]=s[g]=y,_="undefined"!=typeof t&&t.exports,!_&&r(329))n=[],i=function(){return y}.apply(e,n),!(void 0!==i&&(t.exports=i));else if(_)if(o===a){t.exports=s[a]=y;for(x in s)y[x]=s[x]}else s[a]&&(s[a][g]=y);for(x=0;x<this.sc.length;x++)this.sc[x].check()}},this.check(!0)},T=o._gsDefine=function(t,e,r,n){return new w(t,e,r,n)},E=m._class=function(t,e,r){return e=e||function(){},T(t,[],function(){return e},r),e};T.globals=l;var S=[0,0,1,1],M=E("easing.Ease",function(t,e,r,n){this._func=t,this._type=r||0,this._power=n||0,this._params=e?S.concat(e):S},!0),A=M.map={},P=M.register=function(t,e,r,n){for(var i,o,a,s,u=e.split(","),l=u.length,c=(r||"easeIn,easeOut,easeInOut").split(",");--l>-1;)for(o=u[l],i=n?E("easing."+o,null,!0):m.easing[o]||{},a=c.length;--a>-1;)s=c[a],A[o+"."+s]=A[s+o]=i[s]=t.getRatio?t:t[s]||new t};for(f=M.prototype,f._calcEnd=!1,f.getRatio=function(t){if(this._func)return this._params[0]=t,this._func.apply(null,this._params);var e=this._type,r=this._power,n=1===e?1-t:2===e?t:t<.5?2*t:2*(1-t);return 1===r?n*=n:2===r?n*=n*n:3===r?n*=n*n*n:4===r&&(n*=n*n*n*n),1===e?1-n:2===e?n:t<.5?n/2:1-n/2},c=["Linear","Quad","Cubic","Quart","Quint,Strong"],h=c.length;--h>-1;)f=c[h]+",Power"+h,P(new M(null,null,1,h),f,"easeOut",!0),P(new M(null,null,2,h),f,"easeIn"+(0===h?",easeNone":"")),P(new M(null,null,3,h),f,"easeInOut");A.linear=m.easing.Linear.easeIn,A.swing=m.easing.Quad.easeInOut;var C=E("events.EventDispatcher",function(t){this._listeners={},this._eventTarget=t||this});f=C.prototype,f.addEventListener=function(t,e,r,n,i){i=i||0;var o,a,s=this._listeners[t],u=0;for(this!==d||p||d.wake(),null==s&&(this._listeners[t]=s=[]),a=s.length;--a>-1;)o=s[a],o.c===e&&o.s===r?s.splice(a,1):0===u&&o.pr<i&&(u=a+1);s.splice(u,0,{c:e,s:r,up:n,pr:i})},f.removeEventListener=function(t,e){var r,n=this._listeners[t];if(n)for(r=n.length;--r>-1;)if(n[r].c===e)return void n.splice(r,1)},f.dispatchEvent=function(t){var e,r,n,i=this._listeners[t];if(i)for(e=i.length,e>1&&(i=i.slice(0)),r=this._eventTarget;--e>-1;)n=i[e],n&&(n.up?n.c.call(n.s||r,{type:t,target:r}):n.c.call(n.s||r))};var O=o.requestAnimationFrame,R=o.cancelAnimationFrame,D=Date.now||function(){return(new Date).getTime()},L=D();for(c=["ms","moz","webkit","o"],h=c.length;--h>-1&&!O;)O=o[c[h]+"RequestAnimationFrame"],R=o[c[h]+"CancelAnimationFrame"]||o[c[h]+"CancelRequestAnimationFrame"];E("Ticker",function(t,e){var r,n,i,o,a,s=this,l=D(),c=!(e===!1||!O)&&"auto",h=500,f=33,v="tick",m=function(t){var e,u,c=D()-L;c>h&&(l+=c-f),L+=c,s.time=(L-l)/1e3,e=s.time-a,(!r||e>0||t===!0)&&(s.frame++,a+=e+(e>=o?.004:o-e),u=!0),t!==!0&&(i=n(m)),u&&s.dispatchEvent(v)};C.call(s),s.time=s.frame=0,s.tick=function(){m(!0)},s.lagSmoothing=function(t,e){h=t||1/g,f=Math.min(e,h,0)},s.sleep=function(){null!=i&&(c&&R?R(i):clearTimeout(i),n=_,i=null,s===d&&(p=!1))},s.wake=function(t){null!==i?s.sleep():t?l+=-L+(L=D()):s.frame>10&&(L=D()-h+5),n=0===r?_:c&&O?O:function(t){return setTimeout(t,1e3*(a-s.time)+1|0)},s===d&&(p=!0),m(2)},s.fps=function(t){return arguments.length?(r=t,o=1/(r||60),a=this.time+o,void s.wake()):r},s.useRAF=function(t){return arguments.length?(s.sleep(),c=t,void s.fps(r)):c},s.fps(t),setTimeout(function(){"auto"===c&&s.frame<5&&"hidden"!==u.visibilityState&&s.useRAF(!1)},1500)}),f=m.Ticker.prototype=new m.events.EventDispatcher,f.constructor=m.Ticker;var I=E("core.Animation",function(t,e){if(this.vars=e=e||{},this._duration=this._totalDuration=t||0,this._delay=Number(e.delay)||0,this._timeScale=1,this._active=e.immediateRender===!0,this.data=e.data,this._reversed=e.reversed===!0,$){p||d.wake();var r=this.vars.useFrames?Q:$;r.add(this,r._time),this.vars.paused&&this.paused(!0)}});d=I.ticker=new m.Ticker,f=I.prototype,f._dirty=f._gc=f._initted=f._paused=!1,f._totalTime=f._time=0,f._rawPrevTime=-1,f._next=f._last=f._onUpdate=f._timeline=f.timeline=null,f._paused=!1;var F=function(){p&&D()-L>2e3&&d.wake(),setTimeout(F,2e3)};F(),f.play=function(t,e){return null!=t&&this.seek(t,e),this.reversed(!1).paused(!1)},f.pause=function(t,e){return null!=t&&this.seek(t,e),this.paused(!0)},f.resume=function(t,e){return null!=t&&this.seek(t,e),this.paused(!1)},f.seek=function(t,e){return this.totalTime(Number(t),e!==!1)},f.restart=function(t,e){return this.reversed(!1).paused(!1).totalTime(t?-this._delay:0,e!==!1,!0)},f.reverse=function(t,e){return null!=t&&this.seek(t||this.totalDuration(),e),this.reversed(!0).paused(!1)},f.render=function(t,e,r){},f.invalidate=function(){return this._time=this._totalTime=0,this._initted=this._gc=!1,this._rawPrevTime=-1,!this._gc&&this.timeline||this._enabled(!0),this},f.isActive=function(){var t,e=this._timeline,r=this._startTime;return!e||!this._gc&&!this._paused&&e.isActive()&&(t=e.rawTime(!0))>=r&&t<r+this.totalDuration()/this._timeScale},f._enabled=function(t,e){return p||d.wake(),this._gc=!t,this._active=this.isActive(),e!==!0&&(t&&!this.timeline?this._timeline.add(this,this._startTime-this._delay):!t&&this.timeline&&this._timeline._remove(this,!0)),!1},f._kill=function(t,e){return this._enabled(!1,!1)},f.kill=function(t,e){return this._kill(t,e),this},f._uncache=function(t){for(var e=t?this:this.timeline;e;)e._dirty=!0,e=e.timeline;return this},f._swapSelfInParams=function(t){for(var e=t.length,r=t.concat();--e>-1;)"{self}"===t[e]&&(r[e]=this);return r},f._callback=function(t){var e=this.vars,r=e[t],n=e[t+"Params"],i=e[t+"Scope"]||e.callbackScope||this,o=n?n.length:0;switch(o){case 0:r.call(i);break;case 1:r.call(i,n[0]);break;case 2:r.call(i,n[0],n[1]);break;default:r.apply(i,n)}},f.eventCallback=function(t,e,r,n){if("on"===(t||"").substr(0,2)){var i=this.vars;if(1===arguments.length)return i[t];null==e?delete i[t]:(i[t]=e,i[t+"Params"]=x(r)&&r.join("").indexOf("{self}")!==-1?this._swapSelfInParams(r):r,i[t+"Scope"]=n),"onUpdate"===t&&(this._onUpdate=e)}return this},f.delay=function(t){return arguments.length?(this._timeline.smoothChildTiming&&this.startTime(this._startTime+t-this._delay),this._delay=t,this):this._delay},f.duration=function(t){return arguments.length?(this._duration=this._totalDuration=t,this._uncache(!0),this._timeline.smoothChildTiming&&this._time>0&&this._time<this._duration&&0!==t&&this.totalTime(this._totalTime*(t/this._duration),!0),this):(this._dirty=!1,this._duration)},f.totalDuration=function(t){return this._dirty=!1,arguments.length?this.duration(t):this._totalDuration},f.time=function(t,e){return arguments.length?(this._dirty&&this.totalDuration(),this.totalTime(t>this._duration?this._duration:t,e)):this._time},f.totalTime=function(t,e,r){if(p||d.wake(),!arguments.length)return this._totalTime;if(this._timeline){if(t<0&&!r&&(t+=this.totalDuration()),this._timeline.smoothChildTiming){this._dirty&&this.totalDuration();var n=this._totalDuration,i=this._timeline;if(t>n&&!r&&(t=n),this._startTime=(this._paused?this._pauseTime:i._time)-(this._reversed?n-t:t)/this._timeScale,i._dirty||this._uncache(!1),i._timeline)for(;i._timeline;)i._timeline._time!==(i._startTime+i._totalTime)/i._timeScale&&i.totalTime(i._totalTime,!0),i=i._timeline}this._gc&&this._enabled(!0,!1),this._totalTime===t&&0!==this._duration||(z.length&&et(),this.render(t,e,!1),z.length&&et())}return this},f.progress=f.totalProgress=function(t,e){var r=this.duration();return arguments.length?this.totalTime(r*t,e):r?this._time/r:this.ratio},f.startTime=function(t){return arguments.length?(t!==this._startTime&&(this._startTime=t,this.timeline&&this.timeline._sortChildren&&this.timeline.add(this,t-this._delay)),this):this._startTime},f.endTime=function(t){return this._startTime+(0!=t?this.totalDuration():this.duration())/this._timeScale},f.timeScale=function(t){if(!arguments.length)return this._timeScale;if(t=t||g,this._timeline&&this._timeline.smoothChildTiming){var e=this._pauseTime,r=e||0===e?e:this._timeline.totalTime();this._startTime=r-(r-this._startTime)*this._timeScale/t}return this._timeScale=t,this._uncache(!1)},f.reversed=function(t){return arguments.length?(t!=this._reversed&&(this._reversed=t,this.totalTime(this._timeline&&!this._timeline.smoothChildTiming?this.totalDuration()-this._totalTime:this._totalTime,!0)),this):this._reversed},f.paused=function(t){if(!arguments.length)return this._paused;var e,r,n=this._timeline;return t!=this._paused&&n&&(p||t||d.wake(),e=n.rawTime(),r=e-this._pauseTime,!t&&n.smoothChildTiming&&(this._startTime+=r,this._uncache(!1)),this._pauseTime=t?e:null,this._paused=t,this._active=this.isActive(),!t&&0!==r&&this._initted&&this.duration()&&(e=n.smoothChildTiming?this._totalTime:(e-this._startTime)/this._timeScale,this.render(e,e===this._totalTime,!0))),this._gc&&!t&&this._enabled(!0,!1),this};var N=E("core.SimpleTimeline",function(t){I.call(this,0,t),this.autoRemoveChildren=this.smoothChildTiming=!0});f=N.prototype=new I,f.constructor=N,f.kill()._gc=!1,f._first=f._last=f._recent=null,f._sortChildren=!1,f.add=f.insert=function(t,e,r,n){var i,o;if(t._startTime=Number(e||0)+t._delay,t._paused&&this!==t._timeline&&(t._pauseTime=t._startTime+(this.rawTime()-t._startTime)/t._timeScale),t.timeline&&t.timeline._remove(t,!0),t.timeline=t._timeline=this,t._gc&&t._enabled(!0,!0),i=this._last,this._sortChildren)for(o=t._startTime;i&&i._startTime>o;)i=i._prev;return i?(t._next=i._next,i._next=t):(t._next=this._first,this._first=t),t._next?t._next._prev=t:this._last=t,t._prev=i,this._recent=t,this._timeline&&this._uncache(!0),this},f._remove=function(t,e){return t.timeline===this&&(e||t._enabled(!1,!0),t._prev?t._prev._next=t._next:this._first===t&&(this._first=t._next),t._next?t._next._prev=t._prev:this._last===t&&(this._last=t._prev),t._next=t._prev=t.timeline=null,t===this._recent&&(this._recent=this._last),this._timeline&&this._uncache(!0)),this},f.render=function(t,e,r){var n,i=this._first;for(this._totalTime=this._time=this._rawPrevTime=t;i;)n=i._next,(i._active||t>=i._startTime&&!i._paused)&&(i._reversed?i.render((i._dirty?i.totalDuration():i._totalDuration)-(t-i._startTime)*i._timeScale,e,r):i.render((t-i._startTime)*i._timeScale,e,r)),i=n},f.rawTime=function(){return p||d.wake(),this._totalTime};var k=E("TweenLite",function(t,e,r){if(I.call(this,e,r),this.render=k.prototype.render,null==t)throw"Cannot tween a null target.";this.target=t="string"!=typeof t?t:k.selector(t)||t;var n,i,a,s=t.jquery||t.length&&t!==o&&t[0]&&(t[0]===o||t[0].nodeType&&t[0].style&&!t.nodeType),u=this.vars.overwrite;if(this._overwrite=u=null==u?J[k.defaultOverwrite]:"number"==typeof u?u>>0:J[u],
(s||t instanceof Array||t.push&&x(t))&&"number"!=typeof t[0])for(this._targets=a=y(t),this._propLookup=[],this._siblings=[],n=0;n<a.length;n++)i=a[n],i?"string"!=typeof i?i.length&&i!==o&&i[0]&&(i[0]===o||i[0].nodeType&&i[0].style&&!i.nodeType)?(a.splice(n--,1),this._targets=a=a.concat(y(i))):(this._siblings[n]=rt(i,this,!1),1===u&&this._siblings[n].length>1&&it(i,this,null,1,this._siblings[n])):(i=a[n--]=k.selector(i),"string"==typeof i&&a.splice(n+1,1)):a.splice(n--,1);else this._propLookup={},this._siblings=rt(t,this,!1),1===u&&this._siblings.length>1&&it(t,this,null,1,this._siblings);(this.vars.immediateRender||0===e&&0===this._delay&&this.vars.immediateRender!==!1)&&(this._time=-g,this.render(Math.min(0,-this._delay)))},!0),U=function(t){return t&&t.length&&t!==o&&t[0]&&(t[0]===o||t[0].nodeType&&t[0].style&&!t.nodeType)},B=function(t,e){var r,n={};for(r in t)K[r]||r in e&&"transform"!==r&&"x"!==r&&"y"!==r&&"width"!==r&&"height"!==r&&"className"!==r&&"border"!==r||!(!Y[r]||Y[r]&&Y[r]._autoCSS)||(n[r]=t[r],delete t[r]);t.css=n};f=k.prototype=new I,f.constructor=k,f.kill()._gc=!1,f.ratio=0,f._firstPT=f._targets=f._overwrittenProps=f._startAt=null,f._notifyPluginsOfEnabled=f._lazy=!1,k.version="1.19.1",k.defaultEase=f._ease=new M(null,null,1,1),k.defaultOverwrite="auto",k.ticker=d,k.autoSleep=120,k.lagSmoothing=function(t,e){d.lagSmoothing(t,e)},k.selector=o.$||o.jQuery||function(t){var e=o.$||o.jQuery;return e?(k.selector=e,e(t)):"undefined"==typeof u?t:u.querySelectorAll?u.querySelectorAll(t):u.getElementById("#"===t.charAt(0)?t.substr(1):t)};var z=[],j={},G=/(?:(-|-=|\+=)?\d*\.?\d*(?:e[\-+]?\d+)?)[0-9]/gi,H=function(t){for(var e,r=this._firstPT,n=1e-6;r;)e=r.blob?1===t?this.end:t?this.join(""):this.start:r.c*t+r.s,r.m?e=r.m(e,this._target||r.t):e<n&&e>-n&&!r.blob&&(e=0),r.f?r.fp?r.t[r.p](r.fp,e):r.t[r.p](e):r.t[r.p]=e,r=r._next},X=function(t,e,r,n){var i,o,a,s,u,l,c,h=[],f=0,d="",p=0;for(h.start=t,h.end=e,t=h[0]=t+"",e=h[1]=e+"",r&&(r(h),t=h[0],e=h[1]),h.length=0,i=t.match(G)||[],o=e.match(G)||[],n&&(n._next=null,n.blob=1,h._firstPT=h._applyPT=n),u=o.length,s=0;s<u;s++)c=o[s],l=e.substr(f,e.indexOf(c,f)-f),d+=l||!s?l:",",f+=l.length,p?p=(p+1)%5:"rgba("===l.substr(-5)&&(p=1),c===i[s]||i.length<=s?d+=c:(d&&(h.push(d),d=""),a=parseFloat(i[s]),h.push(a),h._firstPT={_next:h._firstPT,t:h,p:h.length-1,s:a,c:("="===c.charAt(1)?parseInt(c.charAt(0)+"1",10)*parseFloat(c.substr(2)):parseFloat(c)-a)||0,f:0,m:p&&p<4?Math.round:0}),f+=c.length;return d+=e.substr(f),d&&h.push(d),h.setRatio=H,h},V=function(t,e,r,n,i,o,a,s,u){"function"==typeof n&&(n=n(u||0,t));var l,c=typeof t[e],h="function"!==c?"":e.indexOf("set")||"function"!=typeof t["get"+e.substr(3)]?e:"get"+e.substr(3),f="get"!==r?r:h?a?t[h](a):t[h]():t[e],d="string"==typeof n&&"="===n.charAt(1),p={t:t,p:e,s:f,f:"function"===c,pg:0,n:i||e,m:o?"function"==typeof o?o:Math.round:0,pr:0,c:d?parseInt(n.charAt(0)+"1",10)*parseFloat(n.substr(2)):parseFloat(n)-f||0};if(("number"!=typeof f||"number"!=typeof n&&!d)&&(a||isNaN(f)||!d&&isNaN(n)||"boolean"==typeof f||"boolean"==typeof n?(p.fp=a,l=X(f,d?p.s+p.c:n,s||k.defaultStringFilter,p),p={t:l,p:"setRatio",s:0,c:1,f:2,pg:0,n:i||e,pr:0,m:0}):(p.s=parseFloat(f),d||(p.c=parseFloat(n)-p.s||0))),p.c)return(p._next=this._firstPT)&&(p._next._prev=p),this._firstPT=p,p},W=k._internals={isArray:x,isSelector:U,lazyTweens:z,blobDif:X},Y=k._plugins={},q=W.tweenLookup={},Z=0,K=W.reservedProps={ease:1,delay:1,overwrite:1,onComplete:1,onCompleteParams:1,onCompleteScope:1,useFrames:1,runBackwards:1,startAt:1,onUpdate:1,onUpdateParams:1,onUpdateScope:1,onStart:1,onStartParams:1,onStartScope:1,onReverseComplete:1,onReverseCompleteParams:1,onReverseCompleteScope:1,onRepeat:1,onRepeatParams:1,onRepeatScope:1,easeParams:1,yoyo:1,immediateRender:1,repeat:1,repeatDelay:1,data:1,paused:1,reversed:1,autoCSS:1,lazy:1,onOverwrite:1,callbackScope:1,stringFilter:1,id:1},J={none:0,all:1,auto:2,concurrent:3,allOnStart:4,preexisting:5,true:1,false:0},Q=I._rootFramesTimeline=new N,$=I._rootTimeline=new N,tt=30,et=W.lazyRender=function(){var t,e=z.length;for(j={};--e>-1;)t=z[e],t&&t._lazy!==!1&&(t.render(t._lazy[0],t._lazy[1],!0),t._lazy=!1);z.length=0};$._startTime=d.time,Q._startTime=d.frame,$._active=Q._active=!0,setTimeout(et,1),I._updateRoot=k.render=function(){var t,e,r;if(z.length&&et(),$.render((d.time-$._startTime)*$._timeScale,!1,!1),Q.render((d.frame-Q._startTime)*Q._timeScale,!1,!1),z.length&&et(),d.frame>=tt){tt=d.frame+(parseInt(k.autoSleep,10)||120);for(r in q){for(e=q[r].tweens,t=e.length;--t>-1;)e[t]._gc&&e.splice(t,1);0===e.length&&delete q[r]}if(r=$._first,(!r||r._paused)&&k.autoSleep&&!Q._first&&1===d._listeners.tick.length){for(;r&&r._paused;)r=r._next;r||d.sleep()}}},d.addEventListener("tick",I._updateRoot);var rt=function(t,e,r){var n,i,o=t._gsTweenID;if(q[o||(t._gsTweenID=o="t"+Z++)]||(q[o]={target:t,tweens:[]}),e&&(n=q[o].tweens,n[i=n.length]=e,r))for(;--i>-1;)n[i]===e&&n.splice(i,1);return q[o].tweens},nt=function(t,e,r,n){var i,o,a=t.vars.onOverwrite;return a&&(i=a(t,e,r,n)),a=k.onOverwrite,a&&(o=a(t,e,r,n)),i!==!1&&o!==!1},it=function(t,e,r,n,i){var o,a,s,u;if(1===n||n>=4){for(u=i.length,o=0;o<u;o++)if((s=i[o])!==e)s._gc||s._kill(null,t,e)&&(a=!0);else if(5===n)break;return a}var l,c=e._startTime+g,h=[],f=0,d=0===e._duration;for(o=i.length;--o>-1;)(s=i[o])===e||s._gc||s._paused||(s._timeline!==e._timeline?(l=l||ot(e,0,d),0===ot(s,l,d)&&(h[f++]=s)):s._startTime<=c&&s._startTime+s.totalDuration()/s._timeScale>c&&((d||!s._initted)&&c-s._startTime<=2e-10||(h[f++]=s)));for(o=f;--o>-1;)if(s=h[o],2===n&&s._kill(r,t,e)&&(a=!0),2!==n||!s._firstPT&&s._initted){if(2!==n&&!nt(s,e))continue;s._enabled(!1,!1)&&(a=!0)}return a},ot=function(t,e,r){for(var n=t._timeline,i=n._timeScale,o=t._startTime;n._timeline;){if(o+=n._startTime,i*=n._timeScale,n._paused)return-100;n=n._timeline}return o/=i,o>e?o-e:r&&o===e||!t._initted&&o-e<2*g?g:(o+=t.totalDuration()/t._timeScale/i)>e+g?0:o-e-g};f._init=function(){var t,e,r,n,i,o,a=this.vars,s=this._overwrittenProps,u=this._duration,l=!!a.immediateRender,c=a.ease;if(a.startAt){this._startAt&&(this._startAt.render(-1,!0),this._startAt.kill()),i={};for(n in a.startAt)i[n]=a.startAt[n];if(i.overwrite=!1,i.immediateRender=!0,i.lazy=l&&a.lazy!==!1,i.startAt=i.delay=null,this._startAt=k.to(this.target,0,i),l)if(this._time>0)this._startAt=null;else if(0!==u)return}else if(a.runBackwards&&0!==u)if(this._startAt)this._startAt.render(-1,!0),this._startAt.kill(),this._startAt=null;else{0!==this._time&&(l=!1),r={};for(n in a)K[n]&&"autoCSS"!==n||(r[n]=a[n]);if(r.overwrite=0,r.data="isFromStart",r.lazy=l&&a.lazy!==!1,r.immediateRender=l,this._startAt=k.to(this.target,0,r),l){if(0===this._time)return}else this._startAt._init(),this._startAt._enabled(!1),this.vars.immediateRender&&(this._startAt=null)}if(this._ease=c=c?c instanceof M?c:"function"==typeof c?new M(c,a.easeParams):A[c]||k.defaultEase:k.defaultEase,a.easeParams instanceof Array&&c.config&&(this._ease=c.config.apply(c,a.easeParams)),this._easeType=this._ease._type,this._easePower=this._ease._power,this._firstPT=null,this._targets)for(o=this._targets.length,t=0;t<o;t++)this._initProps(this._targets[t],this._propLookup[t]={},this._siblings[t],s?s[t]:null,t)&&(e=!0);else e=this._initProps(this.target,this._propLookup,this._siblings,s,0);if(e&&k._onPluginEvent("_onInitAllProps",this),s&&(this._firstPT||"function"!=typeof this.target&&this._enabled(!1,!1)),a.runBackwards)for(r=this._firstPT;r;)r.s+=r.c,r.c=-r.c,r=r._next;this._onUpdate=a.onUpdate,this._initted=!0},f._initProps=function(t,e,r,n,i){var a,s,u,l,c,h;if(null==t)return!1;j[t._gsTweenID]&&et(),this.vars.css||t.style&&t!==o&&t.nodeType&&Y.css&&this.vars.autoCSS!==!1&&B(this.vars,t);for(a in this.vars)if(h=this.vars[a],K[a])h&&(h instanceof Array||h.push&&x(h))&&h.join("").indexOf("{self}")!==-1&&(this.vars[a]=h=this._swapSelfInParams(h,this));else if(Y[a]&&(l=new Y[a])._onInitTween(t,this.vars[a],this,i)){for(this._firstPT=c={_next:this._firstPT,t:l,p:"setRatio",s:0,c:1,f:1,n:a,pg:1,pr:l._priority,m:0},s=l._overwriteProps.length;--s>-1;)e[l._overwriteProps[s]]=this._firstPT;(l._priority||l._onInitAllProps)&&(u=!0),(l._onDisable||l._onEnable)&&(this._notifyPluginsOfEnabled=!0),c._next&&(c._next._prev=c)}else e[a]=V.call(this,t,a,"get",h,a,0,null,this.vars.stringFilter,i);return n&&this._kill(n,t)?this._initProps(t,e,r,n,i):this._overwrite>1&&this._firstPT&&r.length>1&&it(t,this,e,this._overwrite,r)?(this._kill(e,t),this._initProps(t,e,r,n,i)):(this._firstPT&&(this.vars.lazy!==!1&&this._duration||this.vars.lazy&&!this._duration)&&(j[t._gsTweenID]=!0),u)},f.render=function(t,e,r){var n,i,o,a,s=this._time,u=this._duration,l=this._rawPrevTime;if(t>=u-1e-7&&t>=0)this._totalTime=this._time=u,this.ratio=this._ease._calcEnd?this._ease.getRatio(1):1,this._reversed||(n=!0,i="onComplete",r=r||this._timeline.autoRemoveChildren),0===u&&(this._initted||!this.vars.lazy||r)&&(this._startTime===this._timeline._duration&&(t=0),(l<0||t<=0&&t>=-1e-7||l===g&&"isPause"!==this.data)&&l!==t&&(r=!0,l>g&&(i="onReverseComplete")),this._rawPrevTime=a=!e||t||l===t?t:g);else if(t<1e-7)this._totalTime=this._time=0,this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0,(0!==s||0===u&&l>0)&&(i="onReverseComplete",n=this._reversed),t<0&&(this._active=!1,0===u&&(this._initted||!this.vars.lazy||r)&&(l>=0&&(l!==g||"isPause"!==this.data)&&(r=!0),this._rawPrevTime=a=!e||t||l===t?t:g)),this._initted||(r=!0);else if(this._totalTime=this._time=t,this._easeType){var c=t/u,h=this._easeType,f=this._easePower;(1===h||3===h&&c>=.5)&&(c=1-c),3===h&&(c*=2),1===f?c*=c:2===f?c*=c*c:3===f?c*=c*c*c:4===f&&(c*=c*c*c*c),1===h?this.ratio=1-c:2===h?this.ratio=c:t/u<.5?this.ratio=c/2:this.ratio=1-c/2}else this.ratio=this._ease.getRatio(t/u);if(this._time!==s||r){if(!this._initted){if(this._init(),!this._initted||this._gc)return;if(!r&&this._firstPT&&(this.vars.lazy!==!1&&this._duration||this.vars.lazy&&!this._duration))return this._time=this._totalTime=s,this._rawPrevTime=l,z.push(this),void(this._lazy=[t,e]);this._time&&!n?this.ratio=this._ease.getRatio(this._time/u):n&&this._ease._calcEnd&&(this.ratio=this._ease.getRatio(0===this._time?0:1))}for(this._lazy!==!1&&(this._lazy=!1),this._active||!this._paused&&this._time!==s&&t>=0&&(this._active=!0),0===s&&(this._startAt&&(t>=0?this._startAt.render(t,e,r):i||(i="_dummyGS")),this.vars.onStart&&(0===this._time&&0!==u||e||this._callback("onStart"))),o=this._firstPT;o;)o.f?o.t[o.p](o.c*this.ratio+o.s):o.t[o.p]=o.c*this.ratio+o.s,o=o._next;this._onUpdate&&(t<0&&this._startAt&&t!==-1e-4&&this._startAt.render(t,e,r),e||(this._time!==s||n||r)&&this._callback("onUpdate")),i&&(this._gc&&!r||(t<0&&this._startAt&&!this._onUpdate&&t!==-1e-4&&this._startAt.render(t,e,r),n&&(this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!e&&this.vars[i]&&this._callback(i),0===u&&this._rawPrevTime===g&&a!==g&&(this._rawPrevTime=0)))}},f._kill=function(t,e,r){if("all"===t&&(t=null),null==t&&(null==e||e===this.target))return this._lazy=!1,this._enabled(!1,!1);e="string"!=typeof e?e||this._targets||this.target:k.selector(e)||e;var n,i,o,a,s,u,l,c,h,f=r&&this._time&&r._startTime===this._startTime&&this._timeline===r._timeline;if((x(e)||U(e))&&"number"!=typeof e[0])for(n=e.length;--n>-1;)this._kill(t,e[n],r)&&(u=!0);else{if(this._targets){for(n=this._targets.length;--n>-1;)if(e===this._targets[n]){s=this._propLookup[n]||{},this._overwrittenProps=this._overwrittenProps||[],i=this._overwrittenProps[n]=t?this._overwrittenProps[n]||{}:"all";break}}else{if(e!==this.target)return!1;s=this._propLookup,i=this._overwrittenProps=t?this._overwrittenProps||{}:"all"}if(s){if(l=t||s,c=t!==i&&"all"!==i&&t!==s&&("object"!=typeof t||!t._tempKill),r&&(k.onOverwrite||this.vars.onOverwrite)){for(o in l)s[o]&&(h||(h=[]),h.push(o));if((h||!t)&&!nt(this,r,e,h))return!1}for(o in l)(a=s[o])&&(f&&(a.f?a.t[a.p](a.s):a.t[a.p]=a.s,u=!0),a.pg&&a.t._kill(l)&&(u=!0),a.pg&&0!==a.t._overwriteProps.length||(a._prev?a._prev._next=a._next:a===this._firstPT&&(this._firstPT=a._next),a._next&&(a._next._prev=a._prev),a._next=a._prev=null),delete s[o]),c&&(i[o]=1);!this._firstPT&&this._initted&&this._enabled(!1,!1)}}return u},f.invalidate=function(){return this._notifyPluginsOfEnabled&&k._onPluginEvent("_onDisable",this),this._firstPT=this._overwrittenProps=this._startAt=this._onUpdate=null,this._notifyPluginsOfEnabled=this._active=this._lazy=!1,this._propLookup=this._targets?{}:[],I.prototype.invalidate.call(this),this.vars.immediateRender&&(this._time=-g,this.render(Math.min(0,-this._delay))),this},f._enabled=function(t,e){if(p||d.wake(),t&&this._gc){var r,n=this._targets;if(n)for(r=n.length;--r>-1;)this._siblings[r]=rt(n[r],this,!0);else this._siblings=rt(this.target,this,!0)}return I.prototype._enabled.call(this,t,e),!(!this._notifyPluginsOfEnabled||!this._firstPT)&&k._onPluginEvent(t?"_onEnable":"_onDisable",this)},k.to=function(t,e,r){return new k(t,e,r)},k.from=function(t,e,r){return r.runBackwards=!0,r.immediateRender=0!=r.immediateRender,new k(t,e,r)},k.fromTo=function(t,e,r,n){return n.startAt=r,n.immediateRender=0!=n.immediateRender&&0!=r.immediateRender,new k(t,e,n)},k.delayedCall=function(t,e,r,n,i){return new k(e,0,{delay:t,onComplete:e,onCompleteParams:r,callbackScope:n,onReverseComplete:e,onReverseCompleteParams:r,immediateRender:!1,lazy:!1,useFrames:i,overwrite:0})},k.set=function(t,e){return new k(t,0,e)},k.getTweensOf=function(t,e){if(null==t)return[];t="string"!=typeof t?t:k.selector(t)||t;var r,n,i,o;if((x(t)||U(t))&&"number"!=typeof t[0]){for(r=t.length,n=[];--r>-1;)n=n.concat(k.getTweensOf(t[r],e));for(r=n.length;--r>-1;)for(o=n[r],i=r;--i>-1;)o===n[i]&&n.splice(r,1)}else for(n=rt(t).concat(),r=n.length;--r>-1;)(n[r]._gc||e&&!n[r].isActive())&&n.splice(r,1);return n},k.killTweensOf=k.killDelayedCallsTo=function(t,e,r){"object"==typeof e&&(r=e,e=!1);for(var n=k.getTweensOf(t,e),i=n.length;--i>-1;)n[i]._kill(r,t)};var at=E("plugins.TweenPlugin",function(t,e){this._overwriteProps=(t||"").split(","),this._propName=this._overwriteProps[0],this._priority=e||0,this._super=at.prototype},!0);if(f=at.prototype,at.version="1.19.0",at.API=2,f._firstPT=null,f._addTween=V,f.setRatio=H,f._kill=function(t){var e,r=this._overwriteProps,n=this._firstPT;if(null!=t[this._propName])this._overwriteProps=[];else for(e=r.length;--e>-1;)null!=t[r[e]]&&r.splice(e,1);for(;n;)null!=t[n.n]&&(n._next&&(n._next._prev=n._prev),n._prev?(n._prev._next=n._next,n._prev=null):this._firstPT===n&&(this._firstPT=n._next)),n=n._next;return!1},f._mod=f._roundProps=function(t){for(var e,r=this._firstPT;r;)e=t[this._propName]||null!=r.n&&t[r.n.split(this._propName+"_").join("")],e&&"function"==typeof e&&(2===r.f?r.t._applyPT.m=e:r.m=e),r=r._next},k._onPluginEvent=function(t,e){var r,n,i,o,a,s=e._firstPT;if("_onInitAllProps"===t){for(;s;){for(a=s._next,n=i;n&&n.pr>s.pr;)n=n._next;(s._prev=n?n._prev:o)?s._prev._next=s:i=s,(s._next=n)?n._prev=s:o=s,s=a}s=e._firstPT=i}for(;s;)s.pg&&"function"==typeof s.t[t]&&s.t[t]()&&(r=!0),s=s._next;return r},at.activate=function(t){for(var e=t.length;--e>-1;)t[e].API===at.API&&(Y[(new t[e])._propName]=t[e]);return!0},T.plugin=function(t){if(!(t&&t.propName&&t.init&&t.API))throw"illegal plugin definition.";var e,r=t.propName,n=t.priority||0,i=t.overwriteProps,o={init:"_onInitTween",set:"setRatio",kill:"_kill",round:"_mod",mod:"_mod",initAll:"_onInitAllProps"},a=E("plugins."+r.charAt(0).toUpperCase()+r.substr(1)+"Plugin",function(){at.call(this,r,n),this._overwriteProps=i||[]},t.global===!0),s=a.prototype=new at(r);s.constructor=a,a.API=t.API;for(e in o)"function"==typeof t[e]&&(s[o[e]]=t[e]);return a.version=t.version,at.activate([a]),a},c=o._gsQueue){for(h=0;h<c.length;h++)c[h]();for(f in b)b[f].func||o.console.log("GSAP encountered missing dependency: "+f)}p=!1}}("undefined"!=typeof t&&t.exports&&"undefined"!=typeof o?o:this||window,"TweenMax")}).call(e,function(){return this}())},function(t,e){"use strict";function r(t){if(null===t||void 0===t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}function n(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},r=0;r<10;r++)e["_"+String.fromCharCode(r)]=r;var n=Object.getOwnPropertyNames(e).map(function(t){return e[t]});if("0123456789"!==n.join(""))return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach(function(t){i[t]=t}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},i)).join("")}catch(t){return!1}}var i=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;t.exports=n()?Object.assign:function(t,e){for(var n,a,s=r(t),u=1;u<arguments.length;u++){n=Object(arguments[u]);for(var l in n)i.call(n,l)&&(s[l]=n[l]);if(Object.getOwnPropertySymbols){a=Object.getOwnPropertySymbols(n);for(var c=0;c<a.length;c++)o.call(n,a[c])&&(s[a[c]]=n[a[c]])}}return s}},function(t,e,r){var n,n;/*!
	 * pixi-filters - v1.0.6
	 * Compiled Wed Aug 31 2016 08:37:40 GMT-0400 (EDT)
	 *
	 * pixi-filters is licensed under the MIT License.
	 * http://www.opensource.org/licenses/mit-license
	 */
!function(e){t.exports=e()}(function(){return function t(e,r,i){function o(s,u){if(!r[s]){if(!e[s]){var l="function"==typeof n&&n;if(!u&&l)return n(s,!0);if(a)return a(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var h=r[s]={exports:{}};e[s][0].call(h.exports,function(t){var r=e[s][1][t];return o(r?r:t)},h,h.exports,t,e,r,i)}return r[s].exports}for(var a="function"==typeof n&&n,s=0;s<i.length;s++)o(i[s]);return o}({1:[function(t,e,r){function n(){PIXI.Filter.call(this,"#define GLSLIFY 1\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}","#define GLSLIFY 1\nvarying vec2 vTextureCoord;\n\nuniform vec4 filterArea;\nuniform float pixelSize;\nuniform sampler2D uSampler;\n\nvec2 mapCoord( vec2 coord )\n{\n    coord *= filterArea.xy;\n    coord += filterArea.zw;\n\n    return coord;\n}\n\nvec2 unmapCoord( vec2 coord )\n{\n    coord -= filterArea.zw;\n    coord /= filterArea.xy;\n\n    return coord;\n}\n\nvec2 pixelate(vec2 coord, vec2 size)\n{\n    return floor( coord / size ) * size;\n}\n\nvec2 getMod(vec2 coord, vec2 size)\n{\n    return mod( coord , size) / size;\n}\n\nfloat character(float n, vec2 p)\n{\n    p = floor(p*vec2(4.0, -4.0) + 2.5);\n    if (clamp(p.x, 0.0, 4.0) == p.x && clamp(p.y, 0.0, 4.0) == p.y)\n    {\n        if (int(mod(n/exp2(p.x + 5.0*p.y), 2.0)) == 1) return 1.0;\n    }\n    return 0.0;\n}\n\nvoid main()\n{\n    vec2 coord = mapCoord(vTextureCoord);\n\n    // get the rounded color..\n    vec2 pixCoord = pixelate(coord, vec2(pixelSize));\n    pixCoord = unmapCoord(pixCoord);\n\n    vec4 color = texture2D(uSampler, pixCoord);\n\n    // determine the character to use\n    float gray = (color.r + color.g + color.b) / 3.0;\n\n    float n =  65536.0;             // .\n    if (gray > 0.2) n = 65600.0;    // :\n    if (gray > 0.3) n = 332772.0;   // *\n    if (gray > 0.4) n = 15255086.0; // o\n    if (gray > 0.5) n = 23385164.0; // &\n    if (gray > 0.6) n = 15252014.0; // 8\n    if (gray > 0.7) n = 13199452.0; // @\n    if (gray > 0.8) n = 11512810.0; // #\n\n    // get the mod..\n    vec2 modd = getMod(coord, vec2(pixelSize));\n\n    gl_FragColor = color * character( n, vec2(-1.0) + modd * 2.0);\n\n}"),this.size=8}n.prototype=Object.create(PIXI.Filter.prototype),n.prototype.constructor=n,e.exports=n,Object.defineProperties(n.prototype,{size:{get:function(){return this.uniforms.pixelSize},set:function(t){this.uniforms.pixelSize=t}}})},{}],2:[function(t,e,r){function n(){PIXI.Filter.call(this),this.blurXFilter=new i,this.blurYFilter=new o,this.blurYFilter.blendMode=PIXI.BLEND_MODES.SCREEN,this.defaultFilter=new a}var i=PIXI.filters.BlurXFilter,o=PIXI.filters.BlurYFilter,a=PIXI.filters.VoidFilter;n.prototype=Object.create(PIXI.Filter.prototype),n.prototype.constructor=n,e.exports=n,n.prototype.apply=function(t,e,r){var n=t.getRenderTarget(!0);this.defaultFilter.apply(t,e,r),this.blurXFilter.apply(t,e,n),this.blurYFilter.apply(t,n,r),t.returnRenderTarget(n)},Object.defineProperties(n.prototype,{blur:{get:function(){return this.blurXFilter.blur},set:function(t){this.blurXFilter.blur=this.blurYFilter.blur=t}},blurX:{get:function(){return this.blurXFilter.blur},set:function(t){this.blurXFilter.blur=t}},blurY:{get:function(){return this.blurYFilter.blur},set:function(t){this.blurYFilter.blur=t}}})},{}],3:[function(t,e,r){if("undefined"==typeof PIXI)throw new Error("pixi.js is required to be included")},{}],4:[function(t,e,r){function n(t,e,r){PIXI.Filter.call(this,"#define GLSLIFY 1\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}","precision mediump float;\n#define GLSLIFY 1\n\nvarying mediump vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec2 texelSize;\nuniform float matrix[9];\n\nvoid main(void)\n{\n   vec4 c11 = texture2D(uSampler, vTextureCoord - texelSize); // top left\n   vec4 c12 = texture2D(uSampler, vec2(vTextureCoord.x, vTextureCoord.y - texelSize.y)); // top center\n   vec4 c13 = texture2D(uSampler, vec2(vTextureCoord.x + texelSize.x, vTextureCoord.y - texelSize.y)); // top right\n\n   vec4 c21 = texture2D(uSampler, vec2(vTextureCoord.x - texelSize.x, vTextureCoord.y)); // mid left\n   vec4 c22 = texture2D(uSampler, vTextureCoord); // mid center\n   vec4 c23 = texture2D(uSampler, vec2(vTextureCoord.x + texelSize.x, vTextureCoord.y)); // mid right\n\n   vec4 c31 = texture2D(uSampler, vec2(vTextureCoord.x - texelSize.x, vTextureCoord.y + texelSize.y)); // bottom left\n   vec4 c32 = texture2D(uSampler, vec2(vTextureCoord.x, vTextureCoord.y + texelSize.y)); // bottom center\n   vec4 c33 = texture2D(uSampler, vTextureCoord + texelSize); // bottom right\n\n   gl_FragColor =\n       c11 * matrix[0] + c12 * matrix[1] + c13 * matrix[2] +\n       c21 * matrix[3] + c22 * matrix[4] + c23 * matrix[5] +\n       c31 * matrix[6] + c32 * matrix[7] + c33 * matrix[8];\n\n   gl_FragColor.a = c22.a;\n}\n"),this.matrix=t,this.width=e,this.height=r}n.prototype=Object.create(PIXI.Filter.prototype),n.prototype.constructor=n,e.exports=n,Object.defineProperties(n.prototype,{matrix:{get:function(){return this.uniforms.matrix},set:function(t){this.uniforms.matrix=new Float32Array(t)}},width:{get:function(){return 1/this.uniforms.texelSize[0]},set:function(t){this.uniforms.texelSize[0]=1/t}},height:{get:function(){return 1/this.uniforms.texelSize[1]},set:function(t){this.uniforms.texelSize[1]=1/t}}})},{}],5:[function(t,e,r){function n(){PIXI.Filter.call(this,"#define GLSLIFY 1\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}","precision mediump float;\n#define GLSLIFY 1\n\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n    float lum = length(texture2D(uSampler, vTextureCoord.xy).rgb);\n\n    gl_FragColor = vec4(1.0, 1.0, 1.0, 1.0);\n\n    if (lum < 1.00)\n    {\n        if (mod(gl_FragCoord.x + gl_FragCoord.y, 10.0) == 0.0)\n        {\n            gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);\n        }\n    }\n\n    if (lum < 0.75)\n    {\n        if (mod(gl_FragCoord.x - gl_FragCoord.y, 10.0) == 0.0)\n        {\n            gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);\n        }\n    }\n\n    if (lum < 0.50)\n    {\n        if (mod(gl_FragCoord.x + gl_FragCoord.y - 5.0, 10.0) == 0.0)\n        {\n            gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);\n        }\n    }\n\n    if (lum < 0.3)\n    {\n        if (mod(gl_FragCoord.x - gl_FragCoord.y - 5.0, 10.0) == 0.0)\n        {\n            gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);\n        }\n    }\n}\n")}n.prototype=Object.create(PIXI.Filter.prototype),n.prototype.constructor=n,e.exports=n},{}],6:[function(t,e,r){function n(){PIXI.Filter.call(this,"#define GLSLIFY 1\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}","precision mediump float;\n#define GLSLIFY 1\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform vec4 filterArea;\nuniform sampler2D uSampler;\n\nuniform float angle;\nuniform float scale;\n\nfloat pattern()\n{\n   float s = sin(angle), c = cos(angle);\n   vec2 tex = vTextureCoord * filterArea.xy;\n   vec2 point = vec2(\n       c * tex.x - s * tex.y,\n       s * tex.x + c * tex.y\n   ) * scale;\n   return (sin(point.x) * sin(point.y)) * 4.0;\n}\n\nvoid main()\n{\n   vec4 color = texture2D(uSampler, vTextureCoord);\n   float average = (color.r + color.g + color.b) / 3.0;\n   gl_FragColor = vec4(vec3(average * 10.0 - 5.0 + pattern()), color.a);\n}\n"),this.scale=1,this.angle=5}n.prototype=Object.create(PIXI.Filter.prototype),n.prototype.constructor=n,e.exports=n,Object.defineProperties(n.prototype,{scale:{get:function(){return this.uniforms.scale},set:function(t){this.uniforms.scale=t}},angle:{get:function(){return this.uniforms.angle},set:function(t){this.uniforms.angle=t}}})},{}],7:[function(t,e,r){function n(){PIXI.Filter.call(this,"#define GLSLIFY 1\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}","precision mediump float;\n#define GLSLIFY 1\n\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform float strength;\nuniform vec4 filterArea;\n\nvoid main(void)\n{\n\tvec2 onePixel = vec2(1.0 / filterArea);\n\n\tvec4 color;\n\n\tcolor.rgb = vec3(0.5);\n\n\tcolor -= texture2D(uSampler, vTextureCoord - onePixel) * strength;\n\tcolor += texture2D(uSampler, vTextureCoord + onePixel) * strength;\n\n\tcolor.rgb = vec3((color.r + color.g + color.b) / 3.0);\n\n\tfloat alpha = texture2D(uSampler, vTextureCoord).a;\n\n\tgl_FragColor = vec4(color.rgb * alpha, alpha);\n}\n"),this.strength=5}n.prototype=Object.create(PIXI.Filter.prototype),n.prototype.constructor=n,e.exports=n,Object.defineProperties(n.prototype,{strength:{get:function(){return this.uniforms.strength},set:function(t){this.uniforms.strength=t}}})},{}],8:[function(t,e,r){function n(){PIXI.Filter.call(this,"#define GLSLIFY 1\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}","precision mediump float;\n#define GLSLIFY 1\n\nvarying vec2 vTextureCoord;\n\nuniform vec2 size;\nuniform sampler2D uSampler;\n\nuniform vec4 filterArea;\n\nvec2 mapCoord( vec2 coord )\n{\n    coord *= filterArea.xy;\n    coord += filterArea.zw;\n\n    return coord;\n}\n\nvec2 unmapCoord( vec2 coord )\n{\n    coord -= filterArea.zw;\n    coord /= filterArea.xy;\n\n    return coord;\n}\n\nvec2 pixelate(vec2 coord, vec2 size)\n{\n\treturn floor( coord / size ) * size;\n}\n\nvoid main(void)\n{\n    vec2 coord = mapCoord(vTextureCoord);\n\n    coord = pixelate(coord, size);\n\n    coord = unmapCoord(coord);\n\n    gl_FragColor = texture2D(uSampler, coord);\n}\n"),this.size=[10,10]}n.prototype=Object.create(PIXI.Filter.prototype),n.prototype.constructor=n,e.exports=n,Object.defineProperties(n.prototype,{size:{get:function(){return this.uniforms.size},set:function(t){this.uniforms.size.value=t}}})},{}],9:[function(t,e,r){function n(){PIXI.Filter.call(this,"#define GLSLIFY 1\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}","precision mediump float;\n#define GLSLIFY 1\n\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 filterArea;\nuniform vec2 red;\nuniform vec2 green;\nuniform vec2 blue;\n\nvoid main(void)\n{\n   gl_FragColor.r = texture2D(uSampler, vTextureCoord + red/filterArea.xy).r;\n   gl_FragColor.g = texture2D(uSampler, vTextureCoord + green/filterArea.xy).g;\n   gl_FragColor.b = texture2D(uSampler, vTextureCoord + blue/filterArea.xy).b;\n   gl_FragColor.a = texture2D(uSampler, vTextureCoord).a;\n}\n"),this.red=[-10,0],this.green=[0,10],this.blue=[0,0]}n.prototype=Object.create(PIXI.Filter.prototype),n.prototype.constructor=n,e.exports=n,Object.defineProperties(n.prototype,{red:{get:function(){return this.uniforms.red},set:function(t){this.uniforms.red=t}},green:{get:function(){return this.uniforms.green},set:function(t){this.uniforms.green=t}},blue:{get:function(){return this.uniforms.blue.value},set:function(t){this.uniforms.blue.value=t}}})},{}],10:[function(t,e,r){function n(){PIXI.Filter.call(this,"#define GLSLIFY 1\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}","#define GLSLIFY 1\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nuniform vec2 center;\nuniform vec3 params; // 10.0, 0.8, 0.1\nuniform float time;\n\nvoid main()\n{\n    vec2 uv = vTextureCoord;\n    vec2 texCoord = uv;\n\n    float dist = distance(uv, center);\n\n    if ( (dist <= (time + params.z)) && (dist >= (time - params.z)) )\n    {\n        float diff = (dist - time);\n        float powDiff = 1.0 - pow(abs(diff*params.x), params.y);\n\n        float diffTime = diff  * powDiff;\n        vec2 diffUV = normalize(uv - center);\n        texCoord = uv + (diffUV * diffTime);\n    }\n\n    gl_FragColor = texture2D(uSampler, texCoord);\n}\n",{center:{type:"v2",value:{x:.5,y:.5}},params:{type:"v3",value:{x:10,y:.8,z:.1}},time:{type:"1f",value:0}}),this.center=[.5,.5],this.params=[10,.8,.1],this.time=0}n.prototype=Object.create(PIXI.Filter.prototype),n.prototype.constructor=n,e.exports=n,Object.defineProperties(n.prototype,{center:{get:function(){return this.uniforms.center},set:function(t){this.uniforms.center=t}},params:{get:function(){return this.uniforms.params},set:function(t){this.uniforms.params=t}},time:{get:function(){return this.uniforms.time},set:function(t){this.uniforms.time=t}}})},{}],11:[function(t,e,r){function n(){PIXI.Filter.call(this,"#define GLSLIFY 1\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}","#define GLSLIFY 1\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform float blur;\nuniform float gradientBlur;\nuniform vec2 start;\nuniform vec2 end;\nuniform vec2 delta;\nuniform vec2 texSize;\n\nfloat random(vec3 scale, float seed)\n{\n    return fract(sin(dot(gl_FragCoord.xyz + seed, scale)) * 43758.5453 + seed);\n}\n\nvoid main(void)\n{\n    vec4 color = vec4(0.0);\n    float total = 0.0;\n\n    float offset = random(vec3(12.9898, 78.233, 151.7182), 0.0);\n    vec2 normal = normalize(vec2(start.y - end.y, end.x - start.x));\n    float radius = smoothstep(0.0, 1.0, abs(dot(vTextureCoord * texSize - start, normal)) / gradientBlur) * blur;\n\n    for (float t = -30.0; t <= 30.0; t++)\n    {\n        float percent = (t + offset - 0.5) / 30.0;\n        float weight = 1.0 - abs(percent);\n        vec4 sample = texture2D(uSampler, vTextureCoord + delta / texSize * percent * radius);\n        sample.rgb *= sample.a;\n        color += sample * weight;\n        total += weight;\n    }\n\n    gl_FragColor = color / total;\n    gl_FragColor.rgb /= gl_FragColor.a + 0.00001;\n}\n"),this.uniforms.blur=100,this.uniforms.gradientBlur=600,this.uniforms.start=new PIXI.Point(0,window.innerHeight/2),this.uniforms.end=new PIXI.Point(600,window.innerHeight/2),this.uniforms.delta=new PIXI.Point(30,30),this.uniforms.texSize=new PIXI.Point(window.innerWidth,window.innerHeight),this.updateDelta()}n.prototype=Object.create(PIXI.Filter.prototype),n.prototype.constructor=n,e.exports=n,n.prototype.updateDelta=function(){this.uniforms.delta.x=0,this.uniforms.delta.y=0},Object.defineProperties(n.prototype,{blur:{get:function(){return this.uniforms.blur},set:function(t){this.uniforms.blur=t}},gradientBlur:{get:function(){return this.uniforms.gradientBlur},set:function(t){this.uniforms.gradientBlur=t}},start:{get:function(){return this.uniforms.start},set:function(t){this.uniforms.start=t,this.updateDelta()}},end:{get:function(){return this.uniforms.end},set:function(t){this.uniforms.end=t,this.updateDelta()}}})},{}],12:[function(t,e,r){function n(){PIXI.Filter.call(this),this.tiltShiftXFilter=new i,this.tiltShiftYFilter=new o}var i=t("./TiltShiftXFilter"),o=t("./TiltShiftYFilter");n.prototype=Object.create(PIXI.Filter.prototype),n.prototype.constructor=n,e.exports=n,n.prototype.apply=function(t,e,r){var n=t.getRenderTarget(!0);this.tiltShiftXFilter.apply(t,e,n),this.tiltShiftYFilter.apply(t,n,r),t.returnRenderTarget(n)},Object.defineProperties(n.prototype,{blur:{get:function(){return this.tiltShiftXFilter.blur},set:function(t){this.tiltShiftXFilter.blur=this.tiltShiftYFilter.blur=t}},gradientBlur:{get:function(){return this.tiltShiftXFilter.gradientBlur},set:function(t){this.tiltShiftXFilter.gradientBlur=this.tiltShiftYFilter.gradientBlur=t}},start:{get:function(){return this.tiltShiftXFilter.start},set:function(t){this.tiltShiftXFilter.start=this.tiltShiftYFilter.start=t}},end:{get:function(){return this.tiltShiftXFilter.end},set:function(t){this.tiltShiftXFilter.end=this.tiltShiftYFilter.end=t}}})},{"./TiltShiftXFilter":13,"./TiltShiftYFilter":14}],13:[function(t,e,r){function n(){i.call(this)}var i=t("./TiltShiftAxisFilter");n.prototype=Object.create(i.prototype),n.prototype.constructor=n,e.exports=n,n.prototype.updateDelta=function(){var t=this.uniforms.end.x-this.uniforms.start.x,e=this.uniforms.end.y-this.uniforms.start.y,r=Math.sqrt(t*t+e*e);this.uniforms.delta.x=t/r,this.uniforms.delta.y=e/r}},{"./TiltShiftAxisFilter":11}],14:[function(t,e,r){function n(){i.call(this)}var i=t("./TiltShiftAxisFilter");n.prototype=Object.create(i.prototype),n.prototype.constructor=n,e.exports=n,n.prototype.updateDelta=function(){var t=this.uniforms.end.x-this.uniforms.start.x,e=this.uniforms.end.y-this.uniforms.start.y,r=Math.sqrt(t*t+e*e);this.uniforms.delta.x=-e/r,this.uniforms.delta.y=t/r}},{"./TiltShiftAxisFilter":11}],15:[function(t,e,r){function n(){PIXI.Filter.call(this,"#define GLSLIFY 1\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}","#define GLSLIFY 1\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform float radius;\nuniform float angle;\nuniform vec2 offset;\nuniform vec4 filterArea;\n\nvec2 mapCoord( vec2 coord )\n{\n    coord *= filterArea.xy;\n    coord += filterArea.zw;\n\n    return coord;\n}\n\nvec2 unmapCoord( vec2 coord )\n{\n    coord -= filterArea.zw;\n    coord /= filterArea.xy;\n\n    return coord;\n}\n\nvec2 twist(vec2 coord)\n{\n    coord -= offset;\n\n    float dist = length(coord);\n\n    if (dist < radius)\n    {\n        float ratioDist = (radius - dist) / radius;\n        float angleMod = ratioDist * ratioDist * angle;\n        float s = sin(angleMod);\n        float c = cos(angleMod);\n        coord = vec2(coord.x * c - coord.y * s, coord.x * s + coord.y * c);\n    }\n\n    coord += offset;\n\n    return coord;\n}\n\nvoid main(void)\n{\n\n    vec2 coord = mapCoord(vTextureCoord);\n\n    coord = twist(coord);\n\n    coord = unmapCoord(coord);\n\n    gl_FragColor = texture2D(uSampler, coord );\n\n}\n"),this.radius=200,this.angle=4,this.padding=20}n.prototype=Object.create(PIXI.Filter.prototype),n.prototype.constructor=n,e.exports=n,Object.defineProperties(n.prototype,{offset:{get:function(){return this.uniforms.offset},set:function(t){this.uniforms.offset=t}},radius:{get:function(){return this.uniforms.radius},set:function(t){this.uniforms.radius=t}},angle:{get:function(){return this.uniforms.angle},set:function(t){this.uniforms.angle=t}}})},{}],16:[function(t,e,r){t("./check");var n={AsciiFilter:t("./ascii/AsciiFilter"),BloomFilter:t("./bloom/BloomFilter"),ConvolutionFilter:t("./convolution/ConvolutionFilter"),CrossHatchFilter:t("./crosshatch/CrossHatchFilter"),DotFilter:t("./dot/DotFilter"),EmbossFilter:t("./emboss/EmbossFilter"),PixelateFilter:t("./pixelate/PixelateFilter"),RGBSplitFilter:t("./rgb/RGBSplitFilter"),ShockwaveFilter:t("./shockwave/ShockwaveFilter"),TiltShiftFilter:t("./tiltshift/TiltShiftFilter"),TiltShiftAxisFilter:t("./tiltshift/TiltShiftAxisFilter"),TiltShiftXFilter:t("./tiltshift/TiltShiftXFilter"),TiltShiftYFilter:t("./tiltshift/TiltShiftYFilter"),TwistFilter:t("./twist/TwistFilter")};Object.assign(PIXI.filters,n),"undefined"!=typeof e&&e.exports&&(e.exports=n)},{"./ascii/AsciiFilter":1,"./bloom/BloomFilter":2,"./check":3,"./convolution/ConvolutionFilter":4,"./crosshatch/CrossHatchFilter":5,"./dot/DotFilter":6,"./emboss/EmbossFilter":7,"./pixelate/PixelateFilter":8,"./rgb/RGBSplitFilter":9,"./shockwave/ShockwaveFilter":10,"./tiltshift/TiltShiftAxisFilter":11,"./tiltshift/TiltShiftFilter":12,"./tiltshift/TiltShiftXFilter":13,"./tiltshift/TiltShiftYFilter":14,"./twist/TwistFilter":15}]},{},[16])(16)})},function(t,e){var r=new ArrayBuffer(0),n=function(t,e,n,i){this.gl=t,this.buffer=t.createBuffer(),this.type=e||t.ARRAY_BUFFER,this.drawType=i||t.STATIC_DRAW,this.data=r,n&&this.upload(n),this._updateID=0};n.prototype.upload=function(t,e,r){r||this.bind();var n=this.gl;t=t||this.data,e=e||0,this.data.byteLength>=t.byteLength?n.bufferSubData(this.type,e,t):n.bufferData(this.type,t,this.drawType),this.data=t},n.prototype.bind=function(){var t=this.gl;t.bindBuffer(this.type,this.buffer)},n.createVertexBuffer=function(t,e,r){return new n(t,t.ARRAY_BUFFER,e,r)},n.createIndexBuffer=function(t,e,r){return new n(t,t.ELEMENT_ARRAY_BUFFER,e,r)},n.create=function(t,e,r,i){return new n(t,e,r,i)},n.prototype.destroy=function(){this.gl.deleteBuffer(this.buffer)},t.exports=n},function(t,e,r){var n=r(50),i=function(t,e,r){this.gl=t,this.framebuffer=t.createFramebuffer(),this.stencil=null,this.texture=null,this.width=e||100,this.height=r||100};i.prototype.enableTexture=function(t){var e=this.gl;this.texture=t||new n(e),this.texture.bind(),this.bind(),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,this.texture.texture,0)},i.prototype.enableStencil=function(){if(!this.stencil){var t=this.gl;this.stencil=t.createRenderbuffer(),t.bindRenderbuffer(t.RENDERBUFFER,this.stencil),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.RENDERBUFFER,this.stencil),t.renderbufferStorage(t.RENDERBUFFER,t.DEPTH_STENCIL,this.width,this.height)}},i.prototype.clear=function(t,e,r,n){this.bind();var i=this.gl;i.clearColor(t,e,r,n),i.clear(i.COLOR_BUFFER_BIT|i.DEPTH_BUFFER_BIT)},i.prototype.bind=function(){var t=this.gl;t.bindFramebuffer(t.FRAMEBUFFER,this.framebuffer)},i.prototype.unbind=function(){var t=this.gl;t.bindFramebuffer(t.FRAMEBUFFER,null)},i.prototype.resize=function(t,e){var r=this.gl;this.width=t,this.height=e,this.texture&&this.texture.uploadData(null,t,e),this.stencil&&(r.bindRenderbuffer(r.RENDERBUFFER,this.stencil),r.renderbufferStorage(r.RENDERBUFFER,r.DEPTH_STENCIL,t,e))},i.prototype.destroy=function(){var t=this.gl;this.texture&&this.texture.destroy(),t.deleteFramebuffer(this.framebuffer),this.gl=null,this.stencil=null,this.texture=null},i.createRGBA=function(t,e,r,o){var a=n.fromData(t,null,e,r);a.enableNearestScaling(),a.enableWrapClamp();var s=new i(t,e,r);return s.enableTexture(a),s.unbind(),s},i.createFloat32=function(t,e,r,o){var a=new n.fromData(t,o,e,r);a.enableNearestScaling(),a.enableWrapClamp();var s=new i(t,e,r);return s.enableTexture(a),s.unbind(),s},t.exports=i},function(t,e,r){var n=r(52),i=r(54),o=r(55),a=r(58),s=r(56),u=function(t,e,r,u,l){this.gl=t,u&&(e=a(e,u),r=a(r,u)),this.program=n(t,e,r,l),this.attributes=i(t,this.program),this.uniformData=o(t,this.program),this.uniforms=s(t,this.uniformData)};u.prototype.bind=function(){this.gl.useProgram(this.program)},u.prototype.destroy=function(){this.attributes=null,this.uniformData=null,this.uniforms=null;var t=this.gl;t.deleteProgram(this.program)},t.exports=u},function(t,e,r){function n(t,e){if(this.nativeVaoExtension=null,n.FORCE_NATIVE||(this.nativeVaoExtension=t.getExtension("OES_vertex_array_object")||t.getExtension("MOZ_OES_vertex_array_object")||t.getExtension("WEBKIT_OES_vertex_array_object")),this.nativeState=e,this.nativeVaoExtension){this.nativeVao=this.nativeVaoExtension.createVertexArrayOES();var r=t.getParameter(t.MAX_VERTEX_ATTRIBS);this.nativeState={tempAttribState:new Array(r),attribState:new Array(r)}}this.gl=t,this.attributes=[],this.indexBuffer=null,this.dirty=!1}var i=r(51);n.prototype.constructor=n,t.exports=n,n.FORCE_NATIVE=!1,n.prototype.bind=function(){return this.nativeVao?(this.nativeVaoExtension.bindVertexArrayOES(this.nativeVao),this.dirty&&(this.dirty=!1,this.activate())):this.activate(),this},n.prototype.unbind=function(){return this.nativeVao&&this.nativeVaoExtension.bindVertexArrayOES(null),this},n.prototype.activate=function(){for(var t=this.gl,e=null,r=0;r<this.attributes.length;r++){var n=this.attributes[r];e!==n.buffer&&(n.buffer.bind(),e=n.buffer),t.vertexAttribPointer(n.attribute.location,n.attribute.size,n.type||t.FLOAT,n.normalized||!1,n.stride||0,n.start||0)}return i(t,this.attributes,this.nativeState),this.indexBuffer&&this.indexBuffer.bind(),this},n.prototype.addAttribute=function(t,e,r,n,i,o){return this.attributes.push({buffer:t,attribute:e,location:e.location,type:r||this.gl.FLOAT,normalized:n||!1,stride:i||0,start:o||0}),this.dirty=!0,this},n.prototype.addIndex=function(t){return this.indexBuffer=t,this.dirty=!0,this},n.prototype.clear=function(){return this.nativeVao&&this.nativeVaoExtension.bindVertexArrayOES(this.nativeVao),this.attributes.length=0,this.indexBuffer=null,this},n.prototype.draw=function(t,e,r){var n=this.gl;return this.indexBuffer?n.drawElements(t,e||this.indexBuffer.data.length,n.UNSIGNED_SHORT,2*(r||0)):n.drawArrays(t,r,e||this.getSize()),this},n.prototype.destroy=function(){this.gl=null,this.indexBuffer=null,this.attributes=null,this.nativeState=null,this.nativeVao&&this.nativeVaoExtension.deleteVertexArrayOES(this.nativeVao),this.nativeVaoExtension=null,this.nativeVao=null},n.prototype.getSize=function(){var t=this.attributes[0];return t.buffer.data.length/(t.stride/4||t.attribute.size)}},function(t,e){var r=function(t,e){var r=t.getContext("webgl",e)||t.getContext("experimental-webgl",e);if(!r)throw new Error("This browser does not support webGL. Try using the canvas renderer");return r};t.exports=r},function(t,e,r){t.exports={compileProgram:r(52),defaultValue:r(53),extractAttributes:r(54),extractUniforms:r(55),generateUniformAccessObject:r(56),setPrecision:r(58),mapSize:r(57),mapType:r(29)}},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var a=r(1),s=i(a),u=r(28),l=n(u),c=r(59),h=n(c);s.utils.mixins.delayMixin(s.DisplayObject.prototype,h.default);var f=9,d=100,p=0,v=0,m=2,g=1,y=-1e3,_=-1e3,x=2,b=function(){function t(e){o(this,t),!l.default.tablet&&!l.default.phone||navigator.isCocoonJS||this.createTouchHook();var r=document.createElement("div");r.style.width=d+"px",r.style.height=d+"px",r.style.position="absolute",r.style.top=p+"px",r.style.left=v+"px",r.style.zIndex=m,this.div=r,this.pool=[],this.renderId=0,this.debug=!1,this.renderer=e,this.children=[],this._onKeyDown=this._onKeyDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),this.isActive=!1,this.isMobileAccessabillity=!1,window.addEventListener("keydown",this._onKeyDown,!1)}return t.prototype.createTouchHook=function(){var t=this,e=document.createElement("button");e.style.width=g+"px",e.style.height=g+"px",e.style.position="absolute",e.style.top=y+"px",e.style.left=_+"px",e.style.zIndex=x,e.style.backgroundColor="#FF0000",e.title="HOOK DIV",e.addEventListener("focus",function(){t.isMobileAccessabillity=!0,t.activate(),document.body.removeChild(e)}),document.body.appendChild(e)},t.prototype.activate=function(){this.isActive||(this.isActive=!0,window.document.addEventListener("mousemove",this._onMouseMove,!0),window.removeEventListener("keydown",this._onKeyDown,!1),this.renderer.on("postrender",this.update,this),this.renderer.view.parentNode&&this.renderer.view.parentNode.appendChild(this.div))},t.prototype.deactivate=function(){this.isActive&&!this.isMobileAccessabillity&&(this.isActive=!1,window.document.removeEventListener("mousemove",this._onMouseMove),window.addEventListener("keydown",this._onKeyDown,!1),this.renderer.off("postrender",this.update),this.div.parentNode&&this.div.parentNode.removeChild(this.div))},t.prototype.updateAccessibleObjects=function(t){if(t.visible){t.accessible&&t.interactive&&(t._accessibleActive||this.addChild(t),t.renderId=this.renderId);for(var e=t.children,r=e.length-1;r>=0;r--)this.updateAccessibleObjects(e[r])}},t.prototype.update=function(){if(this.renderer.renderingToScreen){this.updateAccessibleObjects(this.renderer._lastObjectRendered);var t=this.renderer.view.getBoundingClientRect(),e=t.width/this.renderer.width,r=t.height/this.renderer.height,n=this.div;n.style.left=t.left+"px",n.style.top=t.top+"px",n.style.width=this.renderer.width+"px",n.style.height=this.renderer.height+"px";for(var i=0;i<this.children.length;i++){var o=this.children[i];if(o.renderId!==this.renderId)o._accessibleActive=!1,s.utils.removeItems(this.children,i,1),this.div.removeChild(o._accessibleDiv),this.pool.push(o._accessibleDiv),o._accessibleDiv=null,i--,0===this.children.length&&this.deactivate();else{n=o._accessibleDiv;var a=o.hitArea,u=o.worldTransform;o.hitArea?(n.style.left=(u.tx+a.x*u.a)*e+"px",n.style.top=(u.ty+a.y*u.d)*r+"px",n.style.width=a.width*u.a*e+"px",n.style.height=a.height*u.d*r+"px"):(a=o.getBounds(),this.capHitArea(a),n.style.left=a.x*e+"px",n.style.top=a.y*r+"px",n.style.width=a.width*e+"px",n.style.height=a.height*r+"px")}}this.renderId++}},t.prototype.capHitArea=function(t){t.x<0&&(t.width+=t.x,t.x=0),t.y<0&&(t.height+=t.y,t.y=0),t.x+t.width>this.renderer.width&&(t.width=this.renderer.width-t.x),t.y+t.height>this.renderer.height&&(t.height=this.renderer.height-t.y)},t.prototype.addChild=function(t){var e=this.pool.pop();e||(e=document.createElement("button"),e.style.width=d+"px",e.style.height=d+"px",e.style.backgroundColor=this.debug?"rgba(255,0,0,0.5)":"transparent",e.style.position="absolute",e.style.zIndex=m,e.style.borderStyle="none",e.addEventListener("click",this._onClick.bind(this)),e.addEventListener("focus",this._onFocus.bind(this)),e.addEventListener("focusout",this._onFocusOut.bind(this))),t.accessibleTitle?e.title=t.accessibleTitle:t.accessibleTitle||t.accessibleHint||(e.title="displayObject "+this.tabIndex),t.accessibleHint&&e.setAttribute("aria-label",t.accessibleHint),t._accessibleActive=!0,t._accessibleDiv=e,e.displayObject=t,this.children.push(t),this.div.appendChild(t._accessibleDiv),t._accessibleDiv.tabIndex=t.tabIndex},t.prototype._onClick=function(t){var e=this.renderer.plugins.interaction;e.dispatchEvent(t.target.displayObject,"click",e.eventData)},t.prototype._onFocus=function(t){var e=this.renderer.plugins.interaction;e.dispatchEvent(t.target.displayObject,"mouseover",e.eventData)},t.prototype._onFocusOut=function(t){var e=this.renderer.plugins.interaction;e.dispatchEvent(t.target.displayObject,"mouseout",e.eventData)},t.prototype._onKeyDown=function(t){t.keyCode===f&&this.activate()},t.prototype._onMouseMove=function(){this.deactivate()},t.prototype.destroy=function(){this.div=null;for(var t=0;t<this.children.length;t++)this.children[t].div=null;window.document.removeEventListener("mousemove",this._onMouseMove),window.removeEventListener("keydown",this._onKeyDown),
this.pool=null,this.children=null,this.renderer=null},t}();e.default=b,s.WebGLRenderer.registerPlugin("accessibility",b),s.CanvasRenderer.registerPlugin("accessibility",b)},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var i=r(59);Object.defineProperty(e,"accessibleTarget",{enumerable:!0,get:function(){return n(i).default}});var o=r(178);Object.defineProperty(e,"AccessibilityManager",{enumerable:!0,get:function(){return n(o).default}})},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var o=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),a=r(60),s=r(14),u=n(s),l=r(38),c=function(){function t(e,r,n,o){var s=arguments.length>4&&void 0!==arguments[4]&&arguments[4];i(this,t),this.renderer=(0,a.autoDetectRenderer)(e,r,n,o),this.stage=new u.default,this._ticker=null,this.ticker=s?l.shared:new l.Ticker,this.start()}return t.prototype.render=function(){this.renderer.render(this.stage)},t.prototype.stop=function(){this._ticker.stop()},t.prototype.start=function(){this._ticker.start()},t.prototype.destroy=function(t){this.stop(),this.ticker=null,this.stage.destroy(),this.stage=null,this.renderer.destroy(t),this.renderer=null},o(t,[{key:"ticker",set:function(t){this._ticker&&this._ticker.remove(this.render,this),this._ticker=t,t&&t.add(this.render,this)},get:function(){return this._ticker}},{key:"view",get:function(){return this.renderer.view}},{key:"screen",get:function(){return this.renderer.screen}}]),t}();e.default=c},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var s=r(14),u=n(s),l=r(37),c=n(l),h=r(11),f=n(h),d=r(64),p=n(d),v=r(35),m=n(v),g=r(4),y=r(3),_=r(2),x=r(30),b=n(x),w=r(183),T=n(w),E=r(15),S=n(E),M=void 0,A=new g.Matrix,P=new g.Point,C=new Float32Array(4),O=new Float32Array(4),R=function(t){function e(){var r=arguments.length>0&&void 0!==arguments[0]&&arguments[0];i(this,e);var n=o(this,t.call(this));return n.fillAlpha=1,n.lineWidth=0,n.nativeLines=r,n.lineColor=0,n.graphicsData=[],n.tint=16777215,n._prevTint=16777215,n.blendMode=_.BLEND_MODES.NORMAL,n.currentPath=null,n._webGL={},n.isMask=!1,n.boundsPadding=0,n._localBounds=new b.default,n.dirty=0,n.fastRectDirty=-1,n.clearDirty=0,n.boundsDirty=-1,n.cachedSpriteDirty=!1,n._spriteRect=null,n._fastRect=!1,n}return a(e,t),e.prototype.clone=function t(){var t=new e;t.renderable=this.renderable,t.fillAlpha=this.fillAlpha,t.lineWidth=this.lineWidth,t.lineColor=this.lineColor,t.tint=this.tint,t.blendMode=this.blendMode,t.isMask=this.isMask,t.boundsPadding=this.boundsPadding,t.dirty=0,t.cachedSpriteDirty=this.cachedSpriteDirty;for(var r=0;r<this.graphicsData.length;++r)t.graphicsData.push(this.graphicsData[r].clone());return t.currentPath=t.graphicsData[t.graphicsData.length-1],t.updateLocalBounds(),t},e.prototype.lineStyle=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;if(this.lineWidth=t,this.lineColor=e,this.lineAlpha=r,this.currentPath)if(this.currentPath.shape.points.length){var n=new g.Polygon(this.currentPath.shape.points.slice(-2));n.closed=!1,this.drawShape(n)}else this.currentPath.lineWidth=this.lineWidth,this.currentPath.lineColor=this.lineColor,this.currentPath.lineAlpha=this.lineAlpha;return this},e.prototype.moveTo=function(t,e){var r=new g.Polygon([t,e]);return r.closed=!1,this.drawShape(r),this},e.prototype.lineTo=function(t,e){return this.currentPath.shape.points.push(t,e),this.dirty++,this},e.prototype.quadraticCurveTo=function(t,e,r,n){this.currentPath?0===this.currentPath.shape.points.length&&(this.currentPath.shape.points=[0,0]):this.moveTo(0,0);var i=20,o=this.currentPath.shape.points,a=0,s=0;0===o.length&&this.moveTo(0,0);for(var u=o[o.length-2],l=o[o.length-1],c=1;c<=i;++c){var h=c/i;a=u+(t-u)*h,s=l+(e-l)*h,o.push(a+(t+(r-t)*h-a)*h,s+(e+(n-e)*h-s)*h)}return this.dirty++,this},e.prototype.bezierCurveTo=function(t,e,r,n,i,o){this.currentPath?0===this.currentPath.shape.points.length&&(this.currentPath.shape.points=[0,0]):this.moveTo(0,0);var a=this.currentPath.shape.points,s=a[a.length-2],u=a[a.length-1];return a.length-=2,(0,T.default)(s,u,t,e,r,n,i,o,a),this.dirty++,this},e.prototype.arcTo=function(t,e,r,n,i){this.currentPath?0===this.currentPath.shape.points.length&&this.currentPath.shape.points.push(t,e):this.moveTo(t,e);var o=this.currentPath.shape.points,a=o[o.length-2],s=o[o.length-1],u=s-e,l=a-t,c=n-e,h=r-t,f=Math.abs(u*h-l*c);if(f<1e-8||0===i)o[o.length-2]===t&&o[o.length-1]===e||o.push(t,e);else{var d=u*u+l*l,p=c*c+h*h,v=u*c+l*h,m=i*Math.sqrt(d)/f,g=i*Math.sqrt(p)/f,y=m*v/d,_=g*v/p,x=m*h+g*l,b=m*c+g*u,w=l*(g+y),T=u*(g+y),E=h*(m+_),S=c*(m+_),M=Math.atan2(T-b,w-x),A=Math.atan2(S-b,E-x);this.arc(x+t,b+e,i,M,A,l*c>h*u)}return this.dirty++,this},e.prototype.arc=function(t,e,r,n,i){var o=arguments.length>5&&void 0!==arguments[5]&&arguments[5];if(n===i)return this;!o&&i<=n?i+=2*Math.PI:o&&n<=i&&(n+=2*Math.PI);var a=i-n,s=40*Math.ceil(Math.abs(a)/(2*Math.PI));if(0===a)return this;var u=t+Math.cos(n)*r,l=e+Math.sin(n)*r,c=this.currentPath?this.currentPath.shape.points:null;c?c[c.length-2]===u&&c[c.length-1]===l||c.push(u,l):(this.moveTo(u,l),c=this.currentPath.shape.points);for(var h=a/(2*s),f=2*h,d=Math.cos(h),p=Math.sin(h),v=s-1,m=v%1/v,g=0;g<=v;++g){var y=g+m*g,_=h+n+f*y,x=Math.cos(_),b=-Math.sin(_);c.push((d*x+p*b)*r+t,(d*-b+p*x)*r+e)}return this.dirty++,this},e.prototype.beginFill=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return this.filling=!0,this.fillColor=t,this.fillAlpha=e,this.currentPath&&this.currentPath.shape.points.length<=2&&(this.currentPath.fill=this.filling,this.currentPath.fillColor=this.fillColor,this.currentPath.fillAlpha=this.fillAlpha),this},e.prototype.endFill=function(){return this.filling=!1,this.fillColor=null,this.fillAlpha=1,this},e.prototype.drawRect=function(t,e,r,n){return this.drawShape(new g.Rectangle(t,e,r,n)),this},e.prototype.drawRoundedRect=function(t,e,r,n,i){return this.drawShape(new g.RoundedRectangle(t,e,r,n,i)),this},e.prototype.drawCircle=function(t,e,r){return this.drawShape(new g.Circle(t,e,r)),this},e.prototype.drawEllipse=function(t,e,r,n){return this.drawShape(new g.Ellipse(t,e,r,n)),this},e.prototype.drawPolygon=function(t){var e=t,r=!0;if(e instanceof g.Polygon&&(r=e.closed,e=e.points),!Array.isArray(e)){e=new Array(arguments.length);for(var n=0;n<e.length;++n)e[n]=arguments[n]}var i=new g.Polygon(e);return i.closed=r,this.drawShape(i),this},e.prototype.clear=function(){return(this.lineWidth||this.filling||this.graphicsData.length>0)&&(this.lineWidth=0,this.filling=!1,this.boundsDirty=-1,this.dirty++,this.clearDirty++,this.graphicsData.length=0),this.currentPath=null,this._spriteRect=null,this},e.prototype.isFastRect=function(){return 1===this.graphicsData.length&&this.graphicsData[0].shape.type===_.SHAPES.RECT&&!this.graphicsData[0].lineWidth},e.prototype._renderWebGL=function(t){this.dirty!==this.fastRectDirty&&(this.fastRectDirty=this.dirty,this._fastRect=this.isFastRect()),this._fastRect?this._renderSpriteRect(t):(t.setObjectRenderer(t.plugins.graphics),t.plugins.graphics.render(this))},e.prototype._renderSpriteRect=function(t){var e=this.graphicsData[0].shape;this._spriteRect||(this._spriteRect=new m.default(new f.default(f.default.WHITE)));var r=this._spriteRect;if(16777215===this.tint)r.tint=this.graphicsData[0].fillColor;else{var n=C,i=O;(0,y.hex2rgb)(this.graphicsData[0].fillColor,n),(0,y.hex2rgb)(this.tint,i),n[0]*=i[0],n[1]*=i[1],n[2]*=i[2],r.tint=(0,y.rgb2hex)(n)}r.alpha=this.graphicsData[0].fillAlpha,r.worldAlpha=this.worldAlpha*r.alpha,r.blendMode=this.blendMode,r.texture._frame.width=e.width,r.texture._frame.height=e.height,r.transform.worldTransform=this.transform.worldTransform,r.anchor.set(-e.x/e.width,-e.y/e.height),r._onAnchorUpdate(),r._renderWebGL(t)},e.prototype._renderCanvas=function(t){this.isMask!==!0&&t.plugins.graphics.render(this)},e.prototype._calculateBounds=function(){this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.updateLocalBounds(),this.cachedSpriteDirty=!0);var t=this._localBounds;this._bounds.addFrame(this.transform,t.minX,t.minY,t.maxX,t.maxY)},e.prototype.containsPoint=function(t){this.worldTransform.applyInverse(t,P);for(var e=this.graphicsData,r=0;r<e.length;++r){var n=e[r];if(n.fill&&n.shape&&n.shape.contains(P.x,P.y))return!0}return!1},e.prototype.updateLocalBounds=function(){var t=1/0,e=-(1/0),r=1/0,n=-(1/0);if(this.graphicsData.length)for(var i=0,o=0,a=0,s=0,u=0,l=0;l<this.graphicsData.length;l++){var c=this.graphicsData[l],h=c.type,f=c.lineWidth;if(i=c.shape,h===_.SHAPES.RECT||h===_.SHAPES.RREC)o=i.x-f/2,a=i.y-f/2,s=i.width+f,u=i.height+f,t=o<t?o:t,e=o+s>e?o+s:e,r=a<r?a:r,n=a+u>n?a+u:n;else if(h===_.SHAPES.CIRC)o=i.x,a=i.y,s=i.radius+f/2,u=i.radius+f/2,t=o-s<t?o-s:t,e=o+s>e?o+s:e,r=a-u<r?a-u:r,n=a+u>n?a+u:n;else if(h===_.SHAPES.ELIP)o=i.x,a=i.y,s=i.width+f/2,u=i.height+f/2,t=o-s<t?o-s:t,e=o+s>e?o+s:e,r=a-u<r?a-u:r,n=a+u>n?a+u:n;else for(var d=i.points,p=0,v=0,m=0,g=0,y=0,x=0,b=0,w=0,T=0;T+2<d.length;T+=2)o=d[T],a=d[T+1],p=d[T+2],v=d[T+3],m=Math.abs(p-o),g=Math.abs(v-a),u=f,s=Math.sqrt(m*m+g*g),s<1e-9||(y=(u/s*g+m)/2,x=(u/s*m+g)/2,b=(p+o)/2,w=(v+a)/2,t=b-y<t?b-y:t,e=b+y>e?b+y:e,r=w-x<r?w-x:r,n=w+x>n?w+x:n)}else t=0,e=0,r=0,n=0;var E=this.boundsPadding;this._localBounds.minX=t-E,this._localBounds.maxX=e+2*E,this._localBounds.minY=r-E,this._localBounds.maxY=n+2*E},e.prototype.drawShape=function(t){this.currentPath&&this.currentPath.shape.points.length<=2&&this.graphicsData.pop(),this.currentPath=null;var e=new p.default(this.lineWidth,this.lineColor,this.lineAlpha,this.fillColor,this.fillAlpha,this.filling,this.nativeLines,t);return this.graphicsData.push(e),e.type===_.SHAPES.POLY&&(e.shape.closed=e.shape.closed||this.filling,this.currentPath=e),this.dirty++,e},e.prototype.generateCanvasTexture=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=this.getLocalBounds(),n=c.default.create(r.width,r.height,t,e);M||(M=new S.default),this.transform.updateLocalTransform(),this.transform.localTransform.copy(A),A.invert(),A.tx-=r.x,A.ty-=r.y,M.render(this,n,!0,A);var i=f.default.fromCanvas(n.baseTexture._canvasRenderTarget.canvas,t);return i.baseTexture.resolution=e,i.baseTexture.update(),i},e.prototype.closePath=function(){var t=this.currentPath;return t&&t.shape&&t.shape.close(),this},e.prototype.addHole=function(){var t=this.graphicsData.pop();return this.currentPath=this.graphicsData[this.graphicsData.length-1],this.currentPath.addHole(t.shape),this.currentPath=null,this},e.prototype.destroy=function(e){t.prototype.destroy.call(this,e);for(var r=0;r<this.graphicsData.length;++r)this.graphicsData[r].destroy();for(var n in this._webgl)for(var i=0;i<this._webgl[n].data.length;++i)this._webgl[n].data[i].destroy();this._spriteRect&&this._spriteRect.destroy(),this.graphicsData=null,this.currentPath=null,this._webgl=null,this._localBounds=null},e}(u.default);e.default=R,R._SPRITE_TEXTURE=null},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var o=r(15),a=n(o),s=r(2),u=function(){function t(e){i(this,t),this.renderer=e}return t.prototype.render=function(t){var e=this.renderer,r=e.context,n=t.worldAlpha,i=t.transform.worldTransform,o=e.resolution;this._prevTint!==this.tint&&(this.dirty=!0),r.setTransform(i.a*o,i.b*o,i.c*o,i.d*o,i.tx*o,i.ty*o),t.dirty&&(this.updateGraphicsTint(t),t.dirty=!1),e.setBlendMode(t.blendMode);for(var a=0;a<t.graphicsData.length;a++){var u=t.graphicsData[a],l=u.shape,c=u._fillTint,h=u._lineTint;if(r.lineWidth=u.lineWidth,u.type===s.SHAPES.POLY){r.beginPath(),this.renderPolygon(l.points,l.closed,r);for(var f=0;f<u.holes.length;f++)this.renderPolygon(u.holes[f].points,!0,r);u.fill&&(r.globalAlpha=u.fillAlpha*n,r.fillStyle="#"+("00000"+(0|c).toString(16)).substr(-6),r.fill()),u.lineWidth&&(r.globalAlpha=u.lineAlpha*n,r.strokeStyle="#"+("00000"+(0|h).toString(16)).substr(-6),r.stroke())}else if(u.type===s.SHAPES.RECT)(u.fillColor||0===u.fillColor)&&(r.globalAlpha=u.fillAlpha*n,r.fillStyle="#"+("00000"+(0|c).toString(16)).substr(-6),r.fillRect(l.x,l.y,l.width,l.height)),u.lineWidth&&(r.globalAlpha=u.lineAlpha*n,r.strokeStyle="#"+("00000"+(0|h).toString(16)).substr(-6),r.strokeRect(l.x,l.y,l.width,l.height));else if(u.type===s.SHAPES.CIRC)r.beginPath(),r.arc(l.x,l.y,l.radius,0,2*Math.PI),r.closePath(),u.fill&&(r.globalAlpha=u.fillAlpha*n,r.fillStyle="#"+("00000"+(0|c).toString(16)).substr(-6),r.fill()),u.lineWidth&&(r.globalAlpha=u.lineAlpha*n,r.strokeStyle="#"+("00000"+(0|h).toString(16)).substr(-6),r.stroke());else if(u.type===s.SHAPES.ELIP){var d=2*l.width,p=2*l.height,v=l.x-d/2,m=l.y-p/2;r.beginPath();var g=.5522848,y=d/2*g,_=p/2*g,x=v+d,b=m+p,w=v+d/2,T=m+p/2;r.moveTo(v,T),r.bezierCurveTo(v,T-_,w-y,m,w,m),r.bezierCurveTo(w+y,m,x,T-_,x,T),r.bezierCurveTo(x,T+_,w+y,b,w,b),r.bezierCurveTo(w-y,b,v,T+_,v,T),r.closePath(),u.fill&&(r.globalAlpha=u.fillAlpha*n,r.fillStyle="#"+("00000"+(0|c).toString(16)).substr(-6),r.fill()),u.lineWidth&&(r.globalAlpha=u.lineAlpha*n,r.strokeStyle="#"+("00000"+(0|h).toString(16)).substr(-6),r.stroke())}else if(u.type===s.SHAPES.RREC){var E=l.x,S=l.y,M=l.width,A=l.height,P=l.radius,C=Math.min(M,A)/2|0;P=P>C?C:P,r.beginPath(),r.moveTo(E,S+P),r.lineTo(E,S+A-P),r.quadraticCurveTo(E,S+A,E+P,S+A),r.lineTo(E+M-P,S+A),r.quadraticCurveTo(E+M,S+A,E+M,S+A-P),r.lineTo(E+M,S+P),r.quadraticCurveTo(E+M,S,E+M-P,S),r.lineTo(E+P,S),r.quadraticCurveTo(E,S,E,S+P),r.closePath(),(u.fillColor||0===u.fillColor)&&(r.globalAlpha=u.fillAlpha*n,r.fillStyle="#"+("00000"+(0|c).toString(16)).substr(-6),r.fill()),u.lineWidth&&(r.globalAlpha=u.lineAlpha*n,r.strokeStyle="#"+("00000"+(0|h).toString(16)).substr(-6),r.stroke())}}},t.prototype.updateGraphicsTint=function(t){t._prevTint=t.tint;for(var e=(t.tint>>16&255)/255,r=(t.tint>>8&255)/255,n=(255&t.tint)/255,i=0;i<t.graphicsData.length;++i){var o=t.graphicsData[i],a=0|o.fillColor,s=0|o.lineColor;o._fillTint=((a>>16&255)/255*e*255<<16)+((a>>8&255)/255*r*255<<8)+(255&a)/255*n*255,o._lineTint=((s>>16&255)/255*e*255<<16)+((s>>8&255)/255*r*255<<8)+(255&s)/255*n*255}},t.prototype.renderPolygon=function(t,e,r){r.moveTo(t[0],t[1]);for(var n=1;n<t.length/2;++n)r.lineTo(t[2*n],t[2*n+1]);e&&r.closePath()},t.prototype.destroy=function(){this.renderer=null},t}();e.default=u,a.default.registerPlugin("graphics",u)},function(t,e){"use strict";function r(t,e,r,n,i,o,a,s){var u=arguments.length>8&&void 0!==arguments[8]?arguments[8]:[],l=20,c=0,h=0,f=0,d=0,p=0;u.push(t,e);for(var v=1,m=0;v<=l;++v)m=v/l,c=1-m,h=c*c,f=h*c,d=m*m,p=d*m,u.push(f*t+3*h*m*r+3*c*d*i+p*a,f*e+3*h*m*n+3*c*d*o+p*s);return u}e.__esModule=!0,e.default=r},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var s=r(3),u=r(2),l=r(23),c=n(l),h=r(22),f=n(h),d=r(185),p=n(d),v=r(186),m=n(v),g=r(188),y=n(g),_=r(189),x=n(_),b=r(190),w=n(b),T=r(187),E=n(T),S=function(t){function e(r){i(this,e);var n=o(this,t.call(this,r));return n.graphicsDataPool=[],n.primitiveShader=null,n.gl=r.gl,n.CONTEXT_UID=0,n}return a(e,t),e.prototype.onContextChange=function(){this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.primitiveShader=new m.default(this.gl)},e.prototype.destroy=function(){c.default.prototype.destroy.call(this);for(var t=0;t<this.graphicsDataPool.length;++t)this.graphicsDataPool[t].destroy();this.graphicsDataPool=null},e.prototype.render=function(t){var e=this.renderer,r=e.gl,n=void 0,i=t._webGL[this.CONTEXT_UID];i&&t.dirty===i.dirty||(this.updateGraphics(t),i=t._webGL[this.CONTEXT_UID]);var o=this.primitiveShader;e.bindShader(o),e.state.setBlendMode(t.blendMode);for(var a=0,u=i.data.length;a<u;a++){n=i.data[a];var l=n.shader;e.bindShader(l),l.uniforms.translationMatrix=t.transform.worldTransform.toArray(!0),l.uniforms.tint=(0,s.hex2rgb)(t.tint),l.uniforms.alpha=t.worldAlpha,e.bindVao(n.vao),t.nativeLines?r.drawArrays(r.LINES,0,n.points.length/6):n.vao.draw(r.TRIANGLE_STRIP,n.indices.length)}},e.prototype.updateGraphics=function(t){var e=this.renderer.gl,r=t._webGL[this.CONTEXT_UID];if(r||(r=t._webGL[this.CONTEXT_UID]={lastIndex:0,data:[],gl:e,clearDirty:-1,dirty:-1}),r.dirty=t.dirty,t.clearDirty!==r.clearDirty){r.clearDirty=t.clearDirty;for(var n=0;n<r.data.length;n++)this.graphicsDataPool.push(r.data[n]);r.data.length=0,r.lastIndex=0}for(var i=void 0,o=r.lastIndex;o<t.graphicsData.length;o++){var a=t.graphicsData[o];i=this.getWebGLData(r,0),a.type===u.SHAPES.POLY&&(0,y.default)(a,i),a.type===u.SHAPES.RECT?(0,x.default)(a,i):a.type===u.SHAPES.CIRC||a.type===u.SHAPES.ELIP?(0,E.default)(a,i):a.type===u.SHAPES.RREC&&(0,w.default)(a,i),r.lastIndex++}this.renderer.bindVao(null);for(var s=0;s<r.data.length;s++)i=r.data[s],i.dirty&&i.upload()},e.prototype.getWebGLData=function(t,e){var r=t.data[t.data.length-1];return(!r||r.points.length>32e4)&&(r=this.graphicsDataPool.pop()||new p.default(this.renderer.gl,this.primitiveShader,this.renderer.state.attribsState),r.reset(e),t.data.push(r)),r.dirty=!0,r},e}(c.default);e.default=S,f.default.registerPlugin("graphics",S)},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var o=r(6),a=n(o),s=function(){function t(e,r,n){i(this,t),this.gl=e,this.color=[0,0,0],this.points=[],this.indices=[],this.buffer=a.default.GLBuffer.createVertexBuffer(e),this.indexBuffer=a.default.GLBuffer.createIndexBuffer(e),this.dirty=!0,this.glPoints=null,this.glIndices=null,this.shader=r,this.vao=new a.default.VertexArrayObject(e,n).addIndex(this.indexBuffer).addAttribute(this.buffer,r.attributes.aVertexPosition,e.FLOAT,!1,24,0).addAttribute(this.buffer,r.attributes.aColor,e.FLOAT,!1,24,8)}return t.prototype.reset=function(){this.points.length=0,this.indices.length=0},t.prototype.upload=function(){this.glPoints=new Float32Array(this.points),this.buffer.upload(this.glPoints),this.glIndices=new Uint16Array(this.indices),this.indexBuffer.upload(this.glIndices),this.dirty=!1},t.prototype.destroy=function(){this.color=null,this.points=null,this.indices=null,this.vao.destroy(),this.buffer.destroy(),this.indexBuffer.destroy(),this.gl=null,this.buffer=null,this.indexBuffer=null,this.glPoints=null,this.glIndices=null},t}();e.default=s},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var s=r(13),u=n(s),l=function(t){function e(r){return i(this,e),o(this,t.call(this,r,["attribute vec2 aVertexPosition;","attribute vec4 aColor;","uniform mat3 translationMatrix;","uniform mat3 projectionMatrix;","uniform float alpha;","uniform vec3 tint;","varying vec4 vColor;","void main(void){","   gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);","   vColor = aColor * vec4(tint * alpha, alpha);","}"].join("\n"),["varying vec4 vColor;","void main(void){","   gl_FragColor = vColor;","}"].join("\n")))}return a(e,t),e}(u.default);e.default=l},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(t,e){var r=t.shape,n=r.x,i=r.y,o=void 0,l=void 0;if(t.type===s.SHAPES.CIRC?(o=r.radius,l=r.radius):(o=r.width,l=r.height),0!==o&&0!==l){var c=Math.floor(30*Math.sqrt(r.radius))||Math.floor(15*Math.sqrt(r.width+r.height)),h=2*Math.PI/c;if(t.fill){var f=(0,u.hex2rgb)(t.fillColor),d=t.fillAlpha,p=f[0]*d,v=f[1]*d,m=f[2]*d,g=e.points,y=e.indices,_=g.length/6;y.push(_);for(var x=0;x<c+1;x++)g.push(n,i,p,v,m,d),g.push(n+Math.sin(h*x)*o,i+Math.cos(h*x)*l,p,v,m,d),y.push(_++,_++);y.push(_-1)}if(t.lineWidth){var b=t.points;t.points=[];for(var w=0;w<c+1;w++)t.points.push(n+Math.sin(h*w)*o,i+Math.cos(h*w)*l);(0,a.default)(t,e),t.points=b}}}e.__esModule=!0,e.default=i;var o=r(21),a=n(o),s=r(2),u=r(3)},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(t,e){t.points=t.shape.points.slice();var r=t.points;if(t.fill&&r.length>=6){for(var n=[],i=t.holes,o=0;o<i.length;o++){var u=i[o];n.push(r.length/2),r=r.concat(u.points)}var c=e.points,h=e.indices,f=r.length/2,d=(0,s.hex2rgb)(t.fillColor),p=t.fillAlpha,v=d[0]*p,m=d[1]*p,g=d[2]*p,y=(0,l.default)(r,n,2);if(!y)return;for(var _=c.length/6,x=0;x<y.length;x+=3)h.push(y[x]+_),h.push(y[x]+_),h.push(y[x+1]+_),h.push(y[x+2]+_),h.push(y[x+2]+_);for(var b=0;b<f;b++)c.push(r[2*b],r[2*b+1],v,m,g,p)}t.lineWidth>0&&(0,a.default)(t,e)}e.__esModule=!0,e.default=i;var o=r(21),a=n(o),s=r(3),u=r(46),l=n(u)},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(t,e){var r=t.shape,n=r.x,i=r.y,o=r.width,u=r.height;if(t.fill){var l=(0,s.hex2rgb)(t.fillColor),c=t.fillAlpha,h=l[0]*c,f=l[1]*c,d=l[2]*c,p=e.points,v=e.indices,m=p.length/6;p.push(n,i),p.push(h,f,d,c),p.push(n+o,i),p.push(h,f,d,c),p.push(n,i+u),p.push(h,f,d,c),p.push(n+o,i+u),p.push(h,f,d,c),v.push(m,m,m+1,m+2,m+3,m+3)}if(t.lineWidth){var g=t.points;t.points=[n,i,n+o,i,n+o,i+u,n,i+u,n,i],(0,a.default)(t,e),t.points=g}}e.__esModule=!0,e.default=i;var o=r(21),a=n(o),s=r(3)},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(t,e){var r=t.shape,n=r.x,i=r.y,o=r.width,s=r.height,l=r.radius,f=[];if(f.push(n,i+l),a(n,i+s-l,n,i+s,n+l,i+s,f),a(n+o-l,i+s,n+o,i+s,n+o,i+s-l,f),a(n+o,i+l,n+o,i,n+o-l,i,f),a(n+l,i,n,i,n,i+l+1e-10,f),t.fill){for(var d=(0,h.hex2rgb)(t.fillColor),p=t.fillAlpha,v=d[0]*p,m=d[1]*p,g=d[2]*p,y=e.points,_=e.indices,x=y.length/6,b=(0,u.default)(f,null,2),w=0,T=b.length;w<T;w+=3)_.push(b[w]+x),_.push(b[w]+x),_.push(b[w+1]+x),_.push(b[w+2]+x),_.push(b[w+2]+x);for(var E=0,S=f.length;E<S;E++)y.push(f[E],f[++E],v,m,g,p)}if(t.lineWidth){var M=t.points;t.points=f,(0,c.default)(t,e),t.points=M}}function o(t,e,r){var n=e-t;return t+n*r}function a(t,e,r,n,i,a){for(var s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:[],u=20,l=s,c=0,h=0,f=0,d=0,p=0,v=0,m=0,g=0;m<=u;++m)g=m/u,c=o(t,r,g),h=o(e,n,g),f=o(r,i,g),d=o(n,a,g),p=o(c,f,g),v=o(h,d,g),l.push(p,v);return l}e.__esModule=!0,e.default=i;var s=r(46),u=n(s),l=r(21),c=n(l),h=r(3)},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var o=r(34),a=n(o),s=r(2),u=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;i(this,t),this.x=e,this.y=r,this.radius=n,this.type=s.SHAPES.CIRC}return t.prototype.clone=function(){return new t(this.x,this.y,this.radius)},t.prototype.contains=function(t,e){if(this.radius<=0)return!1;var r=this.radius*this.radius,n=this.x-t,i=this.y-e;return n*=n,i*=i,n+i<=r},t.prototype.getBounds=function(){return new a.default(this.x-this.radius,this.y-this.radius,2*this.radius,2*this.radius)},t}();e.default=u},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var o=r(34),a=n(o),s=r(2),u=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;i(this,t),this.x=e,this.y=r,this.width=n,this.height=o,this.type=s.SHAPES.ELIP}return t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height)},t.prototype.contains=function(t,e){if(this.width<=0||this.height<=0)return!1;var r=(t-this.x)/this.width,n=(e-this.y)/this.height;return r*=r,n*=n,r+n<=1},t.prototype.getBounds=function(){return new a.default(this.x-this.width,this.y-this.height,this.width,this.height)},t}();e.default=u},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var o=r(33),a=n(o),s=r(2),u=function(){function t(){for(var e=arguments.length,r=Array(e),n=0;n<e;n++)r[n]=arguments[n];if(i(this,t),Array.isArray(r[0])&&(r=r[0]),r[0]instanceof a.default){for(var o=[],u=0,l=r.length;u<l;u++)o.push(r[u].x,r[u].y);r=o}this.closed=!0,this.points=r,this.type=s.SHAPES.POLY}return t.prototype.clone=function(){return new t(this.points.slice())},t.prototype.close=function(){var t=this.points;t[0]===t[t.length-2]&&t[1]===t[t.length-1]||t.push(t[0],t[1])},t.prototype.contains=function(t,e){for(var r=!1,n=this.points.length/2,i=0,o=n-1;i<n;o=i++){var a=this.points[2*i],s=this.points[2*i+1],u=this.points[2*o],l=this.points[2*o+1],c=s>e!=l>e&&t<(u-a)*((e-s)/(l-s))+a;c&&(r=!r)}return r},t}();e.default=u},function(t,e,r){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var i=r(2),o=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:20;n(this,t),this.x=e,this.y=r,this.width=o,this.height=a,this.radius=s,this.type=i.SHAPES.RREC}return t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height,this.radius)},t.prototype.contains=function(t,e){if(this.width<=0||this.height<=0)return!1;if(t>=this.x&&t<=this.x+this.width&&e>=this.y&&e<=this.y+this.height){if(e>=this.y+this.radius&&e<=this.y+this.height-this.radius||t>=this.x+this.radius&&t<=this.x+this.width-this.radius)return!0;var r=t-(this.x+this.radius),n=e-(this.y+this.radius),i=this.radius*this.radius;if(r*r+n*n<=i)return!0;if(r=t-(this.x+this.width-this.radius),r*r+n*n<=i)return!0;if(n=e-(this.y+this.height-this.radius),r*r+n*n<=i)return!0;if(r=t-(this.x+this.radius),r*r+n*n<=i)return!0}return!1},t}();e.default=o},function(t,e,r){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var i=r(2),o=function(){function t(e){n(this,t),this.renderer=e}return t.prototype.pushMask=function(t){var e=this.renderer;e.context.save();var r=t.alpha,n=t.transform.worldTransform,i=e.resolution;e.context.setTransform(n.a*i,n.b*i,n.c*i,n.d*i,n.tx*i,n.ty*i),t._texture||(this.renderGraphicsShape(t),e.context.clip()),t.worldAlpha=r},t.prototype.renderGraphicsShape=function(t){var e=this.renderer.context,r=t.graphicsData.length;if(0!==r){e.beginPath();for(var n=0;n<r;n++){var o=t.graphicsData[n],a=o.shape;if(o.type===i.SHAPES.POLY){var s=a.points;e.moveTo(s[0],s[1]);for(var u=1;u<s.length/2;u++)e.lineTo(s[2*u],s[2*u+1]);s[0]===s[s.length-2]&&s[1]===s[s.length-1]&&e.closePath()}else if(o.type===i.SHAPES.RECT)e.rect(a.x,a.y,a.width,a.height),e.closePath();else if(o.type===i.SHAPES.CIRC)e.arc(a.x,a.y,a.radius,0,2*Math.PI),e.closePath();else if(o.type===i.SHAPES.ELIP){var l=2*a.width,c=2*a.height,h=a.x-l/2,f=a.y-c/2,d=.5522848,p=l/2*d,v=c/2*d,m=h+l,g=f+c,y=h+l/2,_=f+c/2;e.moveTo(h,_),e.bezierCurveTo(h,_-v,y-p,f,y,f),e.bezierCurveTo(y+p,f,m,_-v,m,_),e.bezierCurveTo(m,_+v,y+p,g,y,g),e.bezierCurveTo(y-p,g,h,_+v,h,_),e.closePath()}else if(o.type===i.SHAPES.RREC){var x=a.x,b=a.y,w=a.width,T=a.height,E=a.radius,S=Math.min(w,T)/2|0;E=E>S?S:E,e.moveTo(x,b+E),e.lineTo(x,b+T-E),e.quadraticCurveTo(x,b+T,x+E,b+T),e.lineTo(x+w-E,b+T),e.quadraticCurveTo(x+w,b+T,x+w,b+T-E),e.lineTo(x+w,b+E),e.quadraticCurveTo(x+w,b,x+w-E,b),e.lineTo(x+E,b),e.quadraticCurveTo(x,b,x,b+E),e.closePath()}}}},t.prototype.popMask=function(t){t.context.restore()},t.prototype.destroy=function(){},t}();e.default=o},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return(0,s.default)()?(t[o.BLEND_MODES.NORMAL]="source-over",t[o.BLEND_MODES.ADD]="lighter",t[o.BLEND_MODES.MULTIPLY]="multiply",t[o.BLEND_MODES.SCREEN]="screen",t[o.BLEND_MODES.OVERLAY]="overlay",t[o.BLEND_MODES.DARKEN]="darken",t[o.BLEND_MODES.LIGHTEN]="lighten",t[o.BLEND_MODES.COLOR_DODGE]="color-dodge",t[o.BLEND_MODES.COLOR_BURN]="color-burn",t[o.BLEND_MODES.HARD_LIGHT]="hard-light",t[o.BLEND_MODES.SOFT_LIGHT]="soft-light",t[o.BLEND_MODES.DIFFERENCE]="difference",t[o.BLEND_MODES.EXCLUSION]="exclusion",t[o.BLEND_MODES.HUE]="hue",t[o.BLEND_MODES.SATURATION]="saturate",t[o.BLEND_MODES.COLOR]="color",t[o.BLEND_MODES.LUMINOSITY]="luminosity"):(t[o.BLEND_MODES.NORMAL]="source-over",t[o.BLEND_MODES.ADD]="lighter",t[o.BLEND_MODES.MULTIPLY]="source-over",t[o.BLEND_MODES.SCREEN]="source-over",t[o.BLEND_MODES.OVERLAY]="source-over",t[o.BLEND_MODES.DARKEN]="source-over",t[o.BLEND_MODES.LIGHTEN]="source-over",t[o.BLEND_MODES.COLOR_DODGE]="source-over",t[o.BLEND_MODES.COLOR_BURN]="source-over",t[o.BLEND_MODES.HARD_LIGHT]="source-over",t[o.BLEND_MODES.SOFT_LIGHT]="source-over",t[o.BLEND_MODES.DIFFERENCE]="source-over",t[o.BLEND_MODES.EXCLUSION]="source-over",t[o.BLEND_MODES.HUE]="source-over",t[o.BLEND_MODES.SATURATION]="source-over",t[o.BLEND_MODES.COLOR]="source-over",t[o.BLEND_MODES.LUMINOSITY]="source-over"),t}e.__esModule=!0,e.default=i;var o=r(2),a=r(69),s=n(a)},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var o=r(2),a=r(5),s=n(a),u=function(){function t(e){i(this,t),this.renderer=e,this.count=0,this.checkCount=0,this.maxIdle=s.default.GC_MAX_IDLE,this.checkCountMax=s.default.GC_MAX_CHECK_COUNT,this.mode=s.default.GC_MODE;
}return t.prototype.update=function(){this.count++,this.mode!==o.GC_MODES.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run()))},t.prototype.run=function(){for(var t=this.renderer.textureManager,e=t._managedTextures,r=!1,n=0;n<e.length;n++){var i=e[n];!i._glRenderTargets&&this.count-i.touched>this.maxIdle&&(t.destroyTexture(i,!0),e[n]=null,r=!0)}if(r){for(var o=0,a=0;a<e.length;a++)null!==e[a]&&(e[o++]=e[a]);e.length=o}},t.prototype.unload=function(t){var e=this.renderer.textureManager;t._texture&&t._texture._glRenderTargets&&e.destroyTexture(t._texture,!0);for(var r=t.children.length-1;r>=0;r--)this.unload(t.children[r])},t}();e.default=u},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var o=r(6),a=r(2),s=r(24),u=n(s),l=r(3),c=function(){function t(e){i(this,t),this.renderer=e,this.gl=e.gl,this._managedTextures=[]}return t.prototype.bindTexture=function(){},t.prototype.getTexture=function(){},t.prototype.updateTexture=function(t,e){var r=this.gl,n=!!t._glRenderTargets;if(!t.hasLoaded)return null;var i=this.renderer.boundTextures;if(void 0===e){e=0;for(var s=0;s<i.length;++s)if(i[s]===t){e=s;break}}i[e]=t,r.activeTexture(r.TEXTURE0+e);var l=t._glTextures[this.renderer.CONTEXT_UID];if(l)n?t._glRenderTargets[this.renderer.CONTEXT_UID].resize(t.width,t.height):l.upload(t.source);else{if(n){var c=new u.default(this.gl,t.width,t.height,t.scaleMode,t.resolution);c.resize(t.width,t.height),t._glRenderTargets[this.renderer.CONTEXT_UID]=c,l=c.texture}else l=new o.GLTexture(this.gl,null,null,null,null),l.bind(e),l.premultiplyAlpha=!0,l.upload(t.source);t._glTextures[this.renderer.CONTEXT_UID]=l,t.on("update",this.updateTexture,this),t.on("dispose",this.destroyTexture,this),this._managedTextures.push(t),t.isPowerOfTwo?(t.mipmap&&l.enableMipmap(),t.wrapMode===a.WRAP_MODES.CLAMP?l.enableWrapClamp():t.wrapMode===a.WRAP_MODES.REPEAT?l.enableWrapRepeat():l.enableWrapMirrorRepeat()):l.enableWrapClamp(),t.scaleMode===a.SCALE_MODES.NEAREST?l.enableNearestScaling():l.enableLinearScaling()}return l},t.prototype.destroyTexture=function(t,e){if(t=t.baseTexture||t,t.hasLoaded&&t._glTextures[this.renderer.CONTEXT_UID]&&(this.renderer.unbindTexture(t),t._glTextures[this.renderer.CONTEXT_UID].destroy(),t.off("update",this.updateTexture,this),t.off("dispose",this.destroyTexture,this),delete t._glTextures[this.renderer.CONTEXT_UID],!e)){var r=this._managedTextures.indexOf(t);r!==-1&&(0,l.removeItems)(this._managedTextures,r,1)}},t.prototype.removeAll=function(){for(var t=0;t<this._managedTextures.length;++t){var e=this._managedTextures[t];e._glTextures[this.renderer.CONTEXT_UID]&&delete e._glTextures[this.renderer.CONTEXT_UID]}},t.prototype.destroy=function(){for(var t=0;t<this._managedTextures.length;++t){var e=this._managedTextures[t];this.destroyTexture(e,!0),e.off("update",this.updateTexture,this),e.off("dispose",this.destroyTexture,this)}this._managedTextures=null},t}();e.default=c},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var o=r(206),a=n(o),s=0,u=1,l=2,c=3,h=4,f=function(){function t(e){i(this,t),this.activeState=new Uint8Array(16),this.defaultState=new Uint8Array(16),this.defaultState[0]=1,this.stackIndex=0,this.stack=[],this.gl=e,this.maxAttribs=e.getParameter(e.MAX_VERTEX_ATTRIBS),this.attribState={tempAttribState:new Array(this.maxAttribs),attribState:new Array(this.maxAttribs)},this.blendModes=(0,a.default)(e),this.nativeVaoExtension=e.getExtension("OES_vertex_array_object")||e.getExtension("MOZ_OES_vertex_array_object")||e.getExtension("WEBKIT_OES_vertex_array_object")}return t.prototype.push=function(){var t=this.stack[this.stackIndex];t||(t=this.stack[this.stackIndex]=new Uint8Array(16)),++this.stackIndex;for(var e=0;e<this.activeState.length;e++)t[e]=this.activeState[e]},t.prototype.pop=function(){var t=this.stack[--this.stackIndex];this.setState(t)},t.prototype.setState=function(t){this.setBlend(t[s]),this.setDepthTest(t[u]),this.setFrontFace(t[l]),this.setCullFace(t[c]),this.setBlendMode(t[h])},t.prototype.setBlend=function(t){t=t?1:0,this.activeState[s]!==t&&(this.activeState[s]=t,this.gl[t?"enable":"disable"](this.gl.BLEND))},t.prototype.setBlendMode=function(t){t!==this.activeState[h]&&(this.activeState[h]=t,this.gl.blendFunc(this.blendModes[t][0],this.blendModes[t][1]))},t.prototype.setDepthTest=function(t){t=t?1:0,this.activeState[u]!==t&&(this.activeState[u]=t,this.gl[t?"enable":"disable"](this.gl.DEPTH_TEST))},t.prototype.setCullFace=function(t){t=t?1:0,this.activeState[c]!==t&&(this.activeState[c]=t,this.gl[t?"enable":"disable"](this.gl.CULL_FACE))},t.prototype.setFrontFace=function(t){t=t?1:0,this.activeState[l]!==t&&(this.activeState[l]=t,this.gl.frontFace(this.gl[t?"CW":"CCW"]))},t.prototype.resetAttributes=function(){for(var t=0;t<this.attribState.tempAttribState.length;t++)this.attribState.tempAttribState[t]=0;for(var e=0;e<this.attribState.attribState.length;e++)this.attribState.attribState[e]=0;for(var r=1;r<this.maxAttribs;r++)this.gl.disableVertexAttribArray(r)},t.prototype.resetToDefault=function(){this.nativeVaoExtension&&this.nativeVaoExtension.bindVertexArrayOES(null),this.resetAttributes();for(var t=0;t<this.activeState.length;++t)this.activeState[t]=32;this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.setState(this.defaultState)},t}();e.default=f},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(t,e,r){var n=o(t,r),i=o(e,r);return Object.assign(n,i)}function o(t){for(var e=new RegExp("^(projectionMatrix|uSampler|filterArea|filterClamp)$"),r={},n=void 0,i=t.replace(/\s+/g," ").split(/\s*;\s*/),o=0;o<i.length;o++){var a=i[o].trim();if(a.indexOf("uniform")>-1){var s=a.split(" "),l=s[1],c=s[2],h=1;c.indexOf("[")>-1&&(n=c.split(/\[|]/),c=n[0],h*=Number(n[1])),c.match(e)||(r[c]={value:u(l,h),name:c,type:l})}}return r}e.__esModule=!0,e.default=i;var a=r(6),s=n(a),u=s.default.shader.defaultValue},function(t,e,r){"use strict";function n(t,e,r){var n=t.identity();return n.translate(e.x/r.width,e.y/r.height),n.scale(r.width,r.height),n}function i(t,e,r){var n=t.identity();n.translate(e.x/r.width,e.y/r.height);var i=r.width/e.width,o=r.height/e.height;return n.scale(i,o),n}function o(t,e,r,n){var i=n.worldTransform.copy(a.Matrix.TEMP_MATRIX),o=n._texture.baseTexture,s=t.identity(),u=r.height/r.width;s.translate(e.x/r.width,e.y/r.height),s.scale(1,u);var l=r.width/o.width,c=r.height/o.height;return i.tx/=o.width*l,i.ty/=o.width*l,i.invert(),s.prepend(i),s.scale(1,1/u),s.scale(l,c),s.translate(n.anchor.x,n.anchor.y),s}e.__esModule=!0,e.calculateScreenSpaceMatrix=n,e.calculateNormalizedScreenSpaceMatrix=i,e.calculateSpriteMatrix=o;var a=r(4)},function(t,e,r){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function i(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var u=r(16),l=i(u),c=r(24),h=i(c),f=r(72),d=i(f),p=r(4),v=r(13),m=i(v),g=r(201),y=n(g),_=r(26),x=i(_),b=function t(){s(this,t),this.renderTarget=null,this.sourceFrame=new p.Rectangle,this.destinationFrame=new p.Rectangle,this.filters=[],this.target=null,this.resolution=1},w=function(t){function e(r){s(this,e);var n=o(this,t.call(this,r));return n.gl=n.renderer.gl,n.quad=new d.default(n.gl,r.state.attribState),n.shaderCache={},n.pool={},n.filterData=null,n}return a(e,t),e.prototype.pushFilter=function(t,e){var r=this.renderer,n=this.filterData;if(!n){n=this.renderer._activeRenderTarget.filterStack;var i=new b;i.sourceFrame=i.destinationFrame=this.renderer._activeRenderTarget.size,i.renderTarget=r._activeRenderTarget,this.renderer._activeRenderTarget.filterData=n={index:0,stack:[i]},this.filterData=n}var o=n.stack[++n.index];o||(o=n.stack[n.index]=new b);var a=e[0].resolution,s=0|e[0].padding,u=t.filterArea||t.getBounds(!0),l=o.sourceFrame,c=o.destinationFrame;l.x=(u.x*a|0)/a,l.y=(u.y*a|0)/a,l.width=(u.width*a|0)/a,l.height=(u.height*a|0)/a,n.stack[0].renderTarget.transform||l.fit(n.stack[0].destinationFrame),l.pad(s),c.width=l.width,c.height=l.height;var h=this.getPotRenderTarget(r.gl,l.width,l.height,a);o.target=t,o.filters=e,o.resolution=a,o.renderTarget=h,h.setFrame(c,l),r.bindRenderTarget(h),h.clear()},e.prototype.popFilter=function(){var t=this.filterData,e=t.stack[t.index-1],r=t.stack[t.index];this.quad.map(r.renderTarget.size,r.sourceFrame).upload();var n=r.filters;if(1===n.length)n[0].apply(this,r.renderTarget,e.renderTarget,!1,r),this.freePotRenderTarget(r.renderTarget);else{var i=r.renderTarget,o=this.getPotRenderTarget(this.renderer.gl,r.sourceFrame.width,r.sourceFrame.height,r.resolution);o.setFrame(r.destinationFrame,r.sourceFrame),o.clear();var a=0;for(a=0;a<n.length-1;++a){n[a].apply(this,i,o,!0,r);var s=i;i=o,o=s}n[a].apply(this,i,e.renderTarget,!1,r),this.freePotRenderTarget(i),this.freePotRenderTarget(o)}t.index--,0===t.index&&(this.filterData=null)},e.prototype.applyFilter=function(t,e,r,n){var i=this.renderer,o=i.gl,a=t.glShaders[i.CONTEXT_UID];a||(t.glShaderKey?(a=this.shaderCache[t.glShaderKey],a||(a=new m.default(this.gl,t.vertexSrc,t.fragmentSrc),t.glShaders[i.CONTEXT_UID]=this.shaderCache[t.glShaderKey]=a)):a=t.glShaders[i.CONTEXT_UID]=new m.default(this.gl,t.vertexSrc,t.fragmentSrc),i.bindVao(null),this.quad.initVao(a)),i.bindVao(this.quad.vao),i.bindRenderTarget(r),n&&(o.disable(o.SCISSOR_TEST),i.clear(),o.enable(o.SCISSOR_TEST)),r===i.maskManager.scissorRenderTarget&&i.maskManager.pushScissorMask(null,i.maskManager.scissorData),i.bindShader(a);var s=this.renderer.emptyTextures[0];this.renderer.boundTextures[0]=s,this.syncUniforms(a,t),i.state.setBlendMode(t.blendMode),o.activeTexture(o.TEXTURE0),o.bindTexture(o.TEXTURE_2D,e.texture.texture),this.quad.vao.draw(this.renderer.gl.TRIANGLES,6,0),o.bindTexture(o.TEXTURE_2D,s._glTextures[this.renderer.CONTEXT_UID].texture)},e.prototype.syncUniforms=function(t,e){var r=e.uniformData,n=e.uniforms,i=1,o=void 0;if(t.uniforms.filterArea){o=this.filterData.stack[this.filterData.index];var a=t.uniforms.filterArea;a[0]=o.renderTarget.size.width,a[1]=o.renderTarget.size.height,a[2]=o.sourceFrame.x,a[3]=o.sourceFrame.y,t.uniforms.filterArea=a}if(t.uniforms.filterClamp){o=o||this.filterData.stack[this.filterData.index];var s=t.uniforms.filterClamp;s[0]=0,s[1]=0,s[2]=(o.sourceFrame.width-1)/o.renderTarget.size.width,s[3]=(o.sourceFrame.height-1)/o.renderTarget.size.height,t.uniforms.filterClamp=s}for(var u in r)if("sampler2D"===r[u].type&&0!==n[u]){if(n[u].baseTexture)t.uniforms[u]=this.renderer.bindTexture(n[u].baseTexture,i);else{t.uniforms[u]=i;var l=this.renderer.gl;this.renderer.boundTextures[i]=this.renderer.emptyTextures[i],l.activeTexture(l.TEXTURE0+i),n[u].texture.bind()}i++}else if("mat3"===r[u].type)void 0!==n[u].a?t.uniforms[u]=n[u].toArray(!0):t.uniforms[u]=n[u];else if("vec2"===r[u].type)if(void 0!==n[u].x){var c=t.uniforms[u]||new Float32Array(2);c[0]=n[u].x,c[1]=n[u].y,t.uniforms[u]=c}else t.uniforms[u]=n[u];else"float"===r[u].type?t.uniforms.data[u].value!==r[u]&&(t.uniforms[u]=n[u]):t.uniforms[u]=n[u]},e.prototype.getRenderTarget=function(t,e){var r=this.filterData.stack[this.filterData.index],n=this.getPotRenderTarget(this.renderer.gl,r.sourceFrame.width,r.sourceFrame.height,e||r.resolution);return n.setFrame(r.destinationFrame,r.sourceFrame),n},e.prototype.returnRenderTarget=function(t){this.freePotRenderTarget(t)},e.prototype.calculateScreenSpaceMatrix=function(t){var e=this.filterData.stack[this.filterData.index];return y.calculateScreenSpaceMatrix(t,e.sourceFrame,e.renderTarget.size)},e.prototype.calculateNormalizedScreenSpaceMatrix=function(t){var e=this.filterData.stack[this.filterData.index];return y.calculateNormalizedScreenSpaceMatrix(t,e.sourceFrame,e.renderTarget.size,e.destinationFrame)},e.prototype.calculateSpriteMatrix=function(t,e){var r=this.filterData.stack[this.filterData.index];return y.calculateSpriteMatrix(t,r.sourceFrame,r.renderTarget.size,e)},e.prototype.destroy=function(){this.shaderCache={},this.emptyPool()},e.prototype.getPotRenderTarget=function(t,e,r,n){e=x.default.nextPow2(e*n),r=x.default.nextPow2(r*n);var i=(65535&e)<<16|65535&r;this.pool[i]||(this.pool[i]=[]);var o=this.pool[i].pop();if(!o){var a=this.renderer.boundTextures[0];t.activeTexture(t.TEXTURE0),o=new h.default(t,e,r,null,1),t.bindTexture(t.TEXTURE_2D,a._glTextures[this.renderer.CONTEXT_UID].texture)}return o.resolution=n,o.defaultFrame.width=o.size.width=e/n,o.defaultFrame.height=o.size.height=r/n,o},e.prototype.emptyPool=function(){for(var t in this.pool){var e=this.pool[t];if(e)for(var r=0;r<e.length;r++)e[r].destroy(!0)}this.pool={}},e.prototype.freePotRenderTarget=function(t){var e=t.size.width*t.resolution,r=t.size.height*t.resolution,n=(65535&e)<<16|65535&r;this.pool[n].push(t)},e}(l.default);e.default=w},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var s=r(16),u=n(s),l=r(71),c=n(l),h=function(t){function e(r){i(this,e);var n=o(this,t.call(this,r));return n.scissor=!1,n.scissorData=null,n.scissorRenderTarget=null,n.enableScissor=!0,n.alphaMaskPool=[],n.alphaMaskIndex=0,n}return a(e,t),e.prototype.pushMask=function(t,e){if(e.texture)this.pushSpriteMask(t,e);else if(this.enableScissor&&!this.scissor&&this.renderer._activeRenderTarget.root&&!this.renderer.stencilManager.stencilMaskStack.length&&e.isFastRect()){var r=e.worldTransform,n=Math.atan2(r.b,r.a);n=Math.round(n*(180/Math.PI)),n%90?this.pushStencilMask(e):this.pushScissorMask(t,e)}else this.pushStencilMask(e)},e.prototype.popMask=function(t,e){e.texture?this.popSpriteMask(t,e):this.enableScissor&&!this.renderer.stencilManager.stencilMaskStack.length?this.popScissorMask(t,e):this.popStencilMask(t,e)},e.prototype.pushSpriteMask=function(t,e){var r=this.alphaMaskPool[this.alphaMaskIndex];r||(r=this.alphaMaskPool[this.alphaMaskIndex]=[new c.default(e)]),r[0].resolution=this.renderer.resolution,r[0].maskSprite=e,t.filterArea=e.getBounds(!0),this.renderer.filterManager.pushFilter(t,r),this.alphaMaskIndex++},e.prototype.popSpriteMask=function(){this.renderer.filterManager.popFilter(),this.alphaMaskIndex--},e.prototype.pushStencilMask=function(t){this.renderer.currentRenderer.stop(),this.renderer.stencilManager.pushStencil(t)},e.prototype.popStencilMask=function(){this.renderer.currentRenderer.stop(),this.renderer.stencilManager.popStencil()},e.prototype.pushScissorMask=function(t,e){e.renderable=!0;var r=this.renderer._activeRenderTarget,n=e.getBounds();n.fit(r.size),e.renderable=!1,this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST);var i=this.renderer.resolution;this.renderer.gl.scissor(n.x*i,(r.root?r.size.height-n.y-n.height:n.y)*i,n.width*i,n.height*i),this.scissorRenderTarget=r,this.scissorData=e,this.scissor=!0},e.prototype.popScissorMask=function(){this.scissorRenderTarget=null,this.scissorData=null,this.scissor=!1;var t=this.renderer.gl;t.disable(t.SCISSOR_TEST)},e}(u.default);e.default=h},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var s=r(16),u=n(s),l=function(t){function e(r){i(this,e);var n=o(this,t.call(this,r));return n.stencilMaskStack=null,n}return a(e,t),e.prototype.setMaskStack=function(t){this.stencilMaskStack=t;var e=this.renderer.gl;0===t.length?e.disable(e.STENCIL_TEST):e.enable(e.STENCIL_TEST)},e.prototype.pushStencil=function(t){this.renderer.setObjectRenderer(this.renderer.plugins.graphics),this.renderer._activeRenderTarget.attachStencilBuffer();var e=this.renderer.gl,r=this.stencilMaskStack;0===r.length&&(e.enable(e.STENCIL_TEST),e.clear(e.STENCIL_BUFFER_BIT),e.stencilFunc(e.ALWAYS,1,1)),r.push(t),e.colorMask(!1,!1,!1,!1),e.stencilOp(e.KEEP,e.KEEP,e.INCR),this.renderer.plugins.graphics.render(t),e.colorMask(!0,!0,!0,!0),e.stencilFunc(e.NOTEQUAL,0,r.length),e.stencilOp(e.KEEP,e.KEEP,e.KEEP)},e.prototype.popStencil=function(){this.renderer.setObjectRenderer(this.renderer.plugins.graphics);var t=this.renderer.gl,e=this.stencilMaskStack,r=e.pop();0===e.length?t.disable(t.STENCIL_TEST):(t.colorMask(!1,!1,!1,!1),t.stencilOp(t.KEEP,t.KEEP,t.DECR),this.renderer.plugins.graphics.render(r),t.colorMask(!0,!0,!0,!0),t.stencilFunc(t.NOTEQUAL,0,e.length),t.stencilOp(t.KEEP,t.KEEP,t.KEEP))},e.prototype.destroy=function(){u.default.prototype.destroy.call(this),this.stencilMaskStack.stencilStack=null},e}(u.default);e.default=l},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(t,e){var r=!e;if(0===t)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");if(r){var n=document.createElement("canvas");n.width=1,n.height=1,e=s.default.createContext(n)}for(var i=e.createShader(e.FRAGMENT_SHADER);;){var a=u.replace(/%forloop%/gi,o(t));if(e.shaderSource(i,a),e.compileShader(i),e.getShaderParameter(i,e.COMPILE_STATUS))break;t=t/2|0}return r&&e.getExtension("WEBGL_lose_context")&&e.getExtension("WEBGL_lose_context").loseContext(),t}function o(t){for(var e="",r=0;r<t;++r)r>0&&(e+="\nelse "),r<t-1&&(e+="if(test == "+r+".0){}");return e}e.__esModule=!0,e.default=i;var a=r(6),s=n(a),u=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join("\n")},function(t,e,r){"use strict";function n(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return e[i.BLEND_MODES.NORMAL]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[i.BLEND_MODES.ADD]=[t.ONE,t.DST_ALPHA],e[i.BLEND_MODES.MULTIPLY]=[t.DST_COLOR,t.ONE_MINUS_SRC_ALPHA],e[i.BLEND_MODES.SCREEN]=[t.ONE,t.ONE_MINUS_SRC_COLOR],e[i.BLEND_MODES.OVERLAY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[i.BLEND_MODES.DARKEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[i.BLEND_MODES.LIGHTEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[i.BLEND_MODES.COLOR_DODGE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[i.BLEND_MODES.COLOR_BURN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[i.BLEND_MODES.HARD_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[i.BLEND_MODES.SOFT_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[i.BLEND_MODES.DIFFERENCE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[i.BLEND_MODES.EXCLUSION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[i.BLEND_MODES.HUE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[i.BLEND_MODES.SATURATION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[i.BLEND_MODES.COLOR]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[i.BLEND_MODES.LUMINOSITY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e}e.__esModule=!0,e.default=n;var i=r(2)},function(t,e,r){"use strict";function n(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e[i.DRAW_MODES.POINTS]=t.POINTS,e[i.DRAW_MODES.LINES]=t.LINES,e[i.DRAW_MODES.LINE_LOOP]=t.LINE_LOOP,e[i.DRAW_MODES.LINE_STRIP]=t.LINE_STRIP,e[i.DRAW_MODES.TRIANGLES]=t.TRIANGLES,e[i.DRAW_MODES.TRIANGLE_STRIP]=t.TRIANGLE_STRIP,e[i.DRAW_MODES.TRIANGLE_FAN]=t.TRIANGLE_FAN,e}e.__esModule=!0,e.default=n;var i=r(2)},function(t,e){"use strict";function r(t){var e=t.getContextAttributes();e.stencil||console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly")}e.__esModule=!0,e.default=r},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var o=r(15),a=n(o),s=r(2),u=r(4),l=r(36),c=n(l),h=new u.Matrix,f=function(){function t(e){i(this,t),this.renderer=e}return t.prototype.render=function(t){var e=t._texture,r=this.renderer,n=e._frame.width,i=e._frame.height,o=t.transform.worldTransform,a=0,l=0;if(!(e.orig.width<=0||e.orig.height<=0)&&e.baseTexture.source&&(r.setBlendMode(t.blendMode),e.valid)){r.context.globalAlpha=t.worldAlpha;var f=e.baseTexture.scaleMode===s.SCALE_MODES.LINEAR;r.smoothProperty&&r.context[r.smoothProperty]!==f&&(r.context[r.smoothProperty]=f),e.trim?(a=e.trim.width/2+e.trim.x-t.anchor.x*e.orig.width,l=e.trim.height/2+e.trim.y-t.anchor.y*e.orig.height):(a=(.5-t.anchor.x)*e.orig.width,l=(.5-t.anchor.y)*e.orig.height),e.rotate&&(o.copy(h),o=h,u.GroupD8.matrixAppendRotationInv(o,e.rotate,a,l),a=0,l=0),a-=n/2,l-=i/2,r.roundPixels?(r.context.setTransform(o.a,o.b,o.c,o.d,o.tx*r.resolution|0,o.ty*r.resolution|0),a|=0,l|=0):r.context.setTransform(o.a,o.b,o.c,o.d,o.tx*r.resolution,o.ty*r.resolution);var d=e.baseTexture.resolution;16777215!==t.tint?(t.cachedTint!==t.tint&&(t.cachedTint=t.tint,t.tintedTexture=c.default.getTintedTexture(t,t.tint)),r.context.drawImage(t.tintedTexture,0,0,n*d,i*d,a*r.resolution,l*r.resolution,n*r.resolution,i*r.resolution)):r.context.drawImage(e.baseTexture.source,e._frame.x*d,e._frame.y*d,n*d,i*d,a*r.resolution,l*r.resolution,n*r.resolution,i*r.resolution)}},t.prototype.destroy=function(){this.renderer=null},t}();e.default=f,a.default.registerPlugin("sprite",f)},function(t,e){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var n=function(){function t(e){r(this,t),this.vertices=new ArrayBuffer(e),this.float32View=new Float32Array(this.vertices),this.uint32View=new Uint32Array(this.vertices)}return t.prototype.destroy=function(){this.vertices=null,this.positions=null,this.uvs=null,this.colors=null},t}();e.default=n},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var s=r(23),u=n(s),l=r(22),c=n(l),h=r(39),f=n(h),d=r(212),p=n(d),v=r(205),m=n(v),g=r(210),y=n(g),_=r(5),x=n(_),b=r(6),w=n(b),T=r(26),E=n(T),S=0,M=0,A=function(t){function e(r){i(this,e);var n=o(this,t.call(this,r));n.vertSize=5,n.vertByteSize=4*n.vertSize,n.size=x.default.SPRITE_BATCH_SIZE,n.buffers=[];for(var a=1;a<=E.default.nextPow2(n.size);a*=2)n.buffers.push(new y.default(4*a*n.vertByteSize));n.indices=(0,f.default)(n.size),n.shader=null,n.currentIndex=0,n.groups=[];for(var s=0;s<n.size;s++)n.groups[s]={textures:[],textureCount:0,ids:[],size:0,start:0,blend:0};return n.sprites=[],n.vertexBuffers=[],n.vaos=[],n.vaoMax=2,n.vertexCount=0,n.renderer.on("prerender",n.onPrerender,n),n}return a(e,t),e.prototype.onContextChange=function(){var t=this.renderer.gl;this.renderer.legacy?this.MAX_TEXTURES=1:(this.MAX_TEXTURES=Math.min(t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),x.default.SPRITE_MAX_TEXTURES),this.MAX_TEXTURES=(0,m.default)(this.MAX_TEXTURES,t));var e=this.shader=(0,p.default)(t,this.MAX_TEXTURES);this.indexBuffer=w.default.GLBuffer.createIndexBuffer(t,this.indices,t.STATIC_DRAW),this.renderer.bindVao(null);for(var r=0;r<this.vaoMax;r++)this.vertexBuffers[r]=w.default.GLBuffer.createVertexBuffer(t,null,t.STREAM_DRAW),this.vaos[r]=this.renderer.createVao().addIndex(this.indexBuffer).addAttribute(this.vertexBuffers[r],e.attributes.aVertexPosition,t.FLOAT,!1,this.vertByteSize,0).addAttribute(this.vertexBuffers[r],e.attributes.aTextureCoord,t.UNSIGNED_SHORT,!0,this.vertByteSize,8).addAttribute(this.vertexBuffers[r],e.attributes.aColor,t.UNSIGNED_BYTE,!0,this.vertByteSize,12),e.attributes.aTextureId&&this.vaos[r].addAttribute(this.vertexBuffers[r],e.attributes.aTextureId,t.FLOAT,!1,this.vertByteSize,16);this.vao=this.vaos[0],this.currentBlendMode=99999,this.boundTextures=new Array(this.MAX_TEXTURES)},e.prototype.onPrerender=function(){this.vertexCount=0},e.prototype.render=function(t){this.currentIndex>=this.size&&this.flush(),t._texture._uvs&&(this.sprites[this.currentIndex++]=t)},e.prototype.flush=function(){if(0!==this.currentIndex){var t=this.renderer.gl,e=this.MAX_TEXTURES,r=E.default.nextPow2(this.currentIndex),n=E.default.log2(r),i=this.buffers[n],o=this.sprites,a=this.groups,s=i.float32View,u=i.uint32View,l=this.boundTextures,c=this.renderer.boundTextures,h=this.renderer.textureGC.count,f=0,d=void 0,p=void 0,v=1,m=0,g=a[0],y=void 0,_=void 0,b=o[0].blendMode;g.textureCount=0,g.start=0,g.blend=b,S++;var T=void 0;for(T=0;T<e;++T)l[T]=c[T],l[T]._virtalBoundId=T;for(T=0;T<this.currentIndex;++T){var A=o[T];if(d=A._texture.baseTexture,b!==A.blendMode&&(b=A.blendMode,p=null,m=e,S++),p!==d&&(p=d,d._enabled!==S)){if(m===e&&(S++,g.size=T-g.start,m=0,g=a[v++],g.blend=b,g.textureCount=0,g.start=T),d.touched=h,d._virtalBoundId===-1)for(var P=0;P<e;++P){var C=(P+M)%e,O=l[C];if(O._enabled!==S){M++,O._virtalBoundId=-1,d._virtalBoundId=C,l[C]=d;break}}d._enabled=S,g.textureCount++,g.ids[m]=d._virtalBoundId,g.textures[m++]=d}if(y=A.vertexData,_=A._texture._uvs.uvsUint32,this.renderer.roundPixels){var R=this.renderer.resolution;s[f]=(y[0]*R|0)/R,s[f+1]=(y[1]*R|0)/R,s[f+5]=(y[2]*R|0)/R,s[f+6]=(y[3]*R|0)/R,s[f+10]=(y[4]*R|0)/R,s[f+11]=(y[5]*R|0)/R,s[f+15]=(y[6]*R|0)/R,s[f+16]=(y[7]*R|0)/R}else s[f]=y[0],s[f+1]=y[1],s[f+5]=y[2],s[f+6]=y[3],s[f+10]=y[4],s[f+11]=y[5],s[f+15]=y[6],s[f+16]=y[7];u[f+2]=_[0],u[f+7]=_[1],u[f+12]=_[2],u[f+17]=_[3],u[f+3]=u[f+8]=u[f+13]=u[f+18]=A._tintRGB+(255*Math.min(A.worldAlpha,1)<<24),s[f+4]=s[f+9]=s[f+14]=s[f+19]=d._virtalBoundId,f+=20}for(g.size=T-g.start,x.default.CAN_UPLOAD_SAME_BUFFER?this.vertexBuffers[this.vertexCount].upload(i.vertices,0,!0):(this.vaoMax<=this.vertexCount&&(this.vaoMax++,this.vertexBuffers[this.vertexCount]=w.default.GLBuffer.createVertexBuffer(t,null,t.STREAM_DRAW),this.vaos[this.vertexCount]=this.renderer.createVao().addIndex(this.indexBuffer).addAttribute(this.vertexBuffers[this.vertexCount],this.shader.attributes.aVertexPosition,t.FLOAT,!1,this.vertByteSize,0).addAttribute(this.vertexBuffers[this.vertexCount],this.shader.attributes.aTextureCoord,t.UNSIGNED_SHORT,!0,this.vertByteSize,8).addAttribute(this.vertexBuffers[this.vertexCount],this.shader.attributes.aColor,t.UNSIGNED_BYTE,!0,this.vertByteSize,12),this.shader.attributes.aTextureId&&this.vaos[this.vertexCount].addAttribute(this.vertexBuffers[this.vertexCount],this.shader.attributes.aTextureId,t.FLOAT,!1,this.vertByteSize,16)),this.renderer.bindVao(this.vaos[this.vertexCount]),this.vertexBuffers[this.vertexCount].upload(i.vertices,0,!1),this.vertexCount++),T=0;T<e;++T)c[T]._virtalBoundId=-1;for(T=0;T<v;++T){for(var D=a[T],L=D.textureCount,I=0;I<L;I++)p=D.textures[I],c[D.ids[I]]!==p&&this.renderer.bindTexture(p,D.ids[I],!0),p._virtalBoundId=-1;this.renderer.state.setBlendMode(D.blend),t.drawElements(t.TRIANGLES,6*D.size,t.UNSIGNED_SHORT,6*D.start*2)}this.currentIndex=0}},e.prototype.start=function(){this.renderer.bindShader(this.shader),x.default.CAN_UPLOAD_SAME_BUFFER&&(this.renderer.bindVao(this.vaos[this.vertexCount]),this.vertexBuffers[this.vertexCount].bind())},e.prototype.stop=function(){this.flush()},e.prototype.destroy=function(){for(var e=0;e<this.vaoMax;e++)this.vertexBuffers[e]&&this.vertexBuffers[e].destroy(),this.vaos[e]&&this.vaos[e].destroy();this.indexBuffer&&this.indexBuffer.destroy(),this.renderer.off("prerender",this.onPrerender,this),t.prototype.destroy.call(this),this.shader&&(this.shader.destroy(),this.shader=null),this.vertexBuffers=null,this.vaos=null,this.indexBuffer=null,this.indices=null,this.sprites=null;for(var r=0;r<this.buffers.length;++r)this.buffers[r].destroy()},e}(u.default);e.default=A,c.default.registerPlugin("sprite",A)},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(t,e){var r="precision highp float;\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\nattribute float aTextureId;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\n\nvoid main(void){\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vTextureId = aTextureId;\n    vColor = vec4(aColor.rgb * aColor.a, aColor.a);\n}\n",n=u;n=n.replace(/%count%/gi,e),n=n.replace(/%forloop%/gi,o(e));for(var i=new s.default(t,r,n),a=[],l=0;l<e;l++)a[l]=l;return i.bind(),i.uniforms.uSamplers=a,i}function o(t){var e="";e+="\n",e+="\n";for(var r=0;r<t;r++)r>0&&(e+="\nelse "),r<t-1&&(e+="if(textureId == "+r+".0)"),e+="\n{",e+="\n\tcolor = texture2D(uSamplers["+r+"], vTextureCoord);",e+="\n}";return e+="\n",e+="\n"}e.__esModule=!0,e.default=i;var a=r(13),s=n(a),u=(r(7),["varying vec2 vTextureCoord;","varying vec4 vColor;","varying float vTextureId;","uniform sampler2D uSamplers[%count%];","void main(void){","vec4 color;","float textureId = floor(vTextureId+0.5);","%forloop%","gl_FragColor = color * vColor;","}"].join("\n"))},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var s=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),u=r(35),l=n(u),c=r(11),h=n(c),f=r(4),d=r(3),p=r(2),v=r(5),m=n(v),g=r(73),y=n(g),_=r(221),x=n(_),b={texture:!0,children:!1,baseTexture:!0},w=function(t){function e(r,n,a){i(this,e),a=a||document.createElement("canvas"),a.width=3,a.height=3;var s=h.default.fromCanvas(a);s.orig=new f.Rectangle,s.trim=new f.Rectangle;var u=o(this,t.call(this,s));return u.canvas=a,u.context=u.canvas.getContext("2d"),u.resolution=m.default.RESOLUTION,
u._text=null,u._style=null,u._styleListener=null,u._font="",u.text=r,u.style=n,u.localStyleID=-1,u}return a(e,t),e.prototype.updateText=function(t){var r=this._style;if(this.localStyleID!==r.styleID&&(this.dirty=!0,this.localStyleID=r.styleID),this.dirty||!t){this._font=e.getFontStyle(r),this.context.font=this._font;for(var n=r.wordWrap?this.wordWrap(this._text):this._text,i=n.split(/(?:\r\n|\r|\n)/),o=new Array(i.length),a=0,s=e.calculateFontProperties(this._font),u=0;u<i.length;u++){var l=this.context.measureText(i[u]).width+(i[u].length-1)*r.letterSpacing;o[u]=l,a=Math.max(a,l)}var c=a+r.strokeThickness;r.dropShadow&&(c+=r.dropShadowDistance),this.canvas.width=Math.ceil((c+2*r.padding)*this.resolution);var h=r.lineHeight||s.fontSize+r.strokeThickness,f=Math.max(h,s.fontSize+r.strokeThickness)+(i.length-1)*h;r.dropShadow&&(f+=r.dropShadowDistance),this.canvas.height=Math.ceil((f+2*r.padding)*this.resolution),this.context.scale(this.resolution,this.resolution),this.context.clearRect(0,0,this.canvas.width,this.canvas.height),this.context.font=this._font,this.context.strokeStyle=r.stroke,this.context.lineWidth=r.strokeThickness,this.context.textBaseline=r.textBaseline,this.context.lineJoin=r.lineJoin,this.context.miterLimit=r.miterLimit;var d=void 0,p=void 0;if(r.dropShadow){this.context.shadowBlur=r.dropShadowBlur,this.context.globalAlpha=r.dropShadowAlpha,r.dropShadowBlur>0?this.context.shadowColor=r.dropShadowColor:this.context.fillStyle=r.dropShadowColor;for(var v=Math.cos(r.dropShadowAngle)*r.dropShadowDistance,m=Math.sin(r.dropShadowAngle)*r.dropShadowDistance,g=0;g<i.length;g++)d=r.strokeThickness/2,p=r.strokeThickness/2+g*h+s.ascent,"right"===r.align?d+=a-o[g]:"center"===r.align&&(d+=(a-o[g])/2),r.fill&&(this.drawLetterSpacing(i[g],d+v+r.padding,p+m+r.padding),r.stroke&&r.strokeThickness&&(this.context.strokeStyle=r.dropShadowColor,this.drawLetterSpacing(i[g],d+v+r.padding,p+m+r.padding,!0),this.context.strokeStyle=r.stroke))}this.context.shadowBlur=0,this.context.globalAlpha=1,this.context.fillStyle=this._generateFillStyle(r,i);for(var y=0;y<i.length;y++)d=r.strokeThickness/2,p=r.strokeThickness/2+y*h+s.ascent,"right"===r.align?d+=a-o[y]:"center"===r.align&&(d+=(a-o[y])/2),r.stroke&&r.strokeThickness&&this.drawLetterSpacing(i[y],d+r.padding,p+r.padding,!0),r.fill&&this.drawLetterSpacing(i[y],d+r.padding,p+r.padding);this.updateTexture()}},e.prototype.drawLetterSpacing=function(t,e,r){var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=this._style,o=i.letterSpacing;if(0===o)return void(n?this.context.strokeText(t,e,r):this.context.fillText(t,e,r));for(var a=String.prototype.split.call(t,""),s=e,u=0,l="";u<t.length;)l=a[u++],n?this.context.strokeText(l,s,r):this.context.fillText(l,s,r),s+=this.context.measureText(l).width+o},e.prototype.updateTexture=function(){if(this._style.trim){var t=(0,x.default)(this.canvas);this.canvas.width=t.width,this.canvas.height=t.height,this.context.putImageData(t.data,0,0)}var e=this._texture,r=this._style;e.baseTexture.hasLoaded=!0,e.baseTexture.resolution=this.resolution,e.baseTexture.realWidth=this.canvas.width,e.baseTexture.realHeight=this.canvas.height,e.baseTexture.width=this.canvas.width/this.resolution,e.baseTexture.height=this.canvas.height/this.resolution,e.trim.width=e._frame.width=this.canvas.width/this.resolution,e.trim.height=e._frame.height=this.canvas.height/this.resolution,e.trim.x=-r.padding,e.trim.y=-r.padding,e.orig.width=e._frame.width-2*r.padding,e.orig.height=e._frame.height-2*r.padding,this._onTextureUpdate(),e.baseTexture.emit("update",e.baseTexture),this.dirty=!1},e.prototype.renderWebGL=function(e){this.resolution!==e.resolution&&(this.resolution=e.resolution,this.dirty=!0),this.updateText(!0),t.prototype.renderWebGL.call(this,e)},e.prototype._renderCanvas=function(e){this.resolution!==e.resolution&&(this.resolution=e.resolution,this.dirty=!0),this.updateText(!0),t.prototype._renderCanvas.call(this,e)},e.prototype.wordWrap=function(t){for(var e="",r=this._style,n=t.split("\n"),i=r.wordWrapWidth,o=0;o<n.length;o++){for(var a=i,s=n[o].split(" "),u=0;u<s.length;u++){var l=this.context.measureText(s[u]).width;if(r.breakWords&&l>i)for(var c=s[u].split(""),h=0;h<c.length;h++){var f=this.context.measureText(c[h]).width;f>a?(e+="\n"+c[h],a=i-f):(0===h&&(e+=" "),e+=c[h],a-=f)}else{var d=l+this.context.measureText(" ").width;0===u||d>a?(u>0&&(e+="\n"),e+=s[u],a=i-l):(a-=d,e+=" "+s[u])}}o<n.length-1&&(e+="\n")}return e},e.prototype.getLocalBounds=function(e){return this.updateText(!0),t.prototype.getLocalBounds.call(this,e)},e.prototype._calculateBounds=function(){this.updateText(!0),this.calculateVertices(),this._bounds.addQuad(this.vertexData)},e.prototype._onStyleChange=function(){this.dirty=!0},e.prototype._generateFillStyle=function(t,e){if(!Array.isArray(t.fill))return t.fill;if(navigator.isCocoonJS)return t.fill[0];var r=void 0,n=void 0,i=void 0,o=void 0,a=this.canvas.width/this.resolution,s=this.canvas.height/this.resolution,u=t.fill.slice(),l=t.fillGradientStops.slice();if(!l.length)for(var c=u.length+1,h=1;h<c;++h)l.push(h/c);if(u.unshift(t.fill[0]),l.unshift(0),u.push(t.fill[t.fill.length-1]),l.push(1),t.fillGradientType===p.TEXT_GRADIENT.LINEAR_VERTICAL){r=this.context.createLinearGradient(a/2,0,a/2,s),n=(u.length+1)*e.length,i=0;for(var f=0;f<e.length;f++){i+=1;for(var d=0;d<u.length;d++)o=l[d]?l[d]/e.length+f/e.length:i/n,r.addColorStop(o,u[d]),i++}}else{r=this.context.createLinearGradient(0,s/2,a,s/2),n=u.length+1,i=1;for(var v=0;v<u.length;v++)o=l[v]?l[v]:i/n,r.addColorStop(o,u[v]),i++}return r},e.prototype.destroy=function(e){"boolean"==typeof e&&(e={children:e}),e=Object.assign({},b,e),t.prototype.destroy.call(this,e),this.context=null,this.canvas=null,this._style=null},e.getFontStyle=function(t){t=t||{},t instanceof y.default||(t=new y.default(t));var e="number"==typeof t.fontSize?t.fontSize+"px":t.fontSize,r=t.fontFamily;Array.isArray(t.fontFamily)||(r=t.fontFamily.split(","));for(var n=r.length-1;n>=0;n--){var i=r[n].trim();/([\"\'])[^\'\"]+\1/.test(i)||(i='"'+i+'"'),r[n]=i}return t.fontStyle+" "+t.fontVariant+" "+t.fontWeight+" "+e+" "+r.join(",")},e.calculateFontProperties=function(t){if(e.fontPropertiesCache[t])return e.fontPropertiesCache[t];var r={},n=e.fontPropertiesCanvas,i=e.fontPropertiesContext;i.font=t;var o=Math.ceil(i.measureText("|MÉq").width),a=Math.ceil(i.measureText("M").width),s=2*a;a=1.4*a|0,n.width=o,n.height=s,i.fillStyle="#f00",i.fillRect(0,0,o,s),i.font=t,i.textBaseline="alphabetic",i.fillStyle="#000",i.fillText("|MÉq",0,a);var u=i.getImageData(0,0,o,s).data,l=u.length,c=4*o,h=0,f=0,d=!1;for(h=0;h<a;++h){for(var p=0;p<c;p+=4)if(255!==u[f+p]){d=!0;break}if(d)break;f+=c}for(r.ascent=a-h,f=l-c,d=!1,h=s;h>a;--h){for(var v=0;v<c;v+=4)if(255!==u[f+v]){d=!0;break}if(d)break;f-=c}return r.descent=h-a,r.fontSize=r.ascent+r.descent,e.fontPropertiesCache[t]=r,r},s(e,[{key:"width",get:function(){return this.updateText(!0),Math.abs(this.scale.x)*this._texture.orig.width},set:function(t){this.updateText(!0);var e=(0,d.sign)(this.scale.x)||1;this.scale.x=e*t/this._texture.orig.width,this._width=t}},{key:"height",get:function(){return this.updateText(!0),Math.abs(this.scale.y)*this._texture.orig.height},set:function(t){this.updateText(!0);var e=(0,d.sign)(this.scale.y)||1;this.scale.y=e*t/this._texture.orig.height,this._height=t}},{key:"style",get:function(){return this._style},set:function(t){t=t||{},t instanceof y.default?this._style=t:this._style=new y.default(t),this.localStyleID=-1,this.dirty=!0}},{key:"text",get:function(){return this._text},set:function(t){t=String(""===t||null===t||void 0===t?" ":t),this._text!==t&&(this._text=t,this.dirty=!0)}}]),e}(l.default);e.default=w,w.fontPropertiesCache={},w.fontPropertiesCanvas=document.createElement("canvas"),w.fontPropertiesContext=w.fontPropertiesCanvas.getContext("2d")},function(t,e,r){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var i=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),o=r(1),a=r(3),s=function(){function t(e,r){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;n(this,t),this.baseTexture=e,this.textures={},this.data=r,this.resolution=this._updateResolution(i||this.baseTexture.imageUrl),this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}return i(t,null,[{key:"BATCH_SIZE",get:function(){return 1e3}}]),t.prototype._updateResolution=function(t){var e=this.data.meta.scale,r=(0,a.getResolutionOfUrl)(t,null);return null===r&&(r=void 0!==e?parseFloat(e):1),1!==r&&(this.baseTexture.resolution=r,this.baseTexture.update()),r},t.prototype.parse=function(e){this._batchIndex=0,this._callback=e,this._frameKeys.length<=t.BATCH_SIZE?(this._processFrames(0),this._parseComplete()):this._nextBatch()},t.prototype._processFrames=function(e){for(var r=e,n=t.BATCH_SIZE;r-e<n&&r<this._frameKeys.length;){var i=this._frameKeys[r],s=this._frames[i].frame;if(s){var u=null,l=null,c=new o.Rectangle(0,0,this._frames[i].sourceSize.w/this.resolution,this._frames[i].sourceSize.h/this.resolution);u=this._frames[i].rotated?new o.Rectangle(s.x/this.resolution,s.y/this.resolution,s.h/this.resolution,s.w/this.resolution):new o.Rectangle(s.x/this.resolution,s.y/this.resolution,s.w/this.resolution,s.h/this.resolution),this._frames[i].trimmed&&(l=new o.Rectangle(this._frames[i].spriteSourceSize.x/this.resolution,this._frames[i].spriteSourceSize.y/this.resolution,s.w/this.resolution,s.h/this.resolution)),this.textures[i]=new o.Texture(this.baseTexture,u,c,l,this._frames[i].rotated?2:0),a.TextureCache[i]=this.textures[i]}r++}},t.prototype._parseComplete=function(){var t=this._callback;this._callback=null,this._batchIndex=0,t.call(this,this.textures)},t.prototype._nextBatch=function(){var e=this;this._processFrames(this._batchIndex*t.BATCH_SIZE),this._batchIndex++,setTimeout(function(){e._batchIndex*t.BATCH_SIZE<e._frameKeys.length?e._nextBatch():e._parseComplete()},0)},t.prototype.destroy=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];for(var e in this.textures)this.textures[e].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,t&&this.baseTexture.destroy(),this.baseTexture=null},t}();e.default=s},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var o=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),a=r(5),s=n(a),u=r(8),l=n(u),c="tick",h=function(){function t(){var e=this;i(this,t),this._emitter=new l.default,this._requestId=null,this._maxElapsedMS=100,this.autoStart=!1,this.deltaTime=1,this.elapsedMS=1/s.default.TARGET_FPMS,this.lastTime=0,this.speed=1,this.started=!1,this._tick=function(t){e._requestId=null,e.started&&(e.update(t),e.started&&null===e._requestId&&e._emitter.listeners(c,!0)&&(e._requestId=requestAnimationFrame(e._tick)))}}return t.prototype._requestIfNeeded=function(){null===this._requestId&&this._emitter.listeners(c,!0)&&(this.lastTime=performance.now(),this._requestId=requestAnimationFrame(this._tick))},t.prototype._cancelIfNeeded=function(){null!==this._requestId&&(cancelAnimationFrame(this._requestId),this._requestId=null)},t.prototype._startIfPossible=function(){this.started?this._requestIfNeeded():this.autoStart&&this.start()},t.prototype.add=function(t,e){return this._emitter.on(c,t,e),this._startIfPossible(),this},t.prototype.addOnce=function(t,e){return this._emitter.once(c,t,e),this._startIfPossible(),this},t.prototype.remove=function(t,e){return this._emitter.off(c,t,e),this._emitter.listeners(c,!0)||this._cancelIfNeeded(),this},t.prototype.start=function(){this.started||(this.started=!0,this._requestIfNeeded())},t.prototype.stop=function(){this.started&&(this.started=!1,this._cancelIfNeeded())},t.prototype.update=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:performance.now(),e=void 0;t>this.lastTime?(e=this.elapsedMS=t-this.lastTime,e>this._maxElapsedMS&&(e=this._maxElapsedMS),this.deltaTime=e*s.default.TARGET_FPMS*this.speed,this._emitter.emit(c,this.deltaTime)):this.deltaTime=this.elapsedMS=0,this.lastTime=t},o(t,[{key:"FPS",get:function(){return 1e3/this.elapsedMS}},{key:"minFPS",get:function(){return 1e3/this._maxElapsedMS},set:function(t){var e=Math.min(Math.max(0,t)/1e3,s.default.TARGET_FPMS);this._maxElapsedMS=1/e}}]),t}();e.default=h},function(t,e){"use strict";function r(){var t=!!navigator.platform&&/iPad|iPhone|iPod/.test(navigator.platform);return!t}e.__esModule=!0,e.default=r},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window.location;if(0===t.indexOf("data:"))return"";e=e||window.location,s||(s=document.createElement("a")),s.href=t,t=a.default.parse(s.href);var r=!t.port&&""===e.port||t.port===e.port;return t.hostname===e.hostname&&r&&t.protocol===e.protocol?"":"anonymous"}e.__esModule=!0,e.default=i;var o=r(271),a=n(o),s=void 0},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(t){return a.default.tablet||a.default.phone?4:t}e.__esModule=!0,e.default=i;var o=r(28),a=n(o)},function(t,e){"use strict";function r(t,e){if(t&&e)for(var r=Object.keys(e),n=0;n<r.length;++n){var i=r[n];Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(e,i))}}function n(t,e){o.push(t,e)}function i(){for(var t=0;t<o.length;t+=2)r(o[t],o[t+1]);o.length=0}e.__esModule=!0,e.mixin=r,e.delayMixin=n,e.performMixins=i;var o=[]},function(t,e){"use strict";function r(t){t.__plugins={},t.registerPlugin=function(e,r){t.__plugins[e]=r},t.prototype.initPlugins=function(){this.plugins=this.plugins||{};for(var e in t.__plugins)this.plugins[e]=new t.__plugins[e](this)},t.prototype.destroyPlugins=function(){for(var t in this.plugins)this.plugins[t].destroy(),this.plugins[t]=null;this.plugins=null}}e.__esModule=!0,e.default={mixin:function(t){r(t)}}},function(t,e){"use strict";function r(t){var e=t.width,r=t.height,n=t.getContext("2d"),i=n.getImageData(0,0,e,r),o=i.data,a=o.length,s={top:null,left:null,right:null,bottom:null},u=void 0,l=void 0,c=void 0;for(u=0;u<a;u+=4)0!==o[u+3]&&(l=u/4%e,c=~~(u/4/e),null===s.top&&(s.top=c),null===s.left?s.left=l:l<s.left&&(s.left=l),null===s.right?s.right=l+1:s.right<l&&(s.right=l+1),null===s.bottom?s.bottom=c:s.bottom<c&&(s.bottom=c));e=s.right-s.left,r=s.bottom-s.top+1;var h=n.getImageData(s.left,s.top,e,r);return{height:r,width:e,data:h}}e.__esModule=!0,e.default=r},function(t,e,r){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function i(t){var e=(new Error).stack;"undefined"==typeof e?console.warn("Deprecation Warning: ",t):(e=e.split("\n").splice(3).join("\n"),console.groupCollapsed?(console.groupCollapsed("%cDeprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",t),console.warn(e),console.groupEnd()):(console.warn("Deprecation Warning: ",t),console.warn(e)))}var o=r(1),a=n(o),s=r(92),u=n(s),l=r(93),c=n(l),h=r(40),f=n(h),d=r(83),p=n(d),v=r(94),m=n(v),g=r(88),y=n(g),_=r(85),x=n(_);a.SpriteBatch=function(){throw new ReferenceError("SpriteBatch does not exist any more, please use the new ParticleContainer instead.")},a.AssetLoader=function(){throw new ReferenceError("The loader system was overhauled in pixi v3, please see the new PIXI.loaders.Loader class.")},Object.defineProperties(a,{Stage:{enumerable:!0,get:function(){return i("You do not need to use a PIXI Stage any more, you can simply render any container."),a.Container}},DisplayObjectContainer:{enumerable:!0,get:function(){return i("DisplayObjectContainer has been shortened to Container, please use Container from now on."),a.Container}},Strip:{enumerable:!0,get:function(){return i("The Strip class has been renamed to Mesh and moved to mesh.Mesh, please use mesh.Mesh from now on."),u.Mesh}},Rope:{enumerable:!0,get:function(){return i("The Rope class has been moved to mesh.Rope, please use mesh.Rope from now on."),u.Rope}},ParticleContainer:{enumerable:!0,get:function(){return i("The ParticleContainer class has been moved to particles.ParticleContainer, please use particles.ParticleContainer from now on."),c.ParticleContainer}},MovieClip:{enumerable:!0,get:function(){return i("The MovieClip class has been moved to extras.AnimatedSprite, please use extras.AnimatedSprite."),f.AnimatedSprite}},TilingSprite:{enumerable:!0,get:function(){return i("The TilingSprite class has been moved to extras.TilingSprite, please use extras.TilingSprite from now on."),f.TilingSprite}},BitmapText:{enumerable:!0,get:function(){return i("The BitmapText class has been moved to extras.BitmapText, please use extras.BitmapText from now on."),f.BitmapText}},blendModes:{enumerable:!0,get:function(){return i("The blendModes has been moved to BLEND_MODES, please use BLEND_MODES from now on."),a.BLEND_MODES}},scaleModes:{enumerable:!0,get:function(){return i("The scaleModes has been moved to SCALE_MODES, please use SCALE_MODES from now on."),a.SCALE_MODES}},BaseTextureCache:{enumerable:!0,get:function(){return i("The BaseTextureCache class has been moved to utils.BaseTextureCache, please use utils.BaseTextureCache from now on."),a.utils.BaseTextureCache}},TextureCache:{enumerable:!0,get:function(){return i("The TextureCache class has been moved to utils.TextureCache, please use utils.TextureCache from now on."),a.utils.TextureCache}},math:{enumerable:!0,get:function(){return i("The math namespace is deprecated, please access members already accessible on PIXI."),a}},AbstractFilter:{enumerable:!0,get:function(){return i("AstractFilter has been renamed to Filter, please use PIXI.Filter"),a.Filter}},TransformManual:{enumerable:!0,get:function(){return i("TransformManual has been renamed to TransformBase, please update your pixi-spine"),a.TransformBase}},TARGET_FPMS:{enumerable:!0,get:function(){return i("PIXI.TARGET_FPMS has been deprecated, please use PIXI.settings.TARGET_FPMS"),a.settings.TARGET_FPMS},set:function(t){i("PIXI.TARGET_FPMS has been deprecated, please use PIXI.settings.TARGET_FPMS"),a.settings.TARGET_FPMS=t}},FILTER_RESOLUTION:{enumerable:!0,get:function(){return i("PIXI.FILTER_RESOLUTION has been deprecated, please use PIXI.settings.FILTER_RESOLUTION"),a.settings.FILTER_RESOLUTION},set:function(t){i("PIXI.FILTER_RESOLUTION has been deprecated, please use PIXI.settings.FILTER_RESOLUTION"),a.settings.FILTER_RESOLUTION=t}},RESOLUTION:{enumerable:!0,get:function(){return i("PIXI.RESOLUTION has been deprecated, please use PIXI.settings.RESOLUTION"),a.settings.RESOLUTION},set:function(t){i("PIXI.RESOLUTION has been deprecated, please use PIXI.settings.RESOLUTION"),a.settings.RESOLUTION=t}},MIPMAP_TEXTURES:{enumerable:!0,get:function(){return i("PIXI.MIPMAP_TEXTURES has been deprecated, please use PIXI.settings.MIPMAP_TEXTURES"),a.settings.MIPMAP_TEXTURES},set:function(t){i("PIXI.MIPMAP_TEXTURES has been deprecated, please use PIXI.settings.MIPMAP_TEXTURES"),a.settings.MIPMAP_TEXTURES=t}},SPRITE_BATCH_SIZE:{enumerable:!0,get:function(){return i("PIXI.SPRITE_BATCH_SIZE has been deprecated, please use PIXI.settings.SPRITE_BATCH_SIZE"),a.settings.SPRITE_BATCH_SIZE},set:function(t){i("PIXI.SPRITE_BATCH_SIZE has been deprecated, please use PIXI.settings.SPRITE_BATCH_SIZE"),a.settings.SPRITE_BATCH_SIZE=t}},SPRITE_MAX_TEXTURES:{enumerable:!0,get:function(){return i("PIXI.SPRITE_MAX_TEXTURES has been deprecated, please use PIXI.settings.SPRITE_MAX_TEXTURES"),a.settings.SPRITE_MAX_TEXTURES},set:function(t){i("PIXI.SPRITE_MAX_TEXTURES has been deprecated, please use PIXI.settings.SPRITE_MAX_TEXTURES"),a.settings.SPRITE_MAX_TEXTURES=t}},RETINA_PREFIX:{enumerable:!0,get:function(){return i("PIXI.RETINA_PREFIX has been deprecated, please use PIXI.settings.RETINA_PREFIX"),a.settings.RETINA_PREFIX},set:function(t){i("PIXI.RETINA_PREFIX has been deprecated, please use PIXI.settings.RETINA_PREFIX"),a.settings.RETINA_PREFIX=t}},DEFAULT_RENDER_OPTIONS:{enumerable:!0,get:function(){return i("PIXI.DEFAULT_RENDER_OPTIONS has been deprecated, please use PIXI.settings.DEFAULT_RENDER_OPTIONS"),a.settings.RENDER_OPTIONS}}});for(var b=[{parent:"TRANSFORM_MODE",target:"TRANSFORM_MODE"},{parent:"GC_MODES",target:"GC_MODE"},{parent:"WRAP_MODES",target:"WRAP_MODE"},{parent:"SCALE_MODES",target:"SCALE_MODE"},{parent:"PRECISION",target:"PRECISION_FRAGMENT"}],w=function(t){var e=b[t];Object.defineProperty(a[e.parent],"DEFAULT",{enumerable:!0,get:function(){return i("PIXI."+e.parent+".DEFAULT has been deprecated, please use PIXI.settings."+e.target),a.settings[e.target]},set:function(t){i("PIXI."+e.parent+".DEFAULT has been deprecated, please use PIXI.settings."+e.target),a.settings[e.target]=t}})},T=0;T<b.length;T++)w(T);Object.defineProperties(a.settings,{PRECISION:{enumerable:!0,get:function(){return i("PIXI.settings.PRECISION has been deprecated, please use PIXI.settings.PRECISION_FRAGMENT"),a.settings.PRECISION_FRAGMENT},set:function(t){i("PIXI.settings.PRECISION has been deprecated, please use PIXI.settings.PRECISION_FRAGMENT"),a.settings.PRECISION_FRAGMENT=t}}}),Object.defineProperties(f,{MovieClip:{enumerable:!0,get:function(){return i("The MovieClip class has been renamed to AnimatedSprite, please use AnimatedSprite from now on."),f.AnimatedSprite}}}),a.DisplayObject.prototype.generateTexture=function(t,e,r){return i("generateTexture has moved to the renderer, please use renderer.generateTexture(displayObject)"),t.generateTexture(this,e,r)},a.Graphics.prototype.generateTexture=function(t,e){return i("graphics generate texture has moved to the renderer. Or to render a graphics to a texture using canvas please use generateCanvasTexture"),this.generateCanvasTexture(t,e)},a.RenderTexture.prototype.render=function(t,e,r,n){this.legacyRenderer.render(t,this,r,e,!n),i("RenderTexture.render is now deprecated, please use renderer.render(displayObject, renderTexture)")},a.RenderTexture.prototype.getImage=function(t){return i("RenderTexture.getImage is now deprecated, please use renderer.extract.image(target)"),this.legacyRenderer.extract.image(t)},a.RenderTexture.prototype.getBase64=function(t){return i("RenderTexture.getBase64 is now deprecated, please use renderer.extract.base64(target)"),this.legacyRenderer.extract.base64(t)},a.RenderTexture.prototype.getCanvas=function(t){return i("RenderTexture.getCanvas is now deprecated, please use renderer.extract.canvas(target)"),this.legacyRenderer.extract.canvas(t)},a.RenderTexture.prototype.getPixels=function(t){return i("RenderTexture.getPixels is now deprecated, please use renderer.extract.pixels(target)"),this.legacyRenderer.pixels(t)},a.Sprite.prototype.setTexture=function(t){this.texture=t,i("setTexture is now deprecated, please use the texture property, e.g : sprite.texture = texture;")},f.BitmapText.prototype.setText=function(t){this.text=t,i("setText is now deprecated, please use the text property, e.g : myBitmapText.text = 'my text';")},a.Text.prototype.setText=function(t){this.text=t,i("setText is now deprecated, please use the text property, e.g : myText.text = 'my text';")},a.Text.prototype.setStyle=function(t){this.style=t,i("setStyle is now deprecated, please use the style property, e.g : myText.style = style;")},a.Text.prototype.determineFontProperties=function(t){return i("determineFontProperties is now deprecated, please use the static calculateFontProperties method, e.g : Text.calculateFontProperties(fontStyle);"),a.Text.calculateFontProperties(t)},Object.defineProperties(a.TextStyle.prototype,{font:{get:function(){i("text style property 'font' is now deprecated, please use the 'fontFamily', 'fontSize', 'fontStyle', 'fontVariant' and 'fontWeight' properties from now on");var t="number"==typeof this._fontSize?this._fontSize+"px":this._fontSize;return this._fontStyle+" "+this._fontVariant+" "+this._fontWeight+" "+t+" "+this._fontFamily},set:function(t){i("text style property 'font' is now deprecated, please use the 'fontFamily','fontSize',fontStyle','fontVariant' and 'fontWeight' properties from now on"),t.indexOf("italic")>1?this._fontStyle="italic":t.indexOf("oblique")>-1?this._fontStyle="oblique":this._fontStyle="normal",t.indexOf("small-caps")>-1?this._fontVariant="small-caps":this._fontVariant="normal";var e=t.split(" "),r=-1;this._fontSize=26;for(var n=0;n<e.length;++n)if(e[n].match(/(px|pt|em|%)/)){r=n,this._fontSize=e[n];break}this._fontWeight="normal";for(var o=0;o<r;++o)if(e[o].match(/(bold|bolder|lighter|100|200|300|400|500|600|700|800|900)/)){this._fontWeight=e[o];break}if(r>-1&&r<e.length-1){this._fontFamily="";for(var a=r+1;a<e.length;++a)this._fontFamily+=e[a]+" ";this._fontFamily=this._fontFamily.slice(0,-1)}else this._fontFamily="Arial";this.styleID++}}}),a.Texture.prototype.setFrame=function(t){this.frame=t,i("setFrame is now deprecated, please use the frame property, e.g: myTexture.frame = frame;")},Object.defineProperties(p,{AbstractFilter:{get:function(){return i("AstractFilter has been renamed to Filter, please use PIXI.Filter"),a.AbstractFilter}},SpriteMaskFilter:{get:function(){return i("filters.SpriteMaskFilter is an undocumented alias, please use SpriteMaskFilter from now on."),a.SpriteMaskFilter}}}),a.utils.uuid=function(){return i("utils.uuid() is deprecated, please use utils.uid() from now on."),a.utils.uid()},a.utils.canUseNewCanvasBlendModes=function(){return i("utils.canUseNewCanvasBlendModes() is deprecated, please use CanvasTinter.canUseMultiply from now on"),a.CanvasTinter.canUseMultiply};var E=!0;Object.defineProperty(a.utils,"_saidHello",{set:function(t){t&&(i("PIXI.utils._saidHello is deprecated, please use PIXI.utils.skipHello()"),this.skipHello()),E=t},get:function(){return E}}),Object.defineProperty(m.canvas,"UPLOADS_PER_FRAME",{set:function(){i("PIXI.CanvasPrepare.UPLOADS_PER_FRAME has been removed. Please set renderer.plugins.prepare.limiter.maxItemsPerFrame on your renderer")},get:function(){return i("PIXI.CanvasPrepare.UPLOADS_PER_FRAME has been removed. Please use renderer.plugins.prepare.limiter"),NaN}}),Object.defineProperty(m.webgl,"UPLOADS_PER_FRAME",{set:function(){i("PIXI.WebGLPrepare.UPLOADS_PER_FRAME has been removed. Please set renderer.plugins.prepare.limiter.maxItemsPerFrame on your renderer")},get:function(){return i("PIXI.WebGLPrepare.UPLOADS_PER_FRAME has been removed. Please use renderer.plugins.prepare.limiter"),NaN}}),Object.defineProperties(y.Resource.prototype,{isJson:{get:function(){return i("The isJson property is deprecated, please use `resource.type === Resource.TYPE.JSON`."),this.type===y.Loader.Resource.TYPE.JSON}},isXml:{get:function(){return i("The isXml property is deprecated, please use `resource.type === Resource.TYPE.XML`."),this.type===y.Loader.Resource.TYPE.XML}},isImage:{get:function(){return i("The isImage property is deprecated, please use `resource.type === Resource.TYPE.IMAGE`."),this.type===y.Loader.Resource.TYPE.IMAGE}},isAudio:{get:function(){return i("The isAudio property is deprecated, please use `resource.type === Resource.TYPE.AUDIO`."),this.type===y.Loader.Resource.TYPE.AUDIO}},isVideo:{get:function(){return i("The isVideo property is deprecated, please use `resource.type === Resource.TYPE.VIDEO`."),this.type===y.Loader.Resource.TYPE.VIDEO}}}),Object.defineProperties(y.Loader.prototype,{before:{get:function(){return i("The before() method is deprecated, please use pre()."),this.pre}},after:{get:function(){return i("The after() method is deprecated, please use use()."),this.use}}}),Object.defineProperty(x.interactiveTarget,"defaultCursor",{set:function(t){i("Property defaultCursor has been replaced with 'cursor'. "),this.cursor=t},get:function(){return i("Property defaultCursor has been replaced with 'cursor'. "),this.cursor},enumerable:!0}),Object.defineProperty(x.InteractionManager,"defaultCursorStyle",{set:function(t){i("Property defaultCursorStyle has been replaced with 'cursorStyles.default'. "),this.cursorStyles.default=t},get:function(){return i("Property defaultCursorStyle has been replaced with 'cursorStyles.default'. "),this.cursorStyles.default}}),Object.defineProperty(x.InteractionManager,"currentCursorStyle",{set:function(t){i("Property currentCursorStyle has been removed.See the currentCursorMode property, which works differently."),this.currentCursorMode=t},get:function(){return i("Property currentCursorStyle has been removed.See the currentCursorMode property, which works differently."),this.currentCursorMode}})},function(t,e,r){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var o=r(1),a=n(o),s=new a.Rectangle,u=function(){function t(e){i(this,t),this.renderer=e,e.extract=this}return t.prototype.image=function t(e){var t=new Image;return t.src=this.base64(e),t},t.prototype.base64=function(t){return this.canvas(t).toDataURL()},t.prototype.canvas=function(t){var e=this.renderer,r=void 0,n=void 0,i=void 0,o=void 0;t&&(o=t instanceof a.RenderTexture?t:e.generateTexture(t)),o?(r=o.baseTexture._canvasRenderTarget.context,n=o.baseTexture._canvasRenderTarget.resolution,i=o.frame):(r=e.rootContext,i=s,i.width=this.renderer.width,i.height=this.renderer.height);var u=i.width*n,l=i.height*n,c=new a.CanvasRenderTarget(u,l),h=r.getImageData(i.x*n,i.y*n,u,l);return c.context.putImageData(h,0,0),c.canvas},t.prototype.pixels=function(t){var e=this.renderer,r=void 0,n=void 0,i=void 0,o=void 0;return t&&(o=t instanceof a.RenderTexture?t:e.generateTexture(t)),o?(r=o.baseTexture._canvasRenderTarget.context,n=o.baseTexture._canvasRenderTarget.resolution,i=o.frame):(r=e.rootContext,i=s,i.width=e.width,i.height=e.height),r.getImageData(0,0,i.width*n,i.height*n).data},t.prototype.destroy=function(){this.renderer.extract=null,this.renderer=null},t}();e.default=u,a.CanvasRenderer.registerPlugin("extract",u)},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var i=r(225);Object.defineProperty(e,"webgl",{enumerable:!0,get:function(){return n(i).default}});var o=r(223);Object.defineProperty(e,"canvas",{enumerable:!0,get:function(){return n(o).default}})},function(t,e,r){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var o=r(1),a=n(o),s=new a.Rectangle,u=4,l=function(){function t(e){i(this,t),this.renderer=e,e.extract=this}return t.prototype.image=function t(e){var t=new Image;return t.src=this.base64(e),t},t.prototype.base64=function(t){return this.canvas(t).toDataURL()},t.prototype.canvas=function(t){var e=this.renderer,r=void 0,n=void 0,i=void 0,o=!1,l=void 0;t&&(l=t instanceof a.RenderTexture?t:this.renderer.generateTexture(t)),l?(r=l.baseTexture._glRenderTargets[this.renderer.CONTEXT_UID],n=r.resolution,i=l.frame,o=!1):(r=this.renderer.rootRenderTarget,n=r.resolution,o=!0,i=s,i.width=r.size.width,i.height=r.size.height);var c=i.width*n,h=i.height*n,f=new a.CanvasRenderTarget(c,h);if(r){e.bindRenderTarget(r);var d=new Uint8Array(u*c*h),p=e.gl;p.readPixels(i.x*n,i.y*n,c,h,p.RGBA,p.UNSIGNED_BYTE,d);var v=f.context.getImageData(0,0,c,h);
v.data.set(d),f.context.putImageData(v,0,0),o&&(f.context.scale(1,-1),f.context.drawImage(f.canvas,0,-h))}return f.canvas},t.prototype.pixels=function(t){var e=this.renderer,r=void 0,n=void 0,i=void 0,o=void 0;t&&(o=t instanceof a.RenderTexture?t:this.renderer.generateTexture(t)),o?(r=o.baseTexture._glRenderTargets[this.renderer.CONTEXT_UID],n=r.resolution,i=o.frame):(r=this.renderer.rootRenderTarget,n=r.resolution,i=s,i.width=r.size.width,i.height=r.size.height);var l=i.width*n,c=i.height*n,h=new Uint8Array(u*l*c);if(r){e.bindRenderTarget(r);var f=e.gl;f.readPixels(i.x*n,i.y*n,l,c,f.RGBA,f.UNSIGNED_BYTE,h)}return h},t.prototype.destroy=function(){this.renderer.extract=null,this.renderer=null},t}();e.default=l,a.WebGLRenderer.registerPlugin("extract",l)},function(t,e,r){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var s=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),u=r(1),l=n(u),c=function(t){function e(r,n){i(this,e);var a=o(this,t.call(this,r[0]instanceof l.Texture?r[0]:r[0].texture));return a._textures=null,a._durations=null,a.textures=r,a._autoUpdate=n!==!1,a.animationSpeed=1,a.loop=!0,a.onComplete=null,a.onFrameChange=null,a._currentTime=0,a.playing=!1,a}return a(e,t),e.prototype.stop=function(){this.playing&&(this.playing=!1,this._autoUpdate&&l.ticker.shared.remove(this.update,this))},e.prototype.play=function(){this.playing||(this.playing=!0,this._autoUpdate&&l.ticker.shared.add(this.update,this))},e.prototype.gotoAndStop=function(t){this.stop();var e=this.currentFrame;this._currentTime=t,e!==this.currentFrame&&this.updateTexture()},e.prototype.gotoAndPlay=function(t){var e=this.currentFrame;this._currentTime=t,e!==this.currentFrame&&this.updateTexture(),this.play()},e.prototype.update=function(t){var e=this.animationSpeed*t,r=this.currentFrame;if(null!==this._durations){var n=this._currentTime%1*this._durations[this.currentFrame];for(n+=e/60*1e3;n<0;)this._currentTime--,n+=this._durations[this.currentFrame];var i=Math.sign(this.animationSpeed*t);for(this._currentTime=Math.floor(this._currentTime);n>=this._durations[this.currentFrame];)n-=this._durations[this.currentFrame]*i,this._currentTime+=i;this._currentTime+=n/this._durations[this.currentFrame]}else this._currentTime+=e;this._currentTime<0&&!this.loop?(this.gotoAndStop(0),this.onComplete&&this.onComplete()):this._currentTime>=this._textures.length&&!this.loop?(this.gotoAndStop(this._textures.length-1),this.onComplete&&this.onComplete()):r!==this.currentFrame&&this.updateTexture()},e.prototype.updateTexture=function(){this._texture=this._textures[this.currentFrame],this._textureID=-1,this.onFrameChange&&this.onFrameChange(this.currentFrame)},e.prototype.destroy=function(){this.stop(),t.prototype.destroy.call(this)},e.fromFrames=function(t){for(var r=[],n=0;n<t.length;++n)r.push(l.Texture.fromFrame(t[n]));return new e(r)},e.fromImages=function(t){for(var r=[],n=0;n<t.length;++n)r.push(l.Texture.fromImage(t[n]));return new e(r)},s(e,[{key:"totalFrames",get:function(){return this._textures.length}},{key:"textures",get:function(){return this._textures},set:function(t){if(t[0]instanceof l.Texture)this._textures=t,this._durations=null;else{this._textures=[],this._durations=[];for(var e=0;e<t.length;e++)this._textures.push(t[e].texture),this._durations.push(t[e].time)}}},{key:"currentFrame",get:function(){var t=Math.floor(this._currentTime)%this._textures.length;return t<0&&(t+=this._textures.length),t}}]),e}(l.Sprite);e.default=c},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var u=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),l=r(1),c=i(l),h=r(66),f=n(h),d=function(t){function e(r){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};o(this,e);var i=a(this,t.call(this));return i._textWidth=0,i._textHeight=0,i._glyphs=[],i._font={tint:void 0!==n.tint?n.tint:16777215,align:n.align||"left",name:null,size:0},i.font=n.font,i._text=r,i.maxWidth=0,i.maxLineHeight=0,i._anchor=new f.default(function(){i.dirty=!0},i,0,0),i.dirty=!1,i.updateText(),i}return s(e,t),e.prototype.updateText=function(){for(var t=e.fonts[this._font.name],r=this._font.size/t.size,n=new c.Point,i=[],o=[],a=null,s=0,u=0,l=0,h=-1,f=0,d=0,p=0;p<this.text.length;p++){var v=this.text.charCodeAt(p);if(/(\s)/.test(this.text.charAt(p))&&(h=p,f=s),/(?:\r\n|\r|\n)/.test(this.text.charAt(p)))o.push(s),u=Math.max(u,s),l++,n.x=0,n.y+=t.lineHeight,a=null;else if(h!==-1&&this.maxWidth>0&&n.x*r>this.maxWidth)c.utils.removeItems(i,h,p-h),p=h,h=-1,o.push(f),u=Math.max(u,f),l++,n.x=0,n.y+=t.lineHeight,a=null;else{var m=t.chars[v];m&&(a&&m.kerning[a]&&(n.x+=m.kerning[a]),i.push({texture:m.texture,line:l,charCode:v,position:new c.Point(n.x+m.xOffset,n.y+m.yOffset)}),s=n.x+(m.texture.width+m.xOffset),n.x+=m.xAdvance,d=Math.max(d,m.yOffset+m.texture.height),a=v)}}o.push(s),u=Math.max(u,s);for(var g=[],y=0;y<=l;y++){var _=0;"right"===this._font.align?_=u-o[y]:"center"===this._font.align&&(_=(u-o[y])/2),g.push(_)}for(var x=i.length,b=this.tint,w=0;w<x;w++){var T=this._glyphs[w];T?T.texture=i[w].texture:(T=new c.Sprite(i[w].texture),this._glyphs.push(T)),T.position.x=(i[w].position.x+g[i[w].line])*r,T.position.y=i[w].position.y*r,T.scale.x=T.scale.y=r,T.tint=b,T.parent||this.addChild(T)}for(var E=x;E<this._glyphs.length;++E)this.removeChild(this._glyphs[E]);if(this._textWidth=u*r,this._textHeight=(n.y+t.lineHeight)*r,0!==this.anchor.x||0!==this.anchor.y)for(var S=0;S<x;S++)this._glyphs[S].x-=this._textWidth*this.anchor.x,this._glyphs[S].y-=this._textHeight*this.anchor.y;this.maxLineHeight=d*r},e.prototype.updateTransform=function(){this.validate(),this.containerUpdateTransform()},e.prototype.getLocalBounds=function(){return this.validate(),t.prototype.getLocalBounds.call(this)},e.prototype.validate=function(){this.dirty&&(this.updateText(),this.dirty=!1)},e.registerFont=function(t,r){var n={},i=t.getElementsByTagName("info")[0],o=t.getElementsByTagName("common")[0];n.font=i.getAttribute("face"),n.size=parseInt(i.getAttribute("size"),10),n.lineHeight=parseInt(o.getAttribute("lineHeight"),10),n.chars={};for(var a=t.getElementsByTagName("char"),s=0;s<a.length;s++){var u=a[s],l=parseInt(u.getAttribute("id"),10),h=new c.Rectangle(parseInt(u.getAttribute("x"),10)+r.frame.x,parseInt(u.getAttribute("y"),10)+r.frame.y,parseInt(u.getAttribute("width"),10),parseInt(u.getAttribute("height"),10));n.chars[l]={xOffset:parseInt(u.getAttribute("xoffset"),10),yOffset:parseInt(u.getAttribute("yoffset"),10),xAdvance:parseInt(u.getAttribute("xadvance"),10),kerning:{},texture:new c.Texture(r.baseTexture,h)}}for(var f=t.getElementsByTagName("kerning"),d=0;d<f.length;d++){var p=f[d],v=parseInt(p.getAttribute("first"),10),m=parseInt(p.getAttribute("second"),10),g=parseInt(p.getAttribute("amount"),10);n.chars[m]&&(n.chars[m].kerning[v]=g)}return e.fonts[n.font]=n,n},u(e,[{key:"tint",get:function(){return this._font.tint},set:function(t){this._font.tint="number"==typeof t&&t>=0?t:16777215,this.dirty=!0}},{key:"align",get:function(){return this._font.align},set:function(t){this._font.align=t||"left",this.dirty=!0}},{key:"anchor",get:function(){return this._anchor},set:function(t){"number"==typeof t?this._anchor.set(t):this._anchor.copy(t)}},{key:"font",get:function(){return this._font},set:function(t){t&&("string"==typeof t?(t=t.split(" "),this._font.name=1===t.length?t[0]:t.slice(1).join(" "),this._font.size=t.length>=2?parseInt(t[0],10):e.fonts[this._font.name].size):(this._font.name=t.name,this._font.size="number"==typeof t.size?t.size:parseInt(t.size,10)),this.dirty=!0)}},{key:"text",get:function(){return this._text},set:function(t){t=t.toString()||" ",this._text!==t&&(this._text=t,this.dirty=!0)}},{key:"textWidth",get:function(){return this.validate(),this._textWidth}},{key:"textHeight",get:function(){return this.validate(),this._textHeight}}]),e}(c.Container);e.default=d,d.fonts={}},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var u=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),l=r(1),c=i(l),h=r(36),f=n(h),d=r(77),p=n(d),v=new c.Point,m=function(t){function e(r){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100;o(this,e);var s=a(this,t.call(this,r));return s.tileTransform=new c.TransformStatic,s._width=n,s._height=i,s._canvasPattern=null,s.uvTransform=r.transform||new p.default(r),s.pluginName="tilingSprite",s.uvRespectAnchor=!1,s}return s(e,t),e.prototype._onTextureUpdate=function(){this.uvTransform&&(this.uvTransform.texture=this._texture)},e.prototype._renderWebGL=function(t){var e=this._texture;e&&e.valid&&(this.tileTransform.updateLocalTransform(),this.uvTransform.update(),t.setObjectRenderer(t.plugins[this.pluginName]),t.plugins[this.pluginName].render(this))},e.prototype._renderCanvas=function(t){var e=this._texture;if(e.baseTexture.hasLoaded){var r=t.context,n=this.worldTransform,i=t.resolution,o=e.baseTexture,a=e.baseTexture.resolution,s=this.tilePosition.x/this.tileScale.x%e._frame.width,u=this.tilePosition.y/this.tileScale.y%e._frame.height;if(!this._canvasPattern){var l=new c.CanvasRenderTarget(e._frame.width,e._frame.height,a);16777215!==this.tint?(this.cachedTint!==this.tint&&(this.cachedTint=this.tint,this.tintedTexture=f.default.getTintedTexture(this,this.tint)),l.context.drawImage(this.tintedTexture,0,0)):l.context.drawImage(o.source,-e._frame.x,-e._frame.y),this._canvasPattern=l.context.createPattern(l.canvas,"repeat")}r.globalAlpha=this.worldAlpha,r.setTransform(n.a*i,n.b*i,n.c*i,n.d*i,n.tx*i,n.ty*i),t.setBlendMode(this.blendMode),r.fillStyle=this._canvasPattern,r.scale(this.tileScale.x/a,this.tileScale.y/a);var h=this.anchor.x*-this._width,d=this.anchor.y*-this._height;this.uvRespectAnchor?(r.translate(s,u),r.fillRect(-s+h,-u+d,this._width/this.tileScale.x*a,this._height/this.tileScale.y*a)):(r.translate(s+h,u+d),r.fillRect(-s,-u,this._width/this.tileScale.x*a,this._height/this.tileScale.y*a))}},e.prototype._calculateBounds=function(){var t=this._width*-this._anchor._x,e=this._height*-this._anchor._y,r=this._width*(1-this._anchor._x),n=this._height*(1-this._anchor._y);this._bounds.addFrame(this.transform,t,e,r,n)},e.prototype.getLocalBounds=function(e){return 0===this.children.length?(this._bounds.minX=this._width*-this._anchor._x,this._bounds.minY=this._height*-this._anchor._y,this._bounds.maxX=this._width*(1-this._anchor._x),this._bounds.maxY=this._height*(1-this._anchor._x),e||(this._localBoundsRect||(this._localBoundsRect=new c.Rectangle),e=this._localBoundsRect),this._bounds.getRectangle(e)):t.prototype.getLocalBounds.call(this,e)},e.prototype.containsPoint=function(t){this.worldTransform.applyInverse(t,v);var e=this._width,r=this._height,n=-e*this.anchor._x;if(v.x>n&&v.x<n+e){var i=-r*this.anchor._y;if(v.y>i&&v.y<i+r)return!0}return!1},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.tileTransform=null,this.uvTransform=null},e.from=function(t,r,n){return new e(c.Texture.from(t),r,n)},e.fromFrame=function(t,r,n){var i=c.utils.TextureCache[t];if(!i)throw new Error('The frameId "'+t+'" does not exist in the texture cache '+this);return new e(i,r,n)},e.fromImage=function(t,r,n,i,o){return new e(c.Texture.fromImage(t,i,o),r,n)},u(e,[{key:"clampMargin",get:function(){return this.uvTransform.clampMargin},set:function(t){this.uvTransform.clampMargin=t,this.uvTransform.update(!0)}},{key:"tileScale",get:function(){return this.tileTransform.scale},set:function(t){this.tileTransform.scale.copy(t)}},{key:"tilePosition",get:function(){return this.tileTransform.position},set:function(t){this.tileTransform.position.copy(t)}},{key:"width",get:function(){return this._width},set:function(t){this._width=t}},{key:"height",get:function(){return this._height},set:function(t){this._height=t}}]),e}(c.Sprite);e.default=m},function(t,e,r){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var o=r(1),a=n(o),s=a.DisplayObject,u=new a.Matrix;s.prototype._cacheAsBitmap=!1,s.prototype._cacheData=!1;var l=function t(){i(this,t),this.originalRenderWebGL=null,this.originalRenderCanvas=null,this.originalCalculateBounds=null,this.originalGetLocalBounds=null,this.originalUpdateTransform=null,this.originalHitTest=null,this.originalDestroy=null,this.originalMask=null,this.originalFilterArea=null,this.sprite=null};Object.defineProperties(s.prototype,{cacheAsBitmap:{get:function(){return this._cacheAsBitmap},set:function(t){if(this._cacheAsBitmap!==t){this._cacheAsBitmap=t;var e=void 0;t?(this._cacheData||(this._cacheData=new l),e=this._cacheData,e.originalRenderWebGL=this.renderWebGL,e.originalRenderCanvas=this.renderCanvas,e.originalUpdateTransform=this.updateTransform,e.originalCalculateBounds=this._calculateBounds,e.originalGetLocalBounds=this.getLocalBounds,e.originalDestroy=this.destroy,e.originalContainsPoint=this.containsPoint,e.originalMask=this._mask,e.originalFilterArea=this.filterArea,this.renderWebGL=this._renderCachedWebGL,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):(e=this._cacheData,e.sprite&&this._destroyCachedDisplayObject(),this.renderWebGL=e.originalRenderWebGL,this.renderCanvas=e.originalRenderCanvas,this._calculateBounds=e.originalCalculateBounds,this.getLocalBounds=e.originalGetLocalBounds,this.destroy=e.originalDestroy,this.updateTransform=e.originalUpdateTransform,this.containsPoint=e.originalContainsPoint,this._mask=e.originalMask,this.filterArea=e.originalFilterArea)}}}}),s.prototype._renderCachedWebGL=function(t){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObject(t),this._cacheData.sprite._transformID=-1,this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderWebGL(t))},s.prototype._initCachedDisplayObject=function(t){if(!this._cacheData||!this._cacheData.sprite){var e=this.alpha;this.alpha=1,t.currentRenderer.flush();var r=this.getLocalBounds().clone();if(this._filters){var n=this._filters[0].padding;r.pad(n)}var i=t._activeRenderTarget,o=t.filterManager.filterStack,s=a.RenderTexture.create(0|r.width,0|r.height),l=u;l.tx=-r.x,l.ty=-r.y,this.transform.worldTransform.identity(),this.renderWebGL=this._cacheData.originalRenderWebGL,t.render(this,s,!0,l,!0),t.bindRenderTarget(i),t.filterManager.filterStack=o,this.renderWebGL=this._renderCachedWebGL,this.updateTransform=this.displayObjectUpdateTransform,this._mask=null,this.filterArea=null;var c=new a.Sprite(s);c.transform.worldTransform=this.transform.worldTransform,c.anchor.x=-(r.x/r.width),c.anchor.y=-(r.y/r.height),c.alpha=e,c._bounds=this._bounds,this._calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._cacheData.sprite=c,this.transform._parentID=-1,this.updateTransform(),this.containsPoint=c.containsPoint.bind(c)}},s.prototype._renderCachedCanvas=function(t){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObjectCanvas(t),this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite.renderCanvas(t))},s.prototype._initCachedDisplayObjectCanvas=function(t){if(!this._cacheData||!this._cacheData.sprite){var e=this.getLocalBounds(),r=this.alpha;this.alpha=1;var n=t.context,i=a.RenderTexture.create(0|e.width,0|e.height),o=u;this.transform.localTransform.copy(o),o.invert(),o.tx-=e.x,o.ty-=e.y,this.renderCanvas=this._cacheData.originalRenderCanvas,t.render(this,i,!0,o,!1),t.context=n,this.renderCanvas=this._renderCachedCanvas,this._calculateBounds=this._calculateCachedBounds,this._mask=null,this.filterArea=null;var s=new a.Sprite(i);s.transform.worldTransform=this.transform.worldTransform,s.anchor.x=-(e.x/e.width),s.anchor.y=-(e.y/e.height),s._bounds=this._bounds,s.alpha=r,this.updateTransform(),this.updateTransform=this.displayObjectUpdateTransform,this._cacheData.sprite=s,this.containsPoint=s.containsPoint.bind(s)}},s.prototype._calculateCachedBounds=function(){this._cacheData.sprite._calculateBounds()},s.prototype._getCachedLocalBounds=function(){return this._cacheData.sprite.getLocalBounds()},s.prototype._destroyCachedDisplayObject=function(){this._cacheData.sprite._texture.destroy(!0),this._cacheData.sprite=null},s.prototype._cacheAsBitmapDestroy=function(){this.cacheAsBitmap=!1,this.destroy()}},function(t,e,r){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}var i=r(1),o=n(i);o.DisplayObject.prototype.name=null,o.Container.prototype.getChildByName=function(t){for(var e=0;e<this.children.length;e++)if(this.children[e].name===t)return this.children[e];return null}},function(t,e,r){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}var i=r(1),o=n(i);o.DisplayObject.prototype.getGlobalPosition=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new o.Point,e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.parent?this.parent.toGlobal(this.position,t,e):(t.x=this.position.x,t.y=this.position.y),t}},function(t,e,r){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var s=r(1),u=n(s),l=r(2),c=(r(7),new u.Matrix),h=new Float32Array(4),f=function(t){function e(r){i(this,e);var n=o(this,t.call(this,r));return n.shader=null,n.simpleShader=null,n.quad=null,n}return a(e,t),e.prototype.onContextChange=function(){var t=this.renderer.gl;this.shader=new u.Shader(t,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n","varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\nuniform mat3 uMapCoord;\nuniform vec4 uClampFrame;\nuniform vec2 uClampOffset;\n\nvoid main(void)\n{\n    vec2 coord = mod(vTextureCoord - uClampOffset, vec2(1.0, 1.0)) + uClampOffset;\n    coord = (uMapCoord * vec3(coord, 1.0)).xy;\n    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);\n\n    vec4 sample = texture2D(uSampler, coord);\n    vec4 color = vec4(uColor.rgb * uColor.a, uColor.a);\n\n    gl_FragColor = sample * color ;\n}\n"),this.simpleShader=new u.Shader(t,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n","varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\n\nvoid main(void)\n{\n    vec4 sample = texture2D(uSampler, vTextureCoord);\n    vec4 color = vec4(uColor.rgb * uColor.a, uColor.a);\n    gl_FragColor = sample * color;\n}\n"),this.renderer.bindVao(null),this.quad=new u.Quad(t,this.renderer.state.attribState),this.quad.initVao(this.shader)},e.prototype.render=function(t){var e=this.renderer,r=this.quad;e.bindVao(r.vao);var n=r.vertices;n[0]=n[6]=t._width*-t.anchor.x,n[1]=n[3]=t._height*-t.anchor.y,n[2]=n[4]=t._width*(1-t.anchor.x),n[5]=n[7]=t._height*(1-t.anchor.y),t.uvRespectAnchor&&(n=r.uvs,n[0]=n[6]=-t.anchor.x,n[1]=n[3]=-t.anchor.y,n[2]=n[4]=1-t.anchor.x,n[5]=n[7]=1-t.anchor.y),r.upload();var i=t._texture,o=i.baseTexture,a=t.tileTransform.localTransform,s=t.uvTransform,f=o.isPowerOfTwo&&i.frame.width===o.width&&i.frame.height===o.height;f&&(o._glTextures[e.CONTEXT_UID]?f=o.wrapMode!==l.WRAP_MODES.CLAMP:o.wrapMode===l.WRAP_MODES.CLAMP&&(o.wrapMode=l.WRAP_MODES.REPEAT));var d=f?this.simpleShader:this.shader;e.bindShader(d);var p=i.width,v=i.height,m=t._width,g=t._height;c.set(a.a*p/m,a.b*p/g,a.c*v/m,a.d*v/g,a.tx/m,a.ty/g),c.invert(),f?c.append(s.mapCoord):(d.uniforms.uMapCoord=s.mapCoord.toArray(!0),d.uniforms.uClampFrame=s.uClampFrame,d.uniforms.uClampOffset=s.uClampOffset),d.uniforms.uTransform=c.toArray(!0);var y=h;u.utils.hex2rgb(t.tint,y),y[3]=t.worldAlpha,d.uniforms.uColor=y,d.uniforms.translationMatrix=t.transform.worldTransform.toArray(!0),d.uniforms.uSampler=e.bindTexture(i),e.setBlendMode(t.blendMode),r.vao.draw(this.renderer.gl.TRIANGLES,6,0)},e}(u.ObjectRenderer);e.default=f,u.WebGLRenderer.registerPlugin("tilingSprite",f)},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var u=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),l=r(1),c=i(l),h=r(78),f=n(h),d=r(79),p=n(d),v=function(t){function e(r,n,i,s){o(this,e);var u=a(this,t.call(this));return u.blurXFilter=new f.default(r,n,i,s),u.blurYFilter=new p.default(r,n,i,s),u.padding=0,u.resolution=i||c.settings.RESOLUTION,u.quality=n||4,u.blur=r||8,u}return s(e,t),e.prototype.apply=function(t,e,r){var n=t.getRenderTarget(!0);this.blurXFilter.apply(t,e,n,!0),this.blurYFilter.apply(t,n,r,!1),t.returnRenderTarget(n)},u(e,[{key:"blur",get:function(){return this.blurXFilter.blur},set:function(t){this.blurXFilter.blur=this.blurYFilter.blur=t,this.padding=2*Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))}},{key:"quality",get:function(){return this.blurXFilter.quality},set:function(t){this.blurXFilter.quality=this.blurYFilter.quality=t}},{key:"blurX",get:function(){return this.blurXFilter.blur},set:function(t){this.blurXFilter.blur=t,this.padding=2*Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))}},{key:"blurY",get:function(){return this.blurYFilter.blur},set:function(t){this.blurYFilter.blur=t,this.padding=2*Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))}}]),e}(c.Filter);e.default=v},function(t,e,r){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var s=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),u=r(1),l=n(u),c=(r(7),function(t){function e(){i(this,e);var r=o(this,t.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}","varying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform float m[20];\n\nvoid main(void)\n{\n    vec4 c = texture2D(uSampler, vTextureCoord);\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (c.a > 0.0) {\n      c.rgb /= c.a;\n    }\n    vec4 result;\n    result.r = (m[0] * c.r);\n        result.r += (m[1] * c.g);\n        result.r += (m[2] * c.b);\n        result.r += (m[3] * c.a);\n        result.r += m[4];\n\n    result.g = (m[5] * c.r);\n        result.g += (m[6] * c.g);\n        result.g += (m[7] * c.b);\n        result.g += (m[8] * c.a);\n        result.g += m[9];\n\n    result.b = (m[10] * c.r);\n       result.b += (m[11] * c.g);\n       result.b += (m[12] * c.b);\n       result.b += (m[13] * c.a);\n       result.b += m[14];\n\n    result.a = (m[15] * c.r);\n       result.a += (m[16] * c.g);\n       result.a += (m[17] * c.b);\n       result.a += (m[18] * c.a);\n       result.a += m[19];\n\n    // Premultiply alpha again.\n    result.rgb *= result.a;\n\n    gl_FragColor = result;\n}\n"));return r.uniforms.m=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],r}return a(e,t),e.prototype._loadMatrix=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=t;e&&(this._multiply(r,this.uniforms.m,t),r=this._colorMatrix(r)),this.uniforms.m=r},e.prototype._multiply=function(t,e,r){return t[0]=e[0]*r[0]+e[1]*r[5]+e[2]*r[10]+e[3]*r[15],t[1]=e[0]*r[1]+e[1]*r[6]+e[2]*r[11]+e[3]*r[16],t[2]=e[0]*r[2]+e[1]*r[7]+e[2]*r[12]+e[3]*r[17],t[3]=e[0]*r[3]+e[1]*r[8]+e[2]*r[13]+e[3]*r[18],t[4]=e[0]*r[4]+e[1]*r[9]+e[2]*r[14]+e[3]*r[19]+e[4],t[5]=e[5]*r[0]+e[6]*r[5]+e[7]*r[10]+e[8]*r[15],t[6]=e[5]*r[1]+e[6]*r[6]+e[7]*r[11]+e[8]*r[16],t[7]=e[5]*r[2]+e[6]*r[7]+e[7]*r[12]+e[8]*r[17],t[8]=e[5]*r[3]+e[6]*r[8]+e[7]*r[13]+e[8]*r[18],t[9]=e[5]*r[4]+e[6]*r[9]+e[7]*r[14]+e[8]*r[19]+e[9],t[10]=e[10]*r[0]+e[11]*r[5]+e[12]*r[10]+e[13]*r[15],t[11]=e[10]*r[1]+e[11]*r[6]+e[12]*r[11]+e[13]*r[16],t[12]=e[10]*r[2]+e[11]*r[7]+e[12]*r[12]+e[13]*r[17],t[13]=e[10]*r[3]+e[11]*r[8]+e[12]*r[13]+e[13]*r[18],t[14]=e[10]*r[4]+e[11]*r[9]+e[12]*r[14]+e[13]*r[19]+e[14],t[15]=e[15]*r[0]+e[16]*r[5]+e[17]*r[10]+e[18]*r[15],t[16]=e[15]*r[1]+e[16]*r[6]+e[17]*r[11]+e[18]*r[16],t[17]=e[15]*r[2]+e[16]*r[7]+e[17]*r[12]+e[18]*r[17],t[18]=e[15]*r[3]+e[16]*r[8]+e[17]*r[13]+e[18]*r[18],t[19]=e[15]*r[4]+e[16]*r[9]+e[17]*r[14]+e[18]*r[19]+e[19],t},e.prototype._colorMatrix=function(t){var e=new Float32Array(t);return e[4]/=255,e[9]/=255,e[14]/=255,e[19]/=255,e},e.prototype.brightness=function(t,e){var r=[t,0,0,0,0,0,t,0,0,0,0,0,t,0,0,0,0,0,1,0];this._loadMatrix(r,e)},e.prototype.greyscale=function(t,e){var r=[t,t,t,0,0,t,t,t,0,0,t,t,t,0,0,0,0,0,1,0];this._loadMatrix(r,e)},e.prototype.blackAndWhite=function(t){var e=[.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0];this._loadMatrix(e,t)},e.prototype.hue=function(t,e){t=(t||0)/180*Math.PI;var r=Math.cos(t),n=Math.sin(t),i=Math.sqrt,o=1/3,a=i(o),s=r+(1-r)*o,u=o*(1-r)-a*n,l=o*(1-r)+a*n,c=o*(1-r)+a*n,h=r+o*(1-r),f=o*(1-r)-a*n,d=o*(1-r)-a*n,p=o*(1-r)+a*n,v=r+o*(1-r),m=[s,u,l,0,0,c,h,f,0,0,d,p,v,0,0,0,0,0,1,0];this._loadMatrix(m,e)},e.prototype.contrast=function(t,e){var r=(t||0)+1,n=-128*(r-1),i=[r,0,0,0,n,0,r,0,0,n,0,0,r,0,n,0,0,0,1,0];this._loadMatrix(i,e)},e.prototype.saturate=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments[1],r=2*t/3+1,n=(r-1)*-.5,i=[r,n,n,0,0,n,r,n,0,0,n,n,r,0,0,0,0,0,1,0];this._loadMatrix(i,e)},e.prototype.desaturate=function(){this.saturate(-1)},e.prototype.negative=function(t){var e=[0,1,1,0,0,1,0,1,0,0,1,1,0,0,0,0,0,0,1,0];this._loadMatrix(e,t)},e.prototype.sepia=function(t){var e=[.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0];this._loadMatrix(e,t)},e.prototype.technicolor=function(t){var e=[1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0];this._loadMatrix(e,t)},e.prototype.polaroid=function(t){var e=[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0];
this._loadMatrix(e,t)},e.prototype.toBGR=function(t){var e=[0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0];this._loadMatrix(e,t)},e.prototype.kodachrome=function(t){var e=[1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0];this._loadMatrix(e,t)},e.prototype.browni=function(t){var e=[.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0];this._loadMatrix(e,t)},e.prototype.vintage=function(t){var e=[.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0];this._loadMatrix(e,t)},e.prototype.colorTone=function(t,e,r,n,i){t=t||.2,e=e||.15,r=r||16770432,n=n||3375104;var o=(r>>16&255)/255,a=(r>>8&255)/255,s=(255&r)/255,u=(n>>16&255)/255,l=(n>>8&255)/255,c=(255&n)/255,h=[.3,.59,.11,0,0,o,a,s,t,0,u,l,c,e,0,o-u,a-l,s-c,0,0];this._loadMatrix(h,i)},e.prototype.night=function(t,e){t=t||.1;var r=[t*-2,-t,0,0,0,-t,0,t,0,0,0,t,2*t,0,0,0,0,0,1,0];this._loadMatrix(r,e)},e.prototype.predator=function(t,e){var r=[11.224130630493164*t,-4.794486999511719*t,-2.8746118545532227*t,0*t,.40342438220977783*t,-3.6330697536468506*t,9.193157196044922*t,-2.951810836791992*t,0*t,-1.316135048866272*t,-3.2184197902679443*t,-4.2375030517578125*t,7.476448059082031*t,0*t,.8044459223747253*t,0,0,0,1,0];this._loadMatrix(r,e)},e.prototype.lsd=function(t){var e=[2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0];this._loadMatrix(e,t)},e.prototype.reset=function(){var t=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0];this._loadMatrix(t,!1)},s(e,[{key:"matrix",get:function(){return this.uniforms.m},set:function(t){this.uniforms.m=t}}]),e}(l.Filter));e.default=c,c.prototype.grayscale=c.prototype.greyscale},function(t,e,r){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var s=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),u=r(1),l=n(u),c=(r(7),function(t){function e(r,n){i(this,e);var a=new l.Matrix;r.renderable=!1;var s=o(this,t.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 filterMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec2 vFilterCoord;\n\nvoid main(void)\n{\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n   vFilterCoord = ( filterMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n   vTextureCoord = aTextureCoord;\n}","varying vec2 vFilterCoord;\nvarying vec2 vTextureCoord;\n\nuniform vec2 scale;\n\nuniform sampler2D uSampler;\nuniform sampler2D mapSampler;\n\nuniform vec4 filterClamp;\n\nvoid main(void)\n{\n   vec4 map =  texture2D(mapSampler, vFilterCoord);\n\n   map -= 0.5;\n   map.xy *= scale;\n\n   gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), filterClamp.xy, filterClamp.zw));\n}\n"));return s.maskSprite=r,s.maskMatrix=a,s.uniforms.mapSampler=r.texture,s.uniforms.filterMatrix=a,s.uniforms.scale={x:1,y:1},null!==n&&void 0!==n||(n=20),s.scale=new l.Point(n,n),s}return a(e,t),e.prototype.apply=function(t,e,r){var n=1/r.destinationFrame.width*(r.size.width/e.size.width);this.uniforms.filterMatrix=t.calculateSpriteMatrix(this.maskMatrix,this.maskSprite),this.uniforms.scale.x=this.scale.x*n,this.uniforms.scale.y=this.scale.y*n,t.applyFilter(this,e,r)},s(e,[{key:"map",get:function(){return this.uniforms.mapSampler},set:function(t){this.uniforms.mapSampler=t}}]),e}(l.Filter));e.default=c},function(t,e,r){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var s=r(1),u=n(s),l=(r(7),function(t){function e(){return i(this,e),o(this,t.call(this,"\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nuniform vec4 filterArea;\n\nvarying vec2 vTextureCoord;\n\nvec2 mapCoord( vec2 coord )\n{\n    coord *= filterArea.xy;\n    coord += filterArea.zw;\n\n    return coord;\n}\n\nvec2 unmapCoord( vec2 coord )\n{\n    coord -= filterArea.zw;\n    coord /= filterArea.xy;\n\n    return coord;\n}\n\nvoid texcoords(vec2 fragCoord, vec2 resolution,\n               out vec2 v_rgbNW, out vec2 v_rgbNE,\n               out vec2 v_rgbSW, out vec2 v_rgbSE,\n               out vec2 v_rgbM) {\n    vec2 inverseVP = 1.0 / resolution.xy;\n    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;\n    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;\n    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;\n    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;\n    v_rgbM = vec2(fragCoord * inverseVP);\n}\n\nvoid main(void) {\n\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n   vTextureCoord = aTextureCoord;\n\n   vec2 fragCoord = vTextureCoord * filterArea.xy;\n\n   texcoords(fragCoord, filterArea.xy, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n}",'varying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nvarying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform vec4 filterArea;\n\n/**\n Basic FXAA implementation based on the code on geeks3d.com with the\n modification that the texture2DLod stuff was removed since it\'s\n unsupported by WebGL.\n \n --\n \n From:\n https://github.com/mitsuhiko/webgl-meincraft\n \n Copyright (c) 2011 by Armin Ronacher.\n \n Some rights reserved.\n \n Redistribution and use in source and binary forms, with or without\n modification, are permitted provided that the following conditions are\n met:\n \n * Redistributions of source code must retain the above copyright\n notice, this list of conditions and the following disclaimer.\n \n * Redistributions in binary form must reproduce the above\n copyright notice, this list of conditions and the following\n disclaimer in the documentation and/or other materials provided\n with the distribution.\n \n * The names of the contributors may not be used to endorse or\n promote products derived from this software without specific\n prior written permission.\n \n THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\n#ifndef FXAA_REDUCE_MIN\n#define FXAA_REDUCE_MIN   (1.0/ 128.0)\n#endif\n#ifndef FXAA_REDUCE_MUL\n#define FXAA_REDUCE_MUL   (1.0 / 8.0)\n#endif\n#ifndef FXAA_SPAN_MAX\n#define FXAA_SPAN_MAX     8.0\n#endif\n\n//optimized version for mobile, where dependent\n//texture reads can be a bottleneck\nvec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 resolution,\n          vec2 v_rgbNW, vec2 v_rgbNE,\n          vec2 v_rgbSW, vec2 v_rgbSE,\n          vec2 v_rgbM) {\n    vec4 color;\n    mediump vec2 inverseVP = vec2(1.0 / resolution.x, 1.0 / resolution.y);\n    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;\n    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;\n    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;\n    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;\n    vec4 texColor = texture2D(tex, v_rgbM);\n    vec3 rgbM  = texColor.xyz;\n    vec3 luma = vec3(0.299, 0.587, 0.114);\n    float lumaNW = dot(rgbNW, luma);\n    float lumaNE = dot(rgbNE, luma);\n    float lumaSW = dot(rgbSW, luma);\n    float lumaSE = dot(rgbSE, luma);\n    float lumaM  = dot(rgbM,  luma);\n    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));\n    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));\n    \n    mediump vec2 dir;\n    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));\n    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));\n    \n    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *\n                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);\n    \n    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);\n    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),\n              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),\n                  dir * rcpDirMin)) * inverseVP;\n    \n    vec3 rgbA = 0.5 * (\n                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +\n                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);\n    vec3 rgbB = rgbA * 0.5 + 0.25 * (\n                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +\n                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);\n    \n    float lumaB = dot(rgbB, luma);\n    if ((lumaB < lumaMin) || (lumaB > lumaMax))\n        color = vec4(rgbA, texColor.a);\n    else\n        color = vec4(rgbB, texColor.a);\n    return color;\n}\n\nvoid main() {\n\n      vec2 fragCoord = vTextureCoord * filterArea.xy;\n\n      vec4 color;\n\n    color = fxaa(uSampler, fragCoord, filterArea.xy, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n\n      gl_FragColor = color;\n}\n'))}return a(e,t),e}(u.Filter));e.default=l},function(t,e,r){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var s=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),u=r(1),l=n(u),c=(r(7),function(t){function e(){i(this,e);var r=o(this,t.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}","precision highp float;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform float noise;\nuniform sampler2D uSampler;\n\nfloat rand(vec2 co)\n{\n    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);\n}\n\nvoid main()\n{\n    vec4 color = texture2D(uSampler, vTextureCoord);\n\n    float diff = (rand(gl_FragCoord.xy) - 0.5) * noise;\n\n    color.r += diff;\n    color.g += diff;\n    color.b += diff;\n\n    gl_FragColor = color;\n}\n"));return r.noise=.5,r}return a(e,t),s(e,[{key:"noise",get:function(){return this.uniforms.noise},set:function(t){this.uniforms.noise=t}}]),e}(l.Filter));e.default=c},function(t,e,r){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var s=r(1),u=n(s),l=(r(7),function(t){function e(){i(this,e);var r=o(this,t.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}","varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n   gl_FragColor = texture2D(uSampler, vTextureCoord);\n}\n"));return r.glShaderKey="void",r}return a(e,t),e}(u.Filter));e.default=l},function(t,e,r){(function(t){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}e.__esModule=!0,e.loader=e.prepare=e.particles=e.mesh=e.loaders=e.interaction=e.filters=e.extras=e.extract=e.accessibility=void 0;var i=r(254);Object.keys(i).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return i[t]}})});var o=r(222);Object.keys(o).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return o[t]}})});var a=r(1);Object.keys(a).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return a[t]}})});var s=r(179),u=n(s),l=r(224),c=n(l),h=r(40),f=n(h),d=r(83),p=n(d),v=r(85),m=n(v),g=r(88),y=n(g),_=r(92),x=n(_),b=r(93),w=n(b),T=r(94),E=n(T);a.utils.mixins.performMixins(),e.accessibility=u,e.extract=c,e.extras=f,e.filters=p,e.interaction=m,e.loaders=y,e.mesh=x,e.particles=w,e.prepare=E;var S=y&&y.Loader?new y.Loader:null;e.loader=S,t.PIXI=e}).call(e,function(){return this}())},function(t,e){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var n=function(){function t(){r(this,t),this.stopped=!1,this.target=null,this.currentTarget=null,this.type=null,this.data=null}return t.prototype.stopPropagation=function(){this.stopped=!0},t.prototype._reset=function(){this.stopped=!1,this.currentTarget=null,this.target=null},t}();e.default=n},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},l=r(1),c=i(l),h=r(84),f=n(h),d=r(240),p=n(d),v=r(242),m=n(v),g=r(8),y=n(g),_=r(86),x=n(_);c.utils.mixins.delayMixin(c.DisplayObject.prototype,x.default);var b="MOUSE",w=function(t){function e(r,n){o(this,e);var i=a(this,t.call(this));return n=n||{},i.renderer=r,i.autoPreventDefault=void 0===n.autoPreventDefault||n.autoPreventDefault,i.interactionFrequency=n.interactionFrequency||10,i.mouse=new f.default,i.mouse.identifier=b,i.mouse.global.set(-999999),i.activeInteractionData={},i.activeInteractionData[b]=i.mouse,i.interactionDataPool=[],i.eventData=new p.default,i.interactionDOMElement=null,i.moveWhenInside=!1,i.eventsAdded=!1,i.mouseOverRenderer=!1,i.supportsTouchEvents="ontouchstart"in window,i.supportsPointerEvents=!!window.PointerEvent,i.onPointerUp=i.onPointerUp.bind(i),i.processPointerUp=i.processPointerUp.bind(i),i.onPointerCancel=i.onPointerCancel.bind(i),i.processPointerCancel=i.processPointerCancel.bind(i),i.onPointerDown=i.onPointerDown.bind(i),i.processPointerDown=i.processPointerDown.bind(i),i.onPointerMove=i.onPointerMove.bind(i),i.processPointerMove=i.processPointerMove.bind(i),i.onPointerOut=i.onPointerOut.bind(i),i.processPointerOverOut=i.processPointerOverOut.bind(i),i.onPointerOver=i.onPointerOver.bind(i),i.cursorStyles={default:"inherit",pointer:"pointer"},i.currentCursorMode=null,i.cursor=null,i._tempPoint=new c.Point,i.resolution=1,i.setTargetElement(i.renderer.view,i.renderer.resolution),i}return s(e,t),e.prototype.setTargetElement=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this.removeEvents(),this.interactionDOMElement=t,this.resolution=e,this.addEvents()},e.prototype.addEvents=function(){this.interactionDOMElement&&(c.ticker.shared.add(this.update,this),window.navigator.msPointerEnabled?(this.interactionDOMElement.style["-ms-content-zooming"]="none",this.interactionDOMElement.style["-ms-touch-action"]="none"):this.supportsPointerEvents&&(this.interactionDOMElement.style["touch-action"]="none"),this.supportsPointerEvents?(window.document.addEventListener("pointermove",this.onPointerMove,!0),this.interactionDOMElement.addEventListener("pointerdown",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("pointerleave",this.onPointerOut,!0),this.interactionDOMElement.addEventListener("pointerover",this.onPointerOver,!0),window.addEventListener("pointercancel",this.onPointerCancel,!0),window.addEventListener("pointerup",this.onPointerUp,!0)):(window.document.addEventListener("mousemove",this.onPointerMove,!0),this.interactionDOMElement.addEventListener("mousedown",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("mouseout",this.onPointerOut,!0),this.interactionDOMElement.addEventListener("mouseover",this.onPointerOver,!0),window.addEventListener("mouseup",this.onPointerUp,!0),this.supportsTouchEvents&&(this.interactionDOMElement.addEventListener("touchstart",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("touchcancel",this.onPointerCancel,!0),this.interactionDOMElement.addEventListener("touchend",this.onPointerUp,!0),this.interactionDOMElement.addEventListener("touchmove",this.onPointerMove,!0))),this.eventsAdded=!0)},e.prototype.removeEvents=function(){this.interactionDOMElement&&(c.ticker.shared.remove(this.update,this),window.navigator.msPointerEnabled?(this.interactionDOMElement.style["-ms-content-zooming"]="",this.interactionDOMElement.style["-ms-touch-action"]=""):this.supportsPointerEvents&&(this.interactionDOMElement.style["touch-action"]=""),this.supportsPointerEvents?(window.document.removeEventListener("pointermove",this.onPointerMove,!0),this.interactionDOMElement.removeEventListener("pointerdown",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("pointerleave",this.onPointerOut,!0),this.interactionDOMElement.removeEventListener("pointerover",this.onPointerOver,!0),window.removeEventListener("pointercancel",this.onPointerCancel,!0),window.removeEventListener("pointerup",this.onPointerUp,!0)):(window.document.removeEventListener("mousemove",this.onPointerMove,!0),this.interactionDOMElement.removeEventListener("mousedown",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("mouseout",this.onPointerOut,!0),this.interactionDOMElement.removeEventListener("mouseover",this.onPointerOver,!0),window.removeEventListener("mouseup",this.onPointerUp,!0),this.supportsTouchEvents&&(this.interactionDOMElement.removeEventListener("touchstart",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("touchcancel",this.onPointerCancel,!0),this.interactionDOMElement.removeEventListener("touchend",this.onPointerUp,!0),this.interactionDOMElement.removeEventListener("touchmove",this.onPointerMove,!0))),this.interactionDOMElement=null,this.eventsAdded=!1)},e.prototype.update=function(t){if(this._deltaTime+=t,!(this._deltaTime<this.interactionFrequency)&&(this._deltaTime=0,this.interactionDOMElement)){if(this.didMove)return void(this.didMove=!1);this.cursor=null;for(var e in this.activeInteractionData)if(this.activeInteractionData.hasOwnProperty(e)){var r=this.activeInteractionData[e];if(r.originalEvent&&"touch"!==r.pointerType){var n=this.configureInteractionEventForDOMEvent(this.eventData,r.originalEvent,r);this.processInteractive(n,this.renderer._lastObjectRendered,this.processPointerOverOut,!0)}}this.setCursorMode(this.cursor)}},e.prototype.setCursorMode=function(t){if(t=t||"default",this.currentCursorMode!==t){this.currentCursorMode=t;var e=this.cursorStyles[t];if(e)switch("undefined"==typeof e?"undefined":u(e)){case"string":this.interactionDOMElement.style.cursor=e;break;case"function":e(t);break;case"object":Object.assign(this.interactionDOMElement.style,e)}}},e.prototype.dispatchEvent=function(t,e,r){r.stopped||(r.currentTarget=t,r.type=e,t.emit(e,r),t[e]&&t[e](r))},e.prototype.mapPositionToPoint=function(t,e,r){var n=void 0;n=this.interactionDOMElement.parentElement?this.interactionDOMElement.getBoundingClientRect():{x:0,y:0,width:0,height:0};var i=navigator.isCocoonJS?this.resolution:1/this.resolution;t.x=(e-n.left)*(this.interactionDOMElement.width/n.width)*i,t.y=(r-n.top)*(this.interactionDOMElement.height/n.height)*i},e.prototype.processInteractive=function(t,e,r,n,i){if(!e||!e.visible)return!1;var o=t.data.global;i=e.interactive||i;var a=!1,s=i;e.hitArea?s=!1:n&&e._mask&&(e._mask.containsPoint(o)||(n=!1));var u=n;if(e.interactiveChildren&&e.children)for(var l=e.children,c=l.length-1;c>=0;c--){var h=l[c];if(this.processInteractive(t,h,r,n,s)){if(!h.parent)continue;a=!0,s=!1,u=!1,h.interactive&&(n=!1)}}return n=u,i&&(n&&!a&&(e.hitArea?(e.worldTransform.applyInverse(o,this._tempPoint),a=e.hitArea.contains(this._tempPoint.x,this._tempPoint.y)):e.containsPoint&&(a=e.containsPoint(o))),e.interactive&&(a&&!t.target&&(t.target=e),r(t,e,a))),a},e.prototype.onPointerDown=function(t){var e=this.normalizeToPointerData(t);this.autoPreventDefault&&e[0].isNormalized&&t.preventDefault();for(var r=e.length,n=0;n<r;n++){var i=e[n],o=this.getInteractionDataForPointerId(i.pointerId),a=this.configureInteractionEventForDOMEvent(this.eventData,i,o);if(a.data.originalEvent=t,this.processInteractive(a,this.renderer._lastObjectRendered,this.processPointerDown,!0),this.emit("pointerdown",a),"touch"===i.pointerType)this.emit("touchstart",a);else if("mouse"===i.pointerType){var s=2===i.button||3===i.which;this.emit(s?"rightdown":"mousedown",this.eventData)}}},e.prototype.processPointerDown=function(t,e,r){var n=t.data.originalEvent,i=t.data.identifier;if(r)if(e.trackedPointers[i]||(e.trackedPointers[i]=new m.default(i)),this.dispatchEvent(e,"pointerdown",t),"touchstart"===n.type||"touch"===n.pointerType)this.dispatchEvent(e,"touchstart",t);else if("mousedown"===n.type||"mouse"===n.pointerType){var o=2===n.button||3===n.which;o?e.trackedPointers[i].rightDown=!0:e.trackedPointers[i].leftDown=!0,this.dispatchEvent(e,o?"rightdown":"mousedown",t)}},e.prototype.onPointerComplete=function(t,e,r){for(var n=this.normalizeToPointerData(t),i=n.length,o=0;o<i;o++){var a=n[o],s=this.getInteractionDataForPointerId(a.pointerId),u=this.configureInteractionEventForDOMEvent(this.eventData,a,s);if(u.data.originalEvent=t,this.processInteractive(u,this.renderer._lastObjectRendered,r,!0),this.emit(e?"pointercancel":"pointerup",u),"mouse"===a.pointerType){var l=2===a.button||3===a.which;this.emit(l?"rightup":"mouseup",u)}else"touch"===a.pointerType&&(this.emit(e?"touchcancel":"touchend",u),this.releaseInteractionDataForPointerId(a.pointerId,s))}},e.prototype.onPointerCancel=function(t){this.onPointerComplete(t,!0,this.processPointerCancel)},e.prototype.processPointerCancel=function(t,e){var r=t.data.originalEvent,n=t.data.identifier;void 0!==e.trackedPointers[n]&&(delete e.trackedPointers[n],this.dispatchEvent(e,"pointercancel",t),"touchcancel"!==r.type&&"touch"!==r.pointerType||this.dispatchEvent(e,"touchcancel",t))},e.prototype.onPointerUp=function(t){this.onPointerComplete(t,!1,this.processPointerUp)},e.prototype.processPointerUp=function(t,e,r){var n=t.data.originalEvent,i=t.data.identifier,o=e.trackedPointers[i],a="touchend"===n.type||"touch"===n.pointerType,s=0===n.type.indexOf("mouse")||"mouse"===n.pointerType;if(s){var u=2===n.button||3===n.which,l=m.default.FLAGS,c=u?l.RIGHT_DOWN:l.LEFT_DOWN,h=void 0!==o&&o.flags|c;r?(this.dispatchEvent(e,u?"rightup":"mouseup",t),h&&this.dispatchEvent(e,u?"rightclick":"click",t)):h&&this.dispatchEvent(e,u?"rightupoutside":"mouseupoutside",t),o&&(u?o.rightDown=r:o.leftDown=r)}r?(this.dispatchEvent(e,"pointerup",t),a&&this.dispatchEvent(e,"touchend",t),o&&(this.dispatchEvent(e,"pointertap",t),a&&(this.dispatchEvent(e,"tap",t),o.over=!1))):o&&(this.dispatchEvent(e,"pointerupoutside",t),a&&this.dispatchEvent(e,"touchendoutside",t)),o&&o.none&&delete e.trackedPointers[i]},e.prototype.onPointerMove=function(t){var e=this.normalizeToPointerData(t);"mouse"===e[0].pointerType&&(this.didMove=!0,this.cursor=null);for(var r=e.length,n=0;n<r;n++){var i=e[n],o=this.getInteractionDataForPointerId(i.pointerId),a=this.configureInteractionEventForDOMEvent(this.eventData,i,o);a.data.originalEvent=t;var s="touch"!==i.pointerType||this.moveWhenInside;this.processInteractive(a,this.renderer._lastObjectRendered,this.processPointerMove,s),this.emit("pointermove",a),"touch"===i.pointerType&&this.emit("touchmove",a),"mouse"===i.pointerType&&this.emit("mousemove",a)}"mouse"===e[0].pointerType&&this.setCursorMode(this.cursor)},e.prototype.processPointerMove=function(t,e,r){var n=t.data.originalEvent,i="touchmove"===n.type||"touch"===n.pointerType,o="mousemove"===n.type||"mouse"===n.pointerType;o&&this.processPointerOverOut(t,e,r),this.moveWhenInside&&!r||(this.dispatchEvent(e,"pointermove",t),i&&this.dispatchEvent(e,"touchmove",t),o&&this.dispatchEvent(e,"mousemove",t))},e.prototype.onPointerOut=function(t){var e=this.normalizeToPointerData(t),r=e[0];"mouse"===r.pointerType&&(this.mouseOverRenderer=!1,this.setCursorMode(null));var n=this.getInteractionDataForPointerId(r.pointerId),i=this.configureInteractionEventForDOMEvent(this.eventData,r,n);i.data.originalEvent=r,this.processInteractive(i,this.renderer._lastObjectRendered,this.processPointerOverOut,!1),this.emit("pointerout",i),"mouse"===r.pointerType&&this.emit("mouseout",i)},e.prototype.processPointerOverOut=function(t,e,r){var n=t.data.originalEvent,i=t.data.identifier,o="mouseover"===n.type||"mouseout"===n.type||"mouse"===n.pointerType,a=e.trackedPointers[i];r&&!a&&(a=e.trackedPointers[i]=new m.default(i)),void 0!==a&&(r&&this.mouseOverRenderer?(a.over||(a.over=!0,this.dispatchEvent(e,"pointerover",t),o&&this.dispatchEvent(e,"mouseover",t)),o&&null===this.cursor&&(this.cursor=e.cursor)):a.over&&(a.over=!1,this.dispatchEvent(e,"pointerout",this.eventData),o&&this.dispatchEvent(e,"mouseout",t),a.none&&delete e.trackedPointers[i]))},e.prototype.onPointerOver=function(t){var e=this.normalizeToPointerData(t),r=e[0],n=this.getInteractionDataForPointerId(r.pointerId),i=this.configureInteractionEventForDOMEvent(this.eventData,r,n);i.data.originalEvent=r,"mouse"===r.pointerType&&(this.mouseOverRenderer=!0),this.emit("pointerover",i),"mouse"===r.pointerType&&this.emit("mouseover",i)},e.prototype.getInteractionDataForPointerId=function(t){if(t===b)return this.mouse;if(this.activeInteractionData[t])return this.activeInteractionData[t];var e=this.interactionDataPool.pop()||new f.default;return e.identifier=t,this.activeInteractionData[t]=e,e},e.prototype.releaseInteractionDataForPointerId=function(t){var e=this.activeInteractionData[t];e&&(delete this.activeInteractionData[t],this.interactionDataPool.push(e))},e.prototype.configureInteractionEventForDOMEvent=function(t,e,r){return t.data=r,this.mapPositionToPoint(r.global,e.clientX,e.clientY),navigator.isCocoonJS&&"touch"===e.pointerType&&(r.global.x=r.global.x/this.resolution,r.global.y=r.global.y/this.resolution),"touch"===e.pointerType&&(e.globalX=r.global.x,e.globalY=r.global.y),r.originalEvent=e,t._reset(),t},e.prototype.normalizeToPointerData=function(t){var e=[];if(this.supportsTouchEvents&&t instanceof TouchEvent)for(var r=0,n=t.changedTouches.length;r<n;r++){var i=t.changedTouches[r];"undefined"==typeof i.button&&(i.button=t.touches.length?1:0),"undefined"==typeof i.buttons&&(i.buttons=t.touches.length?1:0),"undefined"==typeof i.isPrimary&&(i.isPrimary=1===t.touches.length),"undefined"==typeof i.width&&(i.width=i.radiusX||1),"undefined"==typeof i.height&&(i.height=i.radiusY||1),"undefined"==typeof i.tiltX&&(i.tiltX=0),"undefined"==typeof i.tiltY&&(i.tiltY=0),"undefined"==typeof i.pointerType&&(i.pointerType="touch"),"undefined"==typeof i.pointerId&&(i.pointerId=i.identifier||0),"undefined"==typeof i.pressure&&(i.pressure=i.force||.5),"undefined"==typeof i.rotation&&(i.rotation=i.rotationAngle||0),"undefined"==typeof i.layerX&&(i.layerX=i.offsetX=i.clientX),"undefined"==typeof i.layerY&&(i.layerY=i.offsetY=i.clientY),i.isNormalized=!0,e.push(i)}else!(t instanceof MouseEvent)||this.supportsPointerEvents&&t instanceof window.PointerEvent?e.push(t):("undefined"==typeof t.isPrimary&&(t.isPrimary=!0),"undefined"==typeof t.width&&(t.width=1),"undefined"==typeof t.height&&(t.height=1),"undefined"==typeof t.tiltX&&(t.tiltX=0),"undefined"==typeof t.tiltY&&(t.tiltY=0),"undefined"==typeof t.pointerType&&(t.pointerType="mouse"),"undefined"==typeof t.pointerId&&(t.pointerId=b),"undefined"==typeof t.pressure&&(t.pressure=.5),"undefined"==typeof t.rotation&&(t.rotation=0),t.isNormalized=!0,e.push(t));return e},e.prototype.destroy=function(){
this.removeEvents(),this.removeAllListeners(),this.renderer=null,this.mouse=null,this.eventData=null,this.interactionDOMElement=null,this.onPointerDown=null,this.processPointerDown=null,this.onPointerUp=null,this.processPointerUp=null,this.onPointerCancel=null,this.processPointerCancel=null,this.onPointerMove=null,this.processPointerMove=null,this.onPointerOut=null,this.processPointerOverOut=null,this.onPointerOver=null,this._tempPoint=null},e}(y.default);e.default=w,c.WebGLRenderer.registerPlugin("interaction",w),c.CanvasRenderer.registerPlugin("interaction",w)},function(t,e){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=function(){function t(e){r(this,t),this._pointerId=e,this._flags=t.FLAGS.NONE}return t.prototype._doSet=function(t,e){e?this._flags=this._flags|t:this._flags=this._flags&~t},n(t,[{key:"pointerId",get:function(){return this._pointerId}},{key:"flags",get:function(){return this._flags},set:function(t){this._flags=t}},{key:"none",get:function(){return this._flags===this.constructor.FLAGS.NONE}},{key:"over",get:function(){return 0!==(this._flags&this.constructor.FLAGS.OVER)},set:function(t){this._doSet(this.constructor.FLAGS.OVER,t)}},{key:"rightDown",get:function(){return 0!==(this._flags&this.constructor.FLAGS.RIGHT_DOWN)},set:function(t){this._doSet(this.constructor.FLAGS.RIGHT_DOWN,t)}},{key:"leftDown",get:function(){return 0!==(this._flags&this.constructor.FLAGS.LEFT_DOWN)},set:function(t){this._doSet(this.constructor.FLAGS.LEFT_DOWN,t)}}]),t}();e.default=i,i.FLAGS=Object.freeze({NONE:0,OVER:1,LEFT_DOWN:2,RIGHT_DOWN:4})},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var s=r(19),u=n(s),l=r(265),c=r(8),h=n(c),f=r(90),d=n(f),p=r(89),v=n(p),m=r(87),g=n(m),y=function(t){function e(r,n){i(this,e);var a=o(this,t.call(this,r,n));h.default.call(a);for(var s=0;s<e._pixiMiddleware.length;++s)a.use(e._pixiMiddleware[s]());return a.onStart.add(function(t){return a.emit("start",t)}),a.onProgress.add(function(t,e){return a.emit("progress",t,e)}),a.onError.add(function(t,e,r){return a.emit("error",t,e,r)}),a.onLoad.add(function(t,e){return a.emit("load",t,e)}),a.onComplete.add(function(t,e){return a.emit("complete",t,e)}),a}return a(e,t),e.addPixiMiddleware=function(t){e._pixiMiddleware.push(t)},e}(u.default);e.default=y;for(var _ in h.default.prototype)y.prototype[_]=h.default.prototype[_];y._pixiMiddleware=[l.blobMiddlewareFactory,d.default,v.default,g.default];var x=u.default.Resource;x.setExtensionXhrType("fnt",x.XHR_RESPONSE_TYPE.DOCUMENT)},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var s=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),u=r(91),l=n(u),c=10,h=function(t){function e(r,n,a,s,u){i(this,e);var l=o(this,t.call(this,r,4,4)),h=l.uvs;return h[6]=h[14]=h[22]=h[30]=1,h[25]=h[27]=h[29]=h[31]=1,l._origWidth=r.width,l._origHeight=r.height,l._uvw=1/l._origWidth,l._uvh=1/l._origHeight,l.width=r.width,l.height=r.height,h[2]=h[10]=h[18]=h[26]=l._uvw*n,h[4]=h[12]=h[20]=h[28]=1-l._uvw*s,h[9]=h[11]=h[13]=h[15]=l._uvh*a,h[17]=h[19]=h[21]=h[23]=1-l._uvh*u,l.leftWidth="undefined"!=typeof n?n:c,l.rightWidth="undefined"!=typeof s?s:c,l.topHeight="undefined"!=typeof a?a:c,l.bottomHeight="undefined"!=typeof u?u:c,l}return a(e,t),e.prototype.updateHorizontalVertices=function(){var t=this.vertices;t[9]=t[11]=t[13]=t[15]=this._topHeight,t[17]=t[19]=t[21]=t[23]=this._height-this._bottomHeight,t[25]=t[27]=t[29]=t[31]=this._height},e.prototype.updateVerticalVertices=function(){var t=this.vertices;t[2]=t[10]=t[18]=t[26]=this._leftWidth,t[4]=t[12]=t[20]=t[28]=this._width-this._rightWidth,t[6]=t[14]=t[22]=t[30]=this._width},e.prototype._renderCanvas=function(t){var e=t.context;e.globalAlpha=this.worldAlpha;var r=this.worldTransform,n=t.resolution;t.roundPixels?e.setTransform(r.a*n,r.b*n,r.c*n,r.d*n,r.tx*n|0,r.ty*n|0):e.setTransform(r.a*n,r.b*n,r.c*n,r.d*n,r.tx*n,r.ty*n);var i=this._texture.baseTexture,o=i.source,a=i.width,s=i.height;this.drawSegment(e,o,a,s,0,1,10,11),this.drawSegment(e,o,a,s,2,3,12,13),this.drawSegment(e,o,a,s,4,5,14,15),this.drawSegment(e,o,a,s,8,9,18,19),this.drawSegment(e,o,a,s,10,11,20,21),this.drawSegment(e,o,a,s,12,13,22,23),this.drawSegment(e,o,a,s,16,17,26,27),this.drawSegment(e,o,a,s,18,19,28,29),this.drawSegment(e,o,a,s,20,21,30,31)},e.prototype.drawSegment=function(t,e,r,n,i,o,a,s){var u=this.uvs,l=this.vertices,c=(u[a]-u[i])*r,h=(u[s]-u[o])*n,f=l[a]-l[i],d=l[s]-l[o];c<1&&(c=1),h<1&&(h=1),f<1&&(f=1),d<1&&(d=1),t.drawImage(e,u[i]*r,u[o]*n,c,h,l[i],l[o],f,d)},s(e,[{key:"width",get:function(){return this._width},set:function(t){this._width=t,this.updateVerticalVertices()}},{key:"height",get:function(){return this._height},set:function(t){this._height=t,this.updateHorizontalVertices()}},{key:"leftWidth",get:function(){return this._leftWidth},set:function(t){this._leftWidth=t;var e=this.uvs,r=this.vertices;e[2]=e[10]=e[18]=e[26]=this._uvw*t,r[2]=r[10]=r[18]=r[26]=t,this.dirty=!0}},{key:"rightWidth",get:function(){return this._rightWidth},set:function(t){this._rightWidth=t;var e=this.uvs,r=this.vertices;e[4]=e[12]=e[20]=e[28]=1-this._uvw*t,r[4]=r[12]=r[20]=r[28]=this._width-t,this.dirty=!0}},{key:"topHeight",get:function(){return this._topHeight},set:function(t){this._topHeight=t;var e=this.uvs,r=this.vertices;e[9]=e[11]=e[13]=e[15]=this._uvh*t,r[9]=r[11]=r[13]=r[15]=t,this.dirty=!0}},{key:"bottomHeight",get:function(){return this._bottomHeight},set:function(t){this._bottomHeight=t;var e=this.uvs,r=this.vertices;e[17]=e[19]=e[21]=e[23]=1-this._uvh*t,r[17]=r[19]=r[21]=r[23]=this._height-t,this.dirty=!0}}]),e}(l.default);e.default=h},function(t,e,r){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function i(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var u=r(18),l=i(u),c=r(1),h=n(c),f=function(t){function e(r,n){o(this,e);var i=a(this,t.call(this,r));return i.points=n,i.vertices=new Float32Array(4*n.length),i.uvs=new Float32Array(4*n.length),i.colors=new Float32Array(2*n.length),i.indices=new Uint16Array(2*n.length),i._ready=!0,i.refresh(),i}return s(e,t),e.prototype.refresh=function(){var t=this.points;if(!(t.length<1)&&this._texture._uvs){this.vertices.length/4!==t.length&&(this.vertices=new Float32Array(4*t.length),this.uvs=new Float32Array(4*t.length),this.colors=new Float32Array(2*t.length),this.indices=new Uint16Array(2*t.length));var e=this.uvs,r=this.indices,n=this.colors,i=this._texture._uvs,o=new h.Point(i.x0,i.y0),a=new h.Point(i.x2-i.x0,Number(i.y2-i.y0));e[0]=0+o.x,e[1]=0+o.y,e[2]=0+o.x,e[3]=a.y+o.y,n[0]=1,n[1]=1,r[0]=0,r[1]=1;for(var s=t.length,u=1;u<s;u++){var l=4*u,c=u/(s-1);e[l]=c*a.x+o.x,e[l+1]=0+o.y,e[l+2]=c*a.x+o.x,e[l+3]=a.y+o.y,l=2*u,n[l]=1,n[l+1]=1,l=2*u,r[l]=l,r[l+1]=l+1}this.dirty++,this.indexDirty++}},e.prototype._onTextureUpdate=function(){t.prototype._onTextureUpdate.call(this),this._ready&&this.refresh()},e.prototype.updateTransform=function(){var t=this.points;if(!(t.length<1)){for(var e=t[0],r=void 0,n=0,i=0,o=this.vertices,a=t.length,s=0;s<a;s++){var u=t[s],l=4*s;r=s<t.length-1?t[s+1]:u,i=-(r.x-e.x),n=r.y-e.y;var c=10*(1-s/(a-1));c>1&&(c=1);var h=Math.sqrt(n*n+i*i),f=this._texture.height/2;n/=h,i/=h,n*=f,i*=f,o[l]=u.x+n,o[l+1]=u.y+i,o[l+2]=u.x-n,o[l+3]=u.y-i,e=u}this.containerUpdateTransform()}},e}(l.default);e.default=f},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var a=r(1),s=i(a),u=r(18),l=n(u),c=function(){function t(e){o(this,t),this.renderer=e}return t.prototype.render=function(t){var e=this.renderer,r=e.context,n=t.worldTransform,i=e.resolution;e.roundPixels?r.setTransform(n.a*i,n.b*i,n.c*i,n.d*i,n.tx*i|0,n.ty*i|0):r.setTransform(n.a*i,n.b*i,n.c*i,n.d*i,n.tx*i,n.ty*i),e.setBlendMode(t.blendMode),t.drawMode===l.default.DRAW_MODES.TRIANGLE_MESH?this._renderTriangleMesh(t):this._renderTriangles(t)},t.prototype._renderTriangleMesh=function(t){for(var e=t.vertices.length/2,r=0;r<e-2;r++){var n=2*r;this._renderDrawTriangle(t,n,n+2,n+4)}},t.prototype._renderTriangles=function(t){for(var e=t.indices,r=e.length,n=0;n<r;n+=3){var i=2*e[n],o=2*e[n+1],a=2*e[n+2];this._renderDrawTriangle(t,i,o,a)}},t.prototype._renderDrawTriangle=function(t,e,r,n){var i=this.renderer.context,o=t.uvs,a=t.vertices,s=t._texture;if(s.valid){var u=s.baseTexture,l=u.source,c=u.width,h=u.height,f=o[e]*u.width,d=o[r]*u.width,p=o[n]*u.width,v=o[e+1]*u.height,m=o[r+1]*u.height,g=o[n+1]*u.height,y=a[e],_=a[r],x=a[n],b=a[e+1],w=a[r+1],T=a[n+1];if(t.canvasPadding>0){var E=t.canvasPadding/t.worldTransform.a,S=t.canvasPadding/t.worldTransform.d,M=(y+_+x)/3,A=(b+w+T)/3,P=y-M,C=b-A,O=Math.sqrt(P*P+C*C);y=M+P/O*(O+E),b=A+C/O*(O+S),P=_-M,C=w-A,O=Math.sqrt(P*P+C*C),_=M+P/O*(O+E),w=A+C/O*(O+S),P=x-M,C=T-A,O=Math.sqrt(P*P+C*C),x=M+P/O*(O+E),T=A+C/O*(O+S)}i.save(),i.beginPath(),i.moveTo(y,b),i.lineTo(_,w),i.lineTo(x,T),i.closePath(),i.clip();var R=f*m+v*p+d*g-m*p-v*d-f*g,D=y*m+v*x+_*g-m*x-v*_-y*g,L=f*_+y*p+d*x-_*p-y*d-f*x,I=f*m*x+v*_*p+y*d*g-y*m*p-v*d*x-f*_*g,F=b*m+v*T+w*g-m*T-v*w-b*g,N=f*w+b*p+d*T-w*p-b*d-f*T,k=f*m*T+v*w*p+b*d*g-b*m*p-v*d*T-f*w*g;i.transform(D/R,F/R,L/R,N/R,I/R,k/R),i.drawImage(l,0,0,c*u.resolution,h*u.resolution,0,0,c,h),i.restore()}},t.prototype.renderMeshFlat=function(t){var e=this.renderer.context,r=t.vertices,n=r.length/2;e.beginPath();for(var i=1;i<n-2;++i){var o=2*i,a=r[o],s=r[o+1],u=r[o+2],l=r[o+3],c=r[o+4],h=r[o+5];e.moveTo(a,s),e.lineTo(u,l),e.lineTo(c,h)}e.fillStyle="#FF0000",e.fill(),e.closePath()},t.prototype.destroy=function(){this.renderer=null},t}();e.default=c,s.CanvasRenderer.registerPlugin("mesh",c)},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var u=r(1),l=i(u),c=r(6),h=n(c),f=r(18),d=n(f),p=(r(7),function(t){function e(r){o(this,e);var n=a(this,t.call(this,r));return n.shader=null,n}return s(e,t),e.prototype.onContextChange=function(){var t=this.renderer.gl;this.shader=new l.Shader(t,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 translationMatrix;\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n}\n","varying vec2 vTextureCoord;\nuniform float alpha;\nuniform vec3 tint;\n\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n    gl_FragColor = texture2D(uSampler, vTextureCoord) * vec4(tint * alpha, alpha);\n}\n")},e.prototype.render=function(t){var e=this.renderer,r=e.gl,n=t._texture;if(n.valid){var i=t._glDatas[e.CONTEXT_UID];i||(e.bindVao(null),i={shader:this.shader,vertexBuffer:h.default.GLBuffer.createVertexBuffer(r,t.vertices,r.STREAM_DRAW),uvBuffer:h.default.GLBuffer.createVertexBuffer(r,t.uvs,r.STREAM_DRAW),indexBuffer:h.default.GLBuffer.createIndexBuffer(r,t.indices,r.STATIC_DRAW),vao:null,dirty:t.dirty,indexDirty:t.indexDirty},i.vao=new h.default.VertexArrayObject(r).addIndex(i.indexBuffer).addAttribute(i.vertexBuffer,i.shader.attributes.aVertexPosition,r.FLOAT,!1,8,0).addAttribute(i.uvBuffer,i.shader.attributes.aTextureCoord,r.FLOAT,!1,8,0),t._glDatas[e.CONTEXT_UID]=i),e.bindVao(i.vao),t.dirty!==i.dirty&&(i.dirty=t.dirty,i.uvBuffer.upload(t.uvs)),t.indexDirty!==i.indexDirty&&(i.indexDirty=t.indexDirty,i.indexBuffer.upload(t.indices)),i.vertexBuffer.upload(t.vertices),e.bindShader(i.shader),i.shader.uniforms.uSampler=e.bindTexture(n),e.state.setBlendMode(t.blendMode),i.shader.uniforms.translationMatrix=t.worldTransform.toArray(!0),i.shader.uniforms.alpha=t.worldAlpha,i.shader.uniforms.tint=t.tintRgb;var o=t.drawMode===d.default.DRAW_MODES.TRIANGLE_MESH?r.TRIANGLE_STRIP:r.TRIANGLES;i.vao.draw(o,t.indices.length,0)}},e}(l.ObjectRenderer));e.default=p,l.WebGLRenderer.registerPlugin("mesh",p)},function(t,e,r){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var s=r(1),u=n(s),l=function(t){function e(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1500,n=arguments[1],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:16384;i(this,e);var s=o(this,t.call(this)),l=16384;return a>l&&(a=l),a>r&&(a=r),s._properties=[!1,!0,!1,!1,!1],s._maxSize=r,s._batchSize=a,s._glBuffers={},s._bufferToUpdate=0,s.interactiveChildren=!1,s.blendMode=u.BLEND_MODES.NORMAL,s.roundPixels=!0,s.baseTexture=null,s.setProperties(n),s}return a(e,t),e.prototype.setProperties=function(t){t&&(this._properties[0]="scale"in t?!!t.scale:this._properties[0],this._properties[1]="position"in t?!!t.position:this._properties[1],this._properties[2]="rotation"in t?!!t.rotation:this._properties[2],this._properties[3]="uvs"in t?!!t.uvs:this._properties[3],this._properties[4]="alpha"in t?!!t.alpha:this._properties[4])},e.prototype.updateTransform=function(){this.displayObjectUpdateTransform()},e.prototype.renderWebGL=function(t){var e=this;this.visible&&!(this.worldAlpha<=0)&&this.children.length&&this.renderable&&(this.baseTexture||(this.baseTexture=this.children[0]._texture.baseTexture,this.baseTexture.hasLoaded||this.baseTexture.once("update",function(){return e.onChildrenChange(0)})),t.setObjectRenderer(t.plugins.particle),t.plugins.particle.render(this))},e.prototype.onChildrenChange=function(t){var e=Math.floor(t/this._batchSize);e<this._bufferToUpdate&&(this._bufferToUpdate=e)},e.prototype.renderCanvas=function(t){if(this.visible&&!(this.worldAlpha<=0)&&this.children.length&&this.renderable){var e=t.context,r=this.worldTransform,n=!0,i=0,o=0,a=0,s=0,u=t.blendModes[this.blendMode];u!==e.globalCompositeOperation&&(e.globalCompositeOperation=u),e.globalAlpha=this.worldAlpha,this.displayObjectUpdateTransform();for(var l=0;l<this.children.length;++l){var c=this.children[l];if(c.visible){var h=c._texture.frame;if(e.globalAlpha=this.worldAlpha*c.alpha,c.rotation%(2*Math.PI)===0)n&&(e.setTransform(r.a,r.b,r.c,r.d,r.tx*t.resolution,r.ty*t.resolution),n=!1),i=c.anchor.x*(-h.width*c.scale.x)+c.position.x+.5,o=c.anchor.y*(-h.height*c.scale.y)+c.position.y+.5,a=h.width*c.scale.x,s=h.height*c.scale.y;else{n||(n=!0),c.displayObjectUpdateTransform();var f=c.worldTransform;t.roundPixels?e.setTransform(f.a,f.b,f.c,f.d,f.tx*t.resolution|0,f.ty*t.resolution|0):e.setTransform(f.a,f.b,f.c,f.d,f.tx*t.resolution,f.ty*t.resolution),i=c.anchor.x*-h.width+.5,o=c.anchor.y*-h.height+.5,a=h.width,s=h.height}var d=c._texture.baseTexture.resolution;e.drawImage(c._texture.baseTexture.source,h.x*d,h.y*d,h.width*d,h.height*d,i*d,o*d,a*d,s*d)}}}},e.prototype.destroy=function(e){if(t.prototype.destroy.call(this,e),this._buffers)for(var r=0;r<this._buffers.length;++r)this._buffers[r].destroy();this._properties=null,this._buffers=null},e}(u.Container);e.default=l},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var o=r(6),a=n(o),s=r(39),u=n(s),l=function(){function t(e,r,n,o){i(this,t),this.gl=e,this.vertSize=2,this.vertByteSize=4*this.vertSize,this.size=o,this.dynamicProperties=[],this.staticProperties=[];for(var a=0;a<r.length;++a){var s=r[a];s={attribute:s.attribute,size:s.size,uploadFunction:s.uploadFunction,offset:s.offset},n[a]?this.dynamicProperties.push(s):this.staticProperties.push(s)}this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.initBuffers()}return t.prototype.initBuffers=function(){var t=this.gl,e=0;this.indices=(0,u.default)(this.size),this.indexBuffer=a.default.GLBuffer.createIndexBuffer(t,this.indices,t.STATIC_DRAW),this.dynamicStride=0;for(var r=0;r<this.dynamicProperties.length;++r){var n=this.dynamicProperties[r];n.offset=e,e+=n.size,this.dynamicStride+=n.size}this.dynamicData=new Float32Array(this.size*this.dynamicStride*4),this.dynamicBuffer=a.default.GLBuffer.createVertexBuffer(t,this.dynamicData,t.STREAM_DRAW);var i=0;this.staticStride=0;for(var o=0;o<this.staticProperties.length;++o){var s=this.staticProperties[o];s.offset=i,i+=s.size,this.staticStride+=s.size}this.staticData=new Float32Array(this.size*this.staticStride*4),this.staticBuffer=a.default.GLBuffer.createVertexBuffer(t,this.staticData,t.STATIC_DRAW),this.vao=new a.default.VertexArrayObject(t).addIndex(this.indexBuffer);for(var l=0;l<this.dynamicProperties.length;++l){var c=this.dynamicProperties[l];this.vao.addAttribute(this.dynamicBuffer,c.attribute,t.FLOAT,!1,4*this.dynamicStride,4*c.offset)}for(var h=0;h<this.staticProperties.length;++h){var f=this.staticProperties[h];this.vao.addAttribute(this.staticBuffer,f.attribute,t.FLOAT,!1,4*this.staticStride,4*f.offset)}},t.prototype.uploadDynamic=function(t,e,r){for(var n=0;n<this.dynamicProperties.length;n++){var i=this.dynamicProperties[n];i.uploadFunction(t,e,r,this.dynamicData,this.dynamicStride,i.offset)}this.dynamicBuffer.upload()},t.prototype.uploadStatic=function(t,e,r){for(var n=0;n<this.staticProperties.length;n++){var i=this.staticProperties[n];i.uploadFunction(t,e,r,this.staticData,this.staticStride,i.offset)}this.staticBuffer.upload()},t.prototype.destroy=function(){this.dynamicProperties=null,this.dynamicData=null,this.dynamicBuffer.destroy(),this.staticProperties=null,this.staticData=null,this.staticBuffer.destroy()},t}();e.default=l},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var u=r(1),l=i(u),c=r(251),h=n(c),f=r(249),d=n(f),p=function(t){function e(r){o(this,e);var n=a(this,t.call(this,r));return n.shader=null,n.indexBuffer=null,n.properties=null,n.tempMatrix=new l.Matrix,n.CONTEXT_UID=0,n}return s(e,t),e.prototype.onContextChange=function(){var t=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.shader=new h.default(t),this.properties=[{attribute:this.shader.attributes.aVertexPosition,size:2,uploadFunction:this.uploadVertices,offset:0},{attribute:this.shader.attributes.aPositionCoord,size:2,uploadFunction:this.uploadPosition,offset:0},{attribute:this.shader.attributes.aRotation,size:1,uploadFunction:this.uploadRotation,offset:0},{attribute:this.shader.attributes.aTextureCoord,size:2,uploadFunction:this.uploadUvs,offset:0},{attribute:this.shader.attributes.aColor,size:1,uploadFunction:this.uploadAlpha,offset:0}]},e.prototype.start=function(){this.renderer.bindShader(this.shader)},e.prototype.render=function(t){var e=t.children,r=t._maxSize,n=t._batchSize,i=this.renderer,o=e.length;if(0!==o){o>r&&(o=r);var a=t._glBuffers[i.CONTEXT_UID];a||(a=t._glBuffers[i.CONTEXT_UID]=this.generateBuffers(t)),this.renderer.setBlendMode(t.blendMode);var s=i.gl,u=t.worldTransform.copy(this.tempMatrix);u.prepend(i._activeRenderTarget.projectionMatrix),this.shader.uniforms.projectionMatrix=u.toArray(!0),this.shader.uniforms.uAlpha=t.worldAlpha;var l=e[0]._texture.baseTexture;this.shader.uniforms.uSampler=i.bindTexture(l);for(var c=0,h=0;c<o;c+=n,h+=1){var f=o-c;f>n&&(f=n);var d=a[h];d.uploadDynamic(e,c,f),t._bufferToUpdate===h&&(d.uploadStatic(e,c,f),t._bufferToUpdate=h+1),i.bindVao(d.vao),d.vao.draw(s.TRIANGLES,6*f)}}},e.prototype.generateBuffers=function(t){for(var e=this.renderer.gl,r=[],n=t._maxSize,i=t._batchSize,o=t._properties,a=0;a<n;a+=i)r.push(new d.default(e,this.properties,o,i));return r},e.prototype.uploadVertices=function(t,e,r,n,i,o){for(var a=0,s=0,u=0,l=0,c=0;c<r;++c){var h=t[e+c],f=h._texture,d=h.scale.x,p=h.scale.y,v=f.trim,m=f.orig;v?(s=v.x-h.anchor.x*m.width,a=s+v.width,l=v.y-h.anchor.y*m.height,u=l+v.height):(a=m.width*(1-h.anchor.x),s=m.width*-h.anchor.x,u=m.height*(1-h.anchor.y),l=m.height*-h.anchor.y),n[o]=s*d,n[o+1]=l*p,n[o+i]=a*d,n[o+i+1]=l*p,n[o+2*i]=a*d,n[o+2*i+1]=u*p,n[o+3*i]=s*d,n[o+3*i+1]=u*p,o+=4*i}},e.prototype.uploadPosition=function(t,e,r,n,i,o){for(var a=0;a<r;a++){var s=t[e+a].position;n[o]=s.x,n[o+1]=s.y,n[o+i]=s.x,n[o+i+1]=s.y,n[o+2*i]=s.x,n[o+2*i+1]=s.y,n[o+3*i]=s.x,n[o+3*i+1]=s.y,o+=4*i}},e.prototype.uploadRotation=function(t,e,r,n,i,o){for(var a=0;a<r;a++){var s=t[e+a].rotation;n[o]=s,n[o+i]=s,n[o+2*i]=s,n[o+3*i]=s,o+=4*i}},e.prototype.uploadUvs=function(t,e,r,n,i,o){for(var a=0;a<r;++a){var s=t[e+a]._texture._uvs;s?(n[o]=s.x0,n[o+1]=s.y0,n[o+i]=s.x1,n[o+i+1]=s.y1,n[o+2*i]=s.x2,n[o+2*i+1]=s.y2,n[o+3*i]=s.x3,n[o+3*i+1]=s.y3,o+=4*i):(n[o]=0,n[o+1]=0,n[o+i]=0,n[o+i+1]=0,n[o+2*i]=0,n[o+2*i+1]=0,n[o+3*i]=0,n[o+3*i+1]=0,o+=4*i)}},e.prototype.uploadAlpha=function(t,e,r,n,i,o){for(var a=0;a<r;a++){var s=t[e+a].alpha;n[o]=s,n[o+i]=s,n[o+2*i]=s,n[o+3*i]=s,o+=4*i}},e.prototype.destroy=function(){this.renderer.gl&&this.renderer.gl.deleteBuffer(this.indexBuffer),t.prototype.destroy.call(this),this.shader.destroy(),this.indices=null,this.tempMatrix=null},e}(l.ObjectRenderer);e.default=p,l.WebGLRenderer.registerPlugin("particle",p)},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var s=r(13),u=n(s),l=function(t){function e(r){return i(this,e),o(this,t.call(this,r,["attribute vec2 aVertexPosition;","attribute vec2 aTextureCoord;","attribute float aColor;","attribute vec2 aPositionCoord;","attribute vec2 aScale;","attribute float aRotation;","uniform mat3 projectionMatrix;","varying vec2 vTextureCoord;","varying float vColor;","void main(void){","   vec2 v = aVertexPosition;","   v.x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);","   v.y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);","   v = v + aPositionCoord;","   gl_Position = vec4((projectionMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);","   vTextureCoord = aTextureCoord;","   vColor = aColor;","}"].join("\n"),["varying vec2 vTextureCoord;","varying float vColor;","uniform sampler2D uSampler;","uniform float uAlpha;","void main(void){","  vec4 color = texture2D(uSampler, vTextureCoord) * vColor * uAlpha;","  if (color.a == 0.0) discard;","  gl_FragColor = color;","}"].join("\n")))}return a(e,t),e}(u.default);e.default=l},function(t,e){"use strict";Math.sign||(Math.sign=function(t){return t=Number(t),0===t||isNaN(t)?t:t>0?1:-1})},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}var i=r(170),o=n(i);Object.assign||(Object.assign=o.default)},function(t,e,r){"use strict";r(253),r(255),r(252),window.ArrayBuffer||(window.ArrayBuffer=Array),window.Float32Array||(window.Float32Array=Array),window.Uint32Array||(window.Uint32Array=Array),window.Uint16Array||(window.Uint16Array=Array)},function(t,e){(function(t){"use strict";var e=16;if(Date.now&&Date.prototype.getTime||(Date.now=function(){return(new Date).getTime()}),!t.performance||!t.performance.now){var r=Date.now();t.performance||(t.performance={}),t.performance.now=function(){return Date.now()-r}}for(var n=Date.now(),i=["ms","moz","webkit","o"],o=0;o<i.length&&!t.requestAnimationFrame;++o){var a=i[o];t.requestAnimationFrame=t[a+"RequestAnimationFrame"],t.cancelAnimationFrame=t[a+"CancelAnimationFrame"]||t[a+"CancelRequestAnimationFrame"]}t.requestAnimationFrame||(t.requestAnimationFrame=function(t){if("function"!=typeof t)throw new TypeError(t+"is not a function");var r=Date.now(),i=e+n-r;return i<0&&(i=0),n=r,setTimeout(function(){n=Date.now(),t(performance.now())},i)}),t.cancelAnimationFrame||(t.cancelAnimationFrame=function(t){return clearTimeout(t)})}).call(e,function(){return this}())},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function u(t,e){if(e instanceof h.BaseTexture){var r=e.source,n=0===r.width?t.canvas.width:Math.min(t.canvas.width,r.width),i=0===r.height?t.canvas.height:Math.min(t.canvas.height,r.height);return t.ctx.drawImage(r,0,0,n,i,0,0,t.canvas.width,t.canvas.height),!0}return!1}function l(t,e){if(t instanceof h.BaseTexture)return e.indexOf(t)===-1&&e.push(t),!0;if(t._texture&&t._texture instanceof h.Texture){var r=t._texture.baseTexture;return e.indexOf(r)===-1&&e.push(r),!0}return!1}e.__esModule=!0;var c=r(1),h=i(c),f=r(41),d=n(f),p=16,v=function(t){function e(r){o(this,e);var n=a(this,t.call(this,r));return n.uploadHookHelper=n,n.canvas=document.createElement("canvas"),n.canvas.width=p,n.canvas.height=p,n.ctx=n.canvas.getContext("2d"),n.register(l,u),n}return s(e,t),e.prototype.destroy=function(){t.prototype.destroy.call(this),this.ctx=null,this.canvas=null},e}(d.default);e.default=v,h.CanvasRenderer.registerPlugin("prepare",v)},function(t,e){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var n=function(){function t(e){r(this,t),this.maxMilliseconds=e,this.frameStart=0}return t.prototype.beginFrame=function(){this.frameStart=Date.now()},t.prototype.allowedToUpload=function(){return Date.now()-this.frameStart<this.maxMilliseconds},t}();e.default=n},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function u(t,e){return e instanceof d.BaseTexture&&(e._glTextures[t.CONTEXT_UID]||t.textureManager.updateTexture(e),!0)}function l(t,e){return e instanceof d.Graphics&&((e.dirty||e.clearDirty||!e._webGL[t.plugins.graphics.CONTEXT_UID])&&t.plugins.graphics.updateGraphics(e),!0)}function c(t,e){if(t instanceof d.BaseTexture)return e.indexOf(t)===-1&&e.push(t),!0;if(t._texture&&t._texture instanceof d.Texture){var r=t._texture.baseTexture;return e.indexOf(r)===-1&&e.push(r),!0}return!1}function h(t,e){
return t instanceof d.Graphics&&(e.push(t),!0)}e.__esModule=!0;var f=r(1),d=i(f),p=r(41),v=n(p),m=function(t){function e(r){o(this,e);var n=a(this,t.call(this,r));return n.uploadHookHelper=n.renderer,n.register(c,u).register(h,l),n}return s(e,t),e}(v.default);e.default=m,d.WebGLRenderer.registerPlugin("prepare",m)},function(t,e,r){!function(t,n){n(e,r(98))}(this,function(t,e){"use strict";e="default"in e?e.default:e;var r="uniform sampler2D tPreviousLum;\r\nuniform sampler2D tCurrentLum;\r\nuniform float delta;\r\nuniform float tau;\r\n\r\nvarying vec2 vUv;\r\n\r\nvoid main() {\r\n\r\n\tfloat previousLum = texture2D(tPreviousLum, vUv, MIP_LEVEL_1X1).r;\r\n\tfloat currentLum = texture2D(tCurrentLum, vUv, MIP_LEVEL_1X1).r;\r\n\r\n\t// Adapt the luminance using Pattanaik's technique.\r\n\tfloat adaptedLum = previousLum + (currentLum - previousLum) * (1.0 - exp(-delta * tau));\r\n\r\n\tgl_FragColor = vec4(adaptedLum, adaptedLum, adaptedLum, 1.0);\r\n\r\n}\r\n",n="varying vec2 vUv;\r\n\r\nvoid main() {\r\n\r\n\tvUv = uv;\r\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\r\n\r\n}\r\n",i=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},o=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),a=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)},s=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e},u=function(t){function e(){return i(this,e),s(this,Object.getPrototypeOf(e).call(this,{type:"AdaptiveLuminosityMaterial",defines:{MIP_LEVEL_1X1:"0.0"},uniforms:{tPreviousLum:{value:null},tCurrentLum:{value:null},delta:{value:0},tau:{value:1}},fragmentShader:r,vertexShader:n}))}return a(e,t),e}(e.ShaderMaterial),l="#include <packing>\r\n\r\nuniform sampler2D tDiffuse;\r\nuniform sampler2D tDepth;\r\n\r\nuniform float cameraNear;\r\nuniform float cameraFar;\r\n\r\nuniform float focus;\r\nuniform float aspect;\r\nuniform float aperture;\r\nuniform float maxBlur;\r\n\r\nvarying vec2 vUv;\r\n\r\nfloat readDepth(sampler2D depthSampler, vec2 coord) {\r\n\r\n\tfloat fragCoordZ = texture2D(depthSampler, coord).x;\r\n\tfloat viewZ = perspectiveDepthToViewZ(fragCoordZ, cameraNear, cameraFar);\r\n\r\n\treturn viewZToOrthographicDepth(viewZ, cameraNear, cameraFar);\r\n\r\n}\r\n\r\nvoid main() {\r\n\r\n\tvec2 aspectCorrection = vec2(1.0, aspect);\r\n\r\n\tfloat depth = readDepth(tDepth, vUv);\r\n\r\n\tfloat factor = depth - focus;\r\n\r\n\tvec2 dofBlur = vec2(clamp(factor * aperture, -maxBlur, maxBlur));\r\n\r\n\tvec2 dofblur9 = dofBlur * 0.9;\r\n\tvec2 dofblur7 = dofBlur * 0.7;\r\n\tvec2 dofblur4 = dofBlur * 0.4;\r\n\r\n\tvec4 color = vec4(0.0);\r\n\r\n\tcolor += texture2D(tDiffuse, vUv);\r\n\tcolor += texture2D(tDiffuse, vUv + (vec2( 0.0,   0.4 ) * aspectCorrection) * dofBlur);\r\n\tcolor += texture2D(tDiffuse, vUv + (vec2( 0.15,  0.37) * aspectCorrection) * dofBlur);\r\n\tcolor += texture2D(tDiffuse, vUv + (vec2( 0.29,  0.29) * aspectCorrection) * dofBlur);\r\n\tcolor += texture2D(tDiffuse, vUv + (vec2(-0.37,  0.15) * aspectCorrection) * dofBlur);\r\n\tcolor += texture2D(tDiffuse, vUv + (vec2( 0.40,  0.0 ) * aspectCorrection) * dofBlur);\r\n\tcolor += texture2D(tDiffuse, vUv + (vec2( 0.37, -0.15) * aspectCorrection) * dofBlur);\r\n\tcolor += texture2D(tDiffuse, vUv + (vec2( 0.29, -0.29) * aspectCorrection) * dofBlur);\r\n\tcolor += texture2D(tDiffuse, vUv + (vec2(-0.15, -0.37) * aspectCorrection) * dofBlur);\r\n\tcolor += texture2D(tDiffuse, vUv + (vec2( 0.0,  -0.4 ) * aspectCorrection) * dofBlur);\r\n\tcolor += texture2D(tDiffuse, vUv + (vec2(-0.15,  0.37) * aspectCorrection) * dofBlur);\r\n\tcolor += texture2D(tDiffuse, vUv + (vec2(-0.29,  0.29) * aspectCorrection) * dofBlur);\r\n\tcolor += texture2D(tDiffuse, vUv + (vec2( 0.37,  0.15) * aspectCorrection) * dofBlur);\r\n\tcolor += texture2D(tDiffuse, vUv + (vec2(-0.4,   0.0 ) * aspectCorrection) * dofBlur);\r\n\tcolor += texture2D(tDiffuse, vUv + (vec2(-0.37, -0.15) * aspectCorrection) * dofBlur);\r\n\tcolor += texture2D(tDiffuse, vUv + (vec2(-0.29, -0.29) * aspectCorrection) * dofBlur);\r\n\tcolor += texture2D(tDiffuse, vUv + (vec2( 0.15, -0.37) * aspectCorrection) * dofBlur);\r\n\r\n\tcolor += texture2D(tDiffuse, vUv + (vec2( 0.15,  0.37) * aspectCorrection) * dofblur9);\r\n\tcolor += texture2D(tDiffuse, vUv + (vec2(-0.37,  0.15) * aspectCorrection) * dofblur9);\r\n\tcolor += texture2D(tDiffuse, vUv + (vec2( 0.37, -0.15) * aspectCorrection) * dofblur9);\r\n\tcolor += texture2D(tDiffuse, vUv + (vec2(-0.15, -0.37) * aspectCorrection) * dofblur9);\r\n\tcolor += texture2D(tDiffuse, vUv + (vec2(-0.15,  0.37) * aspectCorrection) * dofblur9);\r\n\tcolor += texture2D(tDiffuse, vUv + (vec2( 0.37,  0.15) * aspectCorrection) * dofblur9);\r\n\tcolor += texture2D(tDiffuse, vUv + (vec2(-0.37, -0.15) * aspectCorrection) * dofblur9);\r\n\tcolor += texture2D(tDiffuse, vUv + (vec2( 0.15, -0.37) * aspectCorrection) * dofblur9);\r\n\r\n\tcolor += texture2D(tDiffuse, vUv + (vec2( 0.29,  0.29) * aspectCorrection) * dofblur7);\r\n\tcolor += texture2D(tDiffuse, vUv + (vec2( 0.40,  0.0 ) * aspectCorrection) * dofblur7);\r\n\tcolor += texture2D(tDiffuse, vUv + (vec2( 0.29, -0.29) * aspectCorrection) * dofblur7);\r\n\tcolor += texture2D(tDiffuse, vUv + (vec2( 0.0,  -0.4 ) * aspectCorrection) * dofblur7);\r\n\tcolor += texture2D(tDiffuse, vUv + (vec2(-0.29,  0.29) * aspectCorrection) * dofblur7);\r\n\tcolor += texture2D(tDiffuse, vUv + (vec2(-0.4,   0.0 ) * aspectCorrection) * dofblur7);\r\n\tcolor += texture2D(tDiffuse, vUv + (vec2(-0.29, -0.29) * aspectCorrection) * dofblur7);\r\n\tcolor += texture2D(tDiffuse, vUv + (vec2( 0.0,   0.4 ) * aspectCorrection) * dofblur7);\r\n\r\n\tcolor += texture2D(tDiffuse, vUv + (vec2( 0.29,  0.29) * aspectCorrection) * dofblur4);\r\n\tcolor += texture2D(tDiffuse, vUv + (vec2( 0.4,   0.0 ) * aspectCorrection) * dofblur4);\r\n\tcolor += texture2D(tDiffuse, vUv + (vec2( 0.29, -0.29) * aspectCorrection) * dofblur4);\r\n\tcolor += texture2D(tDiffuse, vUv + (vec2( 0.0,  -0.4 ) * aspectCorrection) * dofblur4);\r\n\tcolor += texture2D(tDiffuse, vUv + (vec2(-0.29,  0.29) * aspectCorrection) * dofblur4);\r\n\tcolor += texture2D(tDiffuse, vUv + (vec2(-0.4,   0.0 ) * aspectCorrection) * dofblur4);\r\n\tcolor += texture2D(tDiffuse, vUv + (vec2(-0.29, -0.29) * aspectCorrection) * dofblur4);\r\n\tcolor += texture2D(tDiffuse, vUv + (vec2( 0.0,   0.4 ) * aspectCorrection) * dofblur4);\r\n\r\n\tgl_FragColor = color / 41.0;\r\n\r\n}\r\n",c="varying vec2 vUv;\r\n\r\nvoid main() {\r\n\r\n\tvUv = uv;\r\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\r\n\r\n}\r\n",h=function(t){function e(t,r){i(this,e),void 0===r&&(r={});var n=s(this,Object.getPrototypeOf(e).call(this,{type:"BokehMaterial",uniforms:{tDiffuse:{value:null},tDepth:{value:null},cameraNear:{value:.1},cameraFar:{value:2e3},focus:{value:void 0!==r.focus?r.focus:1},aspect:{value:void 0!==r.aspect?r.aspect:1},aperture:{value:void 0!==r.aperture?r.aperture:.025},maxBlur:{value:void 0!==r.maxBlur?r.maxBlur:1}},fragmentShader:l,vertexShader:c}));return void 0!==t&&n.adoptCameraSettings(t),n}return a(e,t),o(e,[{key:"adoptCameraSettings",value:function(t){this.uniforms.cameraNear.value=t.near,this.uniforms.cameraFar.value=t.far}}]),e}(e.ShaderMaterial),f="#include <packing>\r\n\r\nuniform sampler2D tDiffuse;\r\nuniform sampler2D tDepth;\r\n\r\nuniform vec2 texelSize;\r\nuniform vec2 halfTexelSize;\r\n\r\nuniform float cameraNear;\r\nuniform float cameraFar;\r\n\r\nuniform float focalLength;\r\nuniform float fStop;\r\n\r\nuniform float maxBlur;\r\nuniform float luminanceThreshold;\r\nuniform float luminanceGain;\r\nuniform float bias;\r\nuniform float fringe;\r\nuniform float ditherStrength;\r\n\r\n#ifdef SHADER_FOCUS\r\n\r\n\tuniform vec2 focusCoords;\r\n\r\n#else\r\n\r\n\tuniform float focalDepth;\r\n\r\n#endif\r\n\r\nvarying vec2 vUv;\r\n\r\n#ifdef PENTAGON\r\n\r\n\tfloat penta(vec2 coords) {\r\n\r\n\t\tconst vec4 HS0 = vec4( 1.0,          0.0,         0.0, 1.0);\r\n\t\tconst vec4 HS1 = vec4( 0.309016994,  0.951056516, 0.0, 1.0);\r\n\t\tconst vec4 HS2 = vec4(-0.809016994,  0.587785252, 0.0, 1.0);\r\n\t\tconst vec4 HS3 = vec4(-0.809016994, -0.587785252, 0.0, 1.0);\r\n\t\tconst vec4 HS4 = vec4( 0.309016994, -0.951056516, 0.0, 1.0);\r\n\t\tconst vec4 HS5 = vec4( 0.0,          0.0,         1.0, 1.0);\r\n\r\n\t\tconst vec4 ONE = vec4(1.0);\r\n\r\n\t\tconst float P_FEATHER = 0.4;\r\n\t\tconst float N_FEATHER = -P_FEATHER;\r\n\r\n\t\tfloat inOrOut = -4.0;\r\n\r\n\t\tvec4 P = vec4(coords, vec2(RINGS_FLOAT - 1.3));\r\n\r\n\t\tvec4 dist = vec4(\r\n\t\t\tdot(P, HS0),\r\n\t\t\tdot(P, HS1),\r\n\t\t\tdot(P, HS2),\r\n\t\t\tdot(P, HS3)\r\n\t\t);\r\n\r\n\t\tdist = smoothstep(N_FEATHER, P_FEATHER, dist);\r\n\r\n\t\tinOrOut += dot(dist, ONE);\r\n\r\n\t\tdist.x = dot(P, HS4);\r\n\t\tdist.y = HS5.w - abs(P.z);\r\n\r\n\t\tdist = smoothstep(N_FEATHER, P_FEATHER, dist);\r\n\t\tinOrOut += dist.x;\r\n\r\n\t\treturn clamp(inOrOut, 0.0, 1.0);\r\n\r\n\t}\r\n\r\n#endif\r\n\r\n#ifdef SHOW_FOCUS\r\n\r\n\tvec3 debugFocus(vec3 c, float blur, float depth) {\r\n\r\n\t\tfloat edge = 0.002 * depth;\r\n\t\tfloat m = clamp(smoothstep(0.0, edge, blur), 0.0, 1.0);\r\n\t\tfloat e = clamp(smoothstep(1.0 - edge, 1.0, blur), 0.0, 1.0);\r\n\r\n\t\tc = mix(c, vec3(1.0, 0.5, 0.0), (1.0 - m) * 0.6);\r\n\t\tc = mix(c, vec3(0.0, 0.5, 1.0), ((1.0 - e) - (1.0 - m)) * 0.2);\r\n\r\n\t\treturn c;\r\n\r\n\t}\r\n\r\n#endif\r\n\r\n#ifdef VIGNETTE\r\n\r\n\tfloat vignette() {\r\n\r\n\t\tconst vec2 CENTER = vec2(0.5);\r\n\r\n\t\tconst float VIGNETTE_OUT = 1.3;\r\n\t\tconst float VIGNETTE_IN = 0.0;\r\n\t\tconst float VIGNETTE_FADE = 22.0; \r\n\r\n\t\tfloat d = distance(vUv, CENTER);\r\n\t\td = smoothstep(VIGNETTE_OUT + (fStop / VIGNETTE_FADE), VIGNETTE_IN + (fStop / VIGNETTE_FADE), d);\r\n\r\n\t\treturn clamp(d, 0.0, 1.0);\r\n\r\n\t}\r\n\r\n#endif\r\n\r\nvec2 rand(vec2 coord) {\r\n\r\n\tvec2 noise;\r\n\r\n\t#ifdef NOISE\r\n\r\n\t\tconst float a = 12.9898;\r\n\t\tconst float b = 78.233;\r\n\t\tconst float c = 43758.5453;\r\n\r\n\t\tnoise.x = clamp(fract(sin(mod(dot(coord, vec2(a, b)), 3.14)) * c), 0.0, 1.0) * 2.0 - 1.0;\r\n\t\tnoise.y = clamp(fract(sin(mod(dot(coord, vec2(a, b) * 2.0), 3.14)) * c), 0.0, 1.0) * 2.0 - 1.0;\r\n\r\n\t#else\r\n\r\n\t\tnoise.x = ((fract(1.0 - coord.s * halfTexelSize.x) * 0.25) + (fract(coord.t * halfTexelSize.y) * 0.75)) * 2.0 - 1.0;\r\n\t\tnoise.y = ((fract(1.0 - coord.s * halfTexelSize.x) * 0.75) + (fract(coord.t * halfTexelSize.y) * 0.25)) * 2.0 - 1.0;\r\n\r\n\t#endif\r\n\r\n\treturn noise;\r\n\r\n}\r\n\r\nvec3 processTexel(vec2 coords, float blur) {\r\n\r\n\tconst vec3 LUM_COEFF = vec3(0.299, 0.587, 0.114);\r\n\r\n\tvec3 c;\r\n\tc.r = texture2D(tDiffuse, coords + vec2(0.0, 1.0) * texelSize * fringe * blur).r;\r\n\tc.g = texture2D(tDiffuse, coords + vec2(-0.866, -0.5) * texelSize * fringe * blur).g;\r\n\tc.b = texture2D(tDiffuse, coords + vec2(0.866, -0.5) * texelSize * fringe * blur).b;\r\n\r\n\t// Calculate the luminance of the constructed colour.\r\n\tfloat luminance = dot(c.rgb, LUM_COEFF);\r\n\tfloat threshold = max((luminance - luminanceThreshold) * luminanceGain, 0.0);\r\n\r\n\treturn c + mix(vec3(0.0), c, threshold * blur);\r\n\r\n}\r\n\r\nfloat readDepth(sampler2D depthSampler, vec2 coord) {\r\n\r\n\tfloat fragCoordZ = texture2D(depthSampler, coord).x;\r\n\tfloat viewZ = perspectiveDepthToViewZ(fragCoordZ, cameraNear, cameraFar);\r\n\r\n\treturn viewZToOrthographicDepth(viewZ, cameraNear, cameraFar);\r\n\r\n}\r\n\r\nfloat linearize(float depth) {\r\n\r\n\treturn -cameraFar * cameraNear / (depth * (cameraFar - cameraNear) - cameraFar);\r\n\r\n}\r\n\r\nfloat gather(float i, float j, float ringSamples, inout vec3 color, float w, float h, float blur) {\r\n\r\n\tconst float TWO_PI = 6.28318531;\r\n\r\n\tfloat step = TWO_PI / ringSamples;\r\n\tfloat pw = cos(j * step) * i;\r\n\tfloat ph = sin(j * step) * i;\r\n\r\n\t#ifdef PENTAGON\r\n\r\n\t\tfloat p = penta(vec2(pw, ph));\r\n\r\n\t#else\r\n\r\n\t\tfloat p = 1.0;\r\n\r\n\t#endif\r\n\r\n\tcolor += processTexel(vUv + vec2(pw * w, ph * h), blur) * mix(1.0, i / RINGS_FLOAT, bias) * p;\r\n\r\n\treturn mix(1.0, i / RINGS_FLOAT, bias) * p;\r\n\r\n}\r\n\r\nvoid main() {\r\n\r\n\tfloat depth = linearize(readDepth(tDepth, vUv));\r\n\r\n\t#ifdef SHADER_FOCUS\r\n\r\n\t\tfloat fDepth = linearize(readDepth(tDepth, focusCoords));\r\n\r\n\t#else\r\n\r\n\t\tfloat fDepth = focalDepth;\r\n\r\n\t#endif\r\n\r\n\t#ifdef MANUAL_DOF\r\n\r\n\t\tconst float nDoFStart = 1.0; \r\n\t\tconst float nDoFDist = 2.0;\r\n\t\tconst float fDoFStart = 1.0;\r\n\t\tconst float fDoFDist = 3.0;\r\n\r\n\t\tfloat focalPlane = depth - fDepth;\r\n\t\tfloat farDoF = (focalPlane - fDoFStart) / fDoFDist;\r\n\t\tfloat nearDoF = (-focalPlane - nDoFStart) / nDoFDist;\r\n\r\n\t\tfloat blur = (focalPlane > 0.0) ? farDoF : nearDoF;\r\n\r\n\t#else\r\n\r\n\t\tconst float CIRCLE_OF_CONFUSION = 0.03; // 35mm film = 0.03mm CoC.\r\n\r\n\t\tfloat focalPlaneMM = fDepth * 1000.0;\r\n\t\tfloat depthMM = depth * 1000.0;\r\n\r\n\t\tfloat focalPlane = (depthMM * focalLength) / (depthMM - focalLength);\r\n\t\tfloat farDoF = (focalPlaneMM * focalLength) / (focalPlaneMM - focalLength);\r\n\t\tfloat nearDoF = (focalPlaneMM - focalLength) / (focalPlaneMM * fStop * CIRCLE_OF_CONFUSION);\r\n\r\n\t\tfloat blur = abs(focalPlane - farDoF) * nearDoF;\r\n\r\n\t#endif\r\n\r\n\tblur = clamp(blur, 0.0, 1.0);\r\n\r\n\t// Dithering.\r\n\tvec2 noise = rand(vUv) * ditherStrength * blur;\r\n\r\n\tfloat blurFactorX = texelSize.x * blur * maxBlur + noise.x;\r\n\tfloat blurFactorY = texelSize.y * blur * maxBlur + noise.y;\r\n\r\n\tconst int MAX_RING_SAMPLES = RINGS_INT * SAMPLES_INT;\r\n\r\n\t// Calculation of final color.\r\n\tvec4 color;\r\n\r\n\tif(blur < 0.05) {\r\n\r\n\t\tcolor = texture2D(tDiffuse, vUv);\r\n\r\n\t} else {\r\n\r\n\t\tcolor = texture2D(tDiffuse, vUv);\r\n\r\n\t\tfloat s = 1.0;\r\n\t\tint ringSamples;\r\n\r\n\t\tfor(int i = 1; i <= RINGS_INT; ++i) {\r\n\r\n\t\t\tringSamples = i * SAMPLES_INT;\r\n\r\n\t\t\t// Constant loop.\r\n\t\t\tfor(int j = 0; j < MAX_RING_SAMPLES; ++j) {\r\n\r\n\t\t\t\t// Break earlier.\r\n\t\t\t\tif(j >= ringSamples) { break; }\r\n\r\n\t\t\t\ts += gather(float(i), float(j), float(ringSamples), color.rgb, blurFactorX, blurFactorY, blur);\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tcolor.rgb /= s; // Divide by sample count.\r\n\r\n\t}\r\n\r\n\t#ifdef SHOW_FOCUS\r\n\r\n\t\tcolor.rgb = debugFocus(color.rgb, blur, depth);\r\n\r\n\t#endif\r\n\r\n\t#ifdef VIGNETTE\r\n\r\n\t\tcolor.rgb *= vignette();\r\n\r\n\t#endif\r\n\r\n\tgl_FragColor = color;\r\n\r\n}\r\n",d="varying vec2 vUv;\r\n\r\nvoid main() {\r\n\r\n\tvUv = uv;\r\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\r\n\r\n}\r\n",p=function(t){function r(t,n){i(this,r),void 0===n&&(n={}),void 0===n.rings&&(n.rings=3),void 0===n.samples&&(n.samples=2),void 0===n.showFocus&&(n.showFocus=!1),void 0===n.showFocus&&(n.showFocus=!1),void 0===n.manualDoF&&(n.manualDoF=!1),void 0===n.vignette&&(n.vignette=!1),void 0===n.pentagon&&(n.pentagon=!1),void 0===n.shaderFocus&&(n.shaderFocus=!0),void 0===n.noise&&(n.noise=!0);var o=s(this,Object.getPrototypeOf(r).call(this,{type:"Bokeh2Material",defines:{RINGS_INT:n.rings.toFixed(0),RINGS_FLOAT:n.rings.toFixed(1),SAMPLES_INT:n.samples.toFixed(0),SAMPLES_FLOAT:n.samples.toFixed(1)},uniforms:{tDiffuse:{value:null},tDepth:{value:null},texelSize:{value:new e.Vector2},halfTexelSize:{value:new e.Vector2},cameraNear:{value:.1},cameraFar:{value:2e3},focalLength:{value:24},fStop:{value:.9},maxBlur:{value:1},luminanceThreshold:{value:.5},luminanceGain:{value:2},bias:{value:.5},fringe:{value:.7},ditherStrength:{value:1e-4},focusCoords:{value:new e.Vector2(.5,.5)},focalDepth:{value:1}},fragmentShader:f,vertexShader:d}));return n.showFocus&&(o.defines.SHOW_FOCUS="1"),n.manualDoF&&(o.defines.MANUAL_DOF="1"),n.vignette&&(o.defines.VIGNETTE="1"),n.pentagon&&(o.defines.PENTAGON="1"),n.shaderFocus&&(o.defines.SHADER_FOCUS="1"),n.noise&&(o.defines.NOISE="1"),void 0!==n.texelSize&&o.setTexelSize(n.texelSize.x,n.texelSize.y),void 0!==t&&o.adoptCameraSettings(t),o}return a(r,t),o(r,[{key:"setTexelSize",value:function(t,e){this.uniforms.texelSize.value.set(t,e),this.uniforms.halfTexelSize.value.set(t,e).multiplyScalar(.5)}},{key:"adoptCameraSettings",value:function(t){this.uniforms.cameraNear.value=t.near,this.uniforms.cameraFar.value=t.far,this.uniforms.focalLength.value=t.getFocalLength()}}]),r}(e.ShaderMaterial),v="uniform sampler2D texture1;\r\nuniform sampler2D texture2;\r\n\r\nuniform float opacity1;\r\nuniform float opacity2;\r\n\r\nvarying vec2 vUv;\r\n\r\nvoid main() {\r\n\r\n\tvec4 texel1 = texture2D(texture1, vUv);\r\n\tvec4 texel2 = texture2D(texture2, vUv);\r\n\r\n\t#ifdef INVERT_TEX1\r\n\r\n\t\ttexel1.rgb = vec3(1.0) - texel1.rgb;\r\n\r\n\t#endif\r\n\r\n\t#ifdef INVERT_TEX2\r\n\r\n\t\ttexel2.rgb = vec3(1.0) - texel2.rgb;\r\n\r\n\t#endif\r\n\r\n\tgl_FragColor = opacity1 * texel1 + opacity2 * texel2;\r\n\r\n}\r\n",m="varying vec2 vUv;\r\n\r\nvoid main() {\r\n\r\n\tvUv = uv;\r\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\r\n\r\n}\r\n",g=function(t){function e(t,r){i(this,e);var n=s(this,Object.getPrototypeOf(e).call(this,{type:"CombineMaterial",uniforms:{texture1:{value:null},texture2:{value:null},opacity1:{value:1},opacity2:{value:1}},fragmentShader:v,vertexShader:m}));return t&&(n.defines.INVERT_TEX1="1"),r&&(n.defines.INVERT_TEX2="1"),n}return a(e,t),e}(e.ShaderMaterial),y="uniform sampler2D tDiffuse;\r\n\r\nvarying vec2 vUv0;\r\nvarying vec2 vUv1;\r\nvarying vec2 vUv2;\r\nvarying vec2 vUv3;\r\n\r\nvoid main() {\r\n\r\n\t// Sample top left texel.\r\n\tvec4 sum = texture2D(tDiffuse, vUv0);\r\n\r\n\t// Sample top right texel.\r\n\tsum += texture2D(tDiffuse, vUv1);\r\n\r\n\t// Sample bottom right texel.\r\n\tsum += texture2D(tDiffuse, vUv2);\r\n\r\n\t// Sample bottom left texel.\r\n\tsum += texture2D(tDiffuse, vUv3);\r\n\r\n\t// Compute the average.\r\n\tgl_FragColor = sum * 0.25;\r\n\r\n}\r\n",_="uniform vec2 texelSize;\r\nuniform vec2 halfTexelSize;\r\nuniform float kernel;\r\n\r\nvarying vec2 vUv0;\r\nvarying vec2 vUv1;\r\nvarying vec2 vUv2;\r\nvarying vec2 vUv3;\r\n\r\nvoid main() {\r\n\r\n\tvec2 dUv = (texelSize * vec2(kernel)) + halfTexelSize;\r\n\r\n\tvUv0 = vec2(uv.x - dUv.x, uv.y + dUv.y);\r\n\tvUv1 = vec2(uv.x + dUv.x, uv.y + dUv.y);\r\n\tvUv2 = vec2(uv.x + dUv.x, uv.y - dUv.y);\r\n\tvUv3 = vec2(uv.x - dUv.x, uv.y - dUv.y);\r\n\r\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\r\n\r\n}\r\n",x=function(t){function r(t){i(this,r);var n=s(this,Object.getPrototypeOf(r).call(this,{type:"ConvolutionMaterial",uniforms:{tDiffuse:{value:null},texelSize:{value:new e.Vector2},halfTexelSize:{value:new e.Vector2},kernel:{value:0}},fragmentShader:y,vertexShader:_}));return n.kernels=new Float32Array([0,1,2,2,3]),n.scale=1,n.currentKernel=0,void 0!==t&&n.setTexelSize(t.x,t.y),n}return a(r,t),o(r,[{key:"setTexelSize",value:function(t,e){this.uniforms.texelSize.value.set(t,e),this.uniforms.halfTexelSize.value.set(t,e).multiplyScalar(.5)}},{key:"adjustKernel",value:function(){this.uniforms.kernel.value=this.kernels[this.currentKernel]*this.scale,++this.currentKernel>=this.kernels.length&&(this.currentKernel=0)}}]),r}(e.ShaderMaterial),b="uniform sampler2D tDiffuse;\r\nuniform float opacity;\r\n\r\nvarying vec2 vUv;\r\n\r\nvoid main() {\r\n\r\n\tvec4 texel = texture2D(tDiffuse, vUv);\r\n\tgl_FragColor = opacity * texel;\r\n\r\n}\r\n",w="varying vec2 vUv;\r\n\r\nvoid main() {\r\n\r\n\tvUv = uv;\r\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\r\n\r\n}\r\n",T=function(t){function e(){return i(this,e),s(this,Object.getPrototypeOf(e).call(this,{type:"CopyMaterial",uniforms:{tDiffuse:{value:null},opacity:{value:1}},fragmentShader:b,vertexShader:w}))}return a(e,t),e}(e.ShaderMaterial),E="uniform sampler2D tDiffuse;\r\n\r\nuniform float angle;\r\nuniform float scale;\r\nuniform float intensity;\r\n\r\nvarying vec2 vUv;\r\nvarying vec2 vUvPattern;\r\n\r\nfloat pattern() {\r\n\r\n\tfloat s = sin(angle);\r\n\tfloat c = cos(angle);\r\n\r\n\tvec2 point = vec2(c * vUvPattern.x - s * vUvPattern.y, s * vUvPattern.x + c * vUvPattern.y) * scale;\r\n\r\n\treturn (sin(point.x) * sin(point.y)) * 4.0;\r\n\r\n}\r\n\r\nvoid main() {\r\n\r\n\tvec4 texel = texture2D(tDiffuse, vUv);\r\n\tvec3 color = texel.rgb;\r\n\r\n\t#ifdef AVERAGE\r\n\r\n\t\tcolor = vec3((color.r + color.g + color.b) / 3.0);\r\n\r\n\t#endif\r\n\r\n\tcolor = vec3(color * 10.0 - 5.0 + pattern());\r\n\tcolor = texel.rgb + (color - texel.rgb) * intensity;\r\n\r\n\tgl_FragColor = vec4(color, texel.a);\r\n\r\n}\r\n",S="uniform vec4 offsetRepeat;\r\n\r\nvarying vec2 vUv;\r\nvarying vec2 vUvPattern;\r\n\r\nvoid main() {\r\n\r\n\tvUv = uv;\r\n\tvUvPattern = uv * offsetRepeat.zw + offsetRepeat.xy;\r\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\r\n\r\n}\r\n",M=function(t){function r(t){i(this,r);var n=s(this,Object.getPrototypeOf(r).call(this,{type:"DotScreenMaterial",uniforms:{tDiffuse:{value:null},angle:{value:1.57},scale:{value:1},intensity:{value:1},offsetRepeat:{value:new e.Vector4(.5,.5,1,1)}},fragmentShader:E,vertexShader:S}));return t&&(n.defines.AVERAGE="1"),n}return a(r,t),r}(e.ShaderMaterial),A="uniform sampler2D tDiffuse;\r\nuniform float time;\r\n\r\nvarying vec2 vUv;\r\n\r\n#ifdef NOISE\r\n\r\n\tuniform float noiseIntensity;\r\n\r\n#endif\r\n\r\n#ifdef SCANLINES\r\n\r\n\tuniform float scanlineIntensity;\r\n\tuniform float scanlineCount;\r\n\r\n#endif\r\n\r\n#ifdef GREYSCALE\r\n\r\n\tuniform float greyscaleIntensity;\r\n\r\n\tconst vec3 LUM_COEFF = vec3(0.299, 0.587, 0.114);\r\n\r\n#elif defined(SEPIA)\r\n\r\n\tuniform float sepiaIntensity;\r\n\r\n#endif\r\n\r\n#ifdef VIGNETTE\r\n\r\n\tuniform float vignetteOffset;\r\n\tuniform float vignetteDarkness;\r\n\r\n#endif\r\n\r\nvoid main() {\r\n\r\n\tvec4 texel = texture2D(tDiffuse, vUv);\r\n\tvec3 color = texel.rgb;\r\n\r\n\t#ifdef NOISE\r\n\r\n\t\tfloat x = vUv.x * vUv.y * time * 1000.0;\r\n\t\tx = mod(x, 13.0) * mod(x, 123.0);\r\n\t\tx = mod(x, 0.01);\r\n\r\n\t\tcolor += texel.rgb * clamp(0.1 + x * 100.0, 0.0, 1.0) * noiseIntensity;\r\n\r\n\t#endif\r\n\r\n\t#ifdef SCANLINES\r\n\r\n\t\tvec2 sl = vec2(sin(vUv.y * scanlineCount), cos(vUv.y * scanlineCount));\r\n\t\tcolor += texel.rgb * vec3(sl.x, sl.y, sl.x) * scanlineIntensity;\r\n\r\n\t#endif\r\n\r\n\t#ifdef GREYSCALE\r\n\r\n\t\tcolor = mix(color, vec3(dot(color, LUM_COEFF)), greyscaleIntensity);\r\n\r\n\t#elif defined(SEPIA)\r\n\r\n\t\tvec3 c = color.rgb;\r\n\r\n\t\tcolor.r = dot(c, vec3(1.0 - 0.607 * sepiaIntensity, 0.769 * sepiaIntensity, 0.189 * sepiaIntensity));\r\n\t\tcolor.g = dot(c, vec3(0.349 * sepiaIntensity, 1.0 - 0.314 * sepiaIntensity, 0.168 * sepiaIntensity));\r\n\t\tcolor.b = dot(c, vec3(0.272 * sepiaIntensity, 0.534 * sepiaIntensity, 1.0 - 0.869 * sepiaIntensity));\r\n\r\n\t#endif\r\n\r\n\t#ifdef VIGNETTE\r\n\r\n\t\tconst vec2 CENTER = vec2(0.5);\r\n\r\n\t\t#ifdef ESKIL\r\n\r\n\t\t\tvec2 uv = (vUv - CENTER) * vec2(vignetteOffset);\r\n\t\t\tcolor = mix(color.rgb, vec3(1.0 - vignetteDarkness), dot(uv, uv));\r\n\r\n\t\t#else\r\n\r\n\t\t\tfloat dist = distance(vUv, CENTER);\r\n\t\t\tcolor *= smoothstep(0.8, vignetteOffset * 0.799, dist * (vignetteDarkness + vignetteOffset));\r\n\r\n\t\t#endif\t\t\r\n\r\n\t#endif\r\n\r\n\tgl_FragColor = vec4(clamp(color, 0.0, 1.0), texel.a);\r\n\r\n}\r\n",P="varying vec2 vUv;\r\n\r\nvoid main() {\r\n\r\n\tvUv = uv;\r\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\r\n\r\n}\r\n",C=function(t){function e(t){i(this,e),void 0===t&&(t={});var r=s(this,Object.getPrototypeOf(e).call(this,{type:"FilmMaterial",uniforms:{tDiffuse:{value:null},time:{value:0},noiseIntensity:{value:void 0!==t.noiseIntensity?t.noiseIntensity:.5},scanlineIntensity:{value:void 0!==t.scanlineIntensity?t.scanlineIntensity:.05},scanlineCount:{value:0},greyscaleIntensity:{value:void 0!==t.greyscaleIntensity?t.greyscaleIntensity:1},sepiaIntensity:{value:void 0!==t.sepiaIntensity?t.sepiaIntensity:1},vignetteOffset:{value:void 0!==t.vignetteOffset?t.vignetteOffset:1},vignetteDarkness:{value:void 0!==t.vignetteDarkness?t.vignetteDarkness:1}},fragmentShader:A,vertexShader:P}));return(void 0===t.scanlines||t.scanlines)&&(r.defines.SCANLINES="1"),(void 0===t.noise||t.noise)&&(r.defines.NOISE="1"),t.greyscale&&(r.defines.GREYSCALE="1"),t.sepia&&(r.defines.SEPIA="1"),t.vignette&&(r.defines.VIGNETTE="1"),t.eskil&&(r.defines.ESKIL="1"),r}return a(e,t),e}(e.ShaderMaterial),O="uniform sampler2D tDiffuse;\r\nuniform sampler2D tPerturb;\r\n\r\nuniform bool active;\r\n\r\nuniform float amount;\r\nuniform float angle;\r\nuniform float seed;\r\nuniform float seedX;\r\nuniform float seedY;\r\nuniform float distortionX;\r\nuniform float distortionY;\r\nuniform float colS;\r\n\r\nvarying vec2 vUv;\r\n\r\nfloat rand(vec2 tc) {\r\n\r\n\tconst float a = 12.9898;\r\n\tconst float b = 78.233;\r\n\tconst float c = 43758.5453;\r\n\r\n\tfloat dt = dot(tc, vec2(a, b));\r\n\tfloat sn = mod(dt, 3.14);\r\n\r\n\treturn fract(sin(sn) * c);\r\n\r\n}\r\n\r\nvoid main() {\r\n\r\n\tvec2 coord = vUv;\r\n\r\n\tfloat xs, ys;\r\n\tvec4 normal;\r\n\r\n\tvec2 offset;\r\n\tvec4 cr, cga, cb;\r\n\tvec4 snow, color;\r\n\r\n\tfloat sx, sy;\r\n\r\n\tif(active) {\r\n\r\n\t\txs = floor(gl_FragCoord.x / 0.5);\r\n\t\tys = floor(gl_FragCoord.y / 0.5);\r\n\r\n\t\tnormal = texture2D(tPerturb, coord * seed * seed);\r\n\r\n\t\tif(coord.y < distortionX + colS && coord.y > distortionX - colS * seed) {\r\n\r\n\t\t\tsx = clamp(ceil(seedX), 0.0, 1.0);\r\n\t\t\tcoord.y = sx * (1.0 - (coord.y + distortionY)) + (1.0 - sx) * distortionY;\r\n\r\n\t\t}\r\n\r\n\t\tif(coord.x < distortionY + colS && coord.x > distortionY - colS * seed) {\r\n\r\n\t\t\tsy = clamp(ceil(seedY), 0.0, 1.0);\r\n\t\t\tcoord.x = sy * distortionX + (1.0 - sy) * (1.0 - (coord.x + distortionX));\r\n\r\n\t\t}\r\n\r\n\t\tcoord.x += normal.x * seedX * (seed / 5.0);\r\n\t\tcoord.y += normal.y * seedY * (seed / 5.0);\r\n\r\n\t\toffset = amount * vec2(cos(angle), sin(angle));\r\n\r\n\t\tcr = texture2D(tDiffuse, coord + offset);\r\n\t\tcga = texture2D(tDiffuse, coord);\r\n\t\tcb = texture2D(tDiffuse, coord - offset);\r\n\r\n\t\tcolor = vec4(cr.r, cga.g, cb.b, cga.a);\r\n\t\tsnow = 200.0 * amount * vec4(rand(vec2(xs * seed, ys * seed * 50.0)) * 0.2);\r\n\t\tcolor += snow;\r\n\r\n\t} else {\r\n\r\n\t\tcolor = texture2D(tDiffuse, vUv);\r\n\r\n\t}\r\n\r\n\tgl_FragColor = color;\r\n\r\n}\r\n",R="varying vec2 vUv;\r\n\r\nvoid main() {\r\n\r\n\tvUv = uv;\r\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\r\n\r\n}\r\n",D=function(t){function e(){return i(this,e),s(this,Object.getPrototypeOf(e).call(this,{type:"GlitchMaterial",uniforms:{tDiffuse:{value:null},tPerturb:{value:null},active:{value:1},amount:{value:.8},angle:{value:.02},seed:{value:.02},seedX:{value:.02},seedY:{value:.02},distortionX:{value:.5},distortionY:{value:.6},colS:{value:.05}},fragmentShader:O,vertexShader:R}))}return a(e,t),e}(e.ShaderMaterial),L="uniform sampler2D tDiffuse;\r\nuniform vec3 lightPosition;\r\n\r\nuniform float exposure;\r\nuniform float decay;\r\nuniform float density;\r\nuniform float weight;\r\nuniform float clampMax;\r\n\r\nvarying vec2 vUv;\r\n\r\nvoid main() {\r\n\r\n\tvec2 texCoord = vUv;\r\n\r\n\t// Calculate vector from pixel to light source in screen space.\r\n\tvec2 deltaTexCoord = texCoord - lightPosition.st;\r\n\tdeltaTexCoord *= 1.0 / NUM_SAMPLES_FLOAT * density;\r\n\r\n\t// A decreasing illumination factor.\r\n\tfloat illuminationDecay = 1.0;\r\n\r\n\tvec4 sample;\r\n\tvec4 color = vec4(0.0);\r\n\r\n\t// Estimate the probability of occlusion at each pixel by summing samples along a ray to the light source.\r\n\tfor(int i = 0; i < NUM_SAMPLES_INT; ++i) {\r\n\r\n\t\ttexCoord -= deltaTexCoord;\r\n\t\tsample = texture2D(tDiffuse, texCoord);\r\n\r\n\t\t// Apply sample attenuation scale/decay factors.\r\n\t\tsample *= illuminationDecay * weight;\r\n\r\n\t\tcolor += sample;\r\n\r\n\t\t// Update exponential decay factor.\r\n\t\tilluminationDecay *= decay;\r\n\r\n\t}\r\n\r\n\tgl_FragColor = clamp(color * exposure, 0.0, clampMax);\r\n\r\n}\r\n",I="varying vec2 vUv;\r\n\r\nvoid main() {\r\n\r\n\tvUv = uv;\r\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\r\n\r\n}\r\n",F=function(t){function e(){return i(this,e),s(this,Object.getPrototypeOf(e).call(this,{type:"GodRaysMaterial",defines:{NUM_SAMPLES_FLOAT:"60.0",NUM_SAMPLES_INT:"60"},uniforms:{tDiffuse:{value:null},lightPosition:{value:null},exposure:{value:.6},decay:{value:.93},density:{value:.96},weight:{value:.4},clampMax:{value:1}},fragmentShader:L,vertexShader:I}))}return a(e,t),e}(e.ShaderMaterial),N="uniform sampler2D tDiffuse;\r\nuniform float distinction;\r\nuniform vec2 range;\r\n\r\nvarying vec2 vUv;\r\n\r\nvoid main() {\r\n\r\n\tconst vec4 LUM_COEFF = vec4(0.299, 0.587, 0.114, 0.0);\r\n\r\n\tvec4 texel = texture2D(tDiffuse, vUv);\r\n\tfloat v = dot(texel, LUM_COEFF);\r\n\r\n\t#ifdef RANGE\r\n\r\n\t\tfloat low = step(range.x, v);\r\n\t\tfloat high = step(v, range.y);\r\n\r\n\t\t// Apply the mask.\r\n\t\tv *= low * high;\r\n\r\n\t#endif\r\n\r\n\tv = pow(abs(v), distinction);\r\n\r\n\t#ifdef COLOR\r\n\r\n\t\tgl_FragColor = vec4(texel.rgb * v, texel.a);\r\n\r\n\t#else\r\n\r\n\t\tgl_FragColor = vec4(v, v, v, texel.a);\r\n\r\n\t#endif\r\n\r\n}\r\n",k="varying vec2 vUv;\r\n\r\nvoid main() {\r\n\r\n\tvUv = uv;\r\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\r\n\r\n}\r\n",U=function(t){function r(t,n){i(this,r);var o=s(this,Object.getPrototypeOf(r).call(this,{type:"LuminosityMaterial",uniforms:{tDiffuse:{value:null},distinction:{value:1},range:{value:void 0!==n?n:new e.Vector2}},fragmentShader:N,vertexShader:k}));return void 0!==t&&(o.defines.COLOR="1"),void 0!==n&&(o.defines.RANGE="1"),o}return a(r,t),r}(e.ShaderMaterial),B="uniform sampler2D tDiffuse;\r\nuniform sampler2D tWeights;\r\n\r\nuniform vec2 texelSize;\r\n\r\nvarying vec2 vUv;\r\nvarying vec4 vOffset;\r\n\r\nvoid main() {\r\n\r\n\t// Fetch the blending weights for current pixel.\r\n\tvec4 a;\r\n\ta.xz = texture2D(tWeights, vUv).xz;\r\n\ta.y = texture2D(tWeights, vOffset.zw).g;\r\n\ta.w = texture2D(tWeights, vOffset.xy).a;\r\n\r\n\tvec4 color;\r\n\r\n\t// Check if there is any blending weight with a value greater than 0.0.\r\n\tif(dot(a, vec4(1.0)) < 1e-5) {\r\n\r\n\t\tcolor = texture2D(tDiffuse, vUv, 0.0);\r\n\r\n\t} else {\r\n\r\n\t\t/* Up to four lines can be crossing a pixel (one through each edge). We favor\r\n\t\t * blending by choosing the line with the maximum weight for each direction.\r\n\t\t */\r\n\r\n\t\tvec2 offset;\r\n\t\toffset.x = a.a > a.b ? a.a : -a.b; // Left vs. right.\r\n\t\toffset.y = a.g > a.r ? -a.g : a.r; // Top vs. bottom (changed signs).\r\n\r\n\t\t// Then we go in the direction that has the maximum weight (horizontal vs. vertical).\r\n\t\tif(abs(offset.x) > abs(offset.y)) {\r\n\r\n\t\t\toffset.y = 0.0;\r\n\r\n\t\t} else {\r\n\r\n\t\t\toffset.x = 0.0;\r\n\r\n\t\t}\r\n\r\n\t\t// Fetch the opposite color and lerp by hand.\r\n\t\tcolor = texture2D(tDiffuse, vUv, 0.0);\r\n\t\tvec2 coord = vUv + sign(offset) * texelSize;\r\n\t\tvec4 oppositeColor = texture2D(tDiffuse, coord, 0.0);\r\n\t\tfloat s = abs(offset.x) > abs(offset.y) ? abs(offset.x) : abs(offset.y);\r\n\r\n\t\t// Gamma correction.\r\n\t\tcolor.rgb = pow(abs(color.rgb), vec3(2.2));\r\n\t\toppositeColor.rgb = pow(abs(oppositeColor.rgb), vec3(2.2));\r\n\t\tcolor = mix(color, oppositeColor, s);\r\n\t\tcolor.rgb = pow(abs(color.rgb), vec3(1.0 / 2.2));\r\n\r\n\t}\r\n\r\n\tgl_FragColor = color;\r\n\r\n}\r\n",z="uniform vec2 texelSize;\r\n\r\nvarying vec2 vUv;\r\nvarying vec4 vOffset;\r\n\r\nvoid main() {\r\n\r\n\tvUv = uv;\r\n\r\n\tvOffset = uv.xyxy + texelSize.xyxy * vec4(1.0, 0.0, 0.0, -1.0); // Changed sign in W component.\r\n\r\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\r\n\r\n}\r\n",j=function(t){
function r(t){return i(this,r),s(this,Object.getPrototypeOf(r).call(this,{type:"SMAABlendMaterial",uniforms:{tDiffuse:{value:null},tWeights:{value:null},texelSize:{value:void 0!==t?t:new e.Vector2}},fragmentShader:B,vertexShader:z}))}return a(r,t),r}(e.ShaderMaterial),G="uniform sampler2D tDiffuse;\r\n\r\nvarying vec2 vUv;\r\nvarying vec4 vOffset[3];\r\n\r\nvoid main() {\r\n\r\n\tconst vec2 THRESHOLD = vec2(EDGE_THRESHOLD);\r\n\r\n\t// Calculate color deltas.\r\n\tvec4 delta;\r\n\tvec3 c = texture2D(tDiffuse, vUv).rgb;\r\n\r\n\tvec3 cLeft = texture2D(tDiffuse, vOffset[0].xy).rgb;\r\n\tvec3 t = abs(c - cLeft);\r\n\tdelta.x = max(max(t.r, t.g), t.b);\r\n\r\n\tvec3 cTop = texture2D(tDiffuse, vOffset[0].zw).rgb;\r\n\tt = abs(c - cTop);\r\n\tdelta.y = max(max(t.r, t.g), t.b);\r\n\r\n\t// We do the usual threshold.\r\n\tvec2 edges = step(THRESHOLD, delta.xy);\r\n\r\n\t// Then discard if there is no edge.\r\n\tif(dot(edges, vec2(1.0)) == 0.0) {\r\n\r\n\t\tdiscard;\r\n\r\n\t}\r\n\r\n\t// Calculate right and bottom deltas.\r\n\tvec3 cRight = texture2D(tDiffuse, vOffset[1].xy).rgb;\r\n\tt = abs(c - cRight);\r\n\tdelta.z = max(max(t.r, t.g), t.b);\r\n\r\n\tvec3 cBottom  = texture2D(tDiffuse, vOffset[1].zw).rgb;\r\n\tt = abs(c - cBottom);\r\n\tdelta.w = max(max(t.r, t.g), t.b);\r\n\r\n\t// Calculate the maximum delta in the direct neighborhood.\r\n\tfloat maxDelta = max(max(max(delta.x, delta.y), delta.z), delta.w);\r\n\r\n\t// Calculate left-left and top-top deltas.\r\n\tvec3 cLeftLeft  = texture2D(tDiffuse, vOffset[2].xy).rgb;\r\n\tt = abs(c - cLeftLeft);\r\n\tdelta.z = max(max(t.r, t.g), t.b);\r\n\r\n\tvec3 cTopTop = texture2D(tDiffuse, vOffset[2].zw).rgb;\r\n\tt = abs(c - cTopTop);\r\n\tdelta.w = max(max(t.r, t.g), t.b);\r\n\r\n\t// Calculate the final maximum delta.\r\n\tmaxDelta = max(max(maxDelta, delta.z), delta.w);\r\n\r\n\t// Local contrast adaptation in action.\r\n\tedges.xy *= step(0.5 * maxDelta, delta.xy);\r\n\r\n\tgl_FragColor = vec4(edges, 0.0, 0.0);\r\n\r\n}\r\n",H="uniform vec2 texelSize;\r\n\r\nvarying vec2 vUv;\r\nvarying vec4 vOffset[3];\r\n\r\nvoid main() {\r\n\r\n\tvUv = uv;\r\n\r\n\tvOffset[0] = uv.xyxy + texelSize.xyxy * vec4(-1.0, 0.0, 0.0, 1.0); // Changed sign in W component.\r\n\tvOffset[1] = uv.xyxy + texelSize.xyxy * vec4(1.0, 0.0, 0.0, -1.0); // Changed sign in W component.\r\n\tvOffset[2] = uv.xyxy + texelSize.xyxy * vec4(-2.0, 0.0, 0.0, 2.0); // Changed sign in W component.\r\n\r\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\r\n\r\n}\r\n",X=function(t){function r(t){return i(this,r),s(this,Object.getPrototypeOf(r).call(this,{type:"SMAAColorEdgesMaterial",defines:{EDGE_THRESHOLD:"0.1"},uniforms:{tDiffuse:{value:null},texelSize:{value:void 0!==t?t:new e.Vector2}},fragmentShader:G,vertexShader:H}))}return a(r,t),r}(e.ShaderMaterial),V="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAKAAAAIwCAIAAACOVPcQAACBeklEQVR42u39W4xlWXrnh/3WWvuciIzMrKxrV8/0rWbY0+SQFKcb4owIkSIFCjY9AC1BT/LYBozRi+EX+cV+8IMsYAaCwRcBwjzMiw2jAWtgwC8WR5Q8mDFHZLNHTarZGrLJJllt1W2qKrsumZWZcTvn7L3W54e1vrXX3vuciLPPORFR1XE2EomorB0nVuz//r71re/y/1eMvb4Cb3N11xV/PP/2v4UBAwJG/7H8urx6/25/Gf8O5hypMQ0EEEQwAqLfoN/Z+97f/SW+/NvcgQk4sGBJK6H7N4PFVL+K+e0N11yNfkKvwUdwdlUAXPHHL38oa15f/i/46Ih6SuMSPmLAYAwyRKn7dfMGH97jaMFBYCJUgotIC2YAdu+LyW9vvubxAP8kAL8H/koAuOKP3+q6+xGnd5kdYCeECnGIJViwGJMAkQKfDvB3WZxjLKGh8VSCCzhwEWBpMc5/kBbjawT4HnwJfhr+pPBIu7uu+OOTo9vsmtQcniMBGkKFd4jDWMSCRUpLjJYNJkM+IRzQ+PQvIeAMTrBS2LEiaiR9b/5PuT6Ap/AcfAFO4Y3dA3DFH7/VS+M8k4baEAQfMI4QfbVDDGIRg7GKaIY52qAjTAgTvGBAPGIIghOCYAUrGFNgzA7Q3QhgCwfwAnwe5vDejgG44o/fbm1C5ZlYQvQDARPAIQGxCWBM+wWl37ZQESb4gImexGMDouhGLx1Cst0Saa4b4AqO4Hk4gxo+3DHAV/nx27p3JziPM2pVgoiia5MdEzCGULprIN7gEEeQ5IQxEBBBQnxhsDb5auGmAAYcHMA9eAAz8PBol8/xij9+C4Djlim4gJjWcwZBhCBgMIIYxGAVIkH3ZtcBuLdtRFMWsPGoY9rN+HoBji9VBYdwD2ZQg4cnO7OSq/z4rU5KKdwVbFAjNojCQzTlCLPFSxtamwh2jMUcEgg2Wm/6XgErIBhBckQtGN3CzbVacERgCnfgLswhnvqf7QyAq/z4rRZm1YglYE3affGITaZsdIe2FmMIpnOCap25I6jt2kCwCW0D1uAD9sZctNGXcQIHCkINDQgc78aCr+zjtw3BU/ijdpw3zhCwcaONwBvdeS2YZKkJNJsMPf2JKEvC28RXxxI0ASJyzQCjCEQrO4Q7sFArEzjZhaFc4cdv+/JFdKULM4px0DfUBI2hIsy06BqLhGTQEVdbfAIZXYMPesq6VoCHICzUyjwInO4Y411//LYLs6TDa9wvg2CC2rElgAnpTBziThxaL22MYhzfkghz6GAs2VHbbdM91VZu1MEEpupMMwKyVTb5ij9+u4VJG/5EgEMMmFF01cFai3isRbKbzb+YaU/MQbAm2XSMoUPAmvZzbuKYRIFApbtlrfFuUGd6vq2hXNnH78ZLh/iFhsQG3T4D1ib7k5CC6vY0DCbtrohgLEIClXiGtl10zc0CnEGIhhatLBva7NP58Tvw0qE8yWhARLQ8h4+AhQSP+I4F5xoU+VilGRJs6wnS7ruti/4KvAY/CfdgqjsMy4pf8fodQO8/gnuX3f/3xi3om1/h7THr+co3x93PP9+FBUfbNUjcjEmhcrkT+8K7ml7V10Jo05mpIEFy1NmCJWx9SIKKt+EjAL4Ez8EBVOB6havuT/rByPvHXK+9zUcfcbb254+9fydJknYnRr1oGfdaiAgpxu1Rx/Rek8KISftx3L+DfsLWAANn8Hvw0/AFeAGO9DFV3c6D+CcWbL8Dj9e7f+T1k8AZv/d7+PXWM/Z+VvdCrIvuAKO09RpEEQJM0Ci6+B4xhTWr4cZNOvhktabw0ta0rSJmqz3Yw5/AKXwenod7cAhTmBSPKf6JBdvH8IP17h95pXqw50/+BFnj88fev4NchyaK47OPhhtI8RFSvAfDSNh0Ck0p2gLxGkib5NJj/JWCr90EWQJvwBzO4AHcgztwAFN1evHPUVGwfXON+0debT1YeGON9Yy9/63X+OguiwmhIhQhD7l4sMqlG3D86Suc3qWZ4rWjI1X7u0Ytw6x3rIMeIOPDprfe2XzNgyj6PahhBjO4C3e6puDgXrdg+/5l948vF3bqwZetZ+z9Rx9zdIY5pInPK4Nk0t+l52xdK2B45Qd87nM8fsD5EfUhIcJcERw4RdqqH7Yde5V7m1vhNmtedkz6EDzUMF/2jJYWbC+4fzzA/Y+/8PPH3j9dcBAPIRP8JLXd5BpAu03aziOL3VVHZzz3CXWDPWd+SH2AnxIqQoTZpo9Ckc6HIrFbAbzNmlcg8Ag8NFDDAhbJvTBZXbC94P7t68EXfv6o+21gUtPETU7bbkLxvNKRFG2+KXzvtObonPP4rBvsgmaKj404DlshFole1Glfh02fE7bYR7dZ82oTewIBGn1Md6CG6YUF26X376oevOLzx95vhUmgblI6LBZwTCDY7vMq0op5WVXgsObOXJ+1x3qaBl9j1FeLxbhU9w1F+Wiba6s1X/TBz1LnUfuYDi4r2C69f1f14BWfP+p+W2GFKuC9phcELMYRRLur9DEZTUdEH+iEqWdaM7X4WOoPGI+ZYD2+wcQ+y+ioHUZ9dTDbArzxmi/bJI9BND0Ynd6lBdve/butBw8+f/T9D3ABa3AG8W3VPX4hBin+bj8dMMmSpp5pg7fJ6xrBFE2WQQEWnV8Qg3FbAWzYfM1rREEnmvkN2o1+acG2d/9u68GDzx91v3mAjb1zkpqT21OipPKO0b9TO5W0nTdOmAQm0TObts3aBKgwARtoPDiCT0gHgwnbArzxmtcLc08HgF1asN0C4Ms/fvD5I+7PhfqyXE/b7RbbrGyRQRT9ARZcwAUmgdoz0ehJ9Fn7QAhUjhDAQSw0bV3T3WbNa59jzmiP6GsWbGXDX2ytjy8+f9T97fiBPq9YeLdBmyuizZHaqXITnXiMUEEVcJ7K4j3BFPurtB4bixW8wTpweL8DC95szWMOqucFYGsWbGU7p3TxxxefP+r+oTVktxY0v5hbq3KiOKYnY8ddJVSBxuMMVffNbxwIOERShst73HZ78DZrHpmJmH3K6sGz0fe3UUj0eyRrSCGTTc+rjVNoGzNSv05srAxUBh8IhqChiQgVNIIBH3AVPnrsnXQZbLTm8ammv8eVXn/vWpaTem5IXRlt+U/LA21zhSb9cye6jcOfCnOwhIAYXAMVTUNV0QhVha9xjgA27ODJbLbmitt3tRN80lqG6N/khgot4ZVlOyO4WNg3OIMzhIZQpUEHieg2im6F91hB3I2tubql6BYNN9Hj5S7G0G2tahslBWKDnOiIvuAEDzakDQKDNFQT6gbn8E2y4BBubM230YIpBnDbMa+y3dx0n1S0BtuG62lCCXwcY0F72T1VRR3t2ONcsmDjbmzNt9RFs2LO2hQNyb022JisaI8rAWuw4HI3FuAIhZdOGIcdjLJvvObqlpqvWTJnnQbyi/1M9O8UxWhBs//H42I0q1Yb/XPGONzcmm+ri172mHKvZBpHkJaNJz6v9jxqiklDj3U4CA2ugpAaYMWqNXsdXbmJNd9egCnJEsphXNM+MnK3m0FCJ5S1kmJpa3DgPVbnQnPGWIDspW9ozbcO4K/9LkfaQO2KHuqlfFXSbdNzcEcwoqNEFE9zcIXu9/6n/ym/BC/C3aJLzEKPuYVlbFnfhZ8kcWxV3dbv4bKl28566wD+8C53aw49lTABp9PWbsB+knfc/Li3eVizf5vv/xmvnPKg5ihwKEwlrcHqucuVcVOxEv8aH37E3ZqpZypUulrHEtIWKUr+txHg+ojZDGlwnqmkGlzcVi1dLiNSJiHjfbRNOPwKpx9TVdTn3K05DBx4psIk4Ei8aCkJahRgffk4YnEXe07T4H2RR1u27E6wfQsBDofUgjFUFnwC2AiVtA+05J2zpiDK2Oa0c5fmAecN1iJzmpqFZxqYBCYhFTCsUNEmUnIcZ6aEA5rQVhEywG6w7HSW02XfOoBlQmjwulOFQAg66SvJblrTEX1YtJ3uG15T/BH1OfOQeuR8g/c0gdpT5fx2SKbs9EfHTKdM8A1GaJRHLVIwhcGyydZsbifAFVKl5EMKNU2Hryo+06BeTgqnxzYjThVySDikbtJPieco75lYfKAJOMEZBTjoITuWHXXZVhcUDIS2hpiXHV9Ku4u44bN5OYLDOkJo8w+xJSMbhBRHEdEs9JZUCkQrPMAvaHyLkxgkEHxiNkx/x2YB0mGsQ8EUWj/stW5YLhtS5SMu+/YBbNPDCkGTUybN8krRLBGPlZkVOA0j+a1+rkyQKWGaPHPLZOkJhioQYnVZ2hS3zVxMtgC46KuRwbJNd9nV2PHgb36F194ecf/Yeu2vAFe5nm/bRBFrnY4BauE8ERmZRFUn0k8hbftiVYSKMEme2dJCJSCGYAlNqh87bXOPdUkGy24P6d1ll21MBqqx48Fvv8ZHH8HZFY7j/uAq1xMJUFqCSUlJPmNbIiNsmwuMs/q9CMtsZsFO6SprzCS1Z7QL8xCQClEelpjTduDMsmWD8S1PT152BtvmIGvUeDA/yRn83u/x0/4qxoPHjx+PXY9pqX9bgMvh/Nz9kpP4pOe1/fYf3axUiMdHLlPpZCNjgtNFAhcHEDxTumNONhHrBduW+vOyY++70WWnPXj98eA4kOt/mj/5E05l9+O4o8ePx67HFqyC+qSSnyselqjZGaVK2TadbFLPWAQ4NBhHqDCCV7OTpo34AlSSylPtIdd2AJZlyzYQrDJ5lcWGNceD80CunPLGGzsfD+7wRb95NevJI5docQ3tgCyr5bGnyaPRlmwNsFELViOOx9loebGNq2moDOKpHLVP5al2cymWHbkfzGXL7kfRl44H9wZy33tvt+PB/Xnf93e+nh5ZlU18wCiRUa9m7kib9LYuOk+hudQNbxwm0AQqbfloimaB2lM5fChex+ylMwuTbfmXQtmWlenZljbdXTLuOxjI/fDDHY4Hjx8/Hrse0zXfPFxbUN1kKqSCCSk50m0Ajtx3ub9XHBKHXESb8iO6E+qGytF4nO0OG3SXzbJlhxBnKtKyl0NwybjvYCD30aMdjgePHz8eu56SVTBbgxJMliQ3Oauwg0QHxXE2Ez/EIReLdQj42Gzb4CLS0YJD9xUx7bsi0vJi5mUbW1QzL0h0PFk17rtiIPfJk52MB48fPx67npJJwyrBa2RCCQRTbGZSPCxTPOiND4G2pYyOQ4h4jINIJh5wFU1NFZt+IsZ59LSnDqBjZ2awbOku+yInunLcd8VA7rNnOxkPHj9+PGY9B0MWJJNozOJmlglvDMXDEozdhQWbgs/U6oBanGzLrdSNNnZFjOkmbi5bNt1lX7JLLhn3vXAg9/h4y/Hg8ePHI9dzQMEkWCgdRfYykYKnkP7D4rIujsujaKPBsB54vE2TS00ccvFY/Tth7JXeq1hz+qgVy04sAJawTsvOknHfCwdyT062HA8eP348Zj0vdoXF4pilKa2BROed+9fyw9rWRXeTFXESMOanvDZfJuJaSXouQdMdDJZtekZcLLvEeK04d8m474UDuaenW44Hjx8/Xns9YYqZpszGWB3AN/4VHw+k7WSFtJ3Qicuqb/NlVmgXWsxh570xg2UwxUw3WfO6B5nOuO8aA7lnZxuPB48fPx6znm1i4bsfcbaptF3zNT78eFPtwi1OaCNOqp1x3zUGcs/PN++AGD1+fMXrSVm2baTtPhPahbPhA71wIHd2bXzRa69nG+3CraTtPivahV/55tXWg8fyRY/9AdsY8VbSdp8V7cKrrgdfM//z6ILQFtJ2nxHtwmuoB4/kf74+gLeRtvvMaBdeSz34+vifx0YG20jbfTa0C6+tHrwe//NmOG0L8EbSdp8R7cLrrQe/996O+ai3ujQOskpTNULa7jOjXXj99eCd8lHvoFiwsbTdZ0a78PrrwTvlo966pLuRtB2fFe3Cm6oHP9kNH/W2FryxtN1nTLvwRurBO+Kj3pWXHidtx2dFu/Bm68Fb81HvykuPlrb7LGkX3mw9eGs+6h1Y8MbSdjegXcguQLjmevDpTQLMxtJ2N6NdyBZu9AbrwVvwUW+LbteULUpCdqm0HTelXbhNPe8G68Gb8lFvVfYfSNuxvrTdTWoXbozAzdaDZzfkorOj1oxVxlIMlpSIlpLrt8D4hrQL17z+c3h6hU/wv4Q/utps4+bm+6P/hIcf0JwQ5oQGPBL0eKPTYEXTW+eL/2DKn73J9BTXYANG57hz1cEMviVf/4tf5b/6C5pTQkMIWoAq7hTpOJjtAM4pxKu5vg5vXeUrtI09/Mo/5H+4z+Mp5xULh7cEm2QbRP2tFIKR7WM3fPf/jZ3SWCqLM2l4NxID5zB72HQXv3jj/8mLR5xXNA5v8EbFQEz7PpRfl1+MB/hlAN65qgDn3wTgH13hK7T59bmP+NIx1SHHU84nLOITt3iVz8mNO+lPrjGAnBFqmioNn1mTyk1ta47R6d4MrX7tjrnjYUpdUbv2rVr6YpVfsGG58AG8Ah9eyUN8CX4WfgV+G8LVWPDGb+Zd4cU584CtqSbMKxauxTg+dyn/LkVgA+IR8KHtejeFKRtTmLLpxN6mYVLjYxwXf5x2VofiZcp/lwKk4wGOpYDnoIZPdg/AAbwMfx0+ge9dgZvYjuqKe4HnGnykYo5TvJbG0Vj12JagRhwKa44H95ShkZa5RyLGGdfYvG7aw1TsF6iapPAS29mNS3NmsTQZCmgTzFwgL3upCTgtBTRwvGMAKrgLn4evwin8+afJRcff+8izUGUM63GOOuAs3tJkw7J4kyoNreqrpO6cYLQeFUd7TTpr5YOTLc9RUUogUOVJQ1GYJaFLAW0oTmKyYS46ZooP4S4EON3xQ5zC8/CX4CnM4c1PE8ApexpoYuzqlP3d4S3OJP8ZDK7cKWNaTlqmgDiiHwl1YsE41w1zT4iRTm3DBqxvOUsbMKKDa/EHxagtnta072ejc3DOIh5ojvh8l3tk1JF/AV6FU6jh3U8HwEazLgdCLYSQ+MYiAI2ltomkzttUb0gGHdSUUgsIYjTzLG3mObX4FBRaYtpDVNZrih9TgTeYOBxsEnN1gOCTM8Bsw/ieMc75w9kuAT6A+/AiHGvN/+Gn4KRkiuzpNNDYhDGFndWRpE6SVfm8U5bxnSgVV2jrg6JCKmneqey8VMFgq2+AM/i4L4RUbfSi27lNXZ7R7W9RTcq/q9fk4Xw3AMQd4I5ifAZz8FcVtm9SAom/dyN4lczJQW/kC42ZrHgcCoIf1oVMKkVItmMBi9cOeNHGLqOZk+QqQmrbc5YmYgxELUUN35z2iohstgfLIFmcMV7s4CFmI74L9+EFmGsi+tGnAOD4Yk9gIpo01Y4cA43BWGygMdr4YZekG3OBIUXXNukvJS8tqa06e+lSDCtnqqMFu6hWHXCF+WaYt64m9QBmNxi7Ioy7D+fa1yHw+FMAcPt7SysFLtoG4PXAk7JOA3aAxBRqUiAdU9Yp5lK3HLSRFtOim0sa8euEt08xvKjYjzeJ2GU7YawexrnKI9tmobInjFXCewpwriY9+RR4aaezFhMhGCppKwom0ChrgFlKzyPKkGlTW1YQrE9HJqu8hKGgMc6hVi5QRq0PZxNfrYNgE64utmRv6KKHRpxf6VDUaOvNP5jCEx5q185My/7RKz69UQu2im5k4/eownpxZxNLwiZ1AZTO2ZjWjkU9uaB2HFn6Q3u0JcsSx/qV9hTEApRzeBLDJQXxYmTnq7bdLa3+uqFrxLJ5w1TehnNHx5ECvCh2g2c3hHH5YsfdaSKddztfjQ6imKFGSyFwlLzxEGPp6r5IevVjk1AMx3wMqi1NxDVjLBiPs9tbsCkIY5we5/ML22zrCScFxnNtzsr9Wcc3CnD+pYO+4VXXiDE0oc/vQQ/fDK3oPESJMYXNmJa/DuloJZkcTpcYE8lIH8Dz8DJMiynNC86Mb2lNaaqP/+L7f2fcE/yP7/Lde8xfgSOdMxvOixZf/9p3+M4hT1+F+zApxg9XfUvYjc8qX2lfOOpK2gNRtB4flpFu9FTKCp2XJRgXnX6olp1zyYjTKJSkGmLE2NjUr1bxFM4AeAAHBUFIeSLqXR+NvH/M9fOnfHzOD2vCSyQJKzfgsCh+yi/Mmc35F2fUrw7miW33W9hBD1vpuUojFphIyvg7aTeoymDkIkeW3XLHmguMzbIAJejN6B5MDrhipE2y6SoFRO/AK/AcHHZHNIfiWrEe/C6cr3f/yOvrQKB+zMM55/GQdLDsR+ifr5Fiuu+/y+M78LzOE5dsNuXC3PYvYWd8NXvphLSkJIasrlD2/HOqQ+RjcRdjKTGWYhhVUm4yxlyiGPuMsZR7sMCHUBeTuNWA7if+ifXgc/hovftHXs/DV+Fvwe+f8shzMiMcweFgBly3//vwJfg5AN4450fn1Hd1Rm1aBLu22Dy3y3H2+OqMemkbGZ4jozcDjJf6596xOLpC0eMTHbKnxLxH27uZ/bMTGs2jOaMOY4m87CfQwF0dw53oa1k80JRuz/XgS+8fX3N9Af4qPIMfzKgCp4H5TDGe9GGeFPzSsZz80SlPTxXjgwJmC45njzgt2vbQ4b4OAdUK4/vWhO8d8v6EE8fMUsfakXbPpFJeLs2ubM/qdm/la3WP91uWhxXHjoWhyRUq2iJ/+5mA73zwIIo+LoZ/SgvIRjAd1IMvvn98PfgOvAJfhhm8scAKVWDuaRaK8aQ9f7vuPDH6Bj47ZXau7rqYJ66mTDwEDU6lLbCjCK0qTXyl5mnDoeNRxanj3FJbaksTk0faXxHxLrssgPkWB9LnA/MFleXcJozzjwsUvUG0X/QCve51qkMDXp9mtcyOy3rwBfdvVJK7D6/ACSzg3RoruIq5UDeESfEmVclDxnniU82vxMLtceD0hGZWzBNPMM/jSPne2OVatiTKUpY5vY7gc0LdUAWeWM5tH+O2I66AOWw9xT2BuyRVLGdoDHUsVRXOo/c+ZdRXvFfnxWyIV4upFLCl9eAL7h8Zv0QH8Ry8pA2cHzQpGesctVA37ZtklBTgHjyvdSeKY/RZw/kJMk0Y25cSNRWSigQtlULPTw+kzuJPeYEkXjQRpoGZobYsLF79pyd1dMRHInbgFTZqNLhDqiIsTNpoex2WLcy0/X6rHcdMMQvFSd5dWA++4P7xv89deACnmr36uGlL69bRCL6BSZsS6c0TU2TKK5gtWCzgAOOwQcurqk9j8whvziZSMLcq5hbuwBEsYjopUBkqw1yYBGpLA97SRElEmx5MCInBY5vgLk94iKqSWmhIGmkJ4Bi9m4L645J68LyY4wsFYBfUg5feP/6gWWm58IEmKQM89hq7KsZNaKtP5TxxrUZZVkNmMJtjbKrGxLNEbHPJxhqy7lAmbC32ZqeF6lTaknRWcYaFpfLUBh/rwaQycCCJmW15Kstv6jRHyJFry2C1ahkkIW0LO75s61+owxK1y3XqweX9m5YLM2DPFeOjn/iiqCKJ+yKXF8t5Yl/kNsqaSCryxPq5xWTFIaP8KSW0RYxqupaUf0RcTNSSdJZGcKYdYA6kdtrtmyBckfKXwqk0pHpUHlwWaffjNRBYFPUDWa8e3Lt/o0R0CdisKDM89cX0pvRHEfM8ca4t0s2Xx4kgo91MPQJ/0c9MQYq0co8MBh7bz1fio0UUHLR4aAIOvOmoYO6kwlEVODSSTliWtOtH6sPkrtctF9ZtJ9GIerBskvhdVS5cFNv9s1BU0AbdUgdK4FG+dRnjFmDTzniRMdZO1QhzMK355vigbdkpz9P6qjUGE5J2qAcXmwJ20cZUiAD0z+pGMx6xkzJkmEf40Hr4qZfVg2XzF9YOyoV5BjzVkUJngKf8lgNYwKECEHrCNDrWZzMlflS3yBhr/InyoUgBc/lKT4pxVrrC6g1YwcceK3BmNxZcAtz3j5EIpqguh9H6wc011YN75cKDLpFDxuwkrPQmUwW4KTbj9mZTwBwLq4aQMUZbHm1rylJ46dzR0dua2n3RYCWZsiHROeywyJGR7mXKlpryyCiouY56sFkBWEnkEB/raeh/Sw4162KeuAxMQpEkzy5alMY5wamMsWKKrtW2WpEWNnReZWONKWjrdsKZarpFjqCslq773PLmEhM448Pc3+FKr1+94vv/rfw4tEcu+lKTBe4kZSdijBrykwv9vbCMPcLQTygBjzVckSLPRVGslqdunwJ4oegtFOYb4SwxNgWLCmD7T9kVjTv5YDgpo0XBmN34Z/rEHp0sgyz7lngsrm4lvMm2Mr1zNOJYJ5cuxuQxwMGJq/TP5emlb8fsQBZviK4t8hFL+zbhtlpwaRSxQRWfeETjuauPsdGxsBVdO7nmP4xvzSoT29pRl7kGqz+k26B3Oy0YNV+SXbbQas1ctC/GarskRdFpKczVAF1ZXnLcpaMuzVe6lZ2g/1ndcvOVgRG3sdUAY1bKD6achijMPdMxV4muKVorSpiDHituH7rSTs7n/4y5DhRXo4FVBN4vO/zbAcxhENzGbHCzU/98Mcx5e7a31kWjw9FCe/zNeYyQjZsWb1uc7U33pN4Mji6hCLhivqfa9Ss6xLg031AgfesA/l99m9fgvnaF9JoE6bYKmkGNK3aPbHB96w3+DnxFm4hs0drLsk7U8kf/N/CvwQNtllna0rjq61sH8L80HAuvwH1tvBy2ChqWSCaYTaGN19sTvlfzFD6n+iKTbvtayfrfe9ueWh6GJFoxLdr7V72a5ZpvHcCPDzma0wTO4EgbLyedxstO81n57LYBOBzyfsOhUKsW1J1BB5vr/tz8RyqOFylQP9Tvst2JALsC5lsH8PyQ40DV4ANzYa4dedNiKNR1s+x2wwbR7q4/4cTxqEk4LWDebfisuo36JXLiWFjOtLrlNWh3K1rRS4xvHcDNlFnNmWBBAl5SWaL3oPOfnvbr5pdjVnEaeBJSYjuLEkyLLsWhKccadmOphZkOPgVdalj2QpSmfOsADhMWE2ZBu4+EEJI4wKTAuCoC4xwQbWXBltpxbjkXJtKxxabo9e7tyhlgb6gNlSbUpMh+l/FaqzVwewGu8BW1Zx7pTpQDJUjb8tsUTW6+GDXbMn3mLbXlXJiGdggxFAoUrtPS3wE4Nk02UZG2OOzlk7fRs7i95QCLo3E0jtrjnM7SR3uS1p4qtS2nJ5OwtQVHgOvArLBFijZUV9QtSl8dAY5d0E0hM0w3HS2DpIeB6m/A1+HfhJcGUq4sOxH+x3f5+VO+Ds9rYNI7zPXOYWPrtf8bYMx6fuOAX5jzNR0PdsuON+X1f7EERxMJJoU6GkTEWBvVolVlb5lh3tKCg6Wx1IbaMDdJ+9sUCc5KC46hKGCk3IVOS4TCqdBNfUs7Kd4iXf2RjnT/LLysJy3XDcHLh/vde3x8DoGvwgsa67vBk91G5Pe/HbOe7xwym0NXbtiuuDkGO2IJDh9oQvJ4cY4vdoqLDuoH9Zl2F/ofsekn8lkuhIlhQcffUtSjytFyp++p6NiE7Rqx/lodgKVoceEp/CP4FfjrquZaTtj2AvH5K/ywpn7M34K/SsoYDAdIN448I1/0/wveW289T1/lX5xBzc8N5IaHr0XMOQdHsIkDuJFifj20pBm5jzwUv9e2FhwRsvhAbalCIuIw3bhJihY3p6nTFFIZgiSYjfTf3aXuOjmeGn4bPoGvwl+CFzTRczBIuHBEeImHc37/lGfwZR0cXzVDOvaKfNHvwe+suZ771K/y/XcBlsoN996JpBhoE2toYxOznNEOS5TJc6Id5GEXLjrWo+LEWGNpPDU4WAwsIRROu+1vM+0oW37z/MBN9kqHnSArwPfgFJ7Cq/Ai3Ie7g7ncmI09v8sjzw9mzOAEXoIHxURueaAce5V80f/DOuuZwHM8vsMb5wBzOFWM7wymTXPAEvm4vcFpZ2ut0VZRjkiP2MlmLd6DIpbGSiHOjdnUHN90hRYmhTnmvhzp1iKDNj+b7t5hi79lWGwQ+HN9RsfFMy0FXbEwhfuczKgCbyxYwBmcFhhvo/7a44v+i3XWcwDP86PzpGQYdWh7csP5dBvZ1jNzdxC8pBGuxqSW5vw40nBpj5JhMwvOzN0RWqERHMr4Lv1kWX84xLR830G3j6yqZ1a8UstTlW+qJPOZ+sZ7xZPKTJLhiNOAFd6tk+jrTH31ncLOxid8+nzRb128HhUcru/y0Wn6iT254YPC6FtVSIMoW2sk727AhvTtrWKZTvgsmckfXYZWeNRXx/3YQ2OUxLDrbHtN11IwrgXT6c8dATDwLniYwxzO4RzuQqTKSC5gAofMZ1QBK3zQ4JWobFbcvJm87FK+6JXrKahLn54m3p+McXzzYtP8VF/QpJuh1OwieElEoI1pRxPS09FBrkq2tWCU59+HdhNtTIqKm8EBrw2RTOEDpG3IKo2Y7mFdLm3ZeVjYwVw11o/oznceMve4CgMfNym/utA/d/ILMR7gpXzRy9eDsgLcgbs8O2Va1L0zzIdwGGemTBuwROHeoMShkUc7P+ISY3KH5ZZeWqO8mFTxQYeXTNuzvvK5FGPdQfuu00DwYFY9dyhctEt+OJDdnucfpmyhzUJzfsJjr29l8S0bXBfwRS9ZT26tmMIdZucch5ZboMz3Nio3nIOsYHCGoDT4kUA9MiXEp9Xsui1S8th/kbWIrMBxDGLodWUQIWcvnXy+9M23xPiSMOiRPqM+YMXkUN3gXFrZJwXGzUaMpJfyRS9ZT0lPe8TpScuRlbMHeUmlaKDoNuy62iWNTWNFYjoxFzuJs8oR+RhRx7O4SVNSXpa0ZJQ0K1LAHDQ+D9IepkMXpcsq5EVCvClBUIzDhDoyKwDw1Lc59GbTeORivugw1IcuaEOaGWdNm+Ps5fQ7/tm0DjMegq3yM3vb5j12qUId5UZD2oxDSEWOZMSqFl/W+5oynWDa/aI04tJRQ2eTXusg86SQVu/nwSYwpW6wLjlqIzwLuxGIvoAvul0PS+ZNz0/akp/pniO/8JDnGyaCkzbhl6YcqmK/69prxPqtpx2+Km9al9sjL+rwMgHw4jE/C8/HQ3m1vBuL1fldbzd8mOueVJ92syqdEY4KJjSCde3mcRw2TA6szxedn+zwhZMps0XrqEsiUjnC1hw0TELC2Ek7uAAdzcheXv1BYLagspxpzSAoZZUsIzIq35MnFQ9DOrlNB30jq3L4pkhccKUAA8/ocvN1Rzx9QyOtERs4CVsJRK/DF71kPYrxYsGsm6RMh4cps5g1DOmM54Ly1ii0Hd3Y/BMk8VWFgBVmhqrkJCPBHAolwZaWzLR9Vb7bcWdX9NyUYE+uB2BKfuaeBUcjDljbYVY4DdtsVWvzRZdWnyUzDpjNl1Du3aloAjVJTNDpcIOVVhrHFF66lLfJL1zJr9PQ2nFJSBaKoDe+sAvLufZVHVzYh7W0h/c6AAZ+7Tvj6q9j68G/cTCS/3n1vLKHZwNi+P+pS0WkZNMBMUl+LDLuiE4omZy71r3UFMwNJV+VJ/GC5ixVUkBStsT4gGKh0Gm4Oy3qvq7Lbmq24nPdDuDR9deR11XzP4vFu3TYzfnIyiSVmgizUYGqkIXNdKTY9pgb9D2Ix5t0+NHkVzCdU03suWkkVZAoCONCn0T35gAeW38de43mf97sMOpSvj4aa1KYUm58USI7Wxxes03bAZdRzk6UtbzMaCQ6IxO0dy7X+XsjoD16hpsBeGz9dfzHj+R/Hp8nCxZRqkEDTaCKCSywjiaoMJ1TITE9eg7Jqnq8HL6gDwiZb0u0V0Rr/rmvqjxKuaLCX7ZWXTvAY+uvm3z8CP7nzVpngqrJpZKwWnCUjIviYVlirlGOzPLI3SMVyp/elvBUjjDkNhrtufFFErQ8pmdSlbK16toBHlt/HV8uHMX/vEGALkV3RJREiSlopxwdMXOZPLZ+ix+kAHpMKIk8UtE1ygtquttwxNhphrIZ1IBzjGF3IIGxGcBj6q8bHJBG8T9vdsoWrTFEuebEZuVxhhClH6P5Zo89OG9fwHNjtNQTpD0TG9PJLEYqvEY6Rlxy+ZZGfL0Aj62/bnQCXp//eeM4KzfQVJbgMQbUjlMFIm6TpcfWlZje7NBSV6IsEVmumWIbjiloUzQX9OzYdo8L1wjw2PrrpimONfmfNyzKklrgnEkSzT5QWYQW40YShyzqsRmMXbvVxKtGuYyMKaU1ugenLDm5Ily4iT14fP11Mx+xJv+zZ3MvnfdFqxU3a1W/FTB4m3Qfsyc1XUcdVhDeUDZXSFHHLQj/Y5jtC7ZqM0CXGwB4bP11i3LhOvzPGygYtiUBiwQV/4wFO0majijGsafHyRLu0yG6q35cL1rOpVxr2s5cM2jJYMCdc10Aj6q/blRpWJ//+dmm5psMl0KA2+AFRx9jMe2WbC4jQxnikd4DU8TwUjRVacgdlhmr3bpddzuJ9zXqr2xnxJfzP29RexdtjDVZqzkqa6PyvcojGrfkXiJ8SEtml/nYskicv0ivlxbqjemwUjMw5evdg8fUX9nOiC/lf94Q2i7MURk9nW1MSj5j8eAyV6y5CN2S6qbnw3vdA1Iwq+XOSCl663udN3IzLnrt+us25cI1+Z83SXQUldqQq0b5XOT17bGpLd6ssN1VMPf8c+jG8L3NeCnMdF+Ra3fRa9dft39/LuZ/3vwHoHrqGmQFafmiQw6eyzMxS05K4bL9uA+SKUQzCnSDkqOGokXyJvbgJ/BHI+qvY69//4rl20NsmK2ou2dTsyIALv/91/8n3P2Aao71WFGi8KKv1fRC5+J67Q/507/E/SOshqN5TsmYIjVt+kcjAx98iz/4SaojbIV1rexE7/C29HcYD/DX4a0rBOF5VTu7omsb11L/AWcVlcVZHSsqGuXLLp9ha8I//w3Mv+T4Ew7nTBsmgapoCrNFObIcN4pf/Ob/mrvHTGqqgAupL8qWjWPS9m/31jAe4DjA+4+uCoQoT/zOzlrNd3qd4SdphFxsUvYwGWbTWtISc3wNOWH+kHBMfc6kpmpwPgHWwqaSUG2ZWWheYOGQGaHB+eQ/kn6b3pOgLV+ODSn94wDvr8Bvb70/LLuiPPEr8OGVWfDmr45PZyccEmsVXZGe1pRNX9SU5+AVQkNTIVPCHF/jGmyDC9j4R9LfWcQvfiETmgMMUCMN1uNCakkweZsowdYobiMSlnKA93u7NzTXlSfe+SVbfnPQXmg9LpYAQxpwEtONyEyaueWM4FPjjyjG3uOaFmBTWDNgBXGEiQpsaWhnAqIijB07Dlsy3fUGeP989xbWkyf+FF2SNEtT1E0f4DYYVlxFlbaSMPIRMk/3iMU5pME2SIWJvjckciebkQuIRRyhUvkHg/iUljG5kzVog5hV7vIlCuBrmlhvgPfNHQM8lCf+FEGsYbMIBC0qC9a0uuy2wLXVbLBaP5kjHokCRxapkQyzI4QEcwgYHRZBp+XEFTqXFuNVzMtjXLJgX4gAid24Hjwc4N3dtVSe+NNiwTrzH4WVUOlDobUqr1FuAgYllc8pmzoVrELRHSIW8ViPxNy4xwjBpyR55I6J220qQTZYR4guvUICJiSpr9gFFle4RcF/OMB7BRiX8sSfhpNSO3lvEZCQfLUVTKT78Ek1LRLhWN+yLyTnp8qWUZ46b6vxdRGXfHVqx3eI75YaLa4iNNiK4NOW7wPW6lhbSOF9/M9qw8e/aoB3d156qTzxp8pXx5BKAsYSTOIIiPkp68GmTq7sZtvyzBQaRLNxIZ+paozHWoLFeExIhRBrWitHCAHrCF7/thhD8JhYz84wg93QRV88wLuLY8zF8sQ36qF1J455bOlgnELfshKVxYOXKVuKx0jaj22sczTQqPqtV/XDgpswmGTWWMSDw3ssyUunLLrVPGjYRsH5ggHeHSWiV8kT33ycFSfMgkoOK8apCye0J6VW6GOYvffgU9RWsukEi2kUV2nl4dOYUzRik9p7bcA4ggdJ53LxKcEe17B1R8eqAd7dOepV8sTXf5lhejoL85hUdhDdknPtKHFhljOT+bdq0hxbm35p2nc8+Ja1Iw+tJykgp0EWuAAZYwMVwac5KzYMslhvgHdHRrxKnvhTYcfKsxTxtTETkjHO7rr3zjoV25lAQHrqpV7bTiy2aXMmUhTBnKS91jhtR3GEoF0oLnWhWNnYgtcc4N0FxlcgT7yz3TgNIKkscx9jtV1ZKpWW+Ub1tc1eOv5ucdgpx+FJy9pgbLE7xDyXb/f+hLHVGeitHOi6A7ybo3sF8sS7w7cgdk0nJaOn3hLj3uyD0Zp5pazFIUXUpuTTU18d1EPkDoX8SkmWTnVIozEdbTcZjoqxhNHf1JrSS/AcvHjZ/SMHhL/7i5z+POsTUh/8BvNfYMTA8n+yU/MlTZxSJDRStqvEuLQKWwDctMTQogUDyQRoTQG5Kc6oQRE1yV1jCA7ri7jdZyK0sYTRjCR0Hnnd+y7nHxNgTULqw+8wj0mQKxpYvhjm9uSUxg+TTy7s2GtLUGcywhXSKZN275GsqlclX90J6bRI1aouxmgL7Q0Nen5ziM80SqMIo8cSOo+8XplT/5DHNWsSUr/6lLN/QQ3rDyzLruEW5enpf7KqZoShEduuSFOV7DLX7Ye+GmXb6/hnNNqKsVXuMDFpb9Y9eH3C6NGEzuOuI3gpMH/I6e+zDiH1fXi15t3vA1czsLws0TGEtmPEJdiiFPwlwKbgLHAFk4P6ZyPdymYYHGE0dutsChQBl2JcBFlrEkY/N5bQeXQ18gjunuMfMfsBlxJSx3niO485fwO4fGD5T/+3fPQqkneWVdwnw/3bMPkW9Wbqg+iC765Zk+xcT98ibKZc2EdgHcLoF8cSOo/Oc8fS+OyEULF4g4sJqXVcmfMfsc7A8v1/yfGXmL9I6Fn5pRwZhsPv0TxFNlAfZCvG+Oohi82UC5f/2IsJo0cTOm9YrDoKhFPEUr/LBYTUNht9zelHXDqwfPCIw4owp3mOcIQcLttWXFe3VZ/j5H3cIc0G6oPbCR+6Y2xF2EC5cGUm6wKC5tGEzhsWqw5hNidUiKX5gFWE1GXh4/Qplw4sVzOmx9QxU78g3EF6wnZlEN4FzJ1QPSLEZz1KfXC7vd8ssGdIbNUYpVx4UapyFUHzJoTOo1McSkeNn1M5MDQfs4qQuhhX5vQZFw8suwWTcyYTgioISk2YdmkhehG4PkE7w51inyAGGaU+uCXADabGzJR1fn3lwkty0asIo8cROm9Vy1g0yDxxtPvHDAmpu+PKnM8Ix1wwsGw91YJqhteaWgjYBmmQiebmSpwKKzE19hx7jkzSWOm66oPbzZ8Yj6kxVSpYjVAuvLzYMCRo3oTQecOOjjgi3NQ4l9K5/hOGhNTdcWVOTrlgYNkEXINbpCkBRyqhp+LdRB3g0OU6rMfW2HPCFFMV9nSp+uB2woepdbLBuJQyaw/ZFysXrlXwHxI0b0LovEkiOpXGA1Ijagf+KUNC6rKNa9bQnLFqYNkEnMc1uJrg2u64ELPBHpkgWbmwKpJoDhMwNbbGzAp7Yg31wS2T5rGtzit59PrKhesWG550CZpHEzpv2NGRaxlNjbMqpmEIzygJqQfjypycs2pg2cS2RY9r8HUqkqdEgKTWtWTKoRvOBPDYBltja2SO0RGjy9UHtxwRjA11ujbKF+ti5cIR9eCnxUg6owidtyoU5tK4NLji5Q3HCtiyF2IqLGYsHViOXTXOYxucDqG0HyttqYAKqYo3KTY1ekyDXRAm2AWh9JmsVh/ccg9WJ2E8YjG201sPq5ULxxX8n3XLXuMInbft2mk80rRGjCGctJ8/GFdmEQ9Ug4FlE1ll1Y7jtiraqm5Fe04VV8lvSVBL8hiPrfFVd8+7QH3Qbu2ipTVi8cvSGivc9cj8yvH11YMHdNSERtuOslM97feYFOPKzGcsI4zW0YGAbTAOaxCnxdfiYUmVWslxiIblCeAYr9VYR1gM7GmoPrilunSxxeT3DN/2eBQ9H11+nk1adn6VK71+5+Jfct4/el10/7KBZfNryUunWSCPxPECk1rdOv1WVSrQmpC+Tl46YD3ikQYcpunSQgzVB2VHFhxHVGKDgMEY5GLlQnP7FMDzw7IacAWnO6sBr12u+XanW2AO0wQ8pknnFhsL7KYIqhkEPmEXFkwaN5KQphbkUmG72wgw7WSm9RiL9QT925hkjiVIIhphFS9HKI6/8QAjlpXqg9W2C0apyaVDwKQwrwLY3j6ADR13ZyUNByQXHQu6RY09Hu6zMqXRaNZGS/KEJs0cJEe9VH1QdvBSJv9h09eiRmy0V2uJcqHcShcdvbSNg5fxkenkVprXM9rDVnX24/y9MVtncvbKY706anNl3ASll9a43UiacVquXGhvq4s2FP62NGKfQLIQYu9q1WmdMfmUrDGt8eDS0cXozH/fjmUH6Jruvm50hBDSaEU/2Ru2LEN/dl006TSc/g7tfJERxGMsgDUEr104pfWH9lQaN+M4KWQjwZbVc2rZVNHsyHal23wZtIs2JJqtIc/WLXXRFCpJkfE9jvWlfFbsNQ9pP5ZBS0zKh4R0aMFj1IjTcTnvi0Zz2rt7NdvQb2mgbju1plsH8MmbnEk7KbK0b+wC2iy3aX3szW8xeZvDwET6hWZYwqTXSSG+wMETKum0Dq/q+x62gt2ua2ppAo309TRk9TPazfV3qL9H8z7uhGqGqxNVg/FKx0HBl9OVUORn8Q8Jx9gFttGQUDr3tzcXX9xGgN0EpzN9mdZ3GATtPhL+CjxFDmkeEU6x56kqZRusLzALXVqkCN7zMEcqwjmywDQ6OhyUe0Xao1Qpyncrg6wKp9XfWDsaZplElvQ/b3sdweeghorwBDlHzgk1JmMc/wiERICVy2VJFdMjFuLQSp3S0W3+sngt2njwNgLssFGVQdJ0tu0KH4ky1LW4yrbkuaA6Iy9oz/qEMMXMMDWyIHhsAyFZc2peV9hc7kiKvfULxCl9iddfRK1f8kk9qvbdOoBtOg7ZkOZ5MsGrSHsokgLXUp9y88smniwWyuFSIRVmjplga3yD8Uij5QS1ZiM4U3Qw5QlSm2bXjFe6jzzBFtpg+/YBbLAWG7OPynNjlCw65fukGNdkJRf7yM1fOxVzbxOJVocFoYIaGwH22mIQkrvu1E2nGuebxIgW9U9TSiukPGU+Lt++c3DJPKhyhEEbXCQLUpae2exiKy6tMPe9mDRBFCEMTWrtwxN8qvuGnt6MoihKWS5NSyBhbH8StXoAz8PLOrRgLtOT/+4vcu+7vDLnqNvztOq7fmd8sMmY9Xzn1zj8Dq8+XVdu2Nv0IIySgEdQo3xVHps3Q5i3fLFsV4aiqzAiBhbgMDEd1uh8qZZ+lwhjkgokkOIv4xNJmyncdfUUzgB4oFMBtiu71Xumpz/P+cfUP+SlwFExwWW62r7b+LSPxqxn/gvMZ5z9C16t15UbNlq+jbGJtco7p8wbYlL4alSyfWdeuu0j7JA3JFNuVAwtst7F7FhWBbPFNKIUORndWtLraFLmMu7KFVDDOzqkeaiN33YAW/r76wR4XDN/yN1z7hejPau06EddkS/6XThfcz1fI/4K736fO48vlxt2PXJYFaeUkFS8U15XE3428xdtn2kc8GQlf1vkIaNRRnOMvLTWrZbElEHeLWi1o0dlKPAh1MVgbbVquPJ5+Cr8LU5/H/+I2QlHIU2ClXM9G8v7Rr7oc/hozfUUgsPnb3D+I+7WF8kNO92GY0SNvuxiE+2Bt8prVJTkzE64sfOstxuwfxUUoyk8VjcTlsqe2qITSFoSj6Epd4KsT6BZOWmtgE3hBfir8IzZDwgV4ZTZvD8VvPHERo8v+vL1DASHTz/i9OlKueHDjK5Rnx/JB1Vb1ioXdBra16dmt7dgik10yA/FwJSVY6XjA3oy4SqM2frqDPPSRMex9qs3XQtoWxMj7/Er8GWYsXgjaVz4OYumP2+9kbxvny/6kvWsEBw+fcb5bInc8APdhpOSs01tEqIkoiZjbAqKMruLbJYddHuHFRIyJcbdEdbl2sVLaySygunutBg96Y2/JjKRCdyHV+AEFtTvIpbKIXOamknYSiB6KV/0JetZITgcjjk5ZdaskBtWO86UF0ap6ozGXJk2WNiRUlCPFir66lzdm/SLSuK7EUdPz8f1z29Skq6F1fXg8+5UVR6bszncP4Tn4KUkkdJ8UFCY1zR1i8RmL/qQL3rlei4THG7OODlnKko4oI01kd3CaM08Ia18kC3GNoVaO9iDh+hWxSyTXFABXoau7Q6q9OxYg/OVEMw6jdbtSrJ9cBcewGmaZmg+bvkUnUUaGr+ZfnMH45Ivevl61hMcXsxYLFTu1hTm2zViCp7u0o5l+2PSUh9bDj6FgYypufBDhqK2+oXkiuHFHR3zfj+9PtA8oR0xnqX8qn+sx3bFODSbbF0X8EUvWQ8jBIcjo5bRmLOljDNtcqNtOe756h3l0VhKa9hDd2l1eqmsnh0MNMT/Cqnx6BInumhLT8luljzQ53RiJeA/0dxe5NK0o2fA1+GLXr6eNQWHNUOJssQaTRlGpLHKL9fD+IrQzTOMZS9fNQD4AnRNVxvTdjC+fJdcDDWQcyB00B0t9BDwTxXgaAfzDZ/DBXzRnfWMFRwuNqocOmX6OKNkY63h5n/fFcB28McVHqnXZVI27K0i4rDLNE9lDKV/rT+udVbD8dFFu2GGZ8mOt0kAXcoX3ZkIWVtw+MNf5NjR2FbivROHmhV1/pj2egv/fMGIOWTIWrV3Av8N9imV9IWml36H6cUjqEWNv9aNc+veb2sH46PRaHSuMBxvtW+twxctq0z+QsHhux8Q7rCY4Ct8lqsx7c6Sy0dl5T89rIeEuZKoVctIk1hNpfavER6yyH1Vvm3MbsUHy4ab4hWr/OZPcsRBphnaV65/ZcdYPNNwsjN/djlf9NqCw9U5ExCPcdhKxUgLSmfROpLp4WSUr8ojdwbncbvCf+a/YzRaEc6QOvXcGO256TXc5Lab9POvB+AWY7PigWYjzhifbovuunzRawsO24ZqQQAqguBtmpmPB7ysXJfyDDaV/aPGillgz1MdQg4u5MYaEtBNNHFjkRlSpd65lp4hd2AVPTfbV7FGpyIOfmNc/XVsPfg7vzaS/3nkvLL593ANLvMuRMGpQIhiF7kUEW9QDpAUbTWYBcbp4WpacHHY1aacqQyjGZS9HI3yCBT9kUZJhVOD+zUDvEH9ddR11fzPcTDQ5TlgB0KwqdXSavk9BC0pKp0WmcuowSw07VXmXC5guzSa4p0UvRw2lbDiYUx0ExJJRzWzi6Gm8cnEkfXXsdcG/M/jAJa0+bmCgdmQ9CYlNlSYZOKixmRsgiFxkrmW4l3KdFKv1DM8tk6WxPYJZhUUzcd8Kdtgrw/gkfXXDT7+avmfVak32qhtkg6NVdUS5wgkru1YzIkSduTW1FDwVWV3JQVJVuieTc0y4iDpFwc7/BvSalvKdQM8sv662cevz/+8sQVnjVAT0W2wLllw1JiMhJRxgDjCjLQsOzSFSgZqx7lAW1JW0e03yAD3asC+GD3NbQhbe+mN5GXH1F83KDOM4n/e5JIuH4NpdQARrFPBVptUNcjj4cVMcFSRTE2NpR1LEYbYMmfWpXgP9KejaPsLUhuvLCsVXznAG9dfx9SR1ud/3hZdCLHb1GMdPqRJgqDmm76mHbvOXDtiO2QPUcKo/TWkQ0i2JFXpBoo7vij1i1Lp3ADAo+qvG3V0rM//vFnnTE4hxd5Ka/Cor5YEdsLVJyKtDgVoHgtW11pWSjolPNMnrlrVj9Fv2Qn60twMwKPqr+N/wvr8z5tZcDsDrv06tkqyzESM85Ycv6XBWA2birlNCXrI6VbD2lx2L0vQO0QVTVVLH4SE67fgsfVXv8n7sz7/85Z7cMtbE6f088wSaR4kCkCm10s6pKbJhfqiUNGLq+0gLWC6eUAZFPnLjwqtKd8EwGvWX59t7iPW4X/eAN1svgRVSY990YZg06BD1ohLMtyFTI4pKTJsS9xREq9EOaPWiO2gpms7397x6nQJkbh+Fz2q/rqRROX6/M8bJrqlVW4l6JEptKeUFuMYUbtCQ7CIttpGc6MY93x1r1vgAnRXvY5cvwWPqb9uWQm+lP95QxdNMeWhOq1x0Db55C7GcUv2ZUuN6n8iKzsvOxibC//Yfs9Na8r2Rlz02vXXDT57FP/zJi66/EJSmsJKa8QxnoqW3VLQ+jZVUtJwJ8PNX1NQCwfNgdhhHD9on7PdRdrdGPF28rJr1F+3LBdeyv+8yYfLoMYet1vX4upNAjVvwOUWnlNXJXlkzk5Il6kqeoiL0C07qno+/CYBXq/+utlnsz7/Mzvy0tmI4zm4ag23PRN3t/CWryoUVJGm+5+K8RJ0V8Hc88/XHUX/HfiAq7t+BH+x6v8t438enWmdJwFA6ZINriLGKv/95f8lT9/FnyA1NMVEvQyaXuu+gz36f/DD73E4pwqpLcvm/o0Vle78n//+L/NPvoefp1pTJye6e4A/D082FERa5/opeH9zpvh13cNm19/4v/LDe5xMWTi8I0Ta0qKlK27AS/v3/r+/x/2GO9K2c7kVMonDpq7//jc5PKCxeNPpFVzaRr01wF8C4Pu76hXuX18H4LduTr79guuFD3n5BHfI+ZRFhY8w29TYhbbLi/bvBdqKE4fUgg1pBKnV3FEaCWOWyA+m3WpORZr/j+9TKJtW8yBTF2/ZEODI9/QavHkVdGFp/Pjn4Q+u5hXapsP5sOH+OXXA1LiKuqJxiMNbhTkbdJTCy4llEt6NnqRT4dhg1V3nbdrm6dYMecA1yTOL4PWTE9L5VzPFlLBCvlG58AhehnN4uHsAYinyJ+AZ/NkVvELbfOBUuOO5syBIEtiqHU1k9XeISX5bsimrkUUhnGDxourN8SgUsCZVtKyGbyGzHXdjOhsAvOAswSRyIBddRdEZWP6GZhNK/yjwew9ehBo+3jEADu7Ay2n8mDc+TS7awUHg0OMzR0LABhqLD4hJEh/BEGyBdGlSJoXYXtr+3HS4ijzVpgi0paWXtdruGTknXBz+11qT1Q2inxaTzQCO46P3lfLpyS4fou2PH/PupwZgCxNhGlj4IvUuWEsTkqMWm6i4xCSMc9N1RDQoCVcuGItJ/MRWefais+3synowi/dESgJjkilnWnBTGvRWmaw8oR15257t7CHmCf8HOn7cwI8+NQBXMBEmAa8PMRemrNCEhLGEhDQKcGZWS319BX9PFBEwGTbRBhLbDcaV3drFcDqk5kCTd2JF1Wp0HraqBx8U0wwBTnbpCadwBA/gTH/CDrcCs93LV8E0YlmmcyQRQnjBa8JESmGUfIjK/7fkaDJpmD2QptFNVJU1bbtIAjjWQizepOKptRjbzR9Kag6xZmMLLjHOtcLT3Tx9o/0EcTT1XN3E45u24AiwEypDJXihKjQxjLprEwcmRKclaDNZCVqr/V8mYWyFADbusiY5hvgFoU2vio49RgJLn5OsReRFN6tabeetiiy0V7KFHT3HyZLx491u95sn4K1QQSPKM9hNT0wMVvAWbzDSVdrKw4zRjZMyJIHkfq1VAVCDl/bUhNKlGq0zGr05+YAceXVPCttVk0oqjVwMPt+BBefx4yPtGVkUsqY3CHDPiCM5ngupUwCdbkpd8kbPrCWHhkmtIKLEetF2499eS1jZlIPGYnlcPXeM2KD9vLS0bW3ktYNqUllpKLn5ZrsxlIzxvDu5eHxzGLctkZLEY4PgSOg2IUVVcUONzUDBEpRaMoXNmUc0tFZrTZquiLyKxrSm3DvIW9Fil+AkhXu5PhEPx9mUNwqypDvZWdKlhIJQY7vn2OsnmBeOWnYZ0m1iwbbw1U60by5om47iHRV6fOgzjMf/DAZrlP40Z7syxpLK0lJ0gqaAK1c2KQKu7tabTXkLFz0sCftuwX++MyNeNn68k5Buq23YQhUh0SNTJa1ioQ0p4nUG2y0XilF1JqODqdImloPS4Bp111DEWT0jJjVv95uX9BBV7eB3bUWcu0acSVM23YZdd8R8UbQUxJ9wdu3oMuhdt929ME+mh6JXJ8di2RxbTi6TbrDquqV4aUKR2iwT6aZbyOwEXN3DUsWr8Hn4EhwNyHuXHh7/pdaUjtR7vnDh/d8c9xD/s5f501eQ1+CuDiCvGhk1AN/4Tf74RfxPwD3toLarR0zNtsnPzmS64KIRk861dMWCU8ArasG9T9H0ZBpsDGnjtAOM2+/LuIb2iIUGXNgl5ZmKD/Tw8TlaAuihaFP5yrw18v4x1898zIdP+DDAX1bM3GAMvPgRP/cJn3zCW013nrhHkrITyvYuwOUkcHuKlRSW5C6rzIdY4ppnF7J8aAJbQepgbJYBjCY9usGXDKQxq7RZfh9eg5d1UHMVATRaD/4BHK93/1iAgYZ/+jqPn8Dn4UExmWrpa3+ZOK6MvM3bjwfzxNWA2dhs8+51XHSPJiaAhGSpWevEs5xHLXcEGFXYiCONySH3fPWq93JIsBiSWvWyc3CAN+EcXoT7rCSANloPPoa31rt/5PUA/gp8Q/jDD3hyrjzlR8VkanfOvB1XPubt17vzxAfdSVbD1pzAnfgyF3ycadOTOTXhpEUoLC1HZyNGW3dtmjeXgr2r56JNmRwdNNWaQVBddd6rh4MhviEB9EFRD/7RGvePvCbwAL4Mx/D6M541hHO4D3e7g6PafdcZVw689z7NGTwo5om7A8sPhccT6qKcl9NJl9aM/9kX+e59Hh1yPqGuCCZxuITcsmNaJ5F7d0q6J3H48TO1/+M57085q2icdu2U+W36Ldllz9Agiv4YGljoEN908EzvDOrBF98/vtJwCC/BF2AG75xxEmjmMIcjxbjoaxqOK3/4hPOZzhMPBpYPG44CM0dTVm1LjLtUWWVz1Bcf8tEx0zs8O2A2YVHRxKYOiy/aOVoAaMu0i7ubu43njjmd4ibMHU1sIDHaQNKrZND/FZYdk54oCXetjq7E7IVl9eAL7t+oHnwXXtLx44czzoRFHBztYVwtH1d+NOMkupZ5MTM+gUmq90X+Bh9zjRlmaQ+m7YMqUL/veemcecAtOJ0yq1JnVlN27di2E0+Klp1tAJ4KRw1eMI7aJjsO3R8kPSI3fUFXnIOfdQe86sIIVtWDL7h//Ok6vj8vwDk08NEcI8zz7OhBy+WwalzZeZ4+0XniRfst9pAJqQHDGLzVQ2pheZnnv1OWhwO43/AgcvAEXEVVpa4db9sGvNK8wjaENHkfFQ4Ci5i7dqnQlPoLQrHXZDvO3BIXZbJOBrOaEbML6sFL798I4FhKihjHMsPjBUZYCMFr6nvaArxqXPn4lCa+cHfSa2cP27g3Z3ziYTRrcbQNGLQmGF3F3cBdzzzX7AILx0IB9rbwn9kx2G1FW3Inic+ZLIsVvKR8Zwfj0l1fkqo8LWY1M3IX14OX3r9RKTIO+d9XzAI8qRPGPn/4NC2n6o4rN8XJ82TOIvuVA8zLKUHRFgBCetlDZlqR1gLKjS39xoE7Bt8UvA6BxuEDjU3tFsEijgA+615tmZkXKqiEENrh41iLDDZNq4pKTWR3LZfnos81LOuNa15cD956vLMsJd1rqYp51gDUQqMYm2XsxnUhD2jg1DM7SeuJxxgrmpfISSXVIJIS5qJJSvJPEQ49DQTVIbYWJ9QWa/E2+c/oPK1drmC7WSfJRNKBO5Yjvcp7Gc3dmmI/Xh1kDTEuiSnWqQf37h+fTMhGnDf6dsS8SQfQWlqqwXXGlc/PEZ/SC5mtzIV0nAshlQdM/LvUtYutrEZ/Y+EAFtq1k28zQhOwLr1AIeANzhF8t9qzTdZf2qRKO6MWE9ohBYwibbOmrFtNmg3mcS+tB28xv2uKd/agYCvOP+GkSc+0lr7RXzyufL7QbkUpjLjEWFLqOIkAGu2B0tNlO9Eau2W1qcOUvVRgKzypKIQZ5KI3q0MLzqTNRYqiZOqmtqloIRlmkBHVpHmRYV6/HixbO6UC47KOFJnoMrVyr7wYz+SlW6GUaghYbY1I6kkxA2W1fSJokUdSh2LQ1GAimRGm0MT+uu57H5l7QgOWxERpO9moLRPgTtquWCfFlGlIjQaRly9odmzMOWY+IBO5tB4sW/0+VWGUh32qYk79EidWKrjWuiLpiVNGFWFRJVktyeXWmbgBBzVl8anPuXyNJlBJOlKLTgAbi/EYHVHxWiDaVR06GnHQNpJcWcK2jJtiCfG2sEHLzuI66sGrMK47nPIInPnu799935aOK2cvmvubrE38ZzZjrELCmXM2hM7UcpXD2oC3+ECVp7xtIuxptJ0jUr3sBmBS47TVxlvJ1Sqb/E0uLdvLj0lLr29ypdd/eMX3f6lrxGlKwKQxEGvw0qHbkbwrF3uHKwVENbIV2wZ13kNEF6zD+x24aLNMfDTCbDPnEikZFyTNttxWBXDaBuM8KtI2rmaMdUY7cXcUPstqTGvBGSrFWIpNMfbdea990bvAOC1YX0qbc6smDS1mPxSJoW4fwEXvjMmhlijDRq6qale6aJEuFGoppYDoBELQzLBuh/mZNx7jkinv0EtnUp50lO9hbNK57lZaMAWuWR5Yo9/kYwcYI0t4gWM47Umnl3YmpeBPqSyNp3K7s2DSAS/39KRuEN2bS4xvowV3dFRMx/VFcp2Yp8w2nTO9hCXtHG1kF1L4KlrJr2wKfyq77R7MKpFKzWlY9UkhYxyHWW6nBWPaudvEAl3CGcNpSXPZ6R9BbBtIl6cHL3gIBi+42CYXqCx1gfGWe7Ap0h3luyXdt1MKy4YUT9xSF01G16YEdWsouW9mgDHd3veyA97H+Ya47ZmEbqMY72oPztCGvK0onL44AvgC49saZKkWRz4veWljE1FHjbRJaWv6ZKKtl875h4CziFCZhG5rx7tefsl0aRT1bMHZjm8dwL/6u7wCRysaQblQoG5yAQN5zpatMNY/+yf8z+GLcH/Qn0iX2W2oEfXP4GvwQHuIL9AYGnaO3zqAX6946nkgqZNnUhx43DIdQtMFeOPrgy/y3Yd85HlJWwjLFkU3kFwq28xPnuPhMWeS+tDLV9Otllq7pQCf3uXJDN9wFDiUTgefHaiYbdfi3b3u8+iY6TnzhgehI1LTe8lcd7s1wJSzKbahCRxKKztTLXstGAiu3a6rPuQs5pk9TWAan5f0BZmGf7Ylxzzk/A7PAs4QPPPAHeFQ2hbFHszlgZuKZsJcUmbDC40sEU403cEjczstOEypa+YxevL4QBC8oRYqWdK6b7sK25tfE+oDZgtOQ2Jg8T41HGcBE6fTWHn4JtHcu9S7uYgU5KSCkl/mcnq+5/YBXOEr6lCUCwOTOM1taOI8mSxx1NsCXBEmLKbMAg5MkwbLmpBaFOPrNSlO2HnLiEqW3tHEwd8AeiQLmn+2gxjC3k6AxREqvKcJbTEzlpLiw4rNZK6oJdidbMMGX9FULKr0AkW+2qDEPBNNm5QAt2Ik2nftNWHetubosHLo2nG4vQA7GkcVCgVCgaDixHqo9UUn1A6OshapaNR/LPRYFV8siT1cCtJE0k/3WtaNSuUZYKPnsVIW0xXWnMUxq5+En4Kvw/MqQmVXnAXj9Z+9zM98zM/Agy7F/qqj2Nh67b8HjFnPP3iBn/tkpdzwEJX/whIcQUXOaikeliCRGUk7tiwF0rItwMEhjkZ309hikFoRAmLTpEXWuHS6y+am/KB/fM50aLEhGnSMwkpxzOov4H0AvgovwJ1iGzDLtJn/9BU+fAINfwUe6FHSLhu83viV/+/HrOePX+STT2B9uWGbrMHHLldRBlhS/CJQmcRxJFqZica01XixAZsYiH1uolZxLrR/SgxVIJjkpQP4PE9sE59LKLr7kltSBogS5tyszzH8Fvw8/AS8rNOg0xUS9fIaHwb+6et8Q/gyvKRjf5OusOzGx8evA/BP4IP11uN/grca5O0lcsPLJ5YjwI4QkJBOHa0WdMZYGxPbh2W2nR9v3WxEWqgp/G3+6VZbRLSAAZ3BhdhAaUL33VUSw9yjEsvbaQ9u4A/gGXwZXoEHOuU1GSj2chf+Mo+f8IcfcAxfIKVmyunRbYQVnoevwgfw3TXXcw++xNuP4fhyueEUNttEduRVaDttddoP0eSxLe2LENk6itYxlrxBNBYrNNKSQmeaLcm9c8UsaB5WyO6675yyQIAWSDpBVoA/gxmcwEvwoDv0m58UE7gHn+fJOa8/Ywan8EKRfjsopF83eCglX/Sfr7OeaRoQfvt1CGvIDccH5BCvw1sWIzRGC/66t0VTcLZQZtm6PlAasbOJ9iwWtUo7biktTSIPxnR24jxP1ZKaqq+2RcXM9OrBAm/AAs7hDJ5bNmGb+KIfwCs8a3jnjBrOFeMjHSCdbKr+2uOLfnOd9eiA8Hvvwwq54VbP2OqwkB48Ytc4YEOiH2vTXqodabfWEOzso4qxdbqD5L6tbtNPECqbhnA708DZH4QOJUXqScmUlks7Ot6FBuZw3n2mEbaUX7kDzxHOOQk8nKWMzAzu6ZZ8sOFw4RK+6PcuXo9tB4SbMz58ApfKDXf3szjNIIbGpD5TKTRxGkEMLjLl+K3wlWXBsCUxIDU+jbOiysESqAy1MGUJpXgwbTWzNOVEziIXZrJ+VIztl1PUBxTSo0dwn2bOmfDRPD3TRTGlfbCJvO9KvuhL1hMHhB9wPuPRLGHcdOWG2xc0U+5bQtAJT0nRTewXL1pgk2+rZAdeWmz3jxAqfNQQdzTlbF8uJ5ecEIWvTkevAHpwz7w78QujlD/Lr491bD8/1vhM2yrUQRrWXNQY4fGilfctMWYjL72UL/qS9eiA8EmN88nbNdour+PBbbAjOjIa4iBhfFg6rxeKdEGcL6p3EWR1Qq2Qkhs2DrnkRnmN9tG2EAqmgPw6hoL7Oza7B+3SCrR9tRftko+Lsf2F/mkTndN2LmzuMcKTuj/mX2+4Va3ki16+nnJY+S7MefpkidxwnV+4wkXH8TKnX0tsYzYp29DOOoSW1nf7nTh2akYiWmcJOuTidSaqESrTYpwjJJNVGQr+rLI7WsqerHW6Kp/oM2pKuV7T1QY9gjqlZp41/WfKpl56FV/0kvXQFRyeQ83xaTu5E8p5dNP3dUF34ihyI3GSpeCsywSh22ZJdWto9winhqifb7VRvgktxp13vyjrS0EjvrRfZ62uyqddSWaWYlwTPAtJZ2oZ3j/Sgi/mi+6vpzesfAcWNA0n8xVyw90GVFGuZjTXEQy+6GfLGLMLL523f5E0OmxVjDoOuRiH91RKU+vtoCtH7TgmvBLvtFXWLW15H9GTdVw8ow4IlRLeHECN9ym1e9K0I+Cbnhgv4Yu+aD2HaQJ80XDqOzSGAV4+4yCqBxrsJAX6ZTIoX36QnvzhhzzMfFW2dZVLOJfo0zbce5OvwXMFaZ81mOnlTVXpDZsQNuoYWveketKb5+6JOOsgX+NTm7H49fUTlx+WLuWL7qxnOFh4BxpmJx0p2gDzA/BUARuS6phR+pUsY7MMboAHx5xNsSVfVZcYSwqCKrqon7zM+8ecCkeS4nm3rINuaWvVNnMRI1IRpxTqx8PZUZ0Br/UEduo3B3hNvmgZfs9gQPj8vIOxd2kndir3awvJ6BLvoUuOfFWNYB0LR1OQJoUySKb9IlOBx74q1+ADC2G6rOdmFdJcD8BkfualA+BdjOOzP9uUhGUEX/TwhZsUduwRr8wNuXKurCixLBgpQI0mDbJr9dIqUuV+92ngkJZ7xduCk2yZKbfWrH1VBiTg9VdzsgRjW3CVXCvAwDd+c1z9dWw9+B+8MJL/eY15ZQ/HqvTwVdsZn5WQsgRRnMaWaecu3jFvMBEmgg+FJFZsnSl0zjB9OqPYaBD7qmoVyImFvzi41usesV0julaAR9dfR15Xzv9sEruRDyk1nb+QaLU67T885GTls6YgcY+UiMa25M/pwGrbCfzkvR3e0jjtuaFtnwuagHTSb5y7boBH119HXhvwP487jJLsLJ4XnUkHX5sLbS61dpiAXRoZSCrFJ+EjpeU3puVfitngYNo6PJrAigKktmwjyQdZpfq30mmtulaAx9Zfx15Xzv+cyeuiBFUs9zq8Kq+XB9a4PVvph3GV4E3y8HENJrN55H1X2p8VyqSKwVusJDKzXOZzplWdzBUFK9e+B4+uv468xvI/b5xtSAkBHQaPvtqWzllVvEOxPbuiE6+j2pvjcKsbvI7txnRErgfH7LdXqjq0IokKzga14GzQ23SSbCQvO6r+Or7SMIr/efOkkqSdMnj9mBx2DRsiY29Uj6+qK9ZrssCKaptR6HKURdwUYeUWA2kPzVKQO8ku2nU3Anhs/XWkBx3F/7wJtCTTTIKftthue1ty9xvNYLY/zo5KSbIuKbXpbEdSyeRyYdAIwKY2neyoc3+k1XUaufYga3T9daMUx/r8z1s10ITknIO0kuoMt+TB8jK0lpayqqjsJ2qtXAYwBU932zinimgmd6mTRDnQfr88q36NAI+tv24E8Pr8zxtasBqx0+xHH9HhlrwsxxNUfKOHQaZBITNf0uccj8GXiVmXAuPEAKSdN/4GLHhs/XWj92dN/uetNuBMnVR+XWDc25JLjo5Mg5IZIq226tmCsip2zZliL213YrTlL2hcFjpCduyim3M7/eB16q/blQsv5X/esDRbtJeabLIosWy3ycavwLhtxdWzbMmHiBTiVjJo6lCLjXZsi7p9PEPnsq6X6wd4bP11i0rD5fzPm/0A6brrIsllenZs0lCJlU4abakR59enZKrKe3BZihbTxlyZ2zl1+g0wvgmA166/bhwDrcn/7Ddz0eWZuJvfSESug6NzZsox3Z04FIxz0mUjMwVOOVTq1CQ0AhdbBGVdjG/CgsfUX7esJl3K/7ytWHRv683praW/8iDOCqWLLhpljDY1ZpzK75QiaZoOTpLKl60auHS/97oBXrv+umU9+FL+5+NtLFgjqVLCdbmj7pY5zPCPLOHNCwXGOcLquOhi8CmCWvbcuO73XmMUPab+ug3A6/A/78Bwe0bcS2+tgHn4J5pyS2WbOck0F51Vq3LcjhLvZ67p1ABbaL2H67bg78BfjKi/jr3+T/ABV3ilLmNXTI2SpvxWBtt6/Z//D0z/FXaGbSBgylzlsEGp+5//xrd4/ae4d8DUUjlslfIYS3t06HZpvfQtvv0N7AHWqtjP2pW08QD/FLy//da38vo8PNlKHf5y37Dxdfe/oj4kVIgFq3koLReSR76W/bx//n9k8jonZxzWTANVwEniDsg87sOSd/z7//PvMp3jQiptGVWFX2caezzAXwfgtzYUvbr0iozs32c3Uge7varH+CNE6cvEYmzbPZ9hMaYDdjK4V2iecf6EcEbdUDVUARda2KzO/JtCuDbNQB/iTeL0EG1JSO1jbXS+nLxtPMDPw1fh5+EPrgSEKE/8Gry5A73ui87AmxwdatyMEBCPNOCSKUeRZ2P6Myb5MRvgCHmA9ywsMifU+AYXcB6Xa5GibUC5TSyerxyh0j6QgLVpdyhfArRTTLqQjwe4HOD9s92D4Ap54odXAPBWLAwB02igG5Kkc+piN4lvODIFGAZgT+EO4Si1s7fjSR7vcQETUkRm9O+MXyo9OYhfe4xt9STQ2pcZRLayCV90b4D3jR0DYAfyxJ+eywg2IL7NTMXna7S/RpQ63JhWEM8U41ZyQGjwsVS0QBrEKLu8xwZsbi4wLcCT+OGidPIOCe1PiSc9Qt+go+vYqB7cG+B9d8cAD+WJPz0Am2gxXgU9IneOqDpAAXOsOltVuMzpdakJXrdPCzXiNVUpCeOos5cxnpQT39G+XVLhs1osQVvJKPZyNq8HDwd4d7pNDuWJPxVX7MSzqUDU6gfadKiNlUFTzLeFHHDlzO4kpa7aiKhBPGKwOqxsBAmYkOIpipyXcQSPlRTf+Tii0U3EJGaZsDER2qoB3h2hu0qe+NNwUooYU8y5mILbJe6OuX+2FTKy7bieTDAemaQyQ0CPthljSWO+xmFDIYiESjM5xKd6Ik5lvLq5GrQ3aCMLvmCA9wowLuWJb9xF59hVVP6O0CrBi3ZjZSNOvRy+I6klNVRJYRBaEzdN+imiUXQ8iVF8fsp+W4JXw7WISW7fDh7lptWkCwZ4d7QTXyBPfJMYK7SijjFppGnlIVJBJBYj7eUwtiP1IBXGI1XCsjNpbjENVpSAJ2hq2LTywEly3hUYazt31J8w2+aiLx3g3fohXixPfOMYm6zCGs9LVo9MoW3MCJE7R5u/WsOIjrqBoHUO0bJE9vxBpbhsd3+Nb4/vtPCZ4oZYCitNeYuC/8UDvDvy0qvkiW/cgqNqRyzqSZa/s0mqNGjtKOoTm14zZpUauiQgVfqtQiZjq7Q27JNaSK5ExRcrGCXO1FJYh6jR6CFqK7bZdQZ4t8g0rSlPfP1RdBtqaa9diqtzJkQ9duSryi2brQXbxDwbRUpFMBHjRj8+Nt7GDKgvph9okW7LX47gu0SpGnnFQ1S1lYldOsC7hYteR574ZuKs7Ei1lBsfdz7IZoxzzCVmmVqaSySzQbBVAWDek+N4jh9E/4VqZrJjPwiv9BC1XcvOWgO8275CVyBPvAtTVlDJfZkaZGU7NpqBogAj/xEHkeAuJihWYCxGN6e8+9JtSegFXF1TrhhLGP1fak3pebgPz192/8gB4d/6WT7+GdYnpH7hH/DJzzFiYPn/vjW0SgNpTNuPIZoAEZv8tlGw4+RLxy+ZjnKa5NdFoC7UaW0aduoYse6+bXg1DLg6UfRYwmhGEjqPvF75U558SANrElK/+MdpXvmqBpaXOa/MTZaa1DOcSiLaw9j0NNNst3c+63c7EKTpkvKHzu6bPbP0RkuHAVcbRY8ijP46MIbQeeT1mhA+5PV/inyDdQipf8LTvMXbwvoDy7IruDNVZKTfV4CTSRUYdybUCnGU7KUTDxLgCknqUm5aAW6/1p6eMsOYsphLzsHrE0Y/P5bQedx1F/4yPHnMB3/IOoTU9+BL8PhtjuFKBpZXnYNJxTuv+2XqolKR2UQgHhS5novuxVySJhBNRF3SoKK1XZbbXjVwWNyOjlqWJjrWJIy+P5bQedyldNScP+HZ61xKSK3jyrz+NiHG1hcOLL/+P+PDF2gOkekKGiNWKgJ+8Z/x8Iv4DdQHzcpZyF4v19I27w9/yPGDFQvmEpKtqv/TLiWMfn4sofMm9eAH8Ao0zzh7h4sJqYtxZd5/D7hkYPneDzl5idlzNHcIB0jVlQ+8ULzw/nc5/ojzl2juE0apD7LRnJxe04dMz2iOCFNtGFpTuXA5AhcTRo8mdN4kz30nVjEC4YTZQy4gpC7GlTlrePKhGsKKgeXpCYeO0MAd/GH7yKQUlXPLOasOH3FnSphjHuDvEu4gB8g66oNbtr6eMbFIA4fIBJkgayoXriw2XEDQPJrQeROAlY6aeYOcMf+IVYTU3XFlZufMHinGywaW3YLpObVBAsbjF4QJMsVUSayjk4voPsHJOQfPWDhCgDnmDl6XIRerD24HsGtw86RMHOLvVSHrKBdeVE26gKB5NKHzaIwLOmrqBWJYZDLhASG16c0Tn+CdRhWDgWXnqRZUTnPIHuMJTfLVpkoYy5CzylHVTGZMTwkGAo2HBlkQplrJX6U+uF1wZz2uwS1SQ12IqWaPuO4baZaEFBdukksJmkcTOm+YJSvoqPFzxFA/YUhIvWxcmSdPWTWwbAKVp6rxTtPFUZfKIwpzm4IoMfaYQLWgmlG5FME2gdBgm+J7J+rtS/XBbaVLsR7bpPQnpMFlo2doWaVceHk9+MkyguZNCJ1He+kuHTWyQAzNM5YSUg/GlTk9ZunAsg1qELVOhUSAK0LABIJHLKbqaEbHZLL1VA3VgqoiOKXYiS+HRyaEKgsfIqX64HYWbLRXy/qWoylIV9gudL1OWBNgBgTNmxA6b4txDT4gi3Ri7xFSLxtXpmmYnzAcWDZgY8d503LFogz5sbonDgkKcxGsWsE1OI+rcQtlgBBCSOKD1mtqYpIU8cTvBmAT0yZe+zUzeY92fYjTtGipXLhuR0ePoHk0ofNWBX+lo8Z7pAZDk8mEw5L7dVyZZoE/pTewbI6SNbiAL5xeygW4xPRuLCGbhcO4RIeTMFYHEJkYyEO9HmJfXMDEj/LaH781wHHZEtqSQ/69UnGpzH7LKIAZEDSPJnTesJTUa+rwTepI9dLJEawYV+ZkRn9g+QirD8vF8Mq0jFQ29js6kCS3E1+jZIhgPNanHdHFqFvPJLHqFwQqbIA4jhDxcNsOCCQLDomaL/dr5lyJaJU6FxPFjO3JOh3kVMcROo8u+C+jo05GjMF3P3/FuDLn5x2M04xXULPwaS6hBYki+MrMdZJSgPHlcB7nCR5bJ9Kr5ACUn9jk5kivdd8tk95SOGrtqu9lr2IhK65ZtEl7ZKrp7DrqwZfRUSN1el7+7NJxZbywOC8neNKTch5vsTEMNsoCCqHBCqIPRjIPkm0BjvFODGtto99rCl+d3wmHkW0FPdpZtC7MMcVtGFQjJLX5bdQ2+x9ypdc313uj8xlsrfuLgWXz1cRhZvJYX0iNVBRcVcmCXZs6aEf3RQF2WI/TcCbKmGU3IOoDJGDdDub0+hYckt6PlGu2BcxmhbTdj/klhccLGJMcqRjMJP1jW2ETqLSWJ/29MAoORluJ+6LPffBZbi5gqi5h6catQpmOT7/OFf5UorRpLzCqcMltBLhwd1are3kztrSzXO0LUbXRQcdLh/RdSZ+swRm819REDrtqzC4es6Gw4JCKlSnjYVpo0xeq33PrADbFLL3RuCmObVmPN+24kfa+AojDuM4umKe2QwCf6EN906HwjujaitDs5o0s1y+k3lgbT2W2i7FJdnwbLXhJUBq/9liTctSmFC/0OqUinb0QddTWamtjbHRFuWJJ6NpqZ8vO3fZJ37Db+2GkaPYLGHs7XTTdiFQJ68SkVJFVmY6McR5UycflNCsccHFaV9FNbR4NttLxw4pQ7wJd066Z0ohVbzihaxHVExd/ay04oxUKWt+AsdiQ9OUyZ2krzN19IZIwafSTFgIBnMV73ADj7V/K8u1MaY2sJp2HWm0f41tqwajEvdHWOJs510MaAqN4aoSiPCXtN2KSi46dUxHdaMquar82O1x5jqhDGvqmoE9LfxcY3zqA7/x3HA67r9ZG4O6Cuxu12/+TP+eLP+I+HErqDDCDVmBDO4larujNe7x8om2rMug0MX0rL1+IWwdwfR+p1TNTyNmVJ85ljWzbWuGv8/C7HD/izjkHNZNYlhZcUOKVzKFUxsxxN/kax+8zPWPSFKw80rJr9Tizyj3o1gEsdwgWGoxPezDdZ1TSENE1dLdNvuKL+I84nxKesZgxXVA1VA1OcL49dFlpFV5yJMhzyCmNQ+a4BqusPJ2bB+xo8V9u3x48VVIEPS/mc3DvAbXyoYr6VgDfh5do5hhHOCXMqBZUPhWYbWZECwVJljLgMUWOCB4MUuMaxGNUQDVI50TQ+S3kFgIcu2qKkNSHVoM0SHsgoZxP2d5HH8B9woOk4x5bPkKtAHucZsdykjxuIpbUrSILgrT8G7G5oCW+K0990o7E3T6AdW4TilH5kDjds+H64kS0mz24grtwlzDHBJqI8YJQExotPvoC4JBq0lEjjQkyBZ8oH2LnRsQ4Hu1QsgDTJbO8fQDnllitkxuVskoiKbRF9VwzMDvxHAdwB7mD9yCplhHFEyUWHx3WtwCbSMMTCUCcEmSGlg4gTXkHpZXWQ7kpznK3EmCHiXInqndkQjunG5kxTKEeGye7jWz9cyMR2mGiFQ15ENRBTbCp+Gh86vAyASdgmJq2MC6hoADQ3GosP0QHbnMHjyBQvQqfhy/BUbeHd5WY/G/9LK/8Ka8Jd7UFeNWEZvzPb458Dn8DGLOe3/wGL/4xP+HXlRt+M1PE2iLhR8t+lfgxsuh7AfO2AOf+owWhSZRYQbd622hbpKWKuU+XuvNzP0OseRDa+mObgDHJUSc/pKx31QdKffQ5OIJpt8GWjlgTwMc/w5MPCR/yl1XC2a2Yut54SvOtMev55Of45BOat9aWG27p2ZVORRvnEk1hqWMVUmqa7S2YtvlIpspuF1pt0syuZS2NV14mUidCSfzQzg+KqvIYCMljIx2YK2AO34fX4GWdu5xcIAb8MzTw+j/lyWM+Dw/gjs4GD6ehNgA48kX/AI7XXM/XAN4WHr+9ntywqoCakCqmKP0rmQrJJEErG2Upg1JObr01lKQy4jskWalKYfJ/EDLMpjNSHFEUAde2fltaDgmrNaWQ9+AAb8I5vKjz3L1n1LriB/BXkG/wwR9y/oRX4LlioHA4LzP2inzRx/DWmutRweFjeP3tNeSGlaE1Fde0OS11yOpmbIp2u/jF1n2RRZviJM0yBT3IZl2HWImKjQOxIyeU325b/qWyU9Moj1o07tS0G7qJDoGHg5m8yeCxMoEH8GU45tnrNM84D2l297DQ9t1YP7jki/7RmutRweEA77/HWXOh3HCxkRgldDQkAjNTMl2Iloc1qN5JfJeeTlyTRzxURTdn1Ixv2uKjs12AbdEWlBtmVdk2k7FFwj07PCZ9XAwW3dG+8xKzNFr4EnwBZpy9Qzhh3jDXebBpYcpuo4fQ44u+fD1dweEnHzI7v0xuuOALRUV8rXpFyfSTQYkhd7IHm07jpyhlkCmI0ALYqPTpUxXS+z4jgDj1Pflvmz5ecuItpIBxyTHpSTGWd9g1ApfD/bvwUhL4nT1EzqgX7cxfCcNmb3mPL/qi9SwTHJ49oj5ZLjccbTG3pRmlYi6JCG0mQrAt1+i2UXTZ2dv9IlQpN5naMYtviaXlTrFpoMsl3bOAFEa8sqPj2WCMrx3Yjx99qFwO59Aw/wgx+HlqNz8oZvA3exRDvuhL1jMQHPaOJ0+XyA3fp1OfM3qObEVdhxjvynxNMXQV4+GJyvOEFqeQBaIbbO7i63rpxCltdZShPFxkjM2FPVkn3TG+Rp9pO3l2RzFegGfxGDHIAh8SteR0C4HopXzRF61nheDw6TFN05Ebvq8M3VKKpGjjO6r7nhudTEGMtYM92HTDaR1FDMXJ1eThsbKfywyoWwrzRSXkc51flG3vIid62h29bIcFbTGhfV+faaB+ohj7dPN0C2e2lC96+XouFByen9AsunLDJZ9z7NExiUc0OuoYW6UZkIyx2YUR2z6/TiRjyKMx5GbbjLHvHuf7YmtKghf34LJfx63Yg8vrvN2zC7lY0x0tvKezo4HmGYDU+Gab6dFL+KI761lDcNifcjLrrr9LWZJctG1FfU1uwhoQE22ObjdfkSzY63CbU5hzs21WeTddH2BaL11Gi7lVdlxP1nkxqhnKhVY6knS3EPgVGg1JpN5cP/hivujOelhXcPj8HC/LyI6MkteVjlolBdMmF3a3DbsuAYhL44dxzthWSN065xxUd55Lmf0wRbOYOqH09/o9WbO2VtFdaMb4qBgtFJoT1SqoN8wPXMoXLb3p1PUEhxfnnLzGzBI0Ku7FxrKsNJj/8bn/H8fPIVOd3rfrklUB/DOeO+nkghgSPzrlPxluCMtOnDL4Yml6dK1r3vsgMxgtPOrMFUZbEUbTdIzii5beq72G4PD0DKnwjmBULUVFmy8t+k7fZ3pKc0Q4UC6jpVRqS9Umv8bxw35flZVOU1X7qkjnhZlsMbk24qQ6Hz7QcuL6sDC0iHHki96Uh2UdvmgZnjIvExy2TeJdMDZNSbdZyAHe/Yd1xsQhHiKzjh7GxQ4yqMPaywPkjMamvqrYpmO7Knad+ZQC5msCuAPWUoxrxVhrGv7a+KLXFhyONdTMrZ7ke23qiO40ZJUyzgYyX5XyL0mV7NiUzEs9mjtbMN0dERqwyAJpigad0B3/zRV7s4PIfXSu6YV/MK7+OrYe/JvfGMn/PHJe2fyUdtnFrKRNpXV0Y2559aWPt/G4BlvjTMtXlVIWCnNyA3YQBDmYIodFz41PvXPSa6rq9lWZawZ4dP115HXV/M/tnFkkrBOdzg6aP4pID+MZnTJ1SuuB6iZlyiox4HT2y3YBtkUKWooacBQUDTpjwaDt5poBHl1/HXltwP887lKKXxNUEyPqpGTyA699UqY/lt9yGdlUKra0fFWS+36iylVWrAyd7Uw0CZM0z7xKTOduznLIjG2Hx8cDPLb+OvK6Bv7n1DYci4CxUuRxrjBc0bb4vD3rN5Zz36ntLb83eVJIB8LiIzCmn6SMPjlX+yNlTjvIGjs+QzHPf60Aj62/jrzG8j9vYMFtm1VoRWCJdmw7z9N0t+c8cxZpPeK4aTRicS25QhrVtUp7U578chk4q04Wx4YoQSjFryUlpcQ1AbxZ/XVMknIU//OGl7Q6z9Zpxi0+3yFhSkjUDpnCIUhLWVX23KQ+L9vKvFKI0ZWFQgkDLvBoylrHNVmaw10zwCPrr5tlodfnf94EWnQ0lFRWy8pW9LbkLsyUVDc2NSTHGDtnD1uMtchjbCeb1mpxFP0YbcClhzdLu6lfO8Bj6q+bdT2sz/+8SZCV7VIxtt0DUn9L7r4cLYWDSXnseEpOGFuty0qbOVlS7NNzs5FOGJUqQpl2Q64/yBpZf90sxbE+//PGdZ02HSipCbmD6NItmQ4Lk5XUrGpDMkhbMm2ZVheNYV+VbUWTcv99+2NyX1VoafSuC+AN6q9bFIMv5X/eagNWXZxEa9JjlMwNWb00akGUkSoepp1/yRuuqHGbUn3UdBSTxBU6SEVklzWRUkPndVvw2PrrpjvxOvzPmwHc0hpmq82npi7GRro8dXp0KXnUQmhZbRL7NEVp1uuZmO45vuzKsHrktS3GLWXODVjw+vXXLYx4Hf7njRPd0i3aoAGX6W29GnaV5YdyDj9TFkakje7GHYzDoObfddHtOSpoi2SmzJHrB3hM/XUDDEbxP2/oosszcRlehWXUvzHv4TpBVktHqwenFo8uLVmy4DKLa5d3RtLrmrM3aMFr1183E4sewf+85VWeg1c5ag276NZrM9IJVNcmLEvDNaV62aq+14IAOGFsBt973Ra8Xv11YzXwNfmft7Jg2oS+XOyoC8/cwzi66Dhmgk38kUmP1CUiYWOX1bpD2zWXt2FCp7uq8703APAa9dfNdscR/M/bZLIyouVxqJfeWvG9Je+JVckHQ9+CI9NWxz+blX/KYYvO5n2tAP/vrlZ7+8/h9y+9qeB/Hnt967e5mevX10rALDWK//FaAT5MXdBXdP0C/BAes792c40H+AiAp1e1oH8HgH94g/Lttx1gp63op1eyoM/Bvw5/G/7xFbqJPcCXnmBiwDPb/YKO4FX4OjyCb289db2/Noqicw4i7N6TVtoz8tNwDH+8x/i6Ae7lmaQVENzJFb3Di/BFeAwz+Is9SjeQySpPqbLFlNmyz47z5a/AF+AYFvDmHqibSXTEzoT4Gc3OALaqAP4KPFUJ6n+1x+rGAM6Zd78bgJ0a8QN4GU614vxwD9e1Amy6CcskNrczLx1JIp6HE5UZD/DBHrFr2oNlgG4Odv226BodoryjGJ9q2T/AR3vQrsOCS0ctXZi3ruLlhpFDJYl4HmYtjQCP9rhdn4suySLKDt6wLcC52h8xPlcjju1fn+yhuw4LZsAGUuo2b4Fx2UwQu77uqRHXGtg92aN3tQCbFexc0uk93vhTXbct6y7MulLycoUljx8ngDMBg1tvJjAazpEmOtxlzclvj1vQf1Tx7QlPDpGpqgtdSKz/d9/hdy1vTfFHSmC9dGDZbLiezz7Ac801HirGZsWjydfZyPvHXL/Y8Mjzg8BxTZiuwKz4Eb8sBE9zznszmjvFwHKPIWUnwhqfVRcd4Ck0K6ate48m1oOfrX3/yOtvAsJ8zsPAM89sjnddmuLuDPjX9Bu/L7x7xpMzFk6nWtyQfPg278Gn4Aekz2ZgOmU9eJ37R14vwE/BL8G3aibCiWMWWDQ0ZtkPMnlcGeAu/Ag+8ZyecU5BPuy2ILD+sQqyZhAKmn7XZd+jIMTN9eBL7x95xVLSX4On8EcNlXDqmBlqS13jG4LpmGbkF/0CnOi3H8ETOIXzmnmtb0a16Tzxj1sUvQCBiXZGDtmB3KAefPH94xcUa/6vwRn80GOFyjEXFpba4A1e8KQfFF+259tx5XS4egYn8fQsLGrqGrHbztr+uByTahWuL1NUGbDpsnrwBfePPwHHIf9X4RnM4Z2ABWdxUBlqQ2PwhuDxoS0vvqB1JzS0P4h2nA/QgTrsJFn+Y3AOjs9JFC07CGWX1oNX3T/yHOzgDjwPn1PM3g9Jk9lZrMEpxnlPmBbjyo2+KFXRU52TJM/2ALcY57RUzjObbjqxVw++4P6RAOf58pcVsw9Daje3htriYrpDOonre3CudSe6bfkTEgHBHuDiyu5MCsc7BHhYDx7ePxLjqigXZsw+ijMHFhuwBmtoTPtOxOrTvYJDnC75dnUbhfwu/ZW9AgYd+peL68HD+0emKquiXHhWjJg/UrkJYzuiaL3E9aI/ytrCvAd4GcYZMCkSQxfUg3v3j8c4e90j5ZTPdvmJJGHnOCI2nHS8081X013pHuBlV1gB2MX1YNmWLHqqGN/TWmG0y6clJWthxNUl48q38Bi8vtMKyzzpFdSDhxZ5WBA5ZLt8Jv3895DduBlgbPYAj8C4B8hO68FDkoh5lydC4FiWvBOVqjYdqjiLv92t8yPDjrDaiHdUD15qkSURSGmXJwOMSxWAXYwr3zaAufJ66l+94vv3AO+vPcD7aw/w/toDvL/2AO+vPcD7aw/wHuD9tQd4f+0B3l97gPfXHuD9tQd4f+0B3l97gG8LwP8G/AL8O/A5OCq0Ys2KIdv/qOIXG/4mvFAMF16gZD+2Xvu/B8as5+8bfllWyg0zaNO5bfXj6vfhhwD86/Aq3NfRS9t9WPnhfnvCIw/CT8GLcFTMnpntdF/z9V+PWc/vWoIH+FL3Znv57PitcdGP4R/C34avw5fgRVUInCwbsn1yyA8C8zm/BH8NXoXnVE6wVPjdeCI38kX/3+Ct9dbz1pTmHFRu+Hm4O9Ch3clr99negxfwj+ER/DR8EV6B5+DuQOnTgUw5rnkY+FbNU3gNXh0o/JYTuWOvyBf9FvzX663HH/HejO8LwAl8Hl5YLTd8q7sqA3wbjuExfAFegQdwfyDoSkWY8swzEf6o4Qyewefg+cHNbqMQruSL/u/WWc+E5g7vnnEXgDmcDeSGb/F4cBcCgT+GGRzDU3hZYburAt9TEtHgbM6JoxJ+6NMzzTcf6c2bycv2+KK/f+l6LBzw5IwfqZJhA3M472pWT/ajKxnjv4AFnMEpnBTPND6s2J7qHbPAqcMK74T2mZ4VGB9uJA465It+/eL1WKhYOD7xHOkr1ajK7d0C4+ke4Hy9qXZwpgLr+Znm/uNFw8xQOSy8H9IzjUrd9+BIfenYaylf9FsXr8fBAadnPIEDna8IBcwlxnuA0/Wv6GAWPd7dDIKjMdSWueAsBj4M7TOd06qBbwDwKr7oleuxMOEcTuEZTHWvDYUO7aHqAe0Bbq+HEFRzOz7WVoTDQkVds7A4sIIxfCQdCefFRoIOF/NFL1mPab/nvOakSL/Q1aFtNpUb/nFOVX6gzyg/1nISyDfUhsokIzaBR9Kxm80s5mK+6P56il1jXic7nhQxsxSm3OwBHl4fFdLqi64nDQZvqE2at7cWAp/IVvrN6/BFL1mPhYrGMBfOi4PyjuSGf6wBBh7p/FZTghCNWGgMzlBbrNJoPJX2mW5mwZfyRffXo7OFi5pZcS4qZUrlViptrXtw+GQoyhDPS+ANjcGBNRiLCQDPZPMHuiZfdFpPSTcQwwKYdRNqpkjm7AFeeT0pJzALgo7g8YYGrMHS0iocy+YTm2vyRUvvpXCIpQ5pe666TJrcygnScUf/p0NDs/iAI/nqDHC8TmQT8x3NF91l76oDdQGwu61Z6E0ABv7uO1dbf/37Zlv+Zw/Pbh8f1s4Avur6657/+YYBvur6657/+YYBvur6657/+YYBvur6657/+aYBvuL6657/+VMA8FXWX/f8zzcN8BXXX/f8zzcNMFdbf93zP38KLPiK6697/uebtuArrr/u+Z9vGmCusP6653/+1FjwVdZf9/zPN7oHX339dc//fNMu+irrr3v+50+Bi+Zq6697/uebA/jz8Pudf9ht/fWv517J/XUzAP8C/BAeX9WCDrUpZ3/dEMBxgPcfbtTVvsYV5Yn32u03B3Ac4P3b8I+vxNBKeeL9dRMAlwO83959qGO78sT769oB7g3w/vGVYFzKE++v6wV4OMD7F7tckFkmT7y/rhHgpQO8b+4Y46XyxPvrugBeNcB7BRiX8sT767oAvmCA9woAHsoT76+rBJjLBnh3txOvkifeX1dswZcO8G6N7sXyxPvr6i340gHe3TnqVfLE++uKAb50gHcXLnrX8sR7gNdPRqwzwLu7Y/FO5Yn3AK9jXCMGeHdgxDuVJ75VAI8ljP7PAb3/RfjcZfePHBB+79dpfpH1CanN30d+mT1h9GqAxxJGM5LQeeQ1+Tb+EQJrElLb38VHQ94TRq900aMIo8cSOo+8Dp8QfsB8zpqE1NO3OI9Zrj1h9EV78PqE0WMJnUdeU6E+Jjyk/hbrEFIfeWbvId8H9oTRFwdZaxJGvziW0Hn0gqYB/wyZ0PwRlxJST+BOw9m77Amj14ii1yGM/txYQudN0qDzGe4EqfA/5GJCagsHcPaEPWH0esekSwmjRxM6b5JEcZ4ww50ilvAOFxBSx4yLW+A/YU8YvfY5+ALC6NGEzhtmyZoFZoarwBLeZxUhtY4rc3bKnjB6TKJjFUHzJoTOozF2YBpsjcyxDgzhQ1YRUse8+J4wenwmaylB82hC5w0zoRXUNXaRBmSMQUqiWSWkLsaVqc/ZE0aPTFUuJWgeTei8SfLZQeMxNaZSIzbII4aE1Nmr13P2hNHjc9E9guYNCZ032YlNwESMLcZiLQHkE4aE1BFg0yAR4z1h9AiAGRA0jyZ03tyIxWMajMPWBIsxYJCnlITU5ShiHYdZ94TR4wCmSxg9jtB5KyPGYzymAYexWEMwAPIsAdYdV6aObmNPGD0aYLoEzaMJnTc0Ygs+YDw0GAtqxBjkuP38bMRWCHn73xNGjz75P73WenCEJnhwyVe3AEe8TtKdJcYhBl97wuhNAObK66lvD/9J9NS75v17wuitAN5fe4D31x7g/bUHeH/tAd5fe4D3AO+vPcD7aw/w/toDvL/2AO+vPcD7aw/w/toDvAd4f/24ABzZ8o+KLsSLS+Pv/TqTb3P4hKlQrTGh+fbIBT0Axqznnb+L/V2mb3HkN5Mb/nEHeK7d4IcDld6lmDW/iH9E+AH1MdOw/Jlu2T1xNmY98sv4wHnD7D3uNHu54WUuOsBTbQuvBsPT/UfzNxGYzwkP8c+Yz3C+r/i6DcyRL/rZ+utRwWH5PmfvcvYEt9jLDS/bg0/B64DWKrQM8AL8FPwS9beQCe6EMKNZYJol37jBMy35otdaz0Bw2H/C2Smc7+WGB0HWDELBmOByA3r5QONo4V+DpzR/hFS4U8wMW1PXNB4TOqYz9urxRV++ntWCw/U59Ty9ebdWbrgfRS9AYKKN63ZokZVygr8GZ/gfIhZXIXPsAlNjPOLBby5c1eOLvmQ9lwkOy5x6QV1j5TYqpS05JtUgUHUp5toHGsVfn4NX4RnMCe+AxTpwmApTYxqMxwfCeJGjpXzRF61nbcHhUBPqWze9svwcHJ+S6NPscKrEjug78Dx8Lj3T8D4YxGIdxmJcwhi34fzZUr7olevZCw5vkOhoClq5zBPZAnygD/Tl9EzDh6kl3VhsHYcDEb+hCtJSvuiV69kLDm+WycrOTArHmB5/VYyP6jOVjwgGawk2zQOaTcc1L+aLXrKeveDwZqlKrw8U9Y1p66uK8dEzdYwBeUQAY7DbyYNezBfdWQ97weEtAKYQg2xJIkuveAT3dYeLGH+ShrWNwZgN0b2YL7qznr3g8JYAo5bQBziPjx7BPZ0d9RCQp4UZbnFdzBddor4XHN4KYMrB2qHFRIzzcLAHQZ5the5ovui94PCWAPefaYnxIdzRwdHCbuR4B+tbiy96Lzi8E4D7z7S0mEPd+eqO3cT53Z0Y8SV80XvB4Z0ADJi/f7X113f+7p7/+UYBvur6657/+YYBvur6657/+aYBvuL6657/+aYBvuL6657/+aYBvuL6657/+aYBvuL6657/+VMA8FXWX/f8z58OgK+y/rrnf75RgLna+uue//lTA/CV1V/3/M837aKvvv6653++UQvmauuve/7nTwfAV1N/3fM/fzr24Cuuv+75nz8FFnxl9dc9//MOr/8/glixwRuUfM4AAAAASUVORK5CYII=",W="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEIAAAAhCAAAAABIXyLAAAAAOElEQVRIx2NgGAWjYBSMglEwEICREYRgFBZBqDCSLA2MGPUIVQETE9iNUAqLR5gIeoQKRgwXjwAAGn4AtaFeYLEAAAAASUVORK5CYII=",Y="#define sampleLevelZeroOffset(t, coord, offset) texture2D(t, coord + float(offset) * texelSize, 0.0)\r\n\r\nuniform sampler2D tDiffuse;\r\nuniform sampler2D tArea;\r\nuniform sampler2D tSearch;\r\n\r\nuniform vec2 texelSize;\r\n\r\nvarying vec2 vUv;\r\nvarying vec4 vOffset[3];\r\nvarying vec2 vPixCoord;\r\n\r\nvec2 round(vec2 x) {\r\n\r\n\treturn sign(x) * floor(abs(x) + 0.5);\r\n\r\n}\r\n\r\nfloat searchLength(vec2 e, float bias, float scale) {\r\n\r\n\t// Not required if tSearch accesses are set to point.\r\n\t// const vec2 SEARCH_TEX_PIXEL_SIZE = 1.0 / vec2(66.0, 33.0);\r\n\t// e = vec2(bias, 0.0) + 0.5 * SEARCH_TEX_PIXEL_SIZE + e * vec2(scale, 1.0) * vec2(64.0, 32.0) * SEARCH_TEX_PIXEL_SIZE;\r\n\r\n\te.r = bias + e.r * scale;\r\n\r\n\treturn 255.0 * texture2D(tSearch, e, 0.0).r;\r\n\r\n}\r\n\r\nfloat searchXLeft(vec2 texCoord, float end) {\r\n\r\n\t/* @PSEUDO_GATHER4\r\n\t * This texCoord has been offset by (-0.25, -0.125) in the vertex shader to\r\n\t * sample between edge, thus fetching four edges in a row.\r\n\t * Sampling with different offsets in each direction allows to disambiguate\r\n\t * which edges are active from the four fetched ones.\r\n\t */\r\n\r\n\tvec2 e = vec2(0.0, 1.0);\r\n\r\n\tfor(int i = 0; i < SMAA_MAX_SEARCH_STEPS_INT; ++i) {\r\n\r\n\t\te = texture2D(tDiffuse, texCoord, 0.0).rg;\r\n\t\ttexCoord -= vec2(2.0, 0.0) * texelSize;\r\n\r\n\t\tif(!(texCoord.x > end && e.g > 0.8281 && e.r == 0.0)) { break; }\r\n\r\n\t}\r\n\r\n\t// Correct the previously applied offset (-0.25, -0.125).\r\n\ttexCoord.x += 0.25 * texelSize.x;\r\n\r\n\t// The searches are biased by 1, so adjust the coords accordingly.\r\n\ttexCoord.x += texelSize.x;\r\n\r\n\t// Disambiguate the length added by the last step.\r\n\ttexCoord.x += 2.0 * texelSize.x; // Undo last step.\r\n\ttexCoord.x -= texelSize.x * searchLength(e, 0.0, 0.5);\r\n\r\n\treturn texCoord.x;\r\n\r\n}\r\n\r\nfloat searchXRight(vec2 texCoord, float end) {\r\n\r\n\tvec2 e = vec2(0.0, 1.0);\r\n\r\n\tfor(int i = 0; i < SMAA_MAX_SEARCH_STEPS_INT; ++i) {\r\n\r\n\t\te = texture2D(tDiffuse, texCoord, 0.0).rg;\r\n\t\ttexCoord += vec2(2.0, 0.0) * texelSize;\r\n\r\n\t\tif(!(texCoord.x < end && e.g > 0.8281 && e.r == 0.0)) { break; }\r\n\r\n\t}\r\n\r\n\ttexCoord.x -= 0.25 * texelSize.x;\r\n\ttexCoord.x -= texelSize.x;\r\n\ttexCoord.x -= 2.0 * texelSize.x;\r\n\ttexCoord.x += texelSize.x * searchLength(e, 0.5, 0.5);\r\n\r\n\treturn texCoord.x;\r\n\r\n}\r\n\r\nfloat searchYUp(vec2 texCoord, float end) {\r\n\r\n\tvec2 e = vec2(1.0, 0.0);\r\n\r\n\tfor(int i = 0; i < SMAA_MAX_SEARCH_STEPS_INT; ++i) {\r\n\r\n\t\te = texture2D(tDiffuse, texCoord, 0.0).rg;\r\n\t\ttexCoord += vec2(0.0, 2.0) * texelSize; // Changed sign.\r\n\r\n\t\tif(!(texCoord.y > end && e.r > 0.8281 && e.g == 0.0)) { break; }\r\n\r\n\t}\r\n\r\n\ttexCoord.y -= 0.25 * texelSize.y; // Changed sign.\r\n\ttexCoord.y -= texelSize.y; // Changed sign.\r\n\ttexCoord.y -= 2.0 * texelSize.y; // Changed sign.\r\n\ttexCoord.y += texelSize.y * searchLength(e.gr, 0.0, 0.5); // Changed sign.\r\n\r\n\treturn texCoord.y;\r\n\r\n}\r\n\r\nfloat searchYDown(vec2 texCoord, float end) {\r\n\r\n\tvec2 e = vec2(1.0, 0.0);\r\n\r\n\tfor(int i = 0; i < SMAA_MAX_SEARCH_STEPS_INT; ++i ) {\r\n\r\n\t\te = texture2D(tDiffuse, texCoord, 0.0).rg;\r\n\t\ttexCoord -= vec2(0.0, 2.0) * texelSize; // Changed sign.\r\n\r\n\t\tif(!(texCoord.y < end && e.r > 0.8281 && e.g == 0.0)) { break; }\r\n\r\n\t}\r\n\r\n\ttexCoord.y += 0.25 * texelSize.y; // Changed sign.\r\n\ttexCoord.y += texelSize.y; // Changed sign.\r\n\ttexCoord.y += 2.0 * texelSize.y; // Changed sign.\r\n\ttexCoord.y -= texelSize.y * searchLength(e.gr, 0.5, 0.5); // Changed sign.\r\n\r\n\treturn texCoord.y;\r\n\r\n}\r\n\r\nvec2 area(vec2 dist, float e1, float e2, float offset) {\r\n\r\n\t// Rounding prevents precision errors of bilinear filtering.\r\n\tvec2 texCoord = SMAA_AREATEX_MAX_DISTANCE * round(4.0 * vec2(e1, e2)) + dist;\r\n\r\n\t// Scale and bias for texel space translation.\r\n\ttexCoord = SMAA_AREATEX_PIXEL_SIZE * texCoord + (0.5 * SMAA_AREATEX_PIXEL_SIZE);\r\n\r\n\t// Move to proper place, according to the subpixel offset.\r\n\ttexCoord.y += SMAA_AREATEX_SUBTEX_SIZE * offset;\r\n\r\n\treturn texture2D(tArea, texCoord, 0.0).rg;\r\n\r\n}\r\n\r\nvoid main() {\r\n\r\n\tvec4 weights = vec4(0.0);\r\n\tvec4 subsampleIndices = vec4(0.0);\r\n\tvec2 e = texture2D(tDiffuse, vUv).rg;\r\n\r\n\tif(e.g > 0.0) {\r\n\r\n\t\t// Edge at north.\r\n\t\tvec2 d;\r\n\r\n\t\t// Find the distance to the left.\r\n\t\tvec2 coords;\r\n\t\tcoords.x = searchXLeft(vOffset[0].xy, vOffset[2].x);\r\n\t\tcoords.y = vOffset[1].y; // vOffset[1].y = vUv.y - 0.25 * texelSize.y (@CROSSING_OFFSET)\r\n\t\td.x = coords.x;\r\n\r\n\t\t/* Now fetch the left crossing edges, two at a time using bilinear filtering.\r\n\t\t * Sampling at -0.25 (see @CROSSING_OFFSET) enables to discern what value each edge has.\r\n\t\t */\r\n\r\n\t\tfloat e1 = texture2D(tDiffuse, coords, 0.0).r;\r\n\r\n\t\t// Find the distance to the right.\r\n\t\tcoords.x = searchXRight(vOffset[0].zw, vOffset[2].y);\r\n\t\td.y = coords.x;\r\n\r\n\t\t// Translate distances to pixel units for better interleave arithmetic and memory accesses.\r\n\t\td = d / texelSize.x - vPixCoord.x;\r\n\r\n\t\t// The area below needs a sqrt, as the areas texture is compressed quadratically.\r\n\t\tvec2 sqrtD = sqrt(abs(d));\r\n\r\n\t\t// Fetch the right crossing edges.\r\n\t\tcoords.y -= texelSize.y; // WebGL port note: Added.\r\n\t\tfloat e2 = sampleLevelZeroOffset(tDiffuse, coords, ivec2(1, 0)).r;\r\n\r\n\t\t// Pattern recognised, now get the actual area.\r\n\t\tweights.rg = area(sqrtD, e1, e2, subsampleIndices.y);\r\n\r\n\t}\r\n\r\n\tif(e.r > 0.0) {\r\n\r\n\t\t// Edge at west.\r\n\t\tvec2 d;\r\n\r\n\t\t// Find the distance to the top.\r\n\t\tvec2 coords;\r\n\r\n\t\tcoords.y = searchYUp(vOffset[1].xy, vOffset[2].z);\r\n\t\tcoords.x = vOffset[0].x; // vOffset[1].x = vUv.x - 0.25 * texelSize.x;\r\n\t\td.x = coords.y;\r\n\r\n\t\t// Fetch the top crossing edges.\r\n\t\tfloat e1 = texture2D(tDiffuse, coords, 0.0).g;\r\n\r\n\t\t// Find the distance to the bottom.\r\n\t\tcoords.y = searchYDown(vOffset[1].zw, vOffset[2].w);\r\n\t\td.y = coords.y;\r\n\r\n\t\t// Distances in pixel units.\r\n\t\td = d / texelSize.y - vPixCoord.y;\r\n\r\n\t\t// The area below needs a sqrt, as the areas texture is compressed quadratically.\r\n\t\tvec2 sqrtD = sqrt(abs(d));\r\n\r\n\t\t// Fetch the bottom crossing edges.\r\n\t\tcoords.y -= texelSize.y; // WebGL port note: Added.\r\n\t\tfloat e2 = sampleLevelZeroOffset(tDiffuse, coords, ivec2(0, 1)).g;\r\n\r\n\t\t// Get the area for this direction.\r\n\t\tweights.ba = area(sqrtD, e1, e2, subsampleIndices.x);\r\n\r\n\t}\r\n\r\n\tgl_FragColor = weights;\r\n\r\n}\r\n",q="uniform vec2 texelSize;\r\n\r\nvarying vec2 vUv;\r\nvarying vec4 vOffset[3];\r\nvarying vec2 vPixCoord;\r\n\r\nvoid main() {\r\n\r\n\tvUv = uv;\r\n\r\n\tvPixCoord = uv / texelSize;\r\n\r\n\t// Offsets for the searches (see @PSEUDO_GATHER4).\r\n\tvOffset[0] = uv.xyxy + texelSize.xyxy * vec4(-0.25, 0.125, 1.25, 0.125); // Changed sign in Y and W components.\r\n\tvOffset[1] = uv.xyxy + texelSize.xyxy * vec4(-0.125, 0.25, -0.125, -1.25); //Changed sign in Y and W components.\r\n\r\n\t// This indicates the ends of the loops.\r\n\tvOffset[2] = vec4(vOffset[0].xz, vOffset[1].yw) + vec4(-2.0, 2.0, -2.0, 2.0) * texelSize.xxyy * SMAA_MAX_SEARCH_STEPS_FLOAT;\r\n\r\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\r\n\r\n}\r\n",Z=function(t){
function r(t){i(this,r);var n=s(this,Object.getPrototypeOf(r).call(this,{type:"SMAAWeightsMaterial",defines:{SMAA_MAX_SEARCH_STEPS_INT:"8",SMAA_MAX_SEARCH_STEPS_FLOAT:"8.0",SMAA_AREATEX_MAX_DISTANCE:"16.0",SMAA_AREATEX_PIXEL_SIZE:"(1.0 / vec2(160.0, 560.0))",SMAA_AREATEX_SUBTEX_SIZE:"(1.0 / 7.0)"},uniforms:{tDiffuse:{value:null},tArea:{value:null},tSearch:{value:null},texelSize:{value:void 0!==t?t:new e.Vector2}},fragmentShader:Y,vertexShader:q}));return n.areaImage=V,n.searchImage=W,n}return a(r,t),r}(e.ShaderMaterial),K="uniform sampler2D tDiffuse;\r\nuniform float middleGrey;\r\nuniform float maxLuminance;\r\n\r\n#ifdef ADAPTED_LUMINANCE\r\n\r\n\tuniform sampler2D luminanceMap;\r\n\r\n#else\r\n\r\n\tuniform float averageLuminance;\r\n\r\n#endif\r\n\r\nvarying vec2 vUv;\r\n\r\nconst vec3 LUM_COEFF = vec3(0.299, 0.587, 0.114);\r\nconst vec2 CENTER = vec2(0.5, 0.5);\r\n\r\nvec3 toneMap(vec3 c) {\r\n\r\n\t#ifdef ADAPTED_LUMINANCE\r\n\r\n\t\t// Get the calculated average luminance.\r\n\t\tfloat lumAvg = texture2D(luminanceMap, CENTER).r;\r\n\r\n\t#else\r\n\r\n\t\tfloat lumAvg = averageLuminance;\r\n\r\n\t#endif\r\n\r\n\t// Calculate the luminance of the current pixel.\r\n\tfloat lumPixel = dot(c, LUM_COEFF);\r\n\r\n\t// Apply the modified operator (Reinhard Eq. 4).\r\n\tfloat lumScaled = (lumPixel * middleGrey) / lumAvg;\r\n\r\n\tfloat lumCompressed = (lumScaled * (1.0 + (lumScaled / (maxLuminance * maxLuminance)))) / (1.0 + lumScaled);\r\n\r\n\treturn lumCompressed * c;\r\n\r\n}\r\n\r\nvoid main() {\r\n\r\n\tvec4 texel = texture2D(tDiffuse, vUv);\r\n\tgl_FragColor = vec4(toneMap(texel.rgb), texel.a);\r\n\r\n}\r\n",J="varying vec2 vUv;\r\n\r\nvoid main() {\r\n\r\n\tvUv = uv;\r\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\r\n\r\n}\r\n",Q=function(t){function e(){return i(this,e),s(this,Object.getPrototypeOf(e).call(this,{type:"ToneMappingMaterial",uniforms:{tDiffuse:{value:null},luminanceMap:{value:null},averageLuminance:{value:1},maxLuminance:{value:16},middleGrey:{value:.6}},fragmentShader:K,vertexShader:J}))}return a(e,t),e}(e.ShaderMaterial),$=function(){function t(){var r=arguments.length<=0||void 0===arguments[0]?new e.Scene:arguments[0],n=arguments.length<=1||void 0===arguments[1]?new e.OrthographicCamera(-1,1,1,-1,0,1):arguments[1],o=arguments.length<=2||void 0===arguments[2]?new e.Mesh(new e.PlaneBufferGeometry(2,2),null):arguments[2];i(this,t),this.scene=r,this.camera=n,this.quad=o,this.needsSwap=!1,this.enabled=!0,this.renderToScreen=!1,null!==this.scene&&(null!==this.camera&&null===this.camera.parent&&this.scene.add(this.camera),null!==this.quad&&this.scene.add(this.quad))}return o(t,[{key:"render",value:function(t,e,r,n,i){throw new Error("Render method not implemented!")}},{key:"initialise",value:function(t,e){}},{key:"setSize",value:function(t,e){}},{key:"dispose",value:function(){var t=void 0,e=void 0,r=Object.keys(this);for(t=r.length-1;t>=0;--t)e=this[r[t]],null!==e&&"function"==typeof e.dispose&&(e.dispose(),this[r[t]]=null)}}]),t}(),tt=function(t){function r(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];i(this,r);var n=s(this,Object.getPrototypeOf(r).call(this));return n.renderTargetX=new e.WebGLRenderTarget(1,1,{minFilter:e.LinearFilter,magFilter:e.LinearFilter,generateMipmaps:!1,stencilBuffer:!1,depthBuffer:!1}),n.renderTargetY=n.renderTargetX.clone(),n.resolutionScale=void 0===t.resolutionScale?.5:t.resolutionScale,n.combineMaterial=new g,void 0!==t.strength&&(n.combineMaterial.uniforms.opacity2.value=t.strength),n.copyMaterial=new T,n.copyMaterial.blending=e.AdditiveBlending,n.copyMaterial.transparent=!0,void 0!==t.strength&&(n.copyMaterial.uniforms.opacity.value=t.strength),n.luminosityMaterial=new U(!0),void 0!==t.distinction&&(n.luminosityMaterial.uniforms.distinction.value=t.distinction),n.convolutionMaterial=new x,n.blurriness=t.blurriness,n}return a(r,t),o(r,[{key:"render",value:function(t,e){var r=t.state;this.quad.material=this.luminosityMaterial,this.luminosityMaterial.uniforms.tDiffuse.value=e.texture,r.setDepthWrite(!0),t.render(this.scene,this.camera,this.renderTargetX),r.setDepthWrite(!1),this.quad.material=this.convolutionMaterial,this.convolutionMaterial.adjustKernel(),this.convolutionMaterial.uniforms.tDiffuse.value=this.renderTargetX.texture,t.render(this.scene,this.camera,this.renderTargetY),this.convolutionMaterial.adjustKernel(),this.convolutionMaterial.uniforms.tDiffuse.value=this.renderTargetY.texture,t.render(this.scene,this.camera,this.renderTargetX),this.convolutionMaterial.adjustKernel(),this.convolutionMaterial.uniforms.tDiffuse.value=this.renderTargetX.texture,t.render(this.scene,this.camera,this.renderTargetY),this.convolutionMaterial.adjustKernel(),this.convolutionMaterial.uniforms.tDiffuse.value=this.renderTargetY.texture,t.render(this.scene,this.camera,this.renderTargetX),this.convolutionMaterial.adjustKernel(),this.convolutionMaterial.uniforms.tDiffuse.value=this.renderTargetX.texture,t.render(this.scene,this.camera,this.renderTargetY),this.renderToScreen?(this.quad.material=this.combineMaterial,this.combineMaterial.uniforms.texture1.value=e.texture,this.combineMaterial.uniforms.texture2.value=this.renderTargetY.texture,t.render(this.scene,this.camera)):(this.quad.material=this.copyMaterial,this.copyMaterial.uniforms.tDiffuse.value=this.renderTargetY.texture,t.render(this.scene,this.camera,e,!1))}},{key:"initialise",value:function(t,r){var n=t.getSize();this.setSize(n.width,n.height),r||(this.renderTargetX.texture.format=e.RGBFormat,this.renderTargetY.texture.format=e.RGBFormat)}},{key:"setSize",value:function(t,e){t=Math.floor(t*this.resolutionScale),e=Math.floor(e*this.resolutionScale),t<=0&&(t=1),e<=0&&(e=1),this.renderTargetX.setSize(t,e),this.renderTargetY.setSize(t,e),this.convolutionMaterial.setTexelSize(1/t,1/e)}},{key:"blurriness",get:function(){return this.convolutionMaterial.scale},set:function(t){"number"==typeof t&&(this.convolutionMaterial.scale=t)}}]),r}($),et=function(t){function e(t){var r=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];i(this,e);var n=s(this,Object.getPrototypeOf(e).call(this));return n.needsSwap=!0,n.bokehMaterial=new h(t,r),n.quad.material=n.bokehMaterial,n}return a(e,t),o(e,[{key:"render",value:function(t,e,r){this.bokehMaterial.uniforms.tDiffuse.value=e.texture,this.bokehMaterial.uniforms.tDepth.value=e.depthTexture,this.renderToScreen?t.render(this.scene,this.camera):t.render(this.scene,this.camera,r,!1)}},{key:"initialise",value:function(t){var e=t.getSize();this.setSize(e.width,e.height)}},{key:"setSize",value:function(t,e){this.bokehMaterial.uniforms.aspect.value=t/e}}]),e}($),rt=function(t){function e(t){var r=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];i(this,e);var n=s(this,Object.getPrototypeOf(e).call(this));return n.bokehMaterial=new p(t,r),n.quad.material=n.bokehMaterial,n}return a(e,t),o(e,[{key:"render",value:function(t,e,r){this.bokehMaterial.uniforms.tDiffuse.value=e.texture,this.bokehMaterial.uniforms.tDepth.value=e.depthTexture,this.renderToScreen?t.render(this.scene,this.camera):t.render(this.scene,this.camera,r,!1)}},{key:"initialise",value:function(t){var e=t.getSize();this.setSize(e.width,e.height)}},{key:"setSize",value:function(t,e){this.bokehMaterial.setTexelSize(1/t,1/e)}}]),e}($),nt=function(t){function e(){return i(this,e),s(this,Object.getPrototypeOf(e).call(this,null,null,null))}return a(e,t),o(e,[{key:"render",value:function(t){t.context.disable(t.context.STENCIL_TEST)}}]),e}($),it=function(t){function e(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];i(this,e);var r=s(this,Object.getPrototypeOf(e).call(this));return r.needsSwap=!0,r.material=new M(t.average),void 0!==t.angle&&(r.material.uniforms.angle.value=t.angle),void 0!==t.scale&&(r.material.uniforms.scale.value=t.scale),void 0!==t.intensity&&(r.material.uniforms.intensity.value=t.intensity),r.quad.material=r.material,r}return a(e,t),o(e,[{key:"render",value:function(t,e,r){this.material.uniforms.tDiffuse.value=e.texture,this.renderToScreen?t.render(this.scene,this.camera):t.render(this.scene,this.camera,r,!1)}},{key:"initialise",value:function(t){var e=t.getSize();this.setSize(e.width,e.height)}},{key:"setSize",value:function(t,e){t<=0&&(t=1),e<=0&&(e=1),this.material.uniforms.offsetRepeat.value.z=t,this.material.uniforms.offsetRepeat.value.w=e}}]),e}($),ot=function(t){function e(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];i(this,e);var r=s(this,Object.getPrototypeOf(e).call(this));return r.needsSwap=!0,r.material=new C(t),r.quad.material=r.material,r.scanlineDensity=void 0===t.scanlineDensity?1.25:t.scanlineDensity,r}return a(e,t),o(e,[{key:"render",value:function(t,e,r,n){this.material.uniforms.tDiffuse.value=e.texture,this.material.uniforms.time.value+=n,this.renderToScreen?t.render(this.scene,this.camera):t.render(this.scene,this.camera,r,!1)}},{key:"initialise",value:function(t){var e=t.getSize();this.setSize(e.width,e.height)}},{key:"setSize",value:function(t,e){this.material.uniforms.scanlineCount.value=Math.round(e*this.scanlineDensity)}}]),e}($),at=function(t){function r(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];i(this,r);var e=s(this,Object.getPrototypeOf(r).call(this));return e.needsSwap=!0,e.material=new D,e.quad.material=e.material,void 0!==t.perturbMap?(e.perturbMap=t.perturbMap,e.perturbMap.generateMipmaps=!1,e.material.uniforms.tPerturb.value=e.perturbMap):(e.perturbMap=null,e.generatePerturbMap(void 0!==t.dtSize?t.dtSize:64)),e.mode=r.Mode.SPORADIC,e.counter=0,e.breakPoint=0,e.generateTrigger(),e}return a(r,t),o(r,[{key:"render",value:function(t,n,i){var o=this.material.uniforms;o.tDiffuse.value=n.texture,o.seed.value=Math.random(),o.active.value=!0,this.counter%this.breakPoint===0||this.mode===r.Mode.CONSTANT_WILD?(o.amount.value=Math.random()/30,o.angle.value=e.Math.randFloat(-Math.PI,Math.PI),o.seedX.value=e.Math.randFloat(-1,1),o.seedY.value=e.Math.randFloat(-1,1),o.distortionX.value=e.Math.randFloat(0,1),o.distortionY.value=e.Math.randFloat(0,1),this.counter=0,this.generateTrigger()):this.counter%this.breakPoint<this.breakPoint/5||this.mode===r.Mode.CONSTANT_MILD?(o.amount.value=Math.random()/90,o.angle.value=e.Math.randFloat(-Math.PI,Math.PI),o.distortionX.value=e.Math.randFloat(0,1),o.distortionY.value=e.Math.randFloat(0,1),o.seedX.value=e.Math.randFloat(-.3,.3),o.seedY.value=e.Math.randFloat(-.3,.3)):this.mode===r.Mode.SPORADIC&&(o.active.value=!1),++this.counter,this.renderToScreen?t.render(this.scene,this.camera):t.render(this.scene,this.camera,i,!1)}},{key:"generateTrigger",value:function(){this.breakPoint=e.Math.randInt(120,240)}},{key:"generatePerturbMap",value:function(t){var r=void 0,n=void 0,i=t*t,o=new Float32Array(3*i);for(r=0;r<i;++r)n=e.Math.randFloat(0,1),o[3*r]=n,o[3*r+1]=n,o[3*r+2]=n;null!==this.perturbMap&&this.perturbMap.dispose(),this.perturbMap=new e.DataTexture(o,t,t,e.RGBFormat,e.FloatType),this.perturbMap.needsUpdate=!0,this.material.uniforms.tPerturb.value=this.perturbMap}}]),r}($);at.Mode={SPORADIC:0,CONSTANT_MILD:1,CONSTANT_WILD:2};var st=new e.Color,ut=function(t){function r(t,n,o){var a=arguments.length<=3||void 0===arguments[3]?{}:arguments[3];i(this,r);var u=s(this,Object.getPrototypeOf(r).call(this));return u.renderTargetMask=new e.WebGLRenderTarget(1,1,{minFilter:e.LinearFilter,magFilter:e.LinearFilter,generateMipmaps:!1}),u.renderTargetX=u.renderTargetMask.clone(),u.renderTargetX.stencilBuffer=!1,u.renderTargetX.depthBuffer=!1,u.renderTargetY=u.renderTargetX.clone(),u.resolutionScale=void 0===a.resolutionScale?.5:a.resolutionScale,u.lightSource=o,u.screenPosition=new e.Vector3,u.convolutionMaterial=new x,u.blurriness=void 0!==a.blurriness?a.blurriness:.1,u.combineMaterial=new g,u.copyMaterial=new T,u.copyMaterial.blending=e.AdditiveBlending,u.copyMaterial.transparent=!0,u.maskMaterial=new e.MeshBasicMaterial({color:0}),u.godRaysMaterial=new F,u.godRaysMaterial.uniforms.lightPosition.value=u.screenPosition,void 0!==a.exposure&&(u.godRaysMaterial.uniforms.exposure.value=a.exposure),void 0!==a.density&&(u.godRaysMaterial.uniforms.density.value=a.density),void 0!==a.decay&&(u.godRaysMaterial.uniforms.decay.value=a.decay),void 0!==a.weight&&(u.godRaysMaterial.uniforms.weight.value=a.weight),void 0!==a.clampMax&&(u.godRaysMaterial.uniforms.clampMax.value=a.clampMax),u.samples=a.samples,u.intensity=a.intensity,u.mainScene=t,u.mainCamera=n,u}return a(r,t),o(r,[{key:"render",value:function(t,r){var n=void 0,i=void 0,o=t.state;this.screenPosition.copy(this.lightSource.position).project(this.mainCamera),this.screenPosition.x=e.Math.clamp(.5*(this.screenPosition.x+1),0,1),this.screenPosition.y=e.Math.clamp(.5*(this.screenPosition.y+1),0,1),o.setDepthWrite(!0),i=this.mainScene.background,st.copy(t.getClearColor()),n=t.getClearAlpha(),t.setClearColor(0,1),this.mainScene.overrideMaterial=this.maskMaterial,this.mainScene.background=null,t.render(this.mainScene,this.mainCamera,this.renderTargetMask,!0),this.mainScene.background=i,this.mainScene.overrideMaterial=null,t.setClearColor(st,n),o.setDepthWrite(!1),this.quad.material=this.convolutionMaterial,this.convolutionMaterial.adjustKernel(),this.convolutionMaterial.uniforms.tDiffuse.value=this.renderTargetMask.texture,t.render(this.scene,this.camera,this.renderTargetX),this.convolutionMaterial.adjustKernel(),this.convolutionMaterial.uniforms.tDiffuse.value=this.renderTargetX.texture,t.render(this.scene,this.camera,this.renderTargetY),this.convolutionMaterial.adjustKernel(),this.convolutionMaterial.uniforms.tDiffuse.value=this.renderTargetY.texture,t.render(this.scene,this.camera,this.renderTargetX),this.convolutionMaterial.adjustKernel(),this.convolutionMaterial.uniforms.tDiffuse.value=this.renderTargetX.texture,t.render(this.scene,this.camera,this.renderTargetY),this.convolutionMaterial.adjustKernel(),this.convolutionMaterial.uniforms.tDiffuse.value=this.renderTargetY.texture,t.render(this.scene,this.camera,this.renderTargetX),this.quad.material=this.godRaysMaterial,this.godRaysMaterial.uniforms.tDiffuse.value=this.renderTargetX.texture,t.render(this.scene,this.camera,this.renderTargetY),this.renderToScreen?(this.quad.material=this.combineMaterial,this.combineMaterial.uniforms.texture1.value=r.texture,this.combineMaterial.uniforms.texture2.value=this.renderTargetY.texture,t.render(this.scene,this.camera)):(this.quad.material=this.copyMaterial,this.copyMaterial.uniforms.tDiffuse.value=this.renderTargetY.texture,t.render(this.scene,this.camera,r))}},{key:"initialise",value:function(t,r){var n=t.getSize();this.setSize(n.width,n.height),r||(this.renderTargetMask.texture.format=e.RGBFormat,this.renderTargetX.texture.format=e.RGBFormat,this.renderTargetY.texture.format=e.RGBFormat)}},{key:"setSize",value:function(t,e){t=Math.floor(t*this.resolutionScale),e=Math.floor(e*this.resolutionScale),t<=0&&(t=1),e<=0&&(e=1),this.renderTargetMask.setSize(t,e),this.renderTargetX.setSize(t,e),this.renderTargetY.setSize(t,e),this.convolutionMaterial.setTexelSize(1/t,1/e)}},{key:"blurriness",get:function(){return this.convolutionMaterial.scale},set:function(t){"number"==typeof t&&(this.convolutionMaterial.scale=t)}},{key:"intensity",get:function(){return this.combineMaterial.uniforms.opacity2.value},set:function(t){"number"==typeof t&&(this.combineMaterial.uniforms.opacity2.value=t,this.copyMaterial.uniforms.opacity.value=t)}},{key:"samples",get:function(){return Number.parseInt(this.godRaysMaterial.defines.NUM_SAMPLES_INT)},set:function(t){"number"==typeof t&&t>0&&(t=Math.floor(t),this.godRaysMaterial.defines.NUM_SAMPLES_FLOAT=t.toFixed(1),this.godRaysMaterial.defines.NUM_SAMPLES_INT=t.toFixed(0),this.godRaysMaterial.needsUpdate=!0)}}]),r}($),lt=function(t){function e(t,r){i(this,e);var n=s(this,Object.getPrototypeOf(e).call(this,t,r,null));return n.inverse=!1,n.clear=!0,n}return a(e,t),o(e,[{key:"render",value:function(t,e,r){var n=t.context,i=t.state,o=this.inverse?0:1,a=1-o;i.setColorWrite(!1),i.setDepthWrite(!1),i.setStencilTest(!0),i.setStencilOp(n.REPLACE,n.REPLACE,n.REPLACE),i.setStencilFunc(n.ALWAYS,o,4294967295),i.clearStencil(a),t.render(this.scene,this.camera,e,this.clear),t.render(this.scene,this.camera,r,this.clear),i.setColorWrite(!0),i.setDepthWrite(!0),i.setStencilFunc(n.EQUAL,1,4294967295),i.setStencilOp(n.KEEP,n.KEEP,n.KEEP)}}]),e}($),ct=new e.Color,ht=function(t){function r(t,n){var o=arguments.length<=2||void 0===arguments[2]?{}:arguments[2];i(this,r);var a=s(this,Object.getPrototypeOf(r).call(this,t,n,null));return a.overrideMaterial=void 0!==o.overrideMaterial?o.overrideMaterial:null,a.clearColor=void 0!==o.clearColor?o.clearColor:null,a.clearAlpha=void 0===o.clearAlpha?1:e.Math.clamp(o.clearAlpha,0,1),a.clear=!0,a}return a(r,t),o(r,[{key:"render",value:function(t,e){var r=void 0,n=t.state;n.setDepthWrite(!0),this.scene.overrideMaterial=this.overrideMaterial,null!==this.clearColor&&(ct.copy(t.getClearColor()),r=t.getClearAlpha(),t.setClearColor(this.clearColor,this.clearAlpha)),this.renderToScreen?t.render(this.scene,this.camera,null,this.clear):t.render(this.scene,this.camera,e,this.clear),null!==this.clearColor&&t.setClearColor(ct,r),this.scene.overrideMaterial=null,n.setDepthWrite(!1)}}]),r}($),ft=function(t){function e(t){var r=arguments.length<=1||void 0===arguments[1]||arguments[1];i(this,e);var n=s(this,Object.getPrototypeOf(e).call(this));return n.material=new T,n.quad.material=n.material,n.renderTarget=t,n.resize=r,n}return a(e,t),o(e,[{key:"render",value:function(t,e){this.material.uniforms.tDiffuse.value=e.texture,t.render(this.scene,this.camera,this.renderTarget,this.clear)}},{key:"setSize",value:function(t,e){this.resize&&null!==this.renderTarget&&(t<=0&&(t=1),e<=0&&(e=1),this.renderTarget.setSize(t,e))}}]),e}($),dt=function(t){function r(t){i(this,r);var n=s(this,Object.getPrototypeOf(r).call(this));n.needsSwap=!0,n.renderTargetColorEdges=new e.WebGLRenderTarget(1,1,{minFilter:e.LinearFilter,format:e.RGBFormat,generateMipmaps:!1,stencilBuffer:!1,depthBuffer:!1}),n.renderTargetWeights=n.renderTargetColorEdges.clone(),n.renderTargetWeights.texture.format=e.RGBAFormat,n.colorEdgesMaterial=new X,n.weightsMaterial=new Z;var o=new t;o.src=n.weightsMaterial.areaImage;var a=new e.Texture;a.image=o,a.minFilter=e.LinearFilter,a.format=e.RGBFormat,a.generateMipmaps=!1,a.needsUpdate=!0,a.flipY=!1;var u=new t;u.src=n.weightsMaterial.searchImage;var l=new e.Texture;return l.image=u,l.magFilter=e.NearestFilter,l.minFilter=e.NearestFilter,l.generateMipmaps=!1,l.needsUpdate=!0,l.flipY=!1,n.weightsMaterial.uniforms.tDiffuse.value=n.renderTargetColorEdges.texture,n.weightsMaterial.uniforms.tArea.value=a,n.weightsMaterial.uniforms.tSearch.value=l,n.blendMaterial=new j,n.blendMaterial.uniforms.tWeights.value=n.renderTargetWeights.texture,n.quad.material=n.blendMaterial,n}return a(r,t),o(r,[{key:"render",value:function(t,e,r){this.quad.material=this.colorEdgesMaterial,this.colorEdgesMaterial.uniforms.tDiffuse.value=e.texture,t.render(this.scene,this.camera,this.renderTargetColorEdges,!0),this.quad.material=this.weightsMaterial,t.render(this.scene,this.camera,this.renderTargetWeights,!1),this.quad.material=this.blendMaterial,this.blendMaterial.uniforms.tDiffuse.value=e.texture,this.renderToScreen?t.render(this.scene,this.camera):t.render(this.scene,this.camera,r,!1)}},{key:"initialise",value:function(t){var e=t.getSize();this.setSize(e.width,e.height)}},{key:"setSize",value:function(t,e){this.renderTargetColorEdges.setSize(t,e),this.renderTargetWeights.setSize(t,e),this.colorEdgesMaterial.uniforms.texelSize.value.copy(this.weightsMaterial.uniforms.texelSize.value.copy(this.blendMaterial.uniforms.texelSize.value.set(1/t,1/e)))}}]),r}($),pt=function(t){function e(t){var r=arguments.length<=1||void 0===arguments[1]?"tDiffuse":arguments[1];i(this,e);var n=s(this,Object.getPrototypeOf(e).call(this));return n.needsSwap=!0,n.material=t,n.quad.material=n.material,n.textureID=r,n}return a(e,t),o(e,[{key:"render",value:function(t,e,r){void 0!==this.material.uniforms[this.textureID]&&(this.material.uniforms[this.textureID].value=e.texture),this.renderToScreen?t.render(this.scene,this.camera):t.render(this.scene,this.camera,r,this.clear)}}]),e}($),vt=function(t){function r(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];i(this,r);var n=s(this,Object.getPrototypeOf(r).call(this));return n.needsSwap=!0,n.renderTargetLuminosity=new e.WebGLRenderTarget(1,1,{minFilter:e.LinearMipMapLinearFilter,magFilter:e.LinearFilter,format:e.RGBFormat,stencilBuffer:!1,depthBuffer:!1}),n.renderTargetAdapted=n.renderTargetLuminosity.clone(),n.renderTargetAdapted.texture.generateMipmaps=!1,n.renderTargetAdapted.texture.minFilter=e.LinearFilter,n.renderTargetPrevious=n.renderTargetAdapted.clone(),n.copyMaterial=new T,n.luminosityMaterial=new U,n.luminosityMaterial.uniforms.distinction.value=void 0===t.distinction?1:t.distinction,n.adaptiveLuminosityMaterial=new u,n.resolution=void 0===t.resolution?256:t.resolution,n.toneMappingMaterial=new Q,n.adaptive=void 0===t.adaptive||t.adaptive,n}return a(r,t),o(r,[{key:"render",value:function(t,e,r,n){var i=t.state;this.adaptive&&(this.quad.material=this.luminosityMaterial,this.luminosityMaterial.uniforms.tDiffuse.value=e.texture,i.setDepthWrite(!0),t.render(this.scene,this.camera,this.renderTargetLuminosity),i.setDepthWrite(!1),this.quad.material=this.adaptiveLuminosityMaterial,this.adaptiveLuminosityMaterial.uniforms.delta.value=n,this.adaptiveLuminosityMaterial.uniforms.tPreviousLum.value=this.renderTargetPrevious.texture,this.adaptiveLuminosityMaterial.uniforms.tCurrentLum.value=this.renderTargetLuminosity.texture,t.render(this.scene,this.camera,this.renderTargetAdapted),this.quad.material=this.copyMaterial,this.copyMaterial.uniforms.tDiffuse.value=this.renderTargetAdapted.texture,t.render(this.scene,this.camera,this.renderTargetPrevious)),this.quad.material=this.toneMappingMaterial,this.toneMappingMaterial.uniforms.tDiffuse.value=e.texture,this.renderToScreen?t.render(this.scene,this.camera):t.render(this.scene,this.camera,r,!1)}},{key:"initialise",value:function(t){this.quad.material=new e.MeshBasicMaterial({color:8388607}),t.render(this.scene,this.camera,this.renderTargetPrevious),this.quad.material.dispose()}},{key:"resolution",get:function(){return this.renderTargetLuminosity.width},set:function(t){"number"==typeof t&&t>0&&(this.renderTargetLuminosity.setSize(t,t),this.renderTargetPrevious.setSize(t,t),this.renderTargetAdapted.setSize(t,t),this.adaptiveLuminosityMaterial.defines.MIP_LEVEL_1X1=(Math.round(Math.log(t))/Math.log(2)).toFixed(1),this.adaptiveLuminosityMaterial.needsUpdate=!0)}},{key:"adaptive",get:function(){return void 0!==this.toneMappingMaterial.defines.ADAPTED_LUMINANCE},set:function(t){t?(this.toneMappingMaterial.defines.ADAPTED_LUMINANCE="1",this.toneMappingMaterial.uniforms.luminanceMap.value=this.renderTargetAdapted.texture):(delete this.toneMappingMaterial.defines.ADAPTED_LUMINANCE,this.toneMappingMaterial.uniforms.luminanceMap.value=null),this.toneMappingMaterial.needsUpdate=!0}}]),r}($),mt=function(){function t(r){var n=!(arguments.length<=1||void 0===arguments[1])&&arguments[1],o=!(arguments.length<=2||void 0===arguments[2])&&arguments[2];i(this,t),this.renderer=void 0!==r?r:new e.WebGLRenderer,this.renderer.autoClear=!1,this.renderer.state.setDepthWrite(!1),this.readBuffer=this.createBuffer(o),this.readBuffer.texture.generateMipmaps=!1,this.writeBuffer=this.readBuffer.clone(),n&&(this.readBuffer.depthTexture=this.writeBuffer.depthTexture=new e.DepthTexture),this.copyPass=new pt(new T),this.passes=[]}return o(t,[{key:"createBuffer",value:function(t){var r=this.renderer.getSize(),n=this.renderer.context.getContextAttributes().alpha;return new e.WebGLRenderTarget(r.width,r.height,{minFilter:e.LinearFilter,magFilter:e.LinearFilter,format:n?e.RGBAFormat:e.RGBFormat,stencilBuffer:t})}},{key:"addPass",value:function(t,e){t.initialise(this.renderer,this.renderer.context.getContextAttributes().alpha),void 0!==e?this.passes.splice(e,0,t):this.passes.push(t)}},{key:"removePass",value:function(t){this.passes.splice(this.passes.indexOf(t),1)}},{key:"render",value:function(t){var e=this.readBuffer,r=this.writeBuffer,n=!1,i=void 0,o=void 0,a=void 0,s=void 0,u=void 0,l=void 0;for(i=0,o=this.passes.length;i<o;++i)a=this.passes[i],a.enabled&&(a.render(this.renderer,e,r,t,n),a.needsSwap&&(n&&(u=this.renderer.context,l=this.renderer.state,l.setStencilFunc(u.NOTEQUAL,1,4294967295),this.copyPass.render(this.renderer,e,r),l.setStencilFunc(u.EQUAL,1,4294967295)),s=e,e=r,r=s),a instanceof lt?n=!0:a instanceof nt&&(n=!1))}},{key:"setSize",value:function(t,e){var r=void 0,n=void 0,i=void 0;for(void 0!==t&&void 0!==e||(i=this.renderer.getSize(),t=i.width,e=i.height),this.renderer.setSize(t,e),this.readBuffer.setSize(t,e),this.writeBuffer.setSize(t,e),r=0,n=this.passes.length;r<n;++r)this.passes[r].setSize(t,e)}},{key:"reset",value:function(t){this.dispose(void 0===t?this.createBuffer():t)}},{key:"dispose",value:function(t){for(this.readBuffer.dispose(),this.writeBuffer.dispose(),this.readBuffer=this.writeBuffer=null;this.passes.length>0;)this.passes.pop().dispose();void 0!==t?(this.readBuffer=t,this.writeBuffer=this.readBuffer.clone()):this.copyPass.dispose()}}]),t}();t.EffectComposer=mt,t.BloomPass=tt,t.BokehPass=et,t.Bokeh2Pass=rt,t.ClearMaskPass=nt,t.DotScreenPass=it,t.FilmPass=ot,t.GlitchPass=at,t.GodRaysPass=ut,t.MaskPass=lt,t.Pass=$,t.RenderPass=ht,t.SavePass=ft,t.SMAAPass=dt,t.ShaderPass=pt,t.ToneMappingPass=vt,t.AdaptiveLuminosityMaterial=u,t.BokehMaterial=h,t.Bokeh2Material=p,t.CombineMaterial=g,t.ConvolutionMaterial=x,t.CopyMaterial=T,t.DotScreenMaterial=M,t.FilmMaterial=C,t.GlitchMaterial=D,t.GodRaysMaterial=F,t.LuminosityMaterial=U,t.SMAABlendMaterial=j,t.SMAAColorEdgesMaterial=X,t.SMAAWeightsMaterial=Z,t.ToneMappingMaterial=Q,Object.defineProperty(t,"__esModule",{value:!0})})},function(t,e){function r(){throw new Error("setTimeout has not been defined")}function n(){throw new Error("clearTimeout has not been defined")}function i(t){if(c===setTimeout)return setTimeout(t,0);if((c===r||!c)&&setTimeout)return c=setTimeout,setTimeout(t,0);try{return c(t,0)}catch(e){try{return c.call(null,t,0)}catch(e){return c.call(this,t,0)}}}function o(t){if(h===clearTimeout)return clearTimeout(t);if((h===n||!h)&&clearTimeout)return h=clearTimeout,clearTimeout(t);try{return h(t)}catch(e){try{return h.call(null,t)}catch(e){return h.call(this,t)}}}function a(){v&&d&&(v=!1,d.length?p=d.concat(p):m=-1,p.length&&s())}function s(){if(!v){var t=i(a);v=!0;for(var e=p.length;e;){for(d=p,p=[];++m<e;)d&&d[m].run();m=-1,e=p.length}d=null,v=!1,o(t)}}function u(t,e){this.fun=t,this.array=e}function l(){}var c,h,f=t.exports={};!function(){try{c="function"==typeof setTimeout?setTimeout:r}catch(t){c=r}try{h="function"==typeof clearTimeout?clearTimeout:n}catch(t){h=n}}();var d,p=[],v=!1,m=-1;f.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];p.push(new u(t,e)),1!==p.length||v||i(s)},u.prototype.run=function(){this.fun.apply(null,this.array)},f.title="browser",f.browser=!0,f.env={},f.argv=[],f.version="",f.versions={},f.on=l,f.addListener=l,f.once=l,f.off=l,f.removeListener=l,f.removeAllListeners=l,f.emit=l,f.binding=function(t){throw new Error("process.binding is not supported")},f.cwd=function(){return"/"},f.chdir=function(t){throw new Error("process.chdir is not supported")},f.umask=function(){return 0}},function(t,e){"use strict";function r(t,e){return Object.prototype.hasOwnProperty.call(t,e)}t.exports=function(t,e,n,i){e=e||"&",n=n||"=";var o={};if("string"!=typeof t||0===t.length)return o;var a=/\+/g;t=t.split(e);var s=1e3;i&&"number"==typeof i.maxKeys&&(s=i.maxKeys);var u=t.length;s>0&&u>s&&(u=s);for(var l=0;l<u;++l){var c,h,f,d,p=t[l].replace(a,"%20"),v=p.indexOf(n);v>=0?(c=p.substr(0,v),h=p.substr(v+1)):(c=p,h=""),f=decodeURIComponent(c),d=decodeURIComponent(h),r(o,f)?Array.isArray(o[f])?o[f].push(d):o[f]=[o[f],d]:o[f]=d}return o}},function(t,e){"use strict";var r=function(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}};t.exports=function(t,e,n,i){return e=e||"&",n=n||"=",null===t&&(t=void 0),"object"==typeof t?Object.keys(t).map(function(i){var o=encodeURIComponent(r(i))+n;return Array.isArray(t[i])?t[i].map(function(t){return o+encodeURIComponent(r(t))}).join(e):o+encodeURIComponent(r(t[i]))}).join(e):i?encodeURIComponent(r(i))+n+encodeURIComponent(r(t)):""}},function(t,e,r){"use strict";e.decode=e.parse=r(261),e.encode=e.stringify=r(262)},function(t,e,r){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function i(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s=r(48),u=i(s),l=r(49),c=i(l),h=r(96),f=n(h),d=r(42),p=i(d),v=100,m=/(#[\w-]+)?$/,g=function(){function t(){var e=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;o(this,t),this.baseUrl=r,this.progress=0,this.loading=!1,this.defaultQueryString="",this._beforeMiddleware=[],this._afterMiddleware=[],this._resourcesParsing=[],this._boundLoadResource=function(t,r){return e._loadResource(t,r)},this._queue=f.queue(this._boundLoadResource,n),this._queue.pause(),this.resources={},this.onProgress=new u.default,this.onError=new u.default,this.onLoad=new u.default,this.onStart=new u.default,this.onComplete=new u.default}return t.prototype.add=function(t,e,r,n){if(Array.isArray(t)){for(var i=0;i<t.length;++i)this.add(t[i]);return this}if("object"===("undefined"==typeof t?"undefined":a(t))&&(n=e||t.callback||t.onComplete,r=t,e=t.url,t=t.name||t.key||t.url),"string"!=typeof e&&(n=r,r=e,e=t),"string"!=typeof e)throw new Error("No url passed to add resource to loader.");if("function"==typeof r&&(n=r,r=null),this.loading&&(!r||!r.parentResource))throw new Error("Cannot add resources while the loader is running.");if(this.resources[t])throw new Error('Resource named "'+t+'" already exists.');if(e=this._prepareUrl(e),this.resources[t]=new p.default(t,e,r),"function"==typeof n&&this.resources[t].onAfterMiddleware.once(n),this.loading){for(var o=r.parentResource,s=[],u=0;u<o.children.length;++u)o.children[u].isComplete||s.push(o.children[u]);var l=o.progressChunk*(s.length+1),c=l/(s.length+2);o.children.push(this.resources[t]),o.progressChunk=c;for(var h=0;h<s.length;++h)s[h].progressChunk=c;this.resources[t].progressChunk=c}return this._queue.push(this.resources[t]),this},t.prototype.pre=function(t){return this._beforeMiddleware.push(t),this},t.prototype.use=function(t){return this._afterMiddleware.push(t),this},t.prototype.reset=function(){this.progress=0,this.loading=!1,this._queue.kill(),this._queue.pause();for(var t in this.resources){var e=this.resources[t];e._onLoadBinding&&e._onLoadBinding.detach(),e.isLoading&&e.abort()}return this.resources={},this},t.prototype.load=function(t){if("function"==typeof t&&this.onComplete.once(t),this.loading)return this;for(var e=100/this._queue._tasks.length,r=0;r<this._queue._tasks.length;++r)this._queue._tasks[r].data.progressChunk=e;return this.loading=!0,this.onStart.dispatch(this),this._queue.resume(),this},t.prototype._prepareUrl=function(t){var e=(0,c.default)(t,{strictMode:!0}),r=void 0;if(r=e.protocol||!e.path||0===t.indexOf("//")?t:this.baseUrl.length&&this.baseUrl.lastIndexOf("/")!==this.baseUrl.length-1&&"/"!==t.charAt(0)?this.baseUrl+"/"+t:this.baseUrl+t,this.defaultQueryString){var n=m.exec(r)[0];r=r.substr(0,r.length-n.length),
r+=r.indexOf("?")!==-1?"&"+this.defaultQueryString:"?"+this.defaultQueryString,r+=n}return r},t.prototype._loadResource=function(t,e){var r=this;t._dequeue=e,f.eachSeries(this._beforeMiddleware,function(e,n){e.call(r,t,function(){n(t.isComplete?{}:null)})},function(){t.isComplete?r._onLoad(t):(t._onLoadBinding=t.onComplete.once(r._onLoad,r),t.load())})},t.prototype._onComplete=function(){this.loading=!1,this.onComplete.dispatch(this,this.resources)},t.prototype._onLoad=function(t){var e=this;t._onLoadBinding=null,t._dequeue(),this._resourcesParsing.push(t),f.eachSeries(this._afterMiddleware,function(r,n){r.call(e,t,n)},function(){t.onAfterMiddleware.dispatch(t),e.progress+=t.progressChunk,e.onProgress.dispatch(e,t),t.error?e.onError.dispatch(t.error,e,t):e.onLoad.dispatch(e,t),e._resourcesParsing.splice(e._resourcesParsing.indexOf(t),1),e._queue.idle()&&0===e._resourcesParsing.length&&(e.progress=v,e._onComplete())})},t}();e.default=g},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(){return function(t,e){if(!t.data)return void e();if(t.xhr&&t.xhrType===s.default.XHR_RESPONSE_TYPE.BLOB)if(window.Blob&&"string"!=typeof t.data){if(0===t.data.type.indexOf("image")){var r=function(){var r=c.createObjectURL(t.data);return t.blob=t.data,t.data=new Image,t.data.src=r,t.type=s.default.TYPE.IMAGE,t.data.onload=function(){c.revokeObjectURL(r),t.data.onload=null,e()},{v:void 0}}();if("object"===("undefined"==typeof r?"undefined":o(r)))return r.v}}else{var n=t.xhr.getResponseHeader("content-type");if(n&&0===n.indexOf("image"))return t.data=new Image,t.data.src="data:"+n+";base64,"+l.default.encodeBinary(t.xhr.responseText),t.type=s.default.TYPE.IMAGE,void(t.data.onload=function(){t.data.onload=null,e()})}e()}}e.__esModule=!0;var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};e.blobMiddlewareFactory=i;var a=r(42),s=n(a),u=r(97),l=n(u),c=window.URL||window.webkitURL},function(t,e,r){!function(e,r){t.exports=r()}(this,function(){var t=function(){function e(t){return i.appendChild(t.dom),t}function r(t){for(var e=0;e<i.children.length;e++)i.children[e].style.display=e===t?"block":"none";n=t}var n=0,i=document.createElement("div");i.style.cssText="position:fixed;top:0;left:0;cursor:pointer;opacity:0.9;z-index:10000",i.addEventListener("click",function(t){t.preventDefault(),r(++n%i.children.length)},!1);var o=(performance||Date).now(),a=o,s=0,u=e(new t.Panel("FPS","#0ff","#002")),l=e(new t.Panel("MS","#0f0","#020"));if(self.performance&&self.performance.memory)var c=e(new t.Panel("MB","#f08","#201"));return r(0),{REVISION:16,dom:i,addPanel:e,showPanel:r,begin:function(){o=(performance||Date).now()},end:function(){s++;var t=(performance||Date).now();if(l.update(t-o,200),t>a+1e3&&(u.update(1e3*s/(t-a),100),a=t,s=0,c)){var e=performance.memory;c.update(e.usedJSHeapSize/1048576,e.jsHeapSizeLimit/1048576)}return t},update:function(){o=this.end()},domElement:i,setMode:r}};return t.Panel=function(t,e,r){var n=1/0,i=0,o=Math.round,a=o(window.devicePixelRatio||1),s=80*a,u=48*a,l=3*a,c=2*a,h=3*a,f=15*a,d=74*a,p=30*a,v=document.createElement("canvas");v.width=s,v.height=u,v.style.cssText="width:80px;height:48px";var m=v.getContext("2d");return m.font="bold "+9*a+"px Helvetica,Arial,sans-serif",m.textBaseline="top",m.fillStyle=r,m.fillRect(0,0,s,u),m.fillStyle=e,m.fillText(t,l,c),m.fillRect(h,f,d,p),m.fillStyle=r,m.globalAlpha=.9,m.fillRect(h,f,d,p),{dom:v,update:function(u,g){n=Math.min(n,u),i=Math.max(i,u),m.fillStyle=r,m.globalAlpha=1,m.fillRect(0,0,s,f),m.fillStyle=e,m.fillText(o(u)+" "+t+" ("+o(n)+"-"+o(i)+")",l,c),m.drawImage(v,h+a,f,d-a,p,h,f,d-a,p),m.fillRect(h+d-a,f,a,p),m.fillStyle=r,m.globalAlpha=.9,m.fillRect(h+d-a,f,a,o((1-u/g)*p))}}},t})},,,,function(t,e,r){var n;(function(t,i){!function(o){function a(t){throw RangeError(D[t])}function s(t,e){for(var r=t.length,n=[];r--;)n[r]=e(t[r]);return n}function u(t,e){var r=t.split("@"),n="";r.length>1&&(n=r[0]+"@",t=r[1]),t=t.replace(R,".");var i=t.split("."),o=s(i,e).join(".");return n+o}function l(t){for(var e,r,n=[],i=0,o=t.length;i<o;)e=t.charCodeAt(i++),e>=55296&&e<=56319&&i<o?(r=t.charCodeAt(i++),56320==(64512&r)?n.push(((1023&e)<<10)+(1023&r)+65536):(n.push(e),i--)):n.push(e);return n}function c(t){return s(t,function(t){var e="";return t>65535&&(t-=65536,e+=F(t>>>10&1023|55296),t=56320|1023&t),e+=F(t)}).join("")}function h(t){return t-48<10?t-22:t-65<26?t-65:t-97<26?t-97:b}function f(t,e){return t+22+75*(t<26)-((0!=e)<<5)}function d(t,e,r){var n=0;for(t=r?I(t/S):t>>1,t+=I(t/e);t>L*T>>1;n+=b)t=I(t/L);return I(n+(L+1)*t/(t+E))}function p(t){var e,r,n,i,o,s,u,l,f,p,v=[],m=t.length,g=0,y=A,_=M;for(r=t.lastIndexOf(P),r<0&&(r=0),n=0;n<r;++n)t.charCodeAt(n)>=128&&a("not-basic"),v.push(t.charCodeAt(n));for(i=r>0?r+1:0;i<m;){for(o=g,s=1,u=b;i>=m&&a("invalid-input"),l=h(t.charCodeAt(i++)),(l>=b||l>I((x-g)/s))&&a("overflow"),g+=l*s,f=u<=_?w:u>=_+T?T:u-_,!(l<f);u+=b)p=b-f,s>I(x/p)&&a("overflow"),s*=p;e=v.length+1,_=d(g-o,e,0==o),I(g/e)>x-y&&a("overflow"),y+=I(g/e),g%=e,v.splice(g++,0,y)}return c(v)}function v(t){var e,r,n,i,o,s,u,c,h,p,v,m,g,y,_,E=[];for(t=l(t),m=t.length,e=A,r=0,o=M,s=0;s<m;++s)v=t[s],v<128&&E.push(F(v));for(n=i=E.length,i&&E.push(P);n<m;){for(u=x,s=0;s<m;++s)v=t[s],v>=e&&v<u&&(u=v);for(g=n+1,u-e>I((x-r)/g)&&a("overflow"),r+=(u-e)*g,e=u,s=0;s<m;++s)if(v=t[s],v<e&&++r>x&&a("overflow"),v==e){for(c=r,h=b;p=h<=o?w:h>=o+T?T:h-o,!(c<p);h+=b)_=c-p,y=b-p,E.push(F(f(p+_%y,0))),c=I(_/y);E.push(F(f(c,0))),o=d(r,g,n==i),r=0,++n}++r,++e}return E.join("")}function m(t){return u(t,function(t){return C.test(t)?p(t.slice(4).toLowerCase()):t})}function g(t){return u(t,function(t){return O.test(t)?"xn--"+v(t):t})}var y=("object"==typeof e&&e&&!e.nodeType&&e,"object"==typeof t&&t&&!t.nodeType&&t,"object"==typeof i&&i);y.global!==y&&y.window!==y&&y.self!==y||(o=y);var _,x=2147483647,b=36,w=1,T=26,E=38,S=700,M=72,A=128,P="-",C=/^xn--/,O=/[^\x20-\x7E]/,R=/[\x2E\u3002\uFF0E\uFF61]/g,D={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},L=b-w,I=Math.floor,F=String.fromCharCode;_={version:"1.3.2",ucs2:{decode:l,encode:c},decode:p,encode:v,toASCII:g,toUnicode:m},n=function(){return _}.call(e,r,e,t),!(void 0!==n&&(t.exports=n))}(this)}).call(e,r(109)(t),function(){return this}())},function(t,e,r){function n(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}function i(t,e,r){if(t&&l(t)&&t instanceof n)return t;var i=new n;return i.parse(t,e,r),i}function o(t){return u(t)&&(t=i(t)),t instanceof n?t.format():n.prototype.format.call(t)}function a(t,e){return i(t,!1,!0).resolve(e)}function s(t,e){return t?i(t,!1,!0).resolveObject(e):e}function u(t){return"string"==typeof t}function l(t){return"object"==typeof t&&null!==t}function c(t){return null===t}function h(t){return null==t}var f=r(270);e.parse=i,e.resolve=a,e.resolveObject=s,e.format=o,e.Url=n;var d=/^([a-z0-9.+-]+:)/i,p=/:[0-9]*$/,v=["<",">",'"',"`"," ","\r","\n","\t"],m=["{","}","|","\\","^","`"].concat(v),g=["'"].concat(m),y=["%","/","?",";","#"].concat(g),_=["/","?","#"],x=255,b=/^[a-z0-9A-Z_-]{0,63}$/,w=/^([a-z0-9A-Z_-]{0,63})(.*)$/,T={javascript:!0,"javascript:":!0},E={javascript:!0,"javascript:":!0},S={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},M=r(263);n.prototype.parse=function(t,e,r){if(!u(t))throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var n=t;n=n.trim();var i=d.exec(n);if(i){i=i[0];var o=i.toLowerCase();this.protocol=o,n=n.substr(i.length)}if(r||i||n.match(/^\/\/[^@\/]+@[^@\/]+/)){var a="//"===n.substr(0,2);!a||i&&E[i]||(n=n.substr(2),this.slashes=!0)}if(!E[i]&&(a||i&&!S[i])){for(var s=-1,l=0;l<_.length;l++){var c=n.indexOf(_[l]);c!==-1&&(s===-1||c<s)&&(s=c)}var h,p;p=s===-1?n.lastIndexOf("@"):n.lastIndexOf("@",s),p!==-1&&(h=n.slice(0,p),n=n.slice(p+1),this.auth=decodeURIComponent(h)),s=-1;for(var l=0;l<y.length;l++){var c=n.indexOf(y[l]);c!==-1&&(s===-1||c<s)&&(s=c)}s===-1&&(s=n.length),this.host=n.slice(0,s),n=n.slice(s),this.parseHost(),this.hostname=this.hostname||"";var v="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!v)for(var m=this.hostname.split(/\./),l=0,A=m.length;l<A;l++){var P=m[l];if(P&&!P.match(b)){for(var C="",O=0,R=P.length;O<R;O++)C+=P.charCodeAt(O)>127?"x":P[O];if(!C.match(b)){var D=m.slice(0,l),L=m.slice(l+1),I=P.match(w);I&&(D.push(I[1]),L.unshift(I[2])),L.length&&(n="/"+L.join(".")+n),this.hostname=D.join(".");break}}}if(this.hostname.length>x?this.hostname="":this.hostname=this.hostname.toLowerCase(),!v){for(var F=this.hostname.split("."),N=[],l=0;l<F.length;++l){var k=F[l];N.push(k.match(/[^A-Za-z0-9_-]/)?"xn--"+f.encode(k):k)}this.hostname=N.join(".")}var U=this.port?":"+this.port:"",B=this.hostname||"";this.host=B+U,this.href+=this.host,v&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==n[0]&&(n="/"+n))}if(!T[o])for(var l=0,A=g.length;l<A;l++){var z=g[l],j=encodeURIComponent(z);j===z&&(j=escape(z)),n=n.split(z).join(j)}var G=n.indexOf("#");G!==-1&&(this.hash=n.substr(G),n=n.slice(0,G));var H=n.indexOf("?");if(H!==-1?(this.search=n.substr(H),this.query=n.substr(H+1),e&&(this.query=M.parse(this.query)),n=n.slice(0,H)):e&&(this.search="",this.query={}),n&&(this.pathname=n),S[o]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var U=this.pathname||"",k=this.search||"";this.path=U+k}return this.href=this.format(),this},n.prototype.format=function(){var t=this.auth||"";t&&(t=encodeURIComponent(t),t=t.replace(/%3A/i,":"),t+="@");var e=this.protocol||"",r=this.pathname||"",n=this.hash||"",i=!1,o="";this.host?i=t+this.host:this.hostname&&(i=t+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&l(this.query)&&Object.keys(this.query).length&&(o=M.stringify(this.query));var a=this.search||o&&"?"+o||"";return e&&":"!==e.substr(-1)&&(e+=":"),this.slashes||(!e||S[e])&&i!==!1?(i="//"+(i||""),r&&"/"!==r.charAt(0)&&(r="/"+r)):i||(i=""),n&&"#"!==n.charAt(0)&&(n="#"+n),a&&"?"!==a.charAt(0)&&(a="?"+a),r=r.replace(/[?#]/g,function(t){return encodeURIComponent(t)}),a=a.replace("#","%23"),e+i+r+a+n},n.prototype.resolve=function(t){return this.resolveObject(i(t,!1,!0)).format()},n.prototype.resolveObject=function(t){if(u(t)){var e=new n;e.parse(t,!1,!0),t=e}var r=new n;if(Object.keys(this).forEach(function(t){r[t]=this[t]},this),r.hash=t.hash,""===t.href)return r.href=r.format(),r;if(t.slashes&&!t.protocol)return Object.keys(t).forEach(function(e){"protocol"!==e&&(r[e]=t[e])}),S[r.protocol]&&r.hostname&&!r.pathname&&(r.path=r.pathname="/"),r.href=r.format(),r;if(t.protocol&&t.protocol!==r.protocol){if(!S[t.protocol])return Object.keys(t).forEach(function(e){r[e]=t[e]}),r.href=r.format(),r;if(r.protocol=t.protocol,t.host||E[t.protocol])r.pathname=t.pathname;else{for(var i=(t.pathname||"").split("/");i.length&&!(t.host=i.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),""!==i[0]&&i.unshift(""),i.length<2&&i.unshift(""),r.pathname=i.join("/")}if(r.search=t.search,r.query=t.query,r.host=t.host||"",r.auth=t.auth,r.hostname=t.hostname||t.host,r.port=t.port,r.pathname||r.search){var o=r.pathname||"",a=r.search||"";r.path=o+a}return r.slashes=r.slashes||t.slashes,r.href=r.format(),r}var s=r.pathname&&"/"===r.pathname.charAt(0),l=t.host||t.pathname&&"/"===t.pathname.charAt(0),f=l||s||r.host&&t.pathname,d=f,p=r.pathname&&r.pathname.split("/")||[],i=t.pathname&&t.pathname.split("/")||[],v=r.protocol&&!S[r.protocol];if(v&&(r.hostname="",r.port=null,r.host&&(""===p[0]?p[0]=r.host:p.unshift(r.host)),r.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(""===i[0]?i[0]=t.host:i.unshift(t.host)),t.host=null),f=f&&(""===i[0]||""===p[0])),l)r.host=t.host||""===t.host?t.host:r.host,r.hostname=t.hostname||""===t.hostname?t.hostname:r.hostname,r.search=t.search,r.query=t.query,p=i;else if(i.length)p||(p=[]),p.pop(),p=p.concat(i),r.search=t.search,r.query=t.query;else if(!h(t.search)){if(v){r.hostname=r.host=p.shift();var m=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@");m&&(r.auth=m.shift(),r.host=r.hostname=m.shift())}return r.search=t.search,r.query=t.query,c(r.pathname)&&c(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.href=r.format(),r}if(!p.length)return r.pathname=null,r.search?r.path="/"+r.search:r.path=null,r.href=r.format(),r;for(var g=p.slice(-1)[0],y=(r.host||t.host)&&("."===g||".."===g)||""===g,_=0,x=p.length;x>=0;x--)g=p[x],"."==g?p.splice(x,1):".."===g?(p.splice(x,1),_++):_&&(p.splice(x,1),_--);if(!f&&!d)for(;_--;_)p.unshift("..");!f||""===p[0]||p[0]&&"/"===p[0].charAt(0)||p.unshift(""),y&&"/"!==p.join("/").substr(-1)&&p.push("");var b=""===p[0]||p[0]&&"/"===p[0].charAt(0);if(v){r.hostname=r.host=b?"":p.length?p.shift():"";var m=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@");m&&(r.auth=m.shift(),r.host=r.hostname=m.shift())}return f=f||r.host&&p.length,f&&!b&&p.unshift(""),p.length?r.pathname=p.join("/"):(r.pathname=null,r.path=null),c(r.pathname)&&c(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.auth=t.auth||r.auth,r.slashes=r.slashes||t.slashes,r.href=r.format(),r},n.prototype.parseHost=function(){var t=this.host,e=p.exec(t);e&&(e=e[0],":"!==e&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,r){/**
	  * vue-router v2.5.3
	  * (c) 2017 Evan You
	  * @license MIT
	  */
"use strict";function n(t,e){}function i(t,e){switch(typeof e){case"undefined":return;case"object":return e;case"function":return e(t);case"boolean":return e?t.params:void 0}}function o(t,e,r){void 0===e&&(e={});var n,i=r||a;try{n=i(t||"")}catch(t){n={}}for(var o in e){var s=e[o];n[o]=Array.isArray(s)?s.slice():s}return n}function a(t){var e={};return(t=t.trim().replace(/^(\?|#|&)/,""))?(t.split("&").forEach(function(t){var r=t.replace(/\+/g," ").split("="),n=It(r.shift()),i=r.length>0?It(r.join("=")):null;void 0===e[n]?e[n]=i:Array.isArray(e[n])?e[n].push(i):e[n]=[e[n],i]}),e):e}function s(t){var e=t?Object.keys(t).map(function(e){var r=t[e];if(void 0===r)return"";if(null===r)return Lt(e);if(Array.isArray(r)){var n=[];return r.slice().forEach(function(t){void 0!==t&&(null===t?n.push(Lt(e)):n.push(Lt(e)+"="+Lt(t)))}),n.join("&")}return Lt(e)+"="+Lt(r)}).filter(function(t){return t.length>0}).join("&"):null;return e?"?"+e:""}function u(t,e,r,n){var i=n&&n.options.stringifyQuery,o={name:e.name||t&&t.name,meta:t&&t.meta||{},path:e.path||"/",hash:e.hash||"",query:e.query||{},params:e.params||{},fullPath:c(e,i),matched:t?l(t):[]};return r&&(o.redirectedFrom=c(r,i)),Object.freeze(o)}function l(t){for(var e=[];t;)e.unshift(t),t=t.parent;return e}function c(t,e){var r=t.path,n=t.query;void 0===n&&(n={});var i=t.hash;void 0===i&&(i="");var o=e||s;return(r||"/")+o(n)+i}function h(t,e){return e===Nt?t===e:!!e&&(t.path&&e.path?t.path.replace(Ft,"")===e.path.replace(Ft,"")&&t.hash===e.hash&&f(t.query,e.query):!(!t.name||!e.name)&&(t.name===e.name&&t.hash===e.hash&&f(t.query,e.query)&&f(t.params,e.params)))}function f(t,e){void 0===t&&(t={}),void 0===e&&(e={});var r=Object.keys(t),n=Object.keys(e);return r.length===n.length&&r.every(function(r){return String(t[r])===String(e[r])})}function d(t,e){return 0===t.path.replace(Ft,"/").indexOf(e.path.replace(Ft,"/"))&&(!e.hash||t.hash===e.hash)&&p(t.query,e.query)}function p(t,e){for(var r in e)if(!(r in t))return!1;return!0}function v(t){if(!(t.metaKey||t.ctrlKey||t.shiftKey||t.defaultPrevented||void 0!==t.button&&0!==t.button)){if(t.currentTarget&&t.currentTarget.getAttribute){var e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function m(t){if(t)for(var e,r=0;r<t.length;r++){if(e=t[r],"a"===e.tag)return e;if(e.children&&(e=m(e.children)))return e}}function g(t){if(!g.installed){g.installed=!0,Pt=t,Object.defineProperty(t.prototype,"$router",{get:function(){return this.$root._router}}),Object.defineProperty(t.prototype,"$route",{get:function(){return this.$root._route}});var e=function(t){return void 0!==t},r=function(t,r){var n=t.$options._parentVnode;e(n)&&e(n=n.data)&&e(n=n.registerRouteInstance)&&n(t,r)};t.mixin({beforeCreate:function(){e(this.$options.router)&&(this._router=this.$options.router,this._router.init(this),t.util.defineReactive(this,"_route",this._router.history.current)),r(this,this)},destroyed:function(){r(this)}}),t.component("router-view",Ct),t.component("router-link",Bt);var n=t.config.optionMergeStrategies;n.beforeRouteEnter=n.beforeRouteLeave=n.created}}function y(t,e,r){var n=t.charAt(0);if("/"===n)return t;if("?"===n||"#"===n)return e+t;var i=e.split("/");r&&i[i.length-1]||i.pop();for(var o=t.replace(/^\//,"").split("/"),a=0;a<o.length;a++){var s=o[a];".."===s?i.pop():"."!==s&&i.push(s)}return""!==i[0]&&i.unshift(""),i.join("/")}function _(t){var e="",r="",n=t.indexOf("#");n>=0&&(e=t.slice(n),t=t.slice(0,n));var i=t.indexOf("?");return i>=0&&(r=t.slice(i+1),t=t.slice(0,i)),{path:t,query:r,hash:e}}function x(t){return t.replace(/\/\//g,"/")}function b(t,e){for(var r,n=[],i=0,o=0,a="",s=e&&e.delimiter||"/";null!=(r=Yt.exec(t));){var u=r[0],l=r[1],c=r.index;if(a+=t.slice(o,c),o=c+u.length,l)a+=l[1];else{var h=t[o],f=r[2],d=r[3],p=r[4],v=r[5],m=r[6],g=r[7];a&&(n.push(a),a="");var y=null!=f&&null!=h&&h!==f,_="+"===m||"*"===m,x="?"===m||"*"===m,b=r[2]||s,w=p||v;n.push({name:d||i++,prefix:f||"",delimiter:b,optional:x,repeat:_,partial:y,asterisk:!!g,pattern:w?A(w):g?".*":"[^"+M(b)+"]+?"})}}return o<t.length&&(a+=t.substr(o)),a&&n.push(a),n}function w(t,e){return S(b(t,e))}function T(t){return encodeURI(t).replace(/[\/?#]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})}function E(t){return encodeURI(t).replace(/[?#]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})}function S(t){for(var e=new Array(t.length),r=0;r<t.length;r++)"object"==typeof t[r]&&(e[r]=new RegExp("^(?:"+t[r].pattern+")$"));return function(r,n){for(var i="",o=r||{},a=n||{},s=a.pretty?T:encodeURIComponent,u=0;u<t.length;u++){var l=t[u];if("string"!=typeof l){var c,h=o[l.name];if(null==h){if(l.optional){l.partial&&(i+=l.prefix);continue}throw new TypeError('Expected "'+l.name+'" to be defined')}if(jt(h)){if(!l.repeat)throw new TypeError('Expected "'+l.name+'" to not repeat, but received `'+JSON.stringify(h)+"`");if(0===h.length){if(l.optional)continue;throw new TypeError('Expected "'+l.name+'" to not be empty')}for(var f=0;f<h.length;f++){if(c=s(h[f]),!e[u].test(c))throw new TypeError('Expected all "'+l.name+'" to match "'+l.pattern+'", but received `'+JSON.stringify(c)+"`");i+=(0===f?l.prefix:l.delimiter)+c}}else{if(c=l.asterisk?E(h):s(h),!e[u].test(c))throw new TypeError('Expected "'+l.name+'" to match "'+l.pattern+'", but received "'+c+'"');i+=l.prefix+c}}else i+=l}return i}}function M(t){return t.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function A(t){return t.replace(/([=!:$\/()])/g,"\\$1")}function P(t,e){return t.keys=e,t}function C(t){return t.sensitive?"":"i"}function O(t,e){var r=t.source.match(/\((?!\?)/g);if(r)for(var n=0;n<r.length;n++)e.push({name:n,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return P(t,e)}function R(t,e,r){for(var n=[],i=0;i<t.length;i++)n.push(I(t[i],e,r).source);var o=new RegExp("(?:"+n.join("|")+")",C(r));return P(o,e)}function D(t,e,r){return L(b(t,r),e,r)}function L(t,e,r){jt(e)||(r=e||r,e=[]),r=r||{};for(var n=r.strict,i=r.end!==!1,o="",a=0;a<t.length;a++){var s=t[a];if("string"==typeof s)o+=M(s);else{var u=M(s.prefix),l="(?:"+s.pattern+")";e.push(s),s.repeat&&(l+="(?:"+u+l+")*"),l=s.optional?s.partial?u+"("+l+")?":"(?:"+u+"("+l+"))?":u+"("+l+")",o+=l}}var c=M(r.delimiter||"/"),h=o.slice(-c.length)===c;return n||(o=(h?o.slice(0,-c.length):o)+"(?:"+c+"(?=$))?"),o+=i?"$":n&&h?"":"(?="+c+"|$)",P(new RegExp("^"+o,C(r)),e)}function I(t,e,r){return jt(e)||(r=e||r,e=[]),r=r||{},t instanceof RegExp?O(t,e):jt(t)?R(t,e,r):D(t,e,r)}function F(t,e,r){try{var n=qt[t]||(qt[t]=Gt.compile(t));return n(e||{},{pretty:!0})}catch(t){return""}}function N(t,e,r,n){var i=e||[],o=r||Object.create(null),a=n||Object.create(null);t.forEach(function(t){k(i,o,a,t)});for(var s=0,u=i.length;s<u;s++)"*"===i[s]&&(i.push(i.splice(s,1)[0]),u--,s--);return{pathList:i,pathMap:o,nameMap:a}}function k(t,e,r,n,i,o){var a=n.path,s=n.name,u=B(a,i),l={path:u,regex:U(u),components:n.components||{default:n.component},instances:{},name:s,parent:i,matchAs:o,redirect:n.redirect,beforeEnter:n.beforeEnter,meta:n.meta||{},props:null==n.props?{}:n.components?n.props:{default:n.props}};if(n.children&&n.children.forEach(function(n){var i=o?x(o+"/"+n.path):void 0;k(t,e,r,n,l,i)}),void 0!==n.alias)if(Array.isArray(n.alias))n.alias.forEach(function(o){var a={path:o,children:n.children};k(t,e,r,a,i,l.path)});else{var c={path:n.alias,children:n.children};k(t,e,r,c,i,l.path)}e[l.path]||(t.push(l.path),e[l.path]=l),s&&(r[s]||(r[s]=l))}function U(t){var e=Gt(t);return e}function B(t,e){return t=t.replace(/\/$/,""),"/"===t[0]?t:null==e?t:x(e.path+"/"+t)}function z(t,e,r,n){var i="string"==typeof t?{path:t}:t;if(i.name||i._normalized)return i;if(!i.path&&i.params&&e){i=j({},i),i._normalized=!0;var a=j(j({},e.params),i.params);if(e.name)i.name=e.name,i.params=a;else if(e.matched){var s=e.matched[e.matched.length-1].path;i.path=F(s,a,"path "+e.path)}return i}var u=_(i.path||""),l=e&&e.path||"/",c=u.path?y(u.path,l,r||i.append):l,h=o(u.query,i.query,n&&n.options.parseQuery),f=i.hash||u.hash;return f&&"#"!==f.charAt(0)&&(f="#"+f),{_normalized:!0,path:c,query:h,hash:f}}function j(t,e){for(var r in e)t[r]=e[r];return t}function G(t,e){function r(t){N(t,l,c,h)}function n(t,r,n){var i=z(t,r,!1,e),o=i.name;if(o){var s=h[o],u=s.regex.keys.filter(function(t){return!t.optional}).map(function(t){return t.name});if("object"!=typeof i.params&&(i.params={}),r&&"object"==typeof r.params)for(var f in r.params)!(f in i.params)&&u.indexOf(f)>-1&&(i.params[f]=r.params[f]);if(s)return i.path=F(s.path,i.params,'named route "'+o+'"'),a(s,i,n)}else if(i.path){i.params={};for(var d=0;d<l.length;d++){var p=l[d],v=c[p];if(H(v.regex,i.path,i.params))return a(v,i,n)}}return a(null,i)}function i(t,r){var i=t.redirect,o="function"==typeof i?i(u(t,r,null,e)):i;if("string"==typeof o&&(o={path:o}),!o||"object"!=typeof o)return a(null,r);var s=o,l=s.name,c=s.path,f=r.query,d=r.hash,p=r.params;if(f=s.hasOwnProperty("query")?s.query:f,d=s.hasOwnProperty("hash")?s.hash:d,p=s.hasOwnProperty("params")?s.params:p,l){h[l];return n({_normalized:!0,name:l,query:f,hash:d,params:p},void 0,r)}if(c){var v=X(c,t),m=F(v,p,'redirect route with path "'+v+'"');return n({_normalized:!0,path:m,query:f,hash:d},void 0,r)}return a(null,r)}function o(t,e,r){var i=F(r,e.params,'aliased route with path "'+r+'"'),o=n({_normalized:!0,path:i});if(o){var s=o.matched,u=s[s.length-1];return e.params=o.params,a(u,e)}return a(null,e)}function a(t,r,n){return t&&t.redirect?i(t,n||r):t&&t.matchAs?o(t,r,t.matchAs):u(t,r,n,e)}var s=N(t),l=s.pathList,c=s.pathMap,h=s.nameMap;return{match:n,addRoutes:r}}function H(t,e,r){var n=e.match(t);if(!n)return!1;if(!r)return!0;for(var i=1,o=n.length;i<o;++i){var a=t.keys[i-1],s="string"==typeof n[i]?decodeURIComponent(n[i]):n[i];a&&(r[a.name]=s)}return!0}function X(t,e){return y(t,e.parent?e.parent.path:"/",!0)}function V(){window.addEventListener("popstate",function(t){Y(),t.state&&t.state.key&&et(t.state.key)})}function W(t,e,r,n){if(t.app){var i=t.options.scrollBehavior;i&&t.app.$nextTick(function(){var t=q(),o=i(e,r,n?t:null);if(o){var a="object"==typeof o;if(a&&"string"==typeof o.selector){var s=document.querySelector(o.selector);s?t=Z(s):K(o)&&(t=J(o))}else a&&K(o)&&(t=J(o));t&&window.scrollTo(t.x,t.y)}})}}function Y(){var t=tt();t&&(Zt[t]={x:window.pageXOffset,y:window.pageYOffset})}function q(){var t=tt();if(t)return Zt[t]}function Z(t){var e=document.documentElement,r=e.getBoundingClientRect(),n=t.getBoundingClientRect();return{x:n.left-r.left,y:n.top-r.top}}function K(t){return Q(t.x)||Q(t.y)}function J(t){return{x:Q(t.x)?t.x:window.pageXOffset,y:Q(t.y)?t.y:window.pageYOffset}}function Q(t){return"number"==typeof t}function $(){return Jt.now().toFixed(3)}function tt(){return Qt}function et(t){Qt=t}function rt(t,e){Y();var r=window.history;try{e?r.replaceState({key:Qt},"",t):(Qt=$(),r.pushState({key:Qt},"",t))}catch(r){window.location[e?"replace":"assign"](t)}}function nt(t){rt(t,!0)}function it(t,e,r){var n=function(i){i>=t.length?r():t[i]?e(t[i],function(){n(i+1)}):n(i+1)};n(0)}function ot(t){if(!t)if(zt){var e=document.querySelector("base");t=e&&e.getAttribute("href")||"/"}else t="/";return"/"!==t.charAt(0)&&(t="/"+t),t.replace(/\/$/,"")}function at(t,e){var r,n=Math.max(t.length,e.length);for(r=0;r<n&&t[r]===e[r];r++);return{updated:e.slice(0,r),activated:e.slice(r),deactivated:t.slice(r)}}function st(t,e,r,n){var i=mt(t,function(t,n,i,o){var a=ut(t,e);if(a)return Array.isArray(a)?a.map(function(t){return r(t,n,i,o)}):r(a,n,i,o)});return gt(n?i.reverse():i)}function ut(t,e){return"function"!=typeof t&&(t=Pt.extend(t)),t.options[e]}function lt(t){return st(t,"beforeRouteLeave",ht,!0)}function ct(t){return st(t,"beforeRouteUpdate",ht)}function ht(t,e){if(e)return function(){return t.apply(e,arguments)}}function ft(t,e,r){return st(t,"beforeRouteEnter",function(t,n,i,o){return dt(t,i,o,e,r)})}function dt(t,e,r,n,i){return function(o,a,s){return t(o,a,function(t){s(t),"function"==typeof t&&n.push(function(){pt(t,e.instances,r,i)})})}}function pt(t,e,r,n){e[r]?t(e[r]):n()&&setTimeout(function(){pt(t,e,r,n)},16)}function vt(t){return function(e,r,n){var i=!1,o=0,a=null;mt(t,function(t,e,r,s){if("function"==typeof t&&void 0===t.cid){i=!0,o++;var u,l=yt(function(e){t.resolved="function"==typeof e?e:Pt.extend(e),r.components[s]=e,o--,o<=0&&n()}),c=yt(function(t){var e="Failed to resolve async component "+s+": "+t;a||(a=_t(t)?t:new Error(e),n(a))});try{u=t(l,c)}catch(t){c(t)}if(u)if("function"==typeof u.then)u.then(l,c);else{var h=u.component;h&&"function"==typeof h.then&&h.then(l,c)}}}),i||n()}}function mt(t,e){return gt(t.map(function(t){return Object.keys(t.components).map(function(r){return e(t.components[r],t.instances[r],t,r)})}))}function gt(t){return Array.prototype.concat.apply([],t)}function yt(t){var e=!1;return function(){if(!e)return e=!0,t.apply(this,arguments)}}function _t(t){return Object.prototype.toString.call(t).indexOf("Error")>-1}function xt(t){var e=window.location.pathname;return t&&0===e.indexOf(t)&&(e=e.slice(t.length)),(e||"/")+window.location.search+window.location.hash}function bt(t){var e=xt(t);if(!/^\/#/.test(e))return window.location.replace(x(t+"/#"+e)),!0}function wt(){var t=Tt();return"/"===t.charAt(0)||(St("/"+t),!1)}function Tt(){var t=window.location.href,e=t.indexOf("#");return e===-1?"":t.slice(e+1)}function Et(t){window.location.hash=t}function St(t){var e=window.location.href.indexOf("#");window.location.replace(window.location.href.slice(0,e>=0?e:0)+"#"+t)}function Mt(t,e){return t.push(e),function(){var r=t.indexOf(e);r>-1&&t.splice(r,1)}}function At(t,e,r){var n="hash"===r?"#"+e:e;return t?x(t+"/"+n):n}var Pt,Ct={name:"router-view",functional:!0,props:{name:{type:String,default:"default"}},render:function(t,e){var r=e.props,n=e.children,o=e.parent,a=e.data;a.routerView=!0;for(var s=o.$createElement,u=r.name,l=o.$route,c=o._routerViewCache||(o._routerViewCache={}),h=0,f=!1;o;)o.$vnode&&o.$vnode.data.routerView&&h++,o._inactive&&(f=!0),o=o.$parent;if(a.routerViewDepth=h,f)return s(c[u],a,n);var d=l.matched[h];if(!d)return c[u]=null,s();var p=c[u]=d.components[u];return a.registerRouteInstance=function(t,e){var r=d.instances[u];(e&&r!==t||!e&&r===t)&&(d.instances[u]=e)},(a.hook||(a.hook={})).prepatch=function(t,e){d.instances[u]=e.componentInstance},a.props=i(l,d.props&&d.props[u]),s(p,a,n)}},Ot=/[!'()*]/g,Rt=function(t){return"%"+t.charCodeAt(0).toString(16)},Dt=/%2C/g,Lt=function(t){return encodeURIComponent(t).replace(Ot,Rt).replace(Dt,",")},It=decodeURIComponent,Ft=/\/?$/,Nt=u(null,{path:"/"}),kt=[String,Object],Ut=[String,Array],Bt={name:"router-link",props:{to:{type:kt,required:!0},tag:{type:String,default:"a"},exact:Boolean,append:Boolean,replace:Boolean,activeClass:String,exactActiveClass:String,event:{type:Ut,default:"click"}},render:function(t){var e=this,r=this.$router,n=this.$route,i=r.resolve(this.to,n,this.append),o=i.location,a=i.route,s=i.href,l={},c=r.options.linkActiveClass,f=r.options.linkExactActiveClass,p=null==c?"router-link-active":c,g=null==f?"router-link-exact-active":f,y=null==this.activeClass?p:this.activeClass,_=null==this.exactActiveClass?g:this.exactActiveClass,x=o.path?u(null,o,null,r):a;l[_]=h(n,x),l[y]=this.exact?l[_]:d(n,x);var b=function(t){v(t)&&(e.replace?r.replace(o):r.push(o))},w={click:v};Array.isArray(this.event)?this.event.forEach(function(t){w[t]=b}):w[this.event]=b;var T={class:l};if("a"===this.tag)T.on=w,T.attrs={href:s};else{var E=m(this.$slots.default);if(E){E.isStatic=!1;var S=Pt.util.extend,M=E.data=S({},E.data);M.on=w;var A=E.data.attrs=S({},E.data.attrs);A.href=s}else T.on=w}return t(this.tag,T,this.$slots.default)}},zt="undefined"!=typeof window,jt=Array.isArray||function(t){return"[object Array]"==Object.prototype.toString.call(t)},Gt=I,Ht=b,Xt=w,Vt=S,Wt=L,Yt=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");Gt.parse=Ht,Gt.compile=Xt,Gt.tokensToFunction=Vt,Gt.tokensToRegExp=Wt;var qt=Object.create(null),Zt=Object.create(null),Kt=zt&&function(){var t=window.navigator.userAgent;return(t.indexOf("Android 2.")===-1&&t.indexOf("Android 4.0")===-1||t.indexOf("Mobile Safari")===-1||t.indexOf("Chrome")!==-1||t.indexOf("Windows Phone")!==-1)&&(window.history&&"pushState"in window.history)}(),Jt=zt&&window.performance&&window.performance.now?window.performance:Date,Qt=$(),$t=function(t,e){this.router=t,this.base=ot(e),this.current=Nt,this.pending=null,this.ready=!1,this.readyCbs=[],this.readyErrorCbs=[],this.errorCbs=[]};$t.prototype.listen=function(t){this.cb=t},$t.prototype.onReady=function(t,e){this.ready?t():(this.readyCbs.push(t),e&&this.readyErrorCbs.push(e))},$t.prototype.onError=function(t){this.errorCbs.push(t)},$t.prototype.transitionTo=function(t,e,r){var n=this,i=this.router.match(t,this.current);this.confirmTransition(i,function(){n.updateRoute(i),e&&e(i),n.ensureURL(),n.ready||(n.ready=!0,n.readyCbs.forEach(function(t){t(i)}))},function(t){r&&r(t),t&&!n.ready&&(n.ready=!0,n.readyErrorCbs.forEach(function(e){e(t)}))})},$t.prototype.confirmTransition=function(t,e,r){var i=this,o=this.current,a=function(t){_t(t)&&(i.errorCbs.length?i.errorCbs.forEach(function(e){e(t)}):(n(!1,"uncaught error during route navigation:"),console.error(t))),r&&r(t)};if(h(t,o)&&t.matched.length===o.matched.length)return this.ensureURL(),a();var s=at(this.current.matched,t.matched),u=s.updated,l=s.deactivated,c=s.activated,f=[].concat(lt(l),this.router.beforeHooks,ct(u),c.map(function(t){return t.beforeEnter}),vt(c));this.pending=t;var d=function(e,r){if(i.pending!==t)return a();try{e(t,o,function(t){t===!1||_t(t)?(i.ensureURL(!0),a(t)):"string"==typeof t||"object"==typeof t&&("string"==typeof t.path||"string"==typeof t.name)?(a(),"object"==typeof t&&t.replace?i.replace(t):i.push(t)):r(t)})}catch(t){a(t)}};it(f,d,function(){var r=[],n=function(){return i.current===t},o=ft(c,r,n),s=o.concat(i.router.resolveHooks);it(s,d,function(){return i.pending!==t?a():(i.pending=null,e(t),void(i.router.app&&i.router.app.$nextTick(function(){r.forEach(function(t){t()})})))})})},$t.prototype.updateRoute=function(t){var e=this.current;this.current=t,this.cb&&this.cb(t),this.router.afterHooks.forEach(function(r){r&&r(t,e)})};var te=function(t){function e(e,r){var n=this;t.call(this,e,r);var i=e.options.scrollBehavior;i&&V(),window.addEventListener("popstate",function(t){n.transitionTo(xt(n.base),function(t){i&&W(e,t,n.current,!0)})})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.go=function(t){window.history.go(t)},e.prototype.push=function(t,e,r){var n=this,i=this,o=i.current;this.transitionTo(t,function(t){rt(x(n.base+t.fullPath)),W(n.router,t,o,!1),e&&e(t)},r)},e.prototype.replace=function(t,e,r){var n=this,i=this,o=i.current;this.transitionTo(t,function(t){nt(x(n.base+t.fullPath)),W(n.router,t,o,!1),e&&e(t)},r)},e.prototype.ensureURL=function(t){if(xt(this.base)!==this.current.fullPath){var e=x(this.base+this.current.fullPath);t?rt(e):nt(e)}},e.prototype.getCurrentLocation=function(){return xt(this.base)},e}($t),ee=function(t){function e(e,r,n){t.call(this,e,r),n&&bt(this.base)||wt()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.setupListeners=function(){var t=this;window.addEventListener("hashchange",function(){wt()&&t.transitionTo(Tt(),function(t){St(t.fullPath)})})},e.prototype.push=function(t,e,r){this.transitionTo(t,function(t){Et(t.fullPath),e&&e(t)},r)},e.prototype.replace=function(t,e,r){this.transitionTo(t,function(t){St(t.fullPath),e&&e(t)},r)},e.prototype.go=function(t){window.history.go(t)},e.prototype.ensureURL=function(t){var e=this.current.fullPath;Tt()!==e&&(t?Et(e):St(e))},e.prototype.getCurrentLocation=function(){return Tt()},e}($t),re=function(t){function e(e,r){t.call(this,e,r),this.stack=[],this.index=-1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.push=function(t,e,r){var n=this;this.transitionTo(t,function(t){n.stack=n.stack.slice(0,n.index+1).concat(t),n.index++,e&&e(t)},r)},e.prototype.replace=function(t,e,r){var n=this;this.transitionTo(t,function(t){n.stack=n.stack.slice(0,n.index).concat(t),e&&e(t)},r)},e.prototype.go=function(t){var e=this,r=this.index+t;if(!(r<0||r>=this.stack.length)){var n=this.stack[r];this.confirmTransition(n,function(){e.index=r,e.updateRoute(n)})}},e.prototype.getCurrentLocation=function(){var t=this.stack[this.stack.length-1];return t?t.fullPath:"/"},e.prototype.ensureURL=function(){},e}($t),ne=function(t){void 0===t&&(t={}),this.app=null,this.apps=[],this.options=t,this.beforeHooks=[],this.resolveHooks=[],this.afterHooks=[],this.matcher=G(t.routes||[],this);var e=t.mode||"hash";switch(this.fallback="history"===e&&!Kt,this.fallback&&(e="hash"),zt||(e="abstract"),this.mode=e,e){case"history":this.history=new te(this,t.base);break;case"hash":this.history=new ee(this,t.base,this.fallback);break;case"abstract":this.history=new re(this,t.base)}},ie={currentRoute:{}};ne.prototype.match=function(t,e,r){return this.matcher.match(t,e,r)},ie.currentRoute.get=function(){return this.history&&this.history.current},ne.prototype.init=function(t){var e=this;if(this.apps.push(t),!this.app){this.app=t;var r=this.history;if(r instanceof te)r.transitionTo(r.getCurrentLocation());else if(r instanceof ee){var n=function(){r.setupListeners()};r.transitionTo(r.getCurrentLocation(),n,n)}r.listen(function(t){e.apps.forEach(function(e){e._route=t})})}},ne.prototype.beforeEach=function(t){return Mt(this.beforeHooks,t)},ne.prototype.beforeResolve=function(t){return Mt(this.resolveHooks,t)},ne.prototype.afterEach=function(t){return Mt(this.afterHooks,t)},ne.prototype.onReady=function(t,e){this.history.onReady(t,e)},ne.prototype.onError=function(t){this.history.onError(t)},ne.prototype.push=function(t,e,r){this.history.push(t,e,r)},ne.prototype.replace=function(t,e,r){this.history.replace(t,e,r)},ne.prototype.go=function(t){this.history.go(t)},ne.prototype.back=function(){this.go(-1)},ne.prototype.forward=function(){this.go(1)},ne.prototype.getMatchedComponents=function(t){var e=t?t.matched?t:this.resolve(t).route:this.currentRoute;return e?[].concat.apply([],e.matched.map(function(t){return Object.keys(t.components).map(function(e){return t.components[e]})})):[]},ne.prototype.resolve=function(t,e,r){var n=z(t,e||this.history.current,r,this),i=this.match(n,e),o=i.redirectedFrom||i.fullPath,a=this.history.base,s=At(a,o,this.mode);return{location:n,route:i,href:s,normalizedTo:n,resolved:i}},ne.prototype.addRoutes=function(t){this.matcher.addRoutes(t),this.history.current!==Nt&&this.history.transitionTo(this.history.getCurrentLocation())},Object.defineProperties(ne.prototype,ie),ne.install=g,ne.version="2.5.3",zt&&window.Vue&&window.Vue.use(ne),t.exports=ne},function(t,e){function r(t,e){var n={name:t.name,path:t.path,hash:t.hash,query:t.query,params:t.params,fullPath:t.fullPath,meta:t.meta};return e&&(n.from=r(e)),Object.freeze(n)}e.sync=function(t,e,n){var i=(n||{}).moduleName||"route";t.registerModule(i,{namespaced:!0,state:r(e.currentRoute),mutations:{ROUTE_CHANGED:function(e,n){t.state[i]=r(n.to,n.from)}}});var o,a=!1;t.watch(function(t){return t[i]},function(t){if(t.fullPath!==o){a=!0;var r=null==o?"replace":"push";o=t.fullPath,e[r](t)}},{sync:!0}),e.afterEach(function(e,r){return a?void(a=!1):(o=e.fullPath,void t.commit(i+"/ROUTE_CHANGED",{to:e,from:r}))})}},function(t,e){(function(e){t.exports=e}).call(e,{})},function(t,e){!function(t){"use strict";function e(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(t))throw new TypeError("Invalid character in header field name");return t.toLowerCase()}function r(t){return"string"!=typeof t&&(t=String(t)),t}function n(t){var e={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return g.iterable&&(e[Symbol.iterator]=function(){return e}),e}function i(t){this.map={},t instanceof i?t.forEach(function(t,e){this.append(e,t)},this):t&&Object.getOwnPropertyNames(t).forEach(function(e){this.append(e,t[e])},this)}function o(t){return t.bodyUsed?Promise.reject(new TypeError("Already read")):void(t.bodyUsed=!0)}function a(t){return new Promise(function(e,r){t.onload=function(){e(t.result)},t.onerror=function(){r(t.error)}})}function s(t){var e=new FileReader,r=a(e);return e.readAsArrayBuffer(t),r}function u(t){var e=new FileReader,r=a(e);return e.readAsText(t),r}function l(t){for(var e=new Uint8Array(t),r=new Array(e.length),n=0;n<e.length;n++)r[n]=String.fromCharCode(e[n]);return r.join("")}function c(t){if(t.slice)return t.slice(0);var e=new Uint8Array(t.byteLength);return e.set(new Uint8Array(t)),e.buffer}function h(){return this.bodyUsed=!1,this._initBody=function(t){if(this._bodyInit=t,t)if("string"==typeof t)this._bodyText=t;else if(g.blob&&Blob.prototype.isPrototypeOf(t))this._bodyBlob=t;else if(g.formData&&FormData.prototype.isPrototypeOf(t))this._bodyFormData=t;else if(g.searchParams&&URLSearchParams.prototype.isPrototypeOf(t))this._bodyText=t.toString();else if(g.arrayBuffer&&g.blob&&_(t))this._bodyArrayBuffer=c(t.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!g.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(t)&&!x(t))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=c(t)}else this._bodyText="";this.headers.get("content-type")||("string"==typeof t?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):g.searchParams&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},g.blob&&(this.blob=function(){var t=o(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?o(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(s)}),this.text=function(){var t=o(this);if(t)return t;if(this._bodyBlob)return u(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(l(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},g.formData&&(this.formData=function(){return this.text().then(p)}),this.json=function(){return this.text().then(JSON.parse)},this}function f(t){var e=t.toUpperCase();return b.indexOf(e)>-1?e:t}function d(t,e){e=e||{};var r=e.body;if("string"==typeof t)this.url=t;else{if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url,this.credentials=t.credentials,e.headers||(this.headers=new i(t.headers)),this.method=t.method,this.mode=t.mode,r||null==t._bodyInit||(r=t._bodyInit,t.bodyUsed=!0)}if(this.credentials=e.credentials||this.credentials||"omit",!e.headers&&this.headers||(this.headers=new i(e.headers)),this.method=f(e.method||this.method||"GET"),this.mode=e.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&r)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(r)}function p(t){var e=new FormData;return t.trim().split("&").forEach(function(t){if(t){var r=t.split("="),n=r.shift().replace(/\+/g," "),i=r.join("=").replace(/\+/g," ");e.append(decodeURIComponent(n),decodeURIComponent(i))}}),e}function v(t){var e=new i;return t.split("\r\n").forEach(function(t){var r=t.split(":"),n=r.shift().trim();if(n){var i=r.join(":").trim();e.append(n,i)}}),e}function m(t,e){e||(e={}),this.type="default",this.status="status"in e?e.status:200,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in e?e.statusText:"OK",this.headers=new i(e.headers),this.url=e.url||"",this._initBody(t)}if(!t.fetch){var g={searchParams:"URLSearchParams"in t,iterable:"Symbol"in t&&"iterator"in Symbol,blob:"FileReader"in t&&"Blob"in t&&function(){try{return new Blob,!0}catch(t){return!1}}(),formData:"FormData"in t,arrayBuffer:"ArrayBuffer"in t};if(g.arrayBuffer)var y=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],_=function(t){return t&&DataView.prototype.isPrototypeOf(t)},x=ArrayBuffer.isView||function(t){return t&&y.indexOf(Object.prototype.toString.call(t))>-1};i.prototype.append=function(t,n){t=e(t),n=r(n);var i=this.map[t];this.map[t]=i?i+","+n:n},i.prototype.delete=function(t){delete this.map[e(t)]},i.prototype.get=function(t){return t=e(t),this.has(t)?this.map[t]:null},i.prototype.has=function(t){return this.map.hasOwnProperty(e(t))},i.prototype.set=function(t,n){this.map[e(t)]=r(n)},i.prototype.forEach=function(t,e){for(var r in this.map)this.map.hasOwnProperty(r)&&t.call(e,this.map[r],r,this)},i.prototype.keys=function(){var t=[];return this.forEach(function(e,r){t.push(r)}),n(t)},i.prototype.values=function(){var t=[];return this.forEach(function(e){t.push(e)}),n(t)},i.prototype.entries=function(){var t=[];return this.forEach(function(e,r){t.push([r,e])}),n(t)},g.iterable&&(i.prototype[Symbol.iterator]=i.prototype.entries);var b=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];d.prototype.clone=function(){return new d(this,{body:this._bodyInit})},h.call(d.prototype),h.call(m.prototype),m.prototype.clone=function(){return new m(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new i(this.headers),url:this.url})},m.error=function(){var t=new m(null,{status:0,statusText:""});return t.type="error",t};var w=[301,302,303,307,308];m.redirect=function(t,e){if(w.indexOf(e)===-1)throw new RangeError("Invalid status code");return new m(null,{status:e,headers:{location:t}})},t.Headers=i,t.Request=d,t.Response=m,t.fetch=function(t,e){return new Promise(function(r,n){var i=new d(t,e),o=new XMLHttpRequest;o.onload=function(){var t={status:o.status,statusText:o.statusText,headers:v(o.getAllResponseHeaders()||"")};t.url="responseURL"in o?o.responseURL:t.headers.get("X-Request-URL");var e="response"in o?o.response:o.responseText;r(new m(e,t))},o.onerror=function(){n(new TypeError("Network request failed"))},o.ontimeout=function(){n(new TypeError("Network request failed"))},o.open(i.method,i.url,!0),"include"===i.credentials&&(o.withCredentials=!0),"responseType"in o&&g.blob&&(o.responseType="blob"),i.headers.forEach(function(t,e){o.setRequestHeader(e,t)}),o.send("undefined"==typeof i._bodyInit?null:i._bodyInit)})},t.fetch.polyfill=!0}}("undefined"!=typeof self?self:this)},function(t,e){t.exports=function(){var t=[];return t.toString=function(){for(var t=[],e=0;e<this.length;e++){var r=this[e];r[2]?t.push("@media "+r[2]+"{"+r[1]+"}"):t.push(r[1])}return t.join("")},t.i=function(e,r){"string"==typeof e&&(e=[[null,e,""]]);for(var n={},i=0;i<this.length;i++){var o=this[i][0];"number"==typeof o&&(n[o]=!0)}for(i=0;i<e.length;i++){var a=e[i];"number"==typeof a[0]&&n[a[0]]||(r&&!a[2]?a[2]=r:r&&(a[2]="("+a[2]+") and ("+r+")"),t.push(a))}},t}},function(t,e,r){function n(t,e){for(var r=0;r<t.length;r++){var n=t[r],i=h[n.id];if(i){i.refs++;for(var o=0;o<i.parts.length;o++)i.parts[o](n.parts[o]);for(;o<n.parts.length;o++)i.parts.push(u(n.parts[o],e))}else{for(var a=[],o=0;o<n.parts.length;o++)a.push(u(n.parts[o],e));h[n.id]={id:n.id,refs:1,parts:a}}}}function i(t){for(var e=[],r={},n=0;n<t.length;n++){var i=t[n],o=i[0],a=i[1],s=i[2],u=i[3],l={css:a,media:s,sourceMap:u};r[o]?r[o].parts.push(l):e.push(r[o]={id:o,parts:[l]})}return e}function o(t,e){var r=p(),n=g[g.length-1];if("top"===t.insertAt)n?n.nextSibling?r.insertBefore(e,n.nextSibling):r.appendChild(e):r.insertBefore(e,r.firstChild),g.push(e);else{if("bottom"!==t.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");
r.appendChild(e)}}function a(t){t.parentNode.removeChild(t);var e=g.indexOf(t);e>=0&&g.splice(e,1)}function s(t){var e=document.createElement("style");return e.type="text/css",o(t,e),e}function u(t,e){var r,n,i;if(e.singleton){var o=m++;r=v||(v=s(e)),n=l.bind(null,r,o,!1),i=l.bind(null,r,o,!0)}else r=s(e),n=c.bind(null,r),i=function(){a(r)};return n(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;n(t=e)}else i()}}function l(t,e,r,n){var i=r?"":n.css;if(t.styleSheet)t.styleSheet.cssText=y(e,i);else{var o=document.createTextNode(i),a=t.childNodes;a[e]&&t.removeChild(a[e]),a.length?t.insertBefore(o,a[e]):t.appendChild(o)}}function c(t,e){var r=e.css,n=e.media,i=e.sourceMap;if(n&&t.setAttribute("media",n),i&&(r+="\n/*# sourceURL="+i.sources[0]+" */",r+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */"),t.styleSheet)t.styleSheet.cssText=r;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(r))}}var h={},f=function(t){var e;return function(){return"undefined"==typeof e&&(e=t.apply(this,arguments)),e}},d=f(function(){return/msie [6-9]\b/.test(window.navigator.userAgent.toLowerCase())}),p=f(function(){return document.head||document.getElementsByTagName("head")[0]}),v=null,m=0,g=[];t.exports=function(t,e){e=e||{},"undefined"==typeof e.singleton&&(e.singleton=d()),"undefined"==typeof e.insertAt&&(e.insertAt="bottom");var r=i(t);return n(r,e),function(t){for(var o=[],a=0;a<r.length;a++){var s=r[a],u=h[s.id];u.refs--,o.push(u)}if(t){var l=i(t);n(l,e)}for(var a=0;a<o.length;a++){var u=o[a];if(0===u.refs){for(var c=0;c<u.parts.length;c++)u.parts[c]();delete h[u.id]}}}};var y=function(){var t=[];return function(e,r){return t[e]=r,t.filter(Boolean).join("\n")}}()}]);
//# sourceMappingURL=vendor.0988c8368b954187d65e.js.map